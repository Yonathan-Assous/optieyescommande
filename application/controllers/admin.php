<?php
if (!defined('BASEPATH')) {
    exit('No direct script access allowed');
}

//error_reporting(E_ALL);
class admin
    extends MY_Controller
{

    public
    function __construct()
    {
        parent::__construct();

        $this->session->set_userdata('newUser',
                                     $this->m_users->getNewUser());

        if ($this->session->userdata('data_user') ===
            false ||
            $this->session->userdata('is_admin') ===
            false) {
            $id_users = 1;
            if (($data_user =
                    $this->m_users->getUserById($id_users)) !==
                false) {
                $data_user['user_info'] =
                    $data_user[0];
                unset($data_user[0]);

                $session =
                    array(
                        'data_user' => $data_user,
                        'data_admin' => $data_user,
                        'is_admin' => true
                    );

                $this->session->set_userdata($session);
            }
        }

        $this->data['parametre_lang_datable'] =
            $this->config->item('parametre_lang_datable');
        $this->data['parametre_export_datable'] =
            $this->config->item('parametre_export_datable');

        $this->data['generation_verre'] =
            $this->m_generation_verre->getGenerationVerre(NULL,
                                                          NULL,
                                                          false);
        $this->data['generation_lentilles'] =
            $this->m_lens->getGenerations();

    }

    public
    function getTypeDeVerre($user_id = 0,
                            $recovery = false)
    {


        $indice =
            $_POST['indiceId'];
        $lensFocalGroup =
            $_POST['lensFocalGroup'];
        $generation =
            $_POST['generation'];
        $sphereD =
            $_POST['sphereD'];
        $cylindreD =
            $_POST['cylindreD'];
        $axeD =
            $_POST['axeD'];
        $additionD =
            $_POST['additionD'];
        $stock =
            $_POST['stockD'];

        $panierA =
            $_POST['panierA'];

        //$user_id = $this->data['user_info']->id_users;

        $res =
            $this->m_passer_commande_verre->getlens($indice,
                                                    $lensFocalGroup,
                                                    $generation,
                                                    $sphereD,
                                                    $cylindreD,
                                                    $axeD,
                                                    $additionD,
                                                    $stock,
                                                    $user_id,
                                                    $panierA);
        echo json_encode($res);

    }

    public
    function getTypeDeVerreAll($user_id = 0,
                               $recovery = false)
    {

        $indice =
            $_POST['indiceId'];
        $lensFocalGroup =
            $_POST['lensFocalGroup'];
        $generation =
            $_POST['generation'];
        $sphereD =
            $_POST['sphereD'];
        $cylindreD =
            $_POST['cylindreD'];
        $axeD =
            $_POST['axeD'];
        $additionD =
            $_POST['additionD'];
        $stock =
            $_POST['stockD'];

        $panierA =
            $_POST['panierA'];

        //$user_id = $this->data['user_info']->id_users;

        //echo "USER ID:".$user_id;

        $res =
            $this->m_passer_commande_verre->getlensAdminAll($indice,
                                                            $lensFocalGroup,
                                                            $generation,
                                                            $sphereD,
                                                            $cylindreD,
                                                            $axeD,
                                                            $additionD,
                                                            $stock,
                                                            $user_id,
                                                            $panierA);
        echo json_encode($res);

    }

    public
    function getStockTypeDeVerre($user_id = 0,
                                 $recovery = false)
    {
        //if($this->session->userdata('logged_in') === true && $this->input->is_ajax_request()){
        $indice =
            $_POST['indiceId'];
        $lensFocalGroup =
            $_POST['lensFocalGroup'];
        $generation =
            $_POST['generation'];
        $sphereD =
            $_POST['sphereD'];
        $cylindreD =
            $_POST['cylindreD'];
        $axeD =
            $_POST['axeD'];
        $additionD =
            $_POST['additionD'];
        $stock =
            $_POST['stockD'];

        $panierA =
            $_POST['panierA'];

        //$user_id = $this->data['user_info']->id_users;

        $res =
            $this->m_passer_commande_verre->getstocklens($indice,
                                                         $lensFocalGroup,
                                                         $generation,
                                                         $sphereD,
                                                         $cylindreD,
                                                         $axeD,
                                                         $additionD,
                                                         $stock,
                                                         $user_id,
                                                         $panierA);
        echo json_encode($res);
        //	}
        //	else
        //		$this->redirect();
    }

    public
    function getColor($recovery = false)
    {

        $name_lens =
            $_POST['lens'];
        if (strpos($name_lens,
                   'Mineral') !==
            false ||
            strpos($name_lens,
                   'Minéral') !==
            false) {
            $res =
                $this->m_passer_commande_verre->getColors($_POST['lens']);
        } else {
            $res =
                $this->m_passer_commande_verre->getColors();
        }
        echo json_encode($res);

    }

    public
    function getColorWithPerso($recovery = false)
    {
        $name_lens =
            $_POST['lens'];
        if (strpos($name_lens,
                   'Mineral') !==
            false ||
            strpos($name_lens,
                   'Minéral') !==
            false) {
            $res =
                $this->m_passer_commande_verre->getColorsWithPerso($_POST['lens']);
        } else {
            $res =
                $this->m_passer_commande_verre->getColorsWithPerso();
        }
        echo json_encode($res);

    }

    public
    function get_Diametre($recovery = false)
    {

        $sphere =
            $_POST['sphere'];
        $cylindre =
            $_POST['cylindre'];
        $lens =
            $_POST['lens'];


        $res =
            $this->m_passer_commande_verre->getDiametres($lens,
                                                         $sphere,
                                                         $cylindre);
        echo json_encode($res);

    }

    public
    function getOptions($recovery = false)
    {

        $id_lens =
            $_POST['lens'];

        $res =
            $this->m_passer_commande_verre->getOptions($id_lens);
        echo json_encode($res);

    }

    public
    function verresStockSorting($recovery = false)
    {

        $tab_verres_stock =
            $_POST['tab_verres_stock'];
        $t =
            json_decode($tab_verres_stock);


        echo json_encode($t);

    }


    public
    function getColors_price($recovery = false)
    {

        $name =
            $_POST['name'];
        $code =
            $_POST['code'];
        $nom_du_verre =
            $_POST['nom_du_verre'];


        if (strpos($nom_du_verre,
                   'E-Space') !==
            false ||
            strpos($nom_du_verre,
                   'Omega') !==
            false ||
            strpos($nom_du_verre,
                   'Platinium') !==
            false ||
            strpos($nom_du_verre,
                   'Elysium') !==
            false ||
            strpos($nom_du_verre,
                   'Top Office') !==
            false ||
            strpos($nom_du_verre,
                   'Bifocal') !==
            false ||
            strpos($nom_du_verre,
                   'Bfocal') !==
            false ||
            strpos($nom_du_verre,
                   'Trifocal') !==
            false ||
            strpos($nom_du_verre,
                   'Panier A Office') !==
            false) {

            if (strpos($name,
                       'Nm') !==
                false) {
                $res['prix'] =
                    10.00;
                $res['fr'] =
                    $name;
                $res['id'] =
                    $code;

            } else {
                $res['prix'] =
                    6.00;
                $res['fr'] =
                    $name;
                $res['id'] =
                    $code;
            }
        }
        if (strpos($nom_du_verre,
                   'Bifocal') !==
            false ||
            strpos($nom_du_verre,
                   'Bfocal') !==
            false ||
            strpos($nom_du_verre,
                   'Trifocal') !==
            false ||
            strpos($nom_du_verre,
                   'Panier A Double Foyer') !==
            false) {

            if (strpos($name,
                       'Nm') !==
                false) {
                $res['prix'] =
                    10.00;
                $res['fr'] =
                    $name;
                $res['id'] =
                    $code;

            } else {
                $res['prix'] =
                    4.00;
                $res['fr'] =
                    $name;
                $res['id'] =
                    $code;
            }
        }
        if (strpos($nom_du_verre,
                   'T-One') !==
            false ||
            strpos($nom_du_verre,
                   'Eyefatigue') !==
            false ||
            strpos($nom_du_verre,
                   'Panier A Initial') !==
            false) {

            if (strpos($name,
                       'Nm') !==
                false) {
                $res['prix'] =
                    10.00;
                $res['fr'] =
                    $name;
                $res['id'] =
                    $code;

            } else {
                $res['prix'] =
                    5.00;
                $res['fr'] =
                    $name;
                $res['id'] =
                    $code;
            }
        }
        if ((strpos($nom_du_verre,
                    'Freestyle') !==
             false ||
             strpos($nom_du_verre,
                    'Panier A Unifocal RX') !==
             false) &&
            strpos($nom_du_verre,
                   '1,5') !==
            false) {

            if (strpos($name,
                       'Nm') !==
                false) {
                $res['prix'] =
                    10.00;
                $res['fr'] =
                    $name;
                $res['id'] =
                    $code;

            } else {
                $res['prix'] =
                    2.00;
                $res['fr'] =
                    $name;
                $res['id'] =
                    $code;
            }
        }
        if ((strpos($nom_du_verre,
                    'Freestyle') !==
             false ||
             strpos($nom_du_verre,
                    'Panier A Unifocal RX') !==
             false) &&
            strpos($nom_du_verre,
                   '1,5') ===
            false) {

            if (strpos($name,
                       'Nm') !==
                false) {
                $res['prix'] =
                    10.00;
                $res['fr'] =
                    $name;
                $res['id'] =
                    $code;

            } else {
                $res['prix'] =
                    5.00;
                $res['fr'] =
                    $name;
                $res['id'] =
                    $code;
            }
        }

        if (strpos($nom_du_verre,
                   'Mineral') !==
            false ||
            strpos($nom_du_verre,
                   'Minéral') !==
            false) {

            $res['prix'] =
                7.00;
            $res['fr'] =
                $name;
            $res['id'] =
                $code;

        }

        //var_dump($res);
        $t[] = $res;


        echo json_encode($t);
    }

    public
    function getOptions_price($recovery = false)
    {

        //var_dump($_POST['tab_options']);
        $name =
            $_POST['name'];
        $code =
            $_POST['code'];
        $nom_du_verre =
            $_POST['nom_du_verre'];


        if (strpos($nom_du_verre,
                   'Omega') !==
            false ||
            strpos($nom_du_verre,
                   'Platinium') !==
            false ||
            strpos($nom_du_verre,
                   'Elysium') !==
            false ||
            strpos($nom_du_verre,
                   'Top Office') !==
            false ||
            strpos($nom_du_verre,
                   'Bifocal') !==
            false ||
            strpos($nom_du_verre,
                   'Bfocal') !==
            false ||
            strpos($nom_du_verre,
                   'Trifocal') !==
            false ||
            strpos($nom_du_verre,
                   'Panier A Office') !==
            false ||
            strpos($nom_du_verre,
                   'Panier A Double Foyer') !==
            false ||
            strpos($nom_du_verre,
                   'Mineral') !==
            false ||
            strpos($nom_du_verre,
                   'Minéral') !==
            false) {

            if ($name ==
                'Durci' ||
                $name == '') {
                $res['prix'] =
                    0.00;

            } elseif (strpos($name,
                             'Miroir') !==
                      false) {
                $res['prix'] =
                    14.00;

            } elseif ($name ==
                      'Satin') {
                $res['prix'] =
                    8.00;

            } elseif ($name ==
                      'Achromatique') {
                $res['prix'] =
                    16.00;

            } elseif ($name ==
                      'Satin Max') {
                $res['prix'] =
                    18.00;

            } elseif ($name ==
                      'Satin UV') {
                $res['prix'] =
                    11.00;

            } elseif ($name ==
                      'BlueCoat') {
                $res['prix'] =
                    16.00;

            } elseif ($name ==
                      'Satin Face Interne') {
                $res['prix'] =
                    8.00;

            } elseif ($name ==
                      'Satin Max Face Interne') {
                $res['prix'] =
                    18.00;

            } elseif ($name ==
                      'Achromatique Face Interne') {
                $res['prix'] =
                    16.00;

            } elseif ($name ==
                      'Satin UV Face Interne') {
                $res['prix'] =
                    11.00;

            } elseif ($name ==
                      'Satin Drive Or') {
                $res['prix'] =
                    18.00;

            } elseif (strpos($name,
                             'HMC') !==
                      false) {
                $res['prix'] =
                    4.00;

            }

        }
        if (strpos($nom_du_verre,
                   'T-One') !==
            false ||
            strpos($nom_du_verre,
                   'Panier A Initial') !==
            false) {

            if (strpos($nom_du_verre,
                       'Transition') !==
                false ||
                strpos($nom_du_verre,
                       'Xtractive') !==
                false ||
                strpos($nom_du_verre,
                       'Polarisé') !==
                false ||
                strpos($nom_du_verre,
                       'Drivewear') !==
                false) {
                if ($name ==
                    'Durci' ||
                    $name ==
                    '') {
                    $res['prix'] =
                        0.00;

                } elseif (strpos($name,
                                 'Miroir') !==
                          false) {
                    $res['prix'] =
                        14.00;

                } elseif ($name ==
                          'Satin') {
                    $res['prix'] =
                        8.00;

                } elseif ($name ==
                          'Achromatique') {
                    $res['prix'] =
                        16.00;

                } elseif ($name ==
                          'Satin Max') {
                    $res['prix'] =
                        18.00;

                } elseif ($name ==
                          'Satin UV') {
                    $res['prix'] =
                        11.00;

                } elseif ($name ==
                          'BlueCoat') {
                    $res['prix'] =
                        16.00;

                } elseif ($name ==
                          'Satin Face Interne') {
                    $res['prix'] =
                        8.00;

                } elseif ($name ==
                          'Satin Max Face Interne') {
                    $res['prix'] =
                        18.00;

                } elseif ($name ==
                          'Achromatique Face Interne') {
                    $res['prix'] =
                        16.00;

                } elseif ($name ==
                          'Satin UV Face Interne') {
                    $res['prix'] =
                        11.00;

                } elseif ($name ==
                          'Satin Drive Or') {
                    $res['prix'] =
                        18.00;

                } elseif (strpos($name,
                                 'HMC') !==
                          false) {
                    $res['prix'] =
                        4.00;

                }
            } else {
                if ($name ==
                    'Durci' ||
                    $name ==
                    '') {
                    $res['prix'] =
                        0.00;

                } elseif (strpos($name,
                                 'Miroir') !==
                          false) {
                    $res['prix'] =
                        14.00;

                } elseif ($name ==
                          'Satin') {
                    $res['prix'] =
                        12.00;

                } elseif ($name ==
                          'Achromatique') {
                    $res['prix'] =
                        20.00;

                } elseif ($name ==
                          'Satin Max') {
                    $res['prix'] =
                        22.00;

                } elseif ($name ==
                          'Satin UV') {
                    $res['prix'] =
                        15.00;

                } elseif ($name ==
                          'BlueCoat') {
                    $res['prix'] =
                        20.00;

                } elseif ($name ==
                          'Satin Face Interne') {
                    $res['prix'] =
                        12.00;

                } elseif ($name ==
                          'Satin Max Face Interne') {
                    $res['prix'] =
                        22.00;

                } elseif ($name ==
                          'Achromatique Face Interne') {
                    $res['prix'] =
                        20.00;

                } elseif ($name ==
                          'Satin UV Face Interne') {
                    $res['prix'] =
                        15.00;

                } elseif ($name ==
                          'Satin Drive Or') {
                    $res['prix'] =
                        22.00;

                } elseif (strpos($name,
                                 'HMC') !==
                          false) {
                    $res['prix'] =
                        7.00;

                }
            }

        }
        if (strpos($nom_du_verre,
                   'E-Space') !==
            false) {

            if (strpos($nom_du_verre,
                       'Transition') !==
                false ||
                strpos($nom_du_verre,
                       'Xtractive') !==
                false ||
                strpos($nom_du_verre,
                       'Polarisé') !==
                false ||
                strpos($nom_du_verre,
                       'Drivewear') !==
                false) {
                if ($name ==
                    'Durci' ||
                    $name ==
                    '') {
                    $res['prix'] =
                        0.00;

                } elseif (strpos($name,
                                 'Miroir') !==
                          false) {
                    $res['prix'] =
                        14.00;

                } elseif ($name ==
                          'Satin') {
                    $res['prix'] =
                        7.00;

                } elseif ($name ==
                          'Achromatique') {
                    $res['prix'] =
                        15.00;

                } elseif ($name ==
                          'Satin Max') {
                    $res['prix'] =
                        17.00;

                } elseif ($name ==
                          'Satin UV') {
                    $res['prix'] =
                        10.00;

                } elseif ($name ==
                          'BlueCoat') {
                    $res['prix'] =
                        15.00;

                } elseif ($name ==
                          'Satin Face Interne') {
                    $res['prix'] =
                        7.00;

                } elseif ($name ==
                          'Satin Max Face Interne') {
                    $res['prix'] =
                        17.00;

                } elseif ($name ==
                          'Achromatique Face Interne') {
                    $res['prix'] =
                        15.00;

                } elseif ($name ==
                          'Satin UV Face Interne') {
                    $res['prix'] =
                        10.00;

                } elseif ($name ==
                          'Satin Drive Or') {
                    $res['prix'] =
                        17.00;

                } elseif (strpos($name,
                                 'HMC') !==
                          false) {
                    $res['prix'] =
                        3.00;

                }
            } else {
                if ($name ==
                    'Durci' ||
                    $name ==
                    '') {
                    $res['prix'] =
                        0.00;

                } elseif (strpos($name,
                                 'Miroir') !==
                          false) {
                    $res['prix'] =
                        14.00;

                } elseif ($name ==
                          'Satin') {
                    $res['prix'] =
                        11.00;

                } elseif ($name ==
                          'Achromatique') {
                    $res['prix'] =
                        19.00;

                } elseif ($name ==
                          'Satin Max') {
                    $res['prix'] =
                        21.00;

                } elseif ($name ==
                          'Satin UV') {
                    $res['prix'] =
                        14.00;

                } elseif ($name ==
                          'BlueCoat') {
                    $res['prix'] =
                        19.00;

                } elseif ($name ==
                          'Satin Face Interne') {
                    $res['prix'] =
                        11.00;

                } elseif ($name ==
                          'Satin Max Face Interne') {
                    $res['prix'] =
                        21.00;

                } elseif ($name ==
                          'Achromatique Face Interne') {
                    $res['prix'] =
                        19.00;

                } elseif ($name ==
                          'Satin UV Face Interne') {
                    $res['prix'] =
                        14.00;

                } elseif ($name ==
                          'Satin Drive Or') {
                    $res['prix'] =
                        21.00;

                } elseif (strpos($name,
                                 'HMC') !==
                          false) {
                    $res['prix'] =
                        7.00;

                }
            }

        }
        if (strpos($nom_du_verre,
                   'Eyefatigue') !==
            false ||
            strpos($nom_du_verre,
                   'Freestyle') !==
            false ||
            strpos($nom_du_verre,
                   'Panier A Unifocal RX') !==
            false) {
            if ($name ==
                'Durci' ||
                $name == '') {
                $res['prix'] =
                    0.00;

            } elseif (strpos($name,
                             'Miroir') !==
                      false) {
                $res['prix'] =
                    14.00;

            } elseif ($name ==
                      'Satin') {
                $res['prix'] =
                    7.00;

            } elseif ($name ==
                      'Achromatique') {
                $res['prix'] =
                    15.00;

            } elseif ($name ==
                      'Satin Max') {
                $res['prix'] =
                    17.00;

            } elseif ($name ==
                      'Satin UV') {
                $res['prix'] =
                    10.00;

            } elseif ($name ==
                      'BlueCoat') {
                $res['prix'] =
                    15.00;

            } elseif ($name ==
                      'Satin Face Interne') {
                $res['prix'] =
                    7.00;

            } elseif ($name ==
                      'Satin Max Face Interne') {
                $res['prix'] =
                    17.00;

            } elseif ($name ==
                      'Achromatique Face Interne') {
                $res['prix'] =
                    15.00;

            } elseif ($name ==
                      'Satin UV Face Interne') {
                $res['prix'] =
                    10.00;

            } elseif ($name ==
                      'Satin Drive Or') {
                $res['prix'] =
                    17.00;

            } elseif (strpos($name,
                             'HMC') !==
                      false) {
                $res['prix'] =
                    3.00;

            }
        }

        if (isset($res)) {
            $t[] = $res;
        }


        //var_dump($t);
        echo json_encode($t);

    }

    public
    function setOrderRecapNew($user_id)
    {

        if ($this->input->is_ajax_request()) {

            $data =
                $this->input->post();

            $user =
                $this->m_users->getUserById($user_id)[0];


            $data_admin =
                $this->m_users->getUserById(1);
            $data_admin['admin_info'] =
                $data_admin[0];
            unset($data_admin[0]);

            $userdata =
                $this->m_users->getUserById($user_id)[0];

            $data['user_info'] =
                $user;
            $data['id_users'] =
                $user_id;
            $data['data_admin']['admin_info'] =
                $this->m_users->getUserById(1)[0];

            $data['id_verre'] =
                (string)$data['type_de_verreD'];
            $data['id_verreD'] =
                (string)$data['type_de_verreD'];
            $data['id_verreG'] =
                (string)$data['type_de_verreG'];

            if (!isset($data['type_commande'])) {
                $data['type_commande'] =
                    1;
            }

            //$data['true_type_commande'] = $data['type_commande'];

            $data['panierA'] =
                0;

            if ($data['type_de_verreD'] !=
                $data['type_de_verreG']) {
                //$data['type_commande'] = 4;
                $data['type_commande_verre'] =
                    4;

                if ($data['nomverreDH'] !=
                    "") {
                    if (strpos($data['nomverreDH'],
                               "Panier A") !==
                        false) {
                        $data['panierA_D'] =
                            1;
                    }

                    if (strpos($data['nomverreDH'],
                               " - Stock") !==
                        false) {
                        //	$data['type_commandeD'] = 2;
                        $data['type_commande_verreD'] =
                            2;
                        $data['origine_commande'] =
                            2;
                        $data['origine_commandeD'] =
                            2;
                    } else {
                        //	$data['type_commandeD'] = 1;
                        $data['type_commande_verreD'] =
                            1;
                        $data['origine_commande'] =
                            1;
                        $data['origine_commandeD'] =
                            1;
                    }
                }
                if ($data['nomverreGH'] !=
                    "") {

                    if (strpos($data['nomverreGH'],
                               "Panier A") !==
                        false) {
                        $data['panierA_G'] =
                            1;
                    }

                    if (strpos($data['nomverreGH'],
                               " - Stock") !==
                        false) {
                        //	$data['type_commandeG'] = 2;
                        $data['type_commande_verreG'] =
                            2;
                        $data['origine_commande'] =
                            2;
                        $data['origine_commandeG'] =
                            2;
                    } else {
                        //$data['type_commandeG'] = 1;
                        $data['type_commande_verreG'] =
                            1;
                        $data['origine_commande'] =
                            1;
                        $data['origine_commandeG'] =
                            1;
                    }
                }
            } else {
                if (strpos($data['nomverreDH'],
                           "Panier A") !==
                    false) {
                    $data['panierA'] =
                        1;
                }

                if (strpos($data['nomverreDH'],
                           " - Stock") !==
                    false) {
                    //$data['type_commandeD'] = 2;
                    $data['type_commande_verreD'] =
                        2;
                    //	$data['type_commandeG'] = 2;
                    $data['type_commande_verreG'] =
                        2;
                    //	$data['type_commande'] = 2;
                    $data['type_commande_verre'] =
                        2;
                    $data['origine_commande'] =
                        2;
                    $data['origine_commandeD'] =
                        2;
                    $data['origine_commandeG'] =
                        2;
                } else {
                    //	$data['type_commandeD'] = 1;
                    $data['type_commande_verreD'] =
                        1;
                    //	$data['type_commandeG'] = 1;
                    $data['type_commande_verreG'] =
                        1;
                    //	$data['type_commande'] = 1;
                    $data['type_commande_verre'] =
                        1;
                    $data['origine_commande'] =
                        1;
                    $data['origine_commandeD'] =
                        1;
                    $data['origine_commandeG'] =
                        1;
                }
            }

            $data['id_miroir'] =
                0;
            $data['id_etat_commande'] =
                1;
            $data['date_commande'] =
                date('Y-m-d H:i:s');
            $data['date_update_commande'] =
                $data['date_commande'];

            $data['ancienne_commande'] =
                isset($data['ancienne_commande']) ?
                    $data['ancienne_commande'] :
                    0;
            $data['taux_tva'] =
                $this->m_taux_tva->get_tva();
            $data['tarif_livraison'] =
                $userdata->tarif_livraison;
            $data['tarif_packaging'] =
                $userdata->tarif_packaging;
            $prix_miroir = 7;

            $pair_order =
                false;
            if (isset($data['pair_order'])) {
                $pair_order =
                    $this->m_commande->getCommandeByIdNew($data['pair_order'],
                                                          $user['user_info']->id_users,
                                                          true)[0];
                $pair_order_id =
                    $data['pair_order'];
                //$data['type_commande'] = $pair_order->type_commande;
                $data['reference_client'] =
                    $pair_order->reference_client;
                $data['pair_order_recap'] =
                    (array)$pair_order;
            }

            if ($data['diametreD'] ==
                'precalibrage') {
                if (isset($data['calibre']) &&
                    !empty($data['calibre'])) {
                    $data_commandeD['precalibrage'] =
                        array('calibre' => $data['calibre']);
                }

                if (isset($data['cotea']) &&
                    !empty($data['cotea'])) {
                    $data_commandeD['mesure_freeform']['largeur_boxing'] =
                        $data['cotea'];
                }

                if (isset($data['coteb']) &&
                    !empty($data['coteb'])) {
                    $data_commandeD['mesure_freeform']['hauteur_boxing'] =
                        $data['coteb'];
                }

                if (isset($data['cotec']) &&
                    !empty($data['cotec'])) {
                    $data_commandeD['mesure_freeform']['taille_du_pont'] =
                        $data['cotec'];
                }

                if (isset($data['coted']) &&
                    !empty($data['coted'])) {
                    $data_commandeD['mesure_freeform']['diametre_utile'] =
                        $data['coted'];
                }

                if (isset($data['ecart_puppillaire_droit']) &&
                    !empty($data['ecart_puppillaire_droit'])) {
                    $data_commande['mesure_freeform']['ecart_puppillaire_droit'] =
                        $data['ecart_puppillaire_droit'];
                }

                if (isset($data['ecart_puppillaire_gauche']) &&
                    !empty($data['ecart_puppillaire_gauche'])) {
                    $data_commande['mesure_freeform']['ecart_puppillaire_gauche'] =
                        $data['ecart_puppillaire_gauche'];
                }


                if (isset($data['hauteur']) &&
                    !empty($data['hauteur'])) {
                    $data_commande['mesure_freeform']['hauteur'] =
                        $data['hauteur'];
                }

                if (isset($data['hauteur_gauche']) &&
                    !empty($data['hauteur_gauche'])) {
                    $data_commande['mesure_freeform']['hauteur_gauche'] =
                        $data['hauteur_gauche'];
                }

                //if(isset($data['diametreD']) && !empty($data['diametreD']))
                //	$data_commande['diametreD'] = $data['diametreD'];

                if (isset($data_commandeD['mesure_freeform'])) {
                    foreach ($data_commandeD['mesure_freeform']
                             as
                             $Key
                    => $val)
                        if (empty($val)) {
                            unset($data_commandeD['mesure_freeform'][$Key]);
                        }
                }

                if (isset($data['type_monture']) &&
                    !empty($data['type_monture'])) {
                    $data_commandeD['monture'] =
                        array('type' => $data['type_monture']);
                }

                if (isset($data['epaisseur_bord_verre']) &&
                    !empty($data['epaisseur_bord_verre'])) {
                    $data_commandeD['bord_verre'] =
                        array('epaisseur' => $data['epaisseur_bord_verre']);
                }

            }

            if ($data['diametreG'] ==
                'precalibrage') {
                if (isset($data['calibre']) &&
                    !empty($data['calibre'])) {
                    $data_commandeG['precalibrage'] =
                        array('calibre' => $data['calibre']);
                }

                if (isset($data['cotea']) &&
                    !empty($data['cotea'])) {
                    $data_commandeG['mesure_freeform']['largeur_boxing'] =
                        $data['cotea'];
                }

                if (isset($data['coteb']) &&
                    !empty($data['coteb'])) {
                    $data_commandeG['mesure_freeform']['hauteur_boxing'] =
                        $data['coteb'];
                }

                if (isset($data['cotec']) &&
                    !empty($data['cotec'])) {
                    $data_commandeG['mesure_freeform']['taille_du_pont'] =
                        $data['cotec'];
                }

                if (isset($data['coted']) &&
                    !empty($data['coted'])) {
                    $data_commandeG['mesure_freeform']['diametre_utile'] =
                        $data['coted'];
                }

                //if(isset($data['diametreD']) && !empty($data['diametreD']))
                //	$data_commande['diametreD'] = $data['diametreD'];

                if (isset($data_commandeG['mesure_freeform'])) {
                    foreach ($data_commandeG['mesure_freeform']
                             as
                             $Key
                    => $val)
                        if (empty($val)) {
                            unset($data_commandeG['mesure_freeform'][$Key]);
                        }
                }

                if (isset($data['type_monture']) &&
                    !empty($data['type_monture'])) {
                    $data_commandeG['monture'] =
                        array('type' => $data['type_monture']);
                }

                if (isset($data['epaisseur_bord_verre']) &&
                    !empty($data['epaisseur_bord_verre'])) {
                    $data_commandeG['bord_verre'] =
                        array('epaisseur' => $data['epaisseur_bord_verre']);
                }

            }

            if (isset($data['calibre']) &&
                !empty($data['calibre'])) {
                $data_commande['precalibrage'] =
                    array('calibre' => $data['calibre']);
            }

            if (isset($data['cotea']) &&
                !empty($data['cotea'])) {
                $data_commande['mesure_freeform']['largeur_boxing'] =
                    $data['cotea'];
            }

            if (isset($data['coteb']) &&
                !empty($data['coteb'])) {
                $data_commande['mesure_freeform']['hauteur_boxing'] =
                    $data['coteb'];
            }

            if (isset($data['cotec']) &&
                !empty($data['cotec'])) {
                $data_commande['mesure_freeform']['taille_du_pont'] =
                    $data['cotec'];
            }

            if (isset($data['coted']) &&
                !empty($data['coted'])) {
                $data_commande['mesure_freeform']['diametre_utile'] =
                    $data['coted'];
            }

            //if(isset($data['diametreD']) && !empty($data['diametreD']))
            //	$data_commande['diametreD'] = $data['diametreD'];

            if (isset($data_commande['mesure_freeform'])) {
                foreach ($data_commande['mesure_freeform']
                         as
                         $Key
                => $val)
                    if (empty($val)) {
                        unset($data_commande['mesure_freeform'][$Key]);
                    }
            }

            if (isset($data['type_monture']) &&
                !empty($data['type_monture'])) {
                $data_commande['monture'] =
                    array('type' => $data['type_monture']);
            }

            if (isset($data['epaisseur_bord_verre']) &&
                !empty($data['epaisseur_bord_verre'])) {
                $data_commande['bord_verre'] =
                    array('epaisseur' => $data['epaisseur_bord_verre']);
            }

            if (isset($data['ecart_puppillaire_droit']) &&
                !empty($data['ecart_puppillaire_droit'])) {
                $data_commande['mesure_freeform']['ecart_puppillaire_droit'] =
                    $data['ecart_puppillaire_droit'];
            }

            if (isset($data['ecart_puppillaire_gauche']) &&
                !empty($data['ecart_puppillaire_gauche'])) {
                $data_commande['mesure_freeform']['ecart_puppillaire_gauche'] =
                    $data['ecart_puppillaire_gauche'];
            }

            if (isset($data['hauteur']) &&
                !empty($data['hauteur'])) {
                $data_commande['mesure_freeform']['hauteur'] =
                    $data['hauteur'];
            }

            if (isset($data['hauteur_gauche']) &&
                !empty($data['hauteur_gauche'])) {
                $data_commande['mesure_freeform']['hauteur_gauche'] =
                    $data['hauteur_gauche'];
            }

            $panierA =
                get_cookie("panierA");

            /*$panierA_sans_monture = get_cookie("panierA_sans_monture");
				if($panierA_sans_monture=='1'){
					$panierA='1';
				}*/

            if ($panierA ==
                '1') {
                /*if($data['id_type_generation_verre']=='23')
					{
						$data['id_generation_verre']='23';

					}*/
                $data['panierA'] =
                    2;
            }

            if (!isset($data['quantiteD']) ||
                $data['quantiteD'] ==
                "") {
                $data['quantiteD'] =
                    1;
            }

            if (!isset($data['quantiteG']) ||
                $data['quantiteG'] ==
                "") {
                $data['quantiteG'] =
                    1;
            }

            if ($data['quantiteD'] ==
                $data['quantiteG'] &&
                $data['type_commande_verre'] ==
                2 &&
                $data['type_de_verreD'] ==
                $data['type_de_verreG'] &&
                $data['quantiteD'] >
                1) {
                $data['multi_commande'] =
                    $data['quantiteD'];
                $data['nb_multi_commande'] =
                    $data['quantiteD'];
            }

            $prix_double =
                true;

            $unVerreD = 0;
            $unVerreG = 0;

            if ($data['type_de_verreD'] !=
                "" &&
                $data['type_de_verreG'] ==
                "") {
                if ($data['quantiteD'] >
                    1) {
                    $data['multi_commande'] =
                        $data['quantiteD'];
                    $data['nb_multi_commande'] =
                        $data['quantiteD'];
                }

                $prix_double =
                    false;
                $unVerreD = 1;
            }

            if ($data['type_de_verreG'] !=
                "" &&
                $data['type_de_verreD'] ==
                "") {
                if ($data['quantiteG'] >
                    1) {
                    $data['multi_commande'] =
                        $data['quantiteG'];
                    $data['nb_multi_commande'] =
                        $data['quantiteG'];
                }

                $prix_double =
                    false;
                $unVerreG = 1;

                $data['id_verre'] =
                    $data['id_verreG'];
            }

            $data['prixDH'] =
                str_replace("€",
                            "",
                            $data['prixDH']);
            $data['prixGH'] =
                str_replace("€",
                            "",
                            $data['prixGH']);

            $data['prixUnitaireD'] =
                $data['prixDH'] /
                $data['quantiteD'];
            $data['prixUnitaireG'] =
                $data['prixGH'] /
                $data['quantiteG'];


            if (isset($data['sphereD'])) {
                $data_commande['verre']['correction_droit']['sphere'] =
                    $data['sphereD'];
                $data_commandeD['verre']['correction_droit']['sphere'] =
                    $data['sphereD'];
            }

            if (isset($data['sphereG'])) {
                $data_commande['verre']['correction_gauche']['sphere'] =
                    $data['sphereG'];
                $data_commandeG['verre']['correction_gauche']['sphere'] =
                    $data['sphereG'];
            }

            if (isset($data['cylindreD'])) {
                $data_commande['verre']['correction_droit']['cylindre'] =
                    $data['cylindreD'];
                $data_commandeD['verre']['correction_droit']['cylindre'] =
                    $data['cylindreD'];
            }

            if (isset($data['cylindreG'])) {
                $data_commande['verre']['correction_gauche']['cylindre'] =
                    $data['cylindreG'];
                $data_commandeG['verre']['correction_gauche']['cylindre'] =
                    $data['cylindreG'];
            }

            if (isset($data['additionD']) &&
                $data['lensFocalGroup'] !=
                1 &&
                $data['lensFocalGroup'] !=
                6) {
                $data_commande['verre']['correction_droit']['addition'] =
                    $data['additionD'];
                $data_commandeD['verre']['correction_droit']['addition'] =
                    $data['additionD'];
            }

            if (isset($data['additionG']) &&
                $data['lensFocalGroup'] !=
                1 &&
                $data['lensFocalGroup'] !=
                6) {
                $data_commande['verre']['correction_gauche']['addition'] =
                    $data['additionG'];
                $data_commandeG['verre']['correction_gauche']['addition'] =
                    $data['additionG'];
            }

            if (isset($data['axeD'])) {
                $data_commande['verre']['correction_droit']['axe'] =
                    $data['axeD'];
                $data_commandeD['verre']['correction_droit']['axe'] =
                    $data['axeD'];
            }

            if (isset($data['axeG'])) {
                $data_commande['verre']['correction_gauche']['axe'] =
                    $data['axeG'];
                $data_commandeG['verre']['correction_gauche']['axe'] =
                    $data['axeG'];
            }

            if (isset($data['traitementD'])) {
                $data_commande['verre']['correction_droit']['traitement'] =
                    $data['traitementD'];
                $data_commandeD['verre']['correction_droit']['traitement'] =
                    $data['traitementD'];
            }

            if (isset($data['traitementG'])) {
                $data_commande['verre']['correction_gauche']['traitement'] =
                    $data['traitementG'];
                $data_commandeG['verre']['correction_gauche']['traitement'] =
                    $data['traitementG'];
            }
            if ($data['teintepersoD'] !=
                "") {
                $data_commande['verre']['correction_droit']['teinte'] =
                    $data['teintepersoD'];
                $data_commandeD['verre']['correction_droit']['teinte'] =
                    $data['teintepersoD'];
            } else {
                if (isset($data['teinteD'])) {
                    $data_commande['verre']['correction_droit']['teinte'] =
                        $data['teinteD'];
                    $data_commandeD['verre']['correction_droit']['teinte'] =
                        $data['teinteD'];
                }
            }

            if ($data['teintepersoG'] !=
                "") {
                $data_commande['verre']['correction_gauche']['teinte'] =
                    $data['teintepersoG'];
                $data_commandeG['verre']['correction_gauche']['teinte'] =
                    $data['teintepersoG'];
            } else {
                if (isset($data['teinteG'])) {
                    $data_commande['verre']['correction_gauche']['teinte'] =
                        $data['teinteG'];
                    $data_commandeG['verre']['correction_gauche']['teinte'] =
                        $data['teinteG'];
                }
            }

            if (isset($data['galbeD'])) {
                $data_commande['verre']['correction_droit']['galbe'] =
                    $data['galbeD'];
                $data_commandeD['verre']['correction_droit']['galbe'] =
                    $data['galbeD'];

                $data_commandeD['verre']['galbe'] =
                    $data['galbeD'];
            }

            if (isset($data['galbeG'])) {
                $data_commande['verre']['correction_gauche']['galbe'] =
                    $data['galbeG'];
                $data_commandeG['verre']['correction_gauche']['galbe'] =
                    $data['galbeG'];

                $data_commandeD['verre']['galbe'] =
                    $data['galbeG'];
            }

            if ($data['diametreD'] ==
                $data['diametreG']) {
                $data_commande['verre']['diametre'] =
                    $data['diametreD'];
            }

            if (isset($data['PrismeSphereD'])) {
                $data_commande['verre']['correction_droit']['PrismeSphere'] =
                    $data['PrismeSphereD'];
                $data_commande['verre']['dioptrie_droit'] =
                    $data['PrismeSphereD'];
            }
            if (isset($data['PrismeCylindreD'])) {
                $data_commande['verre']['correction_droit']['PrismeCylindre'] =
                    $data['PrismeCylindreD'];
                $data_commande['verre']['base_droit'] =
                    $data['PrismeCylindreD'];
            }

            if (isset($data['PrismeSphereG'])) {
                $data_commande['verre']['correction_gauche']['PrismeSphere'] =
                    $data['PrismeSphereG'];
                $data_commande['verre']['dioptrie_gauche'] =
                    $data['PrismeSphereG'];
            }
            if (isset($data['PrismeCylindreG'])) {
                $data_commande['verre']['correction_gauche']['PrismeCylindre'] =
                    $data['PrismeCylindreG'];
                $data_commande['verre']['base_gauche'] =
                    $data['PrismeCylindreG'];
            }

            if (isset($data['diametreD'])) {
                $data_commande['verre']['correction_droit']['diametre'] =
                    $data['diametreD'];
                $data_commandeD['verre']['correction_droit']['diametre'] =
                    $data['diametreD'];
                $data_commandeD['verre']['diametre'] =
                    $data['diametreD'];
            }

            if (isset($data['diametreG'])) {
                $data_commande['verre']['correction_gauche']['diametre'] =
                    $data['diametreG'];
                $data_commandeG['verre']['correction_gauche']['diametre'] =
                    $data['diametreG'];
                $data_commandeG['verre']['diametre'] =
                    $data['diametreG'];
            }

            if (isset($data['dioptrieD'])) {
                $data_commande['verre']['correction_droit']['dioptrie'] =
                    $data['dioptrieD'];
                $data_commandeD['verre']['correction_droit']['dioptrie'] =
                    $data['dioptrieD'];
            }

            if (isset($data['dioptrieG'])) {
                $data_commande['verre']['correction_gauche']['dioptrie'] =
                    $data['dioptrieG'];
                $data_commandeG['verre']['correction_gauche']['dioptrie'] =
                    $data['dioptrieG'];
            }

            if (isset($data['baseD']) &&
                $data['baseD'] !=
                "") {
                $data_commande['verre']['correction_droit']['base'] =
                    $data['baseD'];
                $data_commandeD['verre']['correction_droit']['base'] =
                    $data['baseD'];
            }

            if (isset($data['baseG']) &&
                $data['baseG'] !=
                "") {
                $data_commande['verre']['correction_gauche']['base'] =
                    $data['baseG'];
                $data_commandeG['verre']['correction_gauche']['base'] =
                    $data['baseG'];
            }

            if (isset($data['hauteur']) &&
                !empty($data['hauteur'])) {
                $data_commande['verre']['hauteur'] =
                    $data['hauteur'];
                $data_commandeD['verre']['hauteur'] =
                    $data['hauteur'];
            }

            if (isset($data['hauteur_gauche']) &&
                !empty($data['hauteur_gauche'])) {
                $data_commande['verre']['hauteur_gauche'] =
                    $data['hauteur_gauche'];
                $data_commandeG['verre']['hauteur_gauche'] =
                    $data['hauteur_gauche'];
            }

            if (isset($data['photocromie']) &&
                !empty($data['photocromie'])) {
                $data_commande['verre']['photocromie'] =
                    $data['photocromie'];
            }

            if (isset($data['ecart_puppillaire_droit']) &&
                !empty($data['ecart_puppillaire_droit'])) {
                $data_commande['verre']['ecart_puppillaire']['droit'] =
                    $data['ecart_puppillaire_droit'];
            }

            if (isset($data['ecart_puppillaire_gauche']) &&
                !empty($data['ecart_puppillaire_gauche'])) {
                $data_commande['verre']['ecart_puppillaire']['gauche'] =
                    $data['ecart_puppillaire_gauche'];
            }

            if (isset($data['angle_pantoscopique']) &&
                !empty($data['angle_pantoscopique'])) {
                $data_commande['verre']['angle_pantoscopique'] =
                    $data['angle_pantoscopique'];
            }

            if (isset($data['angle_galbe']) &&
                !empty($data['angle_galbe'])) {
                $data_commande['verre']['angle_galbe'] =
                    $data['angle_galbe'];
            }

            if (isset($data['distance_verre_oeil']) &&
                !empty($data['distance_verre_oeil'])) {
                $data_commande['verre']['distance_verre_oeil'] =
                    $data['distance_verre_oeil'];
            }


            if (isset($data['degression_droit'])) {
                $data_commande['verre']['correction_droit']['degression'] =
                    $data['degression_droit'];
            }

            if (isset($data['degression_gauche'])) {
                $data_commande['verre']['correction_gauche']['degression'] =
                    $data['degression_gauche'];
            }

            if (isset($data['droit']) &&
                !isset($data['gauche'])) {
                unset($data_commande['verre']['correction_gauche']);
                $prix_double =
                    false;
            }

            if (!isset($data['droit']) &&
                isset($data['gauche'])) {
                unset($data_commande['verre']['correction_droit']);
                $prix_double =
                    false;
            }

            if (isset($data['miroir_stock']) &&
                $data['miroir_stock'] !=
                0) {
                $data['id_miroir'] =
                    $data['miroir_stock'];
                $data_commande['verre']['miroir_stock'] =
                    array(
                        'type_miroir' => $data['miroir_stock'],
                        'prix_miroir' => $prix_miroir
                    );
            }

            if (isset($data['polarise']) &&
                $data['polarise'] !=
                "Non polarisé") {
                $data_commande['verre']['polarise'] =
                    $data['polarise'];
            }

            if (isset($data['miroir']) &&
                $data['miroir'] !=
                0) {
                $data['id_miroir'] =
                    $data['miroir'];
                $data_commande['verre']['miroir'] =
                    array(
                        'type_miroir' => $data['miroir'],
                        'prix_miroir' => $prix_miroir
                    );

                if ($prix_double) {
                    $prix_miroir *= 2;
                }
            }

            if (isset($data['carte_auth']) &&
                $data['carte_auth'] ==
                1) {
                $data_carte['civilite_client'] =
                    $data['civilite_client'];
                $data_carte['nom_client'] =
                    $data['nom_client'];
                $data_carte['prenom_client'] =
                    $data['prenom_client'];
                $data['information_certificat'] =
                    json_encode($data_carte);
            } else {
                $data['information_certificat'] =
                    '';
            }


            $data['information_commande'] =
                json_encode($data_commande);
            $data['information_commandeD'] =
                json_encode($data_commandeD);
            $data['information_commandeG'] =
                json_encode($data_commandeG);


            if ($data['prixDH'] !=
                "") {
                $prix_verre =
                    $data['prixDH'];
            }//$this->m_verres->getPrixVerre($data['id_verre'],$id_grille_tarifaire,$data['id_users']);
            else {
                $prix_verre =
                    $data['prixGH'];
            }

            if ($unVerreD ==
                1) {
                $data['prix_verre'] =
                    $data['prixUnitaireD'];
            } elseif ($unVerreG ==
                      1) {
                $data['prix_verre'] =
                    $data['prixUnitaireG'];
            } else {
                $data['prix_verre'] =
                    $prix_verre;
            }


            //echo "PRIX VERRE: ".$data['prix_verre'];

            $data['total_commande'] =
                $data['prixDH'] +
                $data['prixGH'];

            $data['tarif_supplement'] =
                0;

            $data['libelle_verre'] =
                $data['nomverreDH'];

            if ($prix_double) {
                $data['total_commande'] *= 2;
                $data['tarif_supplement'] *= 2;
            }

            $data['recap_commande'] =
                $data;


            if (isset($data['pair_order_recap'])) {

                $info_commande_pair =
                    json_decode($pair_order->information_commande,
                                true);

                if (isset($info_commande_pair["verre"]["correction_droit"]["traitement"])) {
                    $traitementD_paire =
                        $info_commande_pair["verre"]["correction_droit"]["traitement"];
                    if ($traitementD_paire !=
                        0 &
                        $traitementD_paire !=
                        "") {
                        $data['pair_order_recap']["traitement_D"] =
                            $this->m_commande->getTraitementByCode($traitementD_paire);
                    }
                }

                if (isset($info_commande_pair["verre"]["correction_gauche"]["traitement"])) {
                    $traitementG_paire =
                        $info_commande_pair["verre"]["correction_gauche"]["traitement"];
                    if ($traitementG_paire !=
                        0 &
                        $traitementG_paire !=
                        "") {
                        $data['pair_order_recap']["traitement_G"] =
                            $this->m_commande->getTraitementByCode($traitementG_paire);
                    }
                }

                if (isset($info_commande_pair["verre"]["correction_droit"]["teinte"])) {
                    $teinteD_paire =
                        $info_commande_pair["verre"]["correction_droit"]["teinte"];
                    if ($teinteD_paire !=
                        "") {
                        $data['pair_order_recap']["teinte_D"] =
                            $this->m_commande->getTeinteById($teinteD_paire);
                    }
                }

                if (isset($info_commande_pair["verre"]["correction_gauche"]["teinte"])) {
                    $teinteG_paire =
                        $info_commande_pair["verre"]["correction_gauche"]["teinte"];
                    if ($teinteG_paire !=
                        "") {
                        $data['pair_order_recap']["teinte_G"] =
                            $this->m_commande->getTeinteById($teinteG_paire);
                    }
                }

                $discount =
                    array();


                $pair_verre =
                    floatval($data['pair_order_recap']['prix_verre']);
                $current_verre =
                    floatval($data['recap_commande']['prix_verre']);

                if ($pair_verre <
                    $current_verre) {
                    //$discount['a'] = 1;
                    $discount['on'] =
                        'pair_order';
                } else {
                    //$discount['a'] = 0;
                    $discount['on'] =
                        'order';
                }
                //	if($pair_verre < $current_verre)
                //{

                $discount['amount'] =
                    $this->m_commande->getDiscountByOrderIdNew($data['pair_order_recap']['id_commande'],
                                                               true);
                /*	}
					else
					{

						$discount['on'] = 'order';
						$discount['amount'] = 0;
						if($data['lensFocalGroup'] == '4' || $data['lensFocalGroup'] == '5' || $data['lensFocalGroup'] == '6' || $data['lensFocalGroup'] == '1')
						{
							$discount['amount'] = 30;
						}
						else
						{
							if($data['generation'] == 'Elysium')
							{
								$discount['amount'] = 50;
							}
							elseif($data['generation'] == 'Omega')
							{
								$discount['amount'] = 40;
							}
							elseif($data['generation'] == 'Platinium')
							{
								$discount['amount'] = 35;
							}
							elseif($data['generation'] == 'E-Space')
							{
								$discount['amount'] = 30;
							}
							else
							{
								$discount['amount'] = 0;
							}
						}

						$data['prixDiscountD'] = ($data['prixDH']) - ( ( ($data['prixDH']) / 100 ) * $discount['amount'] );
						$data['prixDiscountG'] = ($data['prixGH']) - ( ( ($data['prixGH']) / 100 ) * $discount['amount'] );
					}
					*/


                $data['discount'] =
                    $discount;

                if (isset($pair_order_id)) {
                    $data['pair_order_id'] =
                        $pair_order_id;
                }

            }

            $this->session->set_userdata('order',
                                         $data);

            $data['recap_commande'] =
                $data;

            if ($data['panierA'] ==
                2) {
                $this->db->from('commande_montures_temp cm');
                $this->db->select('m.*, cm.id as id_temp, cm.qty, cm.status, cm.id_client, collec.name as collection, m_pack.id as pack_id, m_pack.name as pack, m_pack.prix as prixpack');
                $this->db->where('cm.id_client',
                                 $data['id_users']);
                $this->db->where('cm.status',
                                 0);
                $this->db->join('montures m',
                                'm.id = cm.id_monture',
                                'left');
                $this->db->join('montures_collection collec',
                                'm.id_collection = collec.id',
                                'left');
                $this->db->join('montures_pack m_pack',
                                'm_pack.id = cm.id_pack',
                                'left');
                $query =
                    $this->db->get();
                if ($query->num_rows() >
                    0) {
                    $t =
                        $query->result();
                    $data['montures'] =
                        $t[0];
                }

                $panierA_sans_monture =
                    get_cookie("panierA_sans_monture");
                if ($panierA_sans_monture !=
                    '1') {
                    $this->db->where('id',
                                     1);
                    $this->db->set('flag',
                                   1,
                                   FALSE);
                    $this->db->update('flag_monture');
                }

                //set_cookie('flag_monture','1','180000');
            }
            if ($data['panierA'] ==
                1) {
                $this->db->from('commande_montures_temp cm');
                $this->db->select('m.*, cm.id as id_temp, cm.qty, cm.status, cm.id_client, collec.name as collection, m_pack.id as pack_id, m_pack.name as pack, m_pack.prix as prixpack');
                $this->db->where('cm.id_client',
                                 $data['id_users']);
                $this->db->where('cm.status',
                                 0);
                $this->db->join('montures m',
                                'm.id = cm.id_monture',
                                'left');
                $this->db->join('montures_collection collec',
                                'm.id_collection = collec.id',
                                'left');
                $this->db->join('montures_pack m_pack',
                                'm_pack.id = cm.id_pack',
                                'left');
                $query =
                    $this->db->get();
                if ($query->num_rows() >
                    0) {
                    $t =
                        $query->result();
                    $data['montures'] =
                        $t[0];
                }

                $this->db->where('id',
                                 1);
                $this->db->set('flag',
                               1,
                               FALSE);
                $this->db->update('flag_monture');
            }


            echo $this->load->view('/admin/ajax_recap_commande',
                                   $data);

        } else {
            $this->redirect();
        }

    }


    public
    function reorder_list()
    {

        $verres = array(
            "Durci", "HMC",
            "Satin",
            "Satin UV",
            "Achromatique",
            "BlueCoat",
            "Transition Gris Durci",
            "Transition Gris HMC",
            "Transition Gris Satin",
            "Transition Gris Satin UV",
            "Transition Gris Achromatique",
            "Transition Gris BlueCoat",
            "Transition G15 Durci",
            "Transition G15 HMC",
            "Transition G15 Satin",
            "Transition G15 Satin UV",
            "Transition G15 Achromatique",
            "Transition G15 BlueCoat",
            "Transition Brun Durci",
            "Transition Brun HMC",
            "Transition Brun Satin",
            "Transition Brun Satin UV",
            "Transition Brun Achromatique",
            "Transition Brun BlueCoat",
            "Xtractive Gris Durci",
            "Xtractive Gris HMC",
            "Xtractive Gris Satin",
            "Xtractive Gris Satin UV",
            "Xtractive Gris Achromatique",
            "Xtractive Gris BlueCoat",
            "Xtractive Brun Durci",
            "Xtractive Brun HMC",
            "Xtractive Brun Satin",
            "Xtractive Brun Satin UV",
            "Xtractive Brun Achromatique",
            "Xtractive Brun BlueCoat",
            "Xtractive G15 Durci",
            "Xtractive G15 HMC",
            "Xtractive G15 Satin",
            "Xtractive G15 Satin UV",
            "Xtractive G15 Achromatique",
            "Xtractive G15 BlueCoat",
            "Gris C Durci Polarisé",
            "Gris C HMC Face interne Polarisé",
            "Gris C HMC Polarisé",
            "Gris C Satin Polarisé",
            "Gris C Satin UV Polarisé",
            "Gris C Achromatique Polarisé",
            "Gris C BlueCoat Polarisé",
            "Brun C Durci Polarisé",
            "Brun C HMC Face interne Polarisé",
            "Brun C HMC Polarisé",
            "Brun C Satin Polarisé",
            "Brun C Satin UV Polarisé",
            "Brun C Achromatique Polarisé",
            "Brun C BlueCoat Polarisé",
            "G15 C Durci Polarisé",
            "G15 C HMC Face interne Polarisé",
            "G15 C HMC Polarisé",
            "G15 C Satin Polarisé",
            "G15 C Satin UV Polarisé",
            "G15 C Achromatique Polarisé",
            "G15 C BlueCoat Polarisé",
            "Drivewear Durci",
            "Drivewear HMC Face interne",
            "Drivewear HMC",
            "Drivewear Satin",
            "Drivewear Satin UV",
            "Drivewear Achromatique",
            "Drivewear BlueCoat",
            "Gris C Durci",
            "Gris C dégradé Durci",
            "Gris C HMC Face interne",
            "Gris C dégradé HMC Face interne",
            "Gris C HMC",
            "Gris C dégradé HMC",
            "Gris C Satin",
            "Gris C dégradé Satin",
            "Gris C Satin UV",
            "Gris C dégradé Satin UV",
            "Gris C Achromatique",
            "Gris C dégradé Achromatique",
            "Gris C BlueCoat",
            "Gris C dégradé BlueCoat",
            "Gris A Durci",
            "Gris A dégradé Durci",
            "Gris A HMC Face interne",
            "Gris A dégradé HMC Face interne",
            "Gris A HMC",
            "Gris A dégradé HMC",
            "Gris A Satin",
            "Gris A dégradé Satin",
            "Gris A Satin UV",
            "Gris A dégradé Satin UV",
            "Gris A Achromatique",
            "Gris A dégradé Achromatique",
            "Gris A BlueCoat",
            "Gris A dégradé BlueCoat",
            "Gris AB Durci",
            "Gris AB dégradé Durci",
            "Gris AB HMC Face interne",
            "Gris AB dégradé HMC Face interne",
            "Gris AB HMC",
            "Gris AB dégradé HMC",
            "Gris AB Satin",
            "Gris AB dégradé Satin",
            "Gris AB Satin UV",
            "Gris AB dégradé Satin UV",
            "Gris AB Achromatique",
            "Gris AB dégradé Achromatique",
            "Gris AB BlueCoat",
            "Gris AB dégradé BlueCoat",
            "Gris B Durci",
            "Gris B dégradé Durci",
            "Gris B HMC Face interne",
            "Gris B dégradé HMC Face interne",
            "Gris B HMC",
            "Gris B dégradé HMC",
            "Gris B Satin",
            "Gris B dégradé Satin",
            "Gris B Satin UV",
            "Gris B dégradé Satin UV",
            "Gris B Achromatique",
            "Gris B dégradé Achromatique",
            "Gris B BlueCoat",
            "Gris B dégradé BlueCoat",
            "Gris D Durci",
            "Gris D dégradé Durci",
            "Gris D HMC Face interne",
            "Gris D dégradé HMC Face interne",
            "Gris D HMC",
            "Gris D dégradé HMC",
            "Gris D Satin",
            "Gris D dégradé Satin",
            "Gris D Satin UV",
            "Gris D dégradé Satin UV",
            "Gris D Achromatique",
            "Gris D dégradé Achromatique",
            "Gris D BlueCoat",
            "Gris D dégradé BlueCoat",
            "Brun C Durci",
            "Brun C dégradé Durci",
            "Brun C HMC Face interne",
            "Brun C dégradé HMC Face interne",
            "Brun C HMC",
            "Brun C dégradé HMC",
            "Brun C Satin",
            "Brun C dégradé Satin",
            "Brun C Satin UV",
            "Brun C dégradé Satin UV",
            "Brun C Achromatique",
            "Brun C dégradé Achromatique",
            "Brun C BlueCoat",
            "Brun C dégradé BlueCoat",
            "Brun A Durci",
            "Brun A dégradé Durci",
            "Brun A HMC Face interne",
            "Brun A dégradé HMC Face interne",
            "Brun A HMC",
            "Brun A dégradé HMC",
            "Brun A Satin",
            "Brun A dégradé Satin",
            "Brun A Satin UV",
            "Brun A dégradé Satin UV",
            "Brun A Achromatique",
            "Brun A dégradé Achromatique",
            "Brun A BlueCoat",
            "Brun A dégradé BlueCoat",
            "Brun AB Durci",
            "Brun AB dégradé Durci",
            "Brun AB HMC Face interne",
            "Brun AB dégradé HMC Face interne",
            "Brun AB HMC",
            "Brun AB dégradé HMC",
            "Brun AB Satin",
            "Brun AB dégradé Satin",
            "Brun AB Satin UV",
            "Brun AB dégradé Satin UV",
            "Brun AB Achromatique",
            "Brun AB dégradé Achromatique",
            "Brun AB BlueCoat",
            "Brun AB dégradé BlueCoat",
            "Brun B Durci",
            "Brun B dégradé Durci",
            "Brun B HMC Face interne",
            "Brun B dégradé HMC Face interne",
            "Brun B HMC",
            "Brun B dégradé HMC",
            "Brun B Satin",
            "Brun B dégradé Satin",
            "Brun B Satin UV",
            "Brun B dégradé Satin UV",
            "Brun B Achromatique",
            "Brun B dégradé Achromatique",
            "Brun B BlueCoat",
            "Brun B dégradé BlueCoat",
            "Brun D Durci",
            "Brun D dégradé Durci",
            "Brun D HMC Face interne",
            "Brun D dégradé HMC Face interne",
            "Brun D HMC",
            "Brun D dégradé HMC",
            "Brun D Satin",
            "Brun D dégradé Satin",
            "Brun D Satin UV",
            "Brun D dégradé Satin UV",
            "Brun D Achromatique",
            "Brun D dégradé Achromatique",
            "Brun D BlueCoat",
            "Brun D dégradé BlueCoat",
            "G15 C Durci",
            "G15 C dégradé Durci",
            "G15 C HMC Face interne",
            "G15 C dégradé HMC Face interne",
            "G15 C HMC",
            "G15 C dégradé HMC",
            "G15 C Satin",
            "G15 C dégradé Satin",
            "G15 C Satin UV",
            "G15 C dégradé Satin UV",
            "G15 C Achromatique",
            "G15 C dégradé Achromatique",
            "G15 C BlueCoat",
            "G15 C dégradé BlueCoat",
            "G15 A Durci",
            "G15 A dégradé Durci",
            "G15 A HMC Face interne",
            "G15 A dégradé HMC Face interne",
            "G15 A HMC",
            "G15 A dégradé HMC",
            "G15 A Satin",
            "G15 A dégradé Satin",
            "G15 A Satin UV",
            "G15 A dégradé Satin UV",
            "G15 A Achromatique",
            "G15 A dégradé Achromatique",
            "G15 A BlueCoat",
            "G15 A dégradé BlueCoat",
            "G15 AB Durci",
            "G15 AB dégradé Durci",
            "G15 AB HMC Face interne",
            "G15 AB dégradé HMC Face interne",
            "G15 AB HMC",
            "G15 AB dégradé HMC",
            "G15 AB Satin",
            "G15 AB dégradé Satin",
            "G15 AB Satin UV",
            "G15 AB dégradé Satin UV",
            "G15 AB Achromatique",
            "G15 AB dégradé Achromatique",
            "G15 AB BlueCoat",
            "G15 AB dégradé BlueCoat",
            "G15 B Durci",
            "G15 B dégradé Durci",
            "G15 B HMC Face interne",
            "G15 B dégradé HMC Face interne",
            "G15 B HMC",
            "G15 B dégradé HMC",
            "G15 B Satin",
            "G15 B dégradé Satin",
            "G15 B Satin UV",
            "G15 B dégradé Satin UV",
            "G15 B Achromatique",
            "G15 B dégradé Achromatique",
            "G15 B BlueCoat",
            "G15 B dégradé BlueCoat",
            "G15 D Durci",
            "G15 D dégradé Durci",
            "G15 D HMC Face interne",
            "G15 D dégradé HMC Face interne",
            "G15 D HMC",
            "G15 D dégradé HMC",
            "G15 D Satin",
            "G15 D dégradé Satin",
            "G15 D Satin UV",
            "G15 D dégradé Satin UV",
            "G15 D Achromatique",
            "G15 D dégradé Achromatique",
            "G15 D BlueCoat",
            "G15 D dégradé BlueCoat",
            "Black C Durci",
            "Black C dégradé Durci",
            "Black C HMC Face interne",
            "Black C dégradé HMC Face interne",
            "Black C HMC",
            "Black C dégradé HMC",
            "Black C Satin",
            "Black C dégradé Satin",
            "Black C Satin UV",
            "Black C dégradé Satin UV",
            "Black C Achromatique",
            "Black C dégradé Achromatique",
            "Black C BlueCoat",
            "Black C dégradé BlueCoat",
            "Black A Durci",
            "Black A dégradé Durci",
            "Black A HMC Face interne",
            "Black A dégradé HMC Face interne",
            "Black A HMC",
            "Black A dégradé HMC",
            "Black A Satin",
            "Black A dégradé Satin",
            "Black A Satin UV",
            "Black A dégradé Satin UV",
            "Black A Achromatique",
            "Black A dégradé Achromatique",
            "Black A BlueCoat",
            "Black A dégradé BlueCoat",
            "Black AB Durci",
            "Black AB dégradé Durci",
            "Black AB HMC Face interne",
            "Black AB dégradé HMC Face interne",
            "Black AB HMC",
            "Black AB dégradé HMC",
            "Black AB Satin",
            "Black AB dégradé Satin",
            "Black AB Satin UV",
            "Black AB dégradé Satin UV",
            "Black AB Achromatique",
            "Black AB dégradé Achromatique",
            "Black AB BlueCoat",
            "Black AB dégradé BlueCoat",
            "Black B Durci",
            "Black B dégradé Durci",
            "Black B HMC Face interne",
            "Black B dégradé HMC Face interne",
            "Black B HMC",
            "Black B dégradé HMC",
            "Black B Satin",
            "Black B dégradé Satin",
            "Black B Satin UV",
            "Black B dégradé Satin UV",
            "Black B Achromatique",
            "Black B dégradé Achromatique",
            "Black B BlueCoat",
            "Black B dégradé BlueCoat",
            "Black D Durci",
            "Black D dégradé Durci",
            "Black D HMC Face interne",
            "Black D dégradé HMC Face interne",
            "Black D HMC",
            "Black D dégradé HMC",
            "Black D Satin",
            "Black D dégradé Satin",
            "Black D Satin UV",
            "Black D dégradé Satin UV",
            "Black D Achromatique",
            "Black D dégradé Achromatique",
            "Black D BlueCoat",
            "Black D dégradé BlueCoat",
            "Bleu C Durci",
            "Bleu C dégradé Durci",
            "Bleu C HMC Face interne",
            "Bleu C dégradé HMC Face interne",
            "Bleu C HMC",
            "Bleu C dégradé HMC",
            "Bleu C Satin",
            "Bleu C dégradé Satin",
            "Bleu C Satin UV",
            "Bleu C dégradé Satin UV",
            "Bleu C Achromatique",
            "Bleu C dégradé Achromatique",
            "Bleu C BlueCoat",
            "Bleu C dégradé BlueCoat",
            "Bleu A Durci",
            "Bleu A dégradé Durci",
            "Bleu A HMC Face interne",
            "Bleu A dégradé HMC Face interne",
            "Bleu A HMC",
            "Bleu A dégradé HMC",
            "Bleu A Satin",
            "Bleu A dégradé Satin",
            "Bleu A Satin UV",
            "Bleu A dégradé Satin UV",
            "Bleu A Achromatique",
            "Bleu A dégradé Achromatique",
            "Bleu A BlueCoat",
            "Bleu A dégradé BlueCoat",
            "Bleu AB Durci",
            "Bleu AB dégradé Durci",
            "Bleu AB HMC Face interne",
            "Bleu AB dégradé HMC Face interne",
            "Bleu AB HMC",
            "Bleu AB dégradé HMC",
            "Bleu AB Satin",
            "Bleu AB dégradé Satin",
            "Bleu AB Satin UV",
            "Bleu AB dégradé Satin UV",
            "Bleu AB Achromatique",
            "Bleu AB dégradé Achromatique",
            "Bleu AB BlueCoat",
            "Bleu AB dégradé BlueCoat",
            "Bleu B Durci",
            "Bleu B dégradé Durci",
            "Bleu B HMC Face interne",
            "Bleu B dégradé HMC Face interne",
            "Bleu B HMC",
            "Bleu B dégradé HMC",
            "Bleu B Satin",
            "Bleu B dégradé Satin",
            "Bleu B Satin UV",
            "Bleu B dégradé Satin UV",
            "Bleu B Achromatique",
            "Bleu B dégradé Achromatique",
            "Bleu B BlueCoat",
            "Bleu B dégradé BlueCoat",
            "Bleu D Durci",
            "Bleu D dégradé Durci",
            "Bleu D HMC Face interne",
            "Bleu D dégradé HMC Face interne",
            "Bleu D HMC",
            "Bleu D dégradé HMC",
            "Bleu D Satin",
            "Bleu D dégradé Satin",
            "Bleu D Satin UV",
            "Bleu D dégradé Satin UV",
            "Bleu D Achromatique",
            "Bleu D dégradé Achromatique",
            "Bleu D BlueCoat",
            "Bleu D dégradé BlueCoat",
            "Violet C Durci",
            "Violet C dégradé Durci",
            "Violet C HMC Face interne",
            "Violet C dégradé HMC Face interne",
            "Violet C HMC",
            "Violet C dégradé HMC",
            "Violet C Satin",
            "Violet C dégradé Satin",
            "Violet C Satin UV",
            "Violet C dégradé Satin UV",
            "Violet C Achromatique",
            "Violet C dégradé Achromatique",
            "Violet C BlueCoat",
            "Violet C dégradé BlueCoat",
            "Violet A Durci",
            "Violet A dégradé Durci",
            "Violet A HMC Face interne",
            "Violet A dégradé HMC Face interne",
            "Violet A HMC",
            "Violet A dégradé HMC",
            "Violet A Satin",
            "Violet A dégradé Satin",
            "Violet A Satin UV",
            "Violet A dégradé Satin UV",
            "Violet A Achromatique",
            "Violet A dégradé Achromatique",
            "Violet A BlueCoat",
            "Violet A dégradé BlueCoat",
            "Violet AB Durci",
            "Violet AB dégradé Durci",
            "Violet AB HMC Face interne",
            "Violet AB dégradé HMC Face interne",
            "Violet AB HMC",
            "Violet AB dégradé HMC",
            "Violet AB Satin",
            "Violet AB dégradé Satin",
            "Violet AB Satin UV",
            "Violet AB dégradé Satin UV",
            "Violet AB Achromatique",
            "Violet AB dégradé Achromatique",
            "Violet AB BlueCoat",
            "Violet AB dégradé BlueCoat",
            "Violet B Durci",
            "Violet B dégradé Durci",
            "Violet B HMC Face interne",
            "Violet B dégradé HMC Face interne",
            "Violet B HMC",
            "Violet B dégradé HMC",
            "Violet B Satin",
            "Violet B dégradé Satin",
            "Violet B Satin UV",
            "Violet B dégradé Satin UV",
            "Violet B Achromatique",
            "Violet B dégradé Achromatique",
            "Violet B BlueCoat",
            "Violet B dégradé BlueCoat",
            "Violet D Durci",
            "Violet D dégradé Durci",
            "Violet D HMC Face interne",
            "Violet D dégradé HMC Face interne",
            "Violet D HMC",
            "Violet D dégradé HMC",
            "Violet D Satin",
            "Violet D dégradé Satin",
            "Violet D Satin UV",
            "Violet D dégradé Satin UV",
            "Violet D Achromatique",
            "Violet D dégradé Achromatique",
            "Violet D BlueCoat",
            "Violet D dégradé BlueCoat",
            "Rose C Durci",
            "Rose C dégradé Durci",
            "Rose C HMC Face interne",
            "Rose C dégradé HMC Face interne",
            "Rose C HMC",
            "Rose C dégradé HMC",
            "Rose C Satin",
            "Rose C dégradé Satin",
            "Rose C Satin UV",
            "Rose C dégradé Satin UV",
            "Rose C Achromatique",
            "Rose C dégradé Achromatique",
            "Rose C BlueCoat",
            "Rose C dégradé BlueCoat",
            "Rose A Durci",
            "Rose A dégradé Durci",
            "Rose A HMC Face interne",
            "Rose A dégradé HMC Face interne",
            "Rose A HMC",
            "Rose A dégradé HMC",
            "Rose A Satin",
            "Rose A dégradé Satin",
            "Rose A Satin UV",
            "Rose A dégradé Satin UV",
            "Rose A Achromatique",
            "Rose A dégradé Achromatique",
            "Rose A BlueCoat",
            "Rose A dégradé BlueCoat",
            "Rose AB Durci",
            "Rose AB dégradé Durci",
            "Rose AB HMC Face interne",
            "Rose AB dégradé HMC Face interne",
            "Rose AB HMC",
            "Rose AB dégradé HMC",
            "Rose AB Satin",
            "Rose AB dégradé Satin",
            "Rose AB Satin UV",
            "Rose AB dégradé Satin UV",
            "Rose AB Achromatique",
            "Rose AB dégradé Achromatique",
            "Rose AB BlueCoat",
            "Rose AB dégradé BlueCoat",
            "Rose B Durci",
            "Rose B dégradé Durci",
            "Rose B HMC Face interne",
            "Rose B dégradé HMC Face interne",
            "Rose B HMC",
            "Rose B dégradé HMC",
            "Rose B Satin",
            "Rose B dégradé Satin",
            "Rose B Satin UV",
            "Rose B dégradé Satin UV",
            "Rose B Achromatique",
            "Rose B dégradé Achromatique",
            "Rose B BlueCoat",
            "Rose B dégradé BlueCoat",
            "Rose D Durci",
            "Rose D dégradé Durci",
            "Rose D HMC Face interne",
            "Rose D dégradé HMC Face interne",
            "Rose D HMC",
            "Rose D dégradé HMC",
            "Rose D Satin",
            "Rose D dégradé Satin",
            "Rose D Satin UV",
            "Rose D dégradé Satin UV",
            "Rose D Achromatique",
            "Rose D dégradé Achromatique",
            "Rose D BlueCoat",
            "Rose D dégradé BlueCoat",
            "Orange C Durci",
            "Orange C dégradé Durci",
            "Orange C HMC Face interne",
            "Orange C dégradé HMC Face interne",
            "Orange C HMC",
            "Orange C dégradé HMC",
            "Orange C Satin",
            "Orange C dégradé Satin",
            "Orange C Satin UV",
            "Orange C dégradé Satin UV",
            "Orange C Achromatique",
            "Orange C dégradé Achromatique",
            "Orange C BlueCoat",
            "Orange C dégradé BlueCoat",
            "Orange A Durci",
            "Orange A dégradé Durci",
            "Orange A HMC Face interne",
            "Orange A dégradé HMC Face interne",
            "Orange A HMC",
            "Orange A dégradé HMC",
            "Orange A Satin",
            "Orange A dégradé Satin",
            "Orange A Satin UV",
            "Orange A dégradé Satin UV",
            "Orange A Achromatique",
            "Orange A dégradé Achromatique",
            "Orange A BlueCoat",
            "Orange A dégradé BlueCoat",
            "Orange AB Durci",
            "Orange AB dégradé Durci",
            "Orange AB HMC Face interne",
            "Orange AB dégradé HMC Face interne",
            "Orange AB HMC",
            "Orange AB dégradé HMC",
            "Orange AB Satin",
            "Orange AB dégradé Satin",
            "Orange AB Satin UV",
            "Orange AB dégradé Satin UV",
            "Orange AB Achromatique",
            "Orange AB dégradé Achromatique",
            "Orange AB BlueCoat",
            "Orange AB dégradé BlueCoat",
            "Orange B Durci",
            "Orange B dégradé Durci",
            "Orange B HMC Face interne",
            "Orange B dégradé HMC Face interne",
            "Orange B HMC",
            "Orange B dégradé HMC",
            "Orange B Satin",
            "Orange B dégradé Satin",
            "Orange B Satin UV",
            "Orange B dégradé Satin UV",
            "Orange B Achromatique",
            "Orange B dégradé Achromatique",
            "Orange B BlueCoat",
            "Orange B dégradé BlueCoat",
            "Orange D Durci",
            "Orange D dégradé Durci",
            "Orange D HMC Face interne",
            "Orange D dégradé HMC Face interne",
            "Orange D HMC",
            "Orange D dégradé HMC",
            "Orange D Satin",
            "Orange D dégradé Satin",
            "Orange D Satin UV",
            "Orange D dégradé Satin UV",
            "Orange D Achromatique",
            "Orange D dégradé Achromatique",
            "Orange D BlueCoat",
            "Orange D dégradé BlueCoat",
            "Jaune C Durci",
            "Jaune C dégradé Durci",
            "Jaune C HMC Face interne",
            "Jaune C dégradé HMC Face interne",
            "Jaune C HMC",
            "Jaune C dégradé HMC",
            "Jaune C Satin",
            "Jaune C dégradé Satin",
            "Jaune C Satin UV",
            "Jaune C dégradé Satin UV",
            "Jaune C Achromatique",
            "Jaune C dégradé Achromatique",
            "Jaune C BlueCoat",
            "Jaune C dégradé BlueCoat",
            "Jaune A Durci",
            "Jaune A dégradé Durci",
            "Jaune A HMC Face interne",
            "Jaune A dégradé HMC Face interne",
            "Jaune A HMC",
            "Jaune A dégradé HMC",
            "Jaune A Satin",
            "Jaune A dégradé Satin",
            "Jaune A Satin UV",
            "Jaune A dégradé Satin UV",
            "Jaune A Achromatique",
            "Jaune A dégradé Achromatique",
            "Jaune A BlueCoat",
            "Jaune A dégradé BlueCoat",
            "Jaune AB Durci",
            "Jaune AB dégradé Durci",
            "Jaune AB HMC Face interne",
            "Jaune AB dégradé HMC Face interne",
            "Jaune AB HMC",
            "Jaune AB dégradé HMC",
            "Jaune AB Satin",
            "Jaune AB dégradé Satin",
            "Jaune AB Satin UV",
            "Jaune AB dégradé Satin UV",
            "Jaune AB Achromatique",
            "Jaune AB dégradé Achromatique",
            "Jaune AB BlueCoat",
            "Jaune AB dégradé BlueCoat",
            "Jaune B Durci",
            "Jaune B dégradé Durci",
            "Jaune B HMC Face interne",
            "Jaune B dégradé HMC Face interne",
            "Jaune B HMC",
            "Jaune B dégradé HMC",
            "Jaune B Satin",
            "Jaune B dégradé Satin",
            "Jaune B Satin UV",
            "Jaune B dégradé Satin UV",
            "Jaune B Achromatique",
            "Jaune B dégradé Achromatique",
            "Jaune B BlueCoat",
            "Jaune B dégradé BlueCoat",
            "Jaune D Durci",
            "Jaune D dégradé Durci",
            "Jaune D HMC Face interne",
            "Jaune D dégradé HMC Face interne",
            "Jaune D HMC",
            "Jaune D dégradé HMC",
            "Jaune D Satin",
            "Jaune D dégradé Satin",
            "Jaune D Satin UV",
            "Jaune D dégradé Satin UV",
            "Jaune D Achromatique",
            "Jaune D dégradé Achromatique",
            "Jaune D BlueCoat",
            "Jaune D dégradé BlueCoat"
        );


        if (!isset($_GET['start'])) {
            exit;
        }

        $indices =
            $this->db->query('SELECT * FROM indice_generation_verre ORDER BY id_generation_verre, id_indice_verre ASC');

        foreach ($indices->result()
                 as $indice) {

            $ordre = 0;

            $defender_verres =
                array();
            $compare_verres =
                array();
            $ordre_verres =
                array();

            $query =
                $this->db->query('SELECT * FROM verres WHERE id_generation_verre = ' .
                                 $indice->id_generation_verre .
                                 ' AND active = 1 AND id_indice_verre = ' .
                                 $indice->id_indice_verre);
            $nom_verre =
                $this->db->query('SELECT generation_verre FROM generation_verre WHERE id_generation_verre = ' .
                                 $indice->id_generation_verre);


            echo $nom_verre->result()[0]->generation_verre .
                 '<br /><br />';

            // Tableau des verres en base
            foreach ($query->result()
                     as
                     $result)
            {

                $verre =
                    $result->libelle_verre;

                if (false !==
                    strpos($verre,
                           'Bifocaux')) {
                    $verre =
                        str_replace('Bifocaux Pastille 28',
                                    '',
                                    $verre);
                } else {
                    $verre =
                        str_replace($nom_verre->result()[0]->generation_verre,
                                    '',
                                    $verre);
                }

                $verre =
                    trim($verre);

                $lib =
                    explode(' ',
                            $verre);
                $indice =
                    $lib[0];

                //preg_match('#([0-9]{1}),([0-9]+)#', $verre, $matches);
                //$incide = $matches[0];

                unset($lib[0]);
                $verre =
                    implode(' ',
                            $lib);


                $compare_verres[$result->id_verre] =
                    $verre;
                $indice_verres[$result->id_verre] =
                    $indice;

            }


            // Comparaison avec verres de la liste pour en récupérer l'ordre
            foreach ($verres
                     as $k =>
                     $v) {


                $verre_ids =
                    array_keys($compare_verres,
                               $v);
                $defender_array =
                    array();

                foreach ($verre_ids
                         as
                         $vk
                => $vid) {

                    //echo ' - '.$vid;

                    $defender_verres[$ordre][] =
                        array(
                            'id' => $vid,
                            'libelle' => $compare_verres[$vid]
                        );
                    $verre_def =
                        str_replace('BlueCoat',
                                    'BlueCoat Defender',
                                    $compare_verres[$vid]);


                    // Si le verre existe aussi en defender, on l'ajoute à la suite
                    if (strpos($verre_def,
                               'BlueCoat Defender') !==
                        false) {

                        if (in_array($verre_def,
                                     $compare_verres)) {

                            $def_id =
                                array_search($verre_def,
                                             $compare_verres);

                            $indice_verres[$def_id] =
                                $indice_verres[$vid];

                            unset($compare_verres[$def_id]);

                            $defender_array[] =
                                array(
                                    'id' => $def_id,
                                    'libelle' => $verre_def
                                );
                            //$defender_verres[$ordre] = array('id' => $def_id, 'libelle' => $verre_def);
                        }

                    }

                }


                ++$ordre;

                // Si changement de $k, on ajoute l'array des defender à la liste
                if (isset($defender_array)) {

                    foreach ($defender_array
                             as
                             $dk
                    => $dv) {
                        $defender_verres[$ordre][] =
                            $dv;
                    }

                    ++$ordre;

                }


                //echo '<br />';

            }


            $loop = 0;

            while ($loop <
                   100) {

                foreach (array_keys($defender_verres)
                         as
                         $key)
                {

                    if (isset($defender_verres[$key][$loop])) {

                        $ordre_verres[] =
                            $defender_verres[$key][$loop]['id'] .
                            '#' .
                            $defender_verres[$key][$loop]['libelle'];
                        unset($defender_verres[$key][$loop]);

                    }
                }

                reset($defender_verres);
                ++$loop;
            }


            $position = 0;


            // LOOP FINALE
            foreach ($ordre_verres
                     as $k =>
                     $v) {

                $verre =
                    explode('#',
                            $v);

                echo $indice_verres[$verre[0]] .
                     ' ' .
                     $verre[1] .
                     ' / Position ' .
                     $position;
                echo '<br/>';

                $this->db->where('id_verre',
                                 $verre[0])
                         ->update('verres',
                                  array('ordre_verre' => $position))
                ;

                ++$position;
            }


        }

    }


    public
    function test_facture()
    {

        $this->load->model('m_commande');
        $this->load->model('m_users');

        $date = date('m-Y',
                     strtotime('last day of last month'));
        $dateY = date('Y-m',
                      strtotime('last day of last month'));
        $datemonth = date('m',
                          strtotime('last day of last month'));

        $facture_client =
            $this->m_commande->getAllCommandeByMonthAndUser($date);


        if ($facture_client !==
            false) {
            $generate_pdf =
                true;
            $data = array();

            $month = array(
                '01' => 'Janvier',
                '02' => 'Février',
                '03' => 'Mars',
                '04' => 'Avril',
                '05' => 'Mai',
                '06' => 'Juin',
                '07' => 'Juillet',
                '08' => 'Août',
                '09' => 'Septembre',
                '10' => 'Octobre',
                '11' => 'Novembre',
                '12' => 'Décembre'
            );


            foreach ($facture_client
                     as $key
            => $facture_cli) {
                $piece_jointe =
                    $this->generer_pdf_facture('facture',
                                               $dateY,
                                               $facture_cli->id_users,
                                               false);
                $piece_jointe =
                    $this->config->item('directory_pdf') .
                    "/" .
                    $piece_jointe;
                $user =
                    $this->m_users->getUserById($facture_cli->id_users);
                $data['email'] =
                    $user[0]->email;
                $mess_txt =
                    "<html><head></head><body>Madame, Monsieur <br><br> Vous trouverez en pièce jointe de ce mail votre facture du mois de " .
                    $month[$datemonth] .
                    ".<br><br> Sachez que vous pouvez à tout moment la télécharger dans votre espace client dans l'onglet \"Mes factures\". <br><br>L'équipe OptiEyes.</body></html>";
                $subjet_txt =
                    "Facture Optieyes " .
                    $month[$datemonth] .
                    " " .
                    date('Y',
                         strtotime('last day of last month'));
                $this->mail($data,
                            $mess_txt,
                            true,
                            $subjet_txt,
                            $piece_jointe);

                if (file_exists($piece_jointe)) {
                    unlink($piece_jointe);
                }
            }
        }

    }

    public
    function index()
    {
        $data =
            $this->session->userdata('data_admin');
        $data['newUser'] =
            $this->session->userdata('newUser');
        $data['page'] =
            "Admin";
        $data['title'] =
            "Caisse journalière";

        $ca_journalier =
            $this->m_commande->getCaJournalier();
        $ca_journalier_sans_livraison =
            $this->m_commande->getCaJournalier(false);

        $ca_mensuel =
            $this->m_commande->CAMensuel(date("m-Y"));
        $ca_mensuel_sans_livraison =
            $this->m_commande->CAMensuel(date("m-Y"),
                                         false);


        $data['ca_journalier'] =
            $ca_journalier[0]->ca_journalier +
            $this->m_commande->getPackagingByDay();              //  - $this->m_commande->getSupplementByDay()
        $data['ca_mensuel'] =
            $ca_mensuel +
            $this->m_commande->getPackagingByMonth(date("m-Y")); //  - $this->m_commande->getSupplementByMonth(date("m-Y"))
        $data['packaging_mois'] =
            $this->m_commande->getPackagingByMonth(date("m-Y"));

        $data['ca_journalier_sans_livraison'] =
            $ca_journalier_sans_livraison[0]->ca_journalier -
            $this->m_commande->getSupplementByDay();
        $data['supplement_jour'] =
            $this->m_commande->getSupplementByDay();
        $data['ca_mensuel_sans_livraison'] =
            $ca_mensuel_sans_livraison -
            $this->m_commande->getSupplementByMonth(date("m-Y"));

        $data['firstorder'] =
            $this->m_commande->getCommandeById(1);

        $data['caByDay'] =
            $this->m_commande->getCaByDayOfMonth(date("Y-m"));
        $data['taux_tva'] =
            $this->session->userdata('taux_tva');

        $data['lens_month'] =
            $this->m_lens->getLensIncomesByMonth(date("Y-m"));
        $data['lens_day'] =
            $this->m_lens->getLensIncomesByDay(date("Y-m-d"));

        $data['montures_month'] =
            $this->m_montures->getMonturesIncomesByMonth(date("Y-m"));
        $data['montures_day'] =
            $this->m_montures->getMonturesIncomesByDay(date("Y-m-d"));

        $data['CAmonth_Samuel'] =
            $this->m_commande->getCAmonth_Samuel(date("m-Y")) -
            $this->m_commande->getCAmonthSupplement_Samuel(date("m-Y"));
        $data['CAmonth_Daniel'] =
            $this->m_commande->getCAmonth_Daniel(date("m-Y")) -
            $this->m_commande->getCAmonthSupplement_Daniel(date("m-Y"));
        $data['CAmonth_Gregory'] =
            $this->m_commande->getCAmonth_Gregory(date("m-Y")) -
            $this->m_commande->getCAmonthSupplement_Gregory(date("m-Y"));
        $data['CAmonth_Glenn'] =
            $this->m_commande->getCAmonth_Glenn(date("m-Y")) -
            $this->m_commande->getCAmonthSupplement_Glenn(date("m-Y"));
        $data['CAmonth_Optical_Service'] =
            $this->m_commande->getCAmonth_Optical_Service(date("m-Y")) -
            $this->m_commande->getCAmonthSupplement_Optical_Service(date("m-Y"));

        $data['CAday_Samuel'] =
            $this->m_commande->getCAday_Samuel() -
            $this->m_commande->getCAdaySupplement_Samuel();
        $data['CAday_Daniel'] =
            $this->m_commande->getCAday_Daniel() -
            $this->m_commande->getCAdaySupplement_Daniel();
        $data['CAday_Gregory'] =
            $this->m_commande->getCAday_Gregory() -
            $this->m_commande->getCAdaySupplement_Gregory();
        $data['CAday_Glenn'] =
            $this->m_commande->getCAday_Glenn() -
            $this->m_commande->getCAdaySupplement_Glenn();
        $data['CAday_Optical_Service'] =
            $this->m_commande->getCAday_Optical_Service() -
            $this->m_commande->getCAdaySupplement_Optical_Service();


        $this->load->view('admin/dashboard',
                          $data);
    }

    public
    function emails()
    {
        $data =
            $this->session->userdata('data_admin');
        $data['newUser'] =
            $this->session->userdata('newUser');
        $data['page'] =
            "mails";
        $data['title'] =
            "Envoi de mails";
        $data['modules'] =
            array(
                'multiselect' => true,
                'sweetalert' => true
            );

        $data['emails'] =
            $this->getUserMail();

        $data['caByDay'] =
            $this->m_commande->getCaByDayOfMonth(date("Y-m"));
        $data['taux_tva'] =
            $this->session->userdata('taux_tva');

        $this->load->view('admin/emails',
                          $data);
    }

    public
    function documents()
    {

        $data =
            $this->session->userdata('data_admin');
        $data['page'] =
            "documents";
        $data['title'] =
            "Documents";

        $files =
            scandir($this->config->item('directory_pdf'));

        $docs = array();


        foreach ($files as $f)
        {
            if (preg_match("(_([0-9]{2})_([0-9]{2})_([0-9]{2})-([0-9]{2})-([0-9]{2}))",
                           $f,
                           $matches)) {
                preg_match_all('#[0-9]+#',$f,$extract);
                $year = $extract[0][0];
                $month = $extract[0][1];
                $day = $extract[0][2];
                $hour = $extract[0][3];
                $minutes = $extract[0][4];
                $seconds = $extract[0][5];
                $date = new DateTime("$year-$month-$day $hour:$minutes:$seconds");
                $docs[$f] = $date->format('Y-m-d H:i:s');
            }
        }


        arsort($docs);

        $data['files'] =
            $docs;


        $this->load->view('admin/documents',
                          $data);

    }

    public
    function statutCommentaire()
    {
        if ($this->input->is_ajax_request()) {
            $data =
                $this->input->post();

            $data['nom_config'] =
                'commentaire';
            $data['param_config'] =
                json_encode(array('active' => $data['active']));

            $this->m_config->updateConfig($data);
        }
    }

    public
    function reduction_facture()
    {
        if ($this->input->is_ajax_request()) {
            $data =
                $this->input->post();
            $this->m_facture_reduction->reduction($data);

            echo number_format($data['totalFacture_reduct_facture'] -
                               $data['reduction_facture'],
                               2,
                               '.',
                               '');
        }
    }

    public
    function getListReduction()
    {
        if ($this->input->is_ajax_request()) {
            $data['list_reduction'] =
                $this->m_facture_reduction->getListReduction($this->input->post());

            echo $this->load->view('admin/ajax_list_reduction',
                                   $data);
        }
    }

    public
    function delete_reduction()
    {
        if ($this->input->is_ajax_request()) {
            $data =
                $this->input->post();
            $this->m_facture_reduction->delete_reduction($data);

            echo number_format($data['reduction'] +
                               $data['totalFacture'],
                               2,
                               '.',
                               '');
        }
    }

    public
    function delete_order()
    {
        if ($this->input->is_ajax_request()) {
            $this->m_commande->delete($this->input->post());
        }
    }

    public
    function delete_order_edi()
    {
        if ($this->input->is_ajax_request()) {
            $this->m_commande->delete_edi($this->input->post());
        }
    }

    public
    function getCaJournalierByMonth()
    {
        if ($this->input->is_ajax_request()) {
            sleep(1);
            $date =
                $this->input->post('date_ca_par_mois');
            $data['caByDay'] =
                $this->m_commande->getCaByDayOfMonth($date);
            $data['date'] =
                $date;

            echo $this->load->view('admin/ajax_ca_journalier',
                                   $data);
        }
    }

    public
    function checkNewOrder()
    {
        if ($this->input->is_ajax_request()) {
            $return =
                $this->m_commande->checkNewOrder();

            if ($return ===
                false) {
                $return = "";
            }

            die(json_encode(array('son' => $return)));
        }
    }

    public
    function valid_prelevement()
    {
        $this->session->set_userdata('newUser',
                                     false);

        $data['parametre_lang_datable'] =
            $this->config->item('parametre_lang_datable');
        $data['parametre_export_datable'] =
            $this->config->item('parametre_export_datable');
        $data['newUser'] =
            $this->session->userdata('newUser');
        $data['data_prelevement'] =
            $this->m_users->getUserValidPrelevement();

        $this->m_users->updateNewUser(array('nouveau' => 0));

        $data['page'] =
            "Validation Prélèvement";
        $this->load->view('admin/valid_prelevement',
                          $data);
    }

    public
    function update_valid_document()
    {
        if ($this->input->is_ajax_request()) {
            $data =
                $this->input->post();
            $this->m_users->updateUser($data);

            if ($data['send_email'] ==
                1) {
                $mess_txt =
                    "<html><head></head><body><b>Bonjour !</b><br><br> Votre RIB à été validé avec succès. Vous avez dès à présent la possibilité de passer commande.<br><br> A bientôt sur Optieyes !</body></html>";
                $sujet_txt =
                    "Votre RIB est validé";
                $email =
                    $this->m_users->getUserById($data['id_users']);
                $data['email'] =
                    $email[0]->email;
                $this->mail($data,
                            $mess_txt,
                            true,
                            $sujet_txt);
            }
        }
    }

    public
    function updateUser()
    {

        if ($this->input->is_ajax_request()) {

            $user =
                (int)$this->input->post('user');
            $info =
                $this->input->post();
            $errors = 0;
            echo json_encode($info);
            foreach ($info as
                     $k => $v)
            {

                if ($k ==
                    'tarif_packaging') {
                    $this->m_commande->updatePackaging($user,
                                                       $v);
                }

                if (!$this->m_users->updateUser(array(
                                                    'id_users' => $user,
                                                    $k => $v
                                                ))) {
                    ++$errors;
                }
            }

            if ($this->input->post('withPass') ==
                '1') {
                if ($this->input->post('Samuel') ==
                    "") {
                    $data['Samuel'] =
                        0.00;
                } else {
                    $data['Samuel'] =
                        100.00;
                }

                if ($this->input->post('Daniel') ==
                    "") {
                    $data['Daniel'] =
                        0.00;
                } else {
                    $data['Daniel'] =
                        100.00;
                }

                if ($this->input->post('Gregory') ==
                    "") {
                    $data['Gregory'] =
                        0.00;
                } else {
                    $data['Gregory'] =
                        100.00;
                }

                if ($this->input->post('Glenn') ==
                    "") {
                    $data['Glenn'] =
                        0.00;
                } else {
                    $data['Glenn'] =
                        100.00;
                }

                if ($this->input->post('Optical_Service') ==
                    "") {
                    $data['Optical_Service'] =
                        0.00;
                } else {
                    $data['Optical_Service'] =
                        100.00;
                }


                $this->db->where('id_users',
                                 $user);
                $this->db->set('Samuel',
                               $data['Samuel'],
                               FALSE);
                $this->db->update('users');

                $this->db->where('id_users',
                                 $user);
                $this->db->set('Daniel',
                               $data['Daniel'],
                               FALSE);
                $this->db->update('users');

                $this->db->where('id_users',
                                 $user);
                $this->db->set('Gregory',
                               $data['Gregory'],
                               FALSE);
                $this->db->update('users');

                $this->db->where('id_users',
                                 $user);
                $this->db->set('Glenn',
                               $data['Glenn'],
                               FALSE);
                $this->db->update('users');

                $this->db->where('id_users',
                                 $user);
                $this->db->set('Optical_Service',
                               $data['Optical_Service'],
                               FALSE);
                $this->db->update('users');
            }

            $this->m_commande->updateBillsForMonth($user);

            echo $errors;

            exit;

        }
    }

    public
    function updateUserDashboard()
    {

        if ($this->input->is_ajax_request()) {

            $user =
                (int)$this->input->post('user');
            $info =
                $this->input->post();
            $errors = 0;

            foreach ($info as
                     $k => $v)
            {

                if (!$this->m_users->updateUser(array(
                                                    'id_users' => $user,
                                                    $k => $v
                                                ))) {
                    ++$errors;
                }

            }

            $now =
                new \DateTime();
            $emailDate =
                $now->format('d/m/Y à H:i');
            $subject =
                'Le tableau de bord du magasin ' .
                $user .
                ' vient d’être modifié le ' .
                $emailDate;

            $mess_txt = "";
            $data['email'] =
                'optieyescommande@gmail.com';

            $this->mail($data,
                        $mess_txt,
                        true,
                        $subject);

            echo $errors;

            exit;

        }
    }

    public
    function send_new_password()
    {
        if ($this->input->is_ajax_request()) {

            $user_id =
                (int)$this->input->post('user_id');
            $password =
                $this->input->post('password');

            $user =
                $this->m_users->getUserById($user_id);

            $mail = trim($user[0]->email);

            if ($this->m_users->updateUser(array(
                                               'id_users' => $user[0]->id_users,
                                               'pass' => md5($mail .
                                                             '&&' .
                                                             $password)
                                           ))) {

                echo json_encode(array('status' => 'ok'));

                $mess_txt = "<html>
                    <head></head>
                    <body><b>Bonjour</b>!
                    <br><br> 
                    Votre mot de passe a été modifié. Voici votre nouveau mot de passe : <b>" .
                            $password . "</b>, il vous permet de vous connecter au site, converservez le précieusement.
                    </body>
                </html>";

                $subjet_txt =
                    "Votre nouveau mot de passe";

                $data['email'] =
                    $user[0]->email;

                $this->mail($data,
                            $mess_txt,
                            true,
                            $subjet_txt);


            } else {
                echo json_encode(array('status' => 'error'));
            }

        }

        exit();

    }

    public
    function recommande($order_id = false,
                        $id_users)
    {

        $user =
            $this->m_users->getUserById($id_users)[0];

        $this->data['user_info'] =
            $user;

        $this->data['id_users'] =
            $id_users;
        $this->data['data_admin']['admin_info'] =
            $this->m_users->getUserById(1)[0];

        $result =
            $this->m_config->getConfig(array('nom_config' => 'commentaire'));

        $this->data['commentaire_actif'] =
            json_decode($result[0]->param_config);


        if ($order =
            $this->m_commande->getCommandeById($order_id,
                                               $id_users,
                                               false)) {

            $this->data['recap_commande'] =
                $order[0];
            $this->data['page'] =
            $this->data['title'] =
                "Repasser une commande";

            $this->data['id_users'] =
                $id_users;

            $this->load->view('admin/reorder',
                              $this->data);

        } else {
            $this->redirect('/admin/valid_commande');
        }

    }

    public
    function reOrder()
    {

        if ($this->input->is_ajax_request()) {

            $data =
                $this->input->post();

            // var_dump($data);

            $id_users =
                $data['id_users'];
            $user =
                $this->m_users->getUserById($id_users)[0];

            $result =
                $this->m_config->getConfig(array('nom_config' => 'commentaire'));

            $data['commentaire_actif'] =
                json_decode($result[0]->param_config);

            $data['user_info'] =
                $user;
            //$data['id_users'] = $user_id;
            $data['data_admin']['admin_info'] =
                $this->m_users->getUserById(1)[0];

            if ($order_data =
                $this->m_commande->getCommandeById($data['order_id'],
                                                   $id_users,
                                                   false)[0]) {

                $order_data =
                    (array)$order_data;

                $data_corrections =
                    json_decode($order_data['information_commande'],
                                true);

                if (isset($data_corrections['verre']['correction_droit'], $data_corrections['verre']['correction_gauche'])) {
                    $verres =
                        2;
                } else {
                    $verres =
                        1;
                }

                unset($order_data['id_commande']);
                unset($order_data['date_annule']);
                unset($order_data['email_send']);

                $order_data['date_commande'] =
                    date('Y-m-d H:i:s');
                $order_data['date_update_commande'] =
                    date('Y-m-d H:i:s');

                if (!isset($data['commentaire'])) {
                    $data['commentaire'] =
                        "";
                }
                $order_data['commentaire'] =
                    $data['commentaire'];


                $order_data['pair'] =
                    false;
                $order_data['ancienne_commande'] =
                    0;
                $order_data['premiere_commande'] =
                    0;
                $order_data['id_etat_commande'] =
                    1;
                $order_data['type_commande'] =
                    1;


                $order_data['express'] =
                    false;

                if (isset($data['express']) &&
                    $data['express'] ==
                    1) {
                    $order_data['express'] =
                        true;
                }

                $prix_verre =
                    $order_data['prix_verre'];

                if ($order_data['total_remise_paire'] >
                    0) {
                    $prix_verre += $order_data['total_remise_paire'];
                    $order_data['prix_verre'] =
                        $prix_verre;
                }

                $total_commande =
                    $prix_verre *
                    $verres;

                $order_data['total_commande'] =
                    $total_commande;
                $order_data['total_remise_paire'] =
                    0;

                if ($order =
                    $this->m_commande->addOrder($order_data)) {

                    $day =
                        mktime(0,
                               0,
                               0,
                               date('m'),
                               date('d'),
                               date('Y'));
                    $this->db->where(array(
                                         'user_id' => $order_data['id_users'],
                                         'day' => $day
                                     ))
                             ->update('user_sessions',
                                      array('has_order' => 1))
                    ;

                    echo json_encode(array('status' => 'ok'));

                } else {
                    echo json_encode(array('status' => 'error'));
                }

            } else {
                echo json_encode(array('status' => 'error'));
            }


        }

    }

    public
    function modifier_tva()
    {
        if ($this->input->is_ajax_request()) {
            $data =
                $this->input->post();
            $data['nouveau_taux_tva'] =
                ($data['taux_tva'] /
                 100) + 1;

            unset($data['taux_tva']);

            $this->m_taux_tva->update($data);
        }
    }

    public
    function valid_commande()
    {
        $data['newUser'] =
            $this->session->userdata('newUser');
        $data['parametre_lang_datable'] =
            $this->config->item('parametre_lang_datable');
        $data['parametre_export_datable'] =
            $this->config->item('parametre_export_datable');

        $result =
            $this->m_users->getMaxUser();
        $data['maxUser'] =
            $result[0]->maxUser;

        $data['page'] =
        $data['title'] =
            "Validation Commande";
        $data['modules'] =
            array(
                'datatables' => true,
                'datepicker' => true,
                'sweetalert' => true
            );
        $this->load->view('admin/valid_commande',
                          $data);
    }

    public
    function valid_commande_ajax()
    {
        if ($this->input->is_ajax_request()) {


            $data = array();
            $data['aaData'] =
                array();
            $data_commandeOld =
                $this->m_commande->getAllCommande();
            $data_commandeNew =
                $this->m_commande->getAllCommandeNew();

            if (is_array($data_commandeOld)) {
                if (is_array($data_commandeNew)) {
                    $data_commande =
                        array_merge($data_commandeNew,
                                    $data_commandeOld);
                } else {
                    $data_commande =
                        $data_commandeOld;
                }
            } else {
                $data_commande =
                    $data_commandeNew;
            }

            $data_etiquette =
                $this->m_commande->getEtiquetteAlreadySet();


            if ($data_commande !==
                false) {
                foreach ($data_commande
                         as
                         $key
                => $commande)
                {
                    $d1 =
                        new DateTime(date("Y-m-d H:i:s"));
                    $d2 =
                        new DateTime(date('Y-m-d H:i:s',
                                          strtotime($commande->date_commande .
                                                    ' + 6 days')));
                    $diff =
                        $d1->diff($d2);
                    $color =
                        "ff3237"; //rouge

                    if ($diff->invert ==
                        0) {
                        if ($diff->d >=
                            5) {
                            $color =
                                "80c3cb";
                        } //bleu
                        elseif ($diff->d ==
                                4) {
                            $color =
                                "019e59";
                        } //vert
                        elseif ($diff->d ==
                                3 ||
                                $diff->d ==
                                2) {
                            $color =
                                "ffcc01";
                        } //jaune
                        elseif ($diff->d ==
                                1) {
                            $color =
                                "ff7638";
                        } //orange
                    }


                    $correction =
                        json_decode($commande->information_commande,
                                    true);

                    $commande_verres =
                        '';
                    $cl = '';

                    if (isset($correction['verre']['correction_droit'])) {
                        $commande_verres .= 'd';
                    }
                    if (isset($correction['verre']['correction_gauche'])) {
                        $commande_verres .= 'g';
                    }

                    $rx = ' ';
                    if ($commande->status_omega ==
                        '1') {
                        $rx =
                            '<img src="/static/img/expediee.png" width="50">';
                    }

                    if ($data_etiquette !==
                        false &&
                        (isset($data_etiquette[$commande->id_commande]['droit']) ||
                         isset($data_etiquette[$commande->id_commande]['gauche']))) {
                        $cl =
                            ' is_checked';
                    }

                    switch ($commande->type_commande) {

                        case 1:
                            $prix_commande =
                                $commande->total_commande .
                                ' €';
                            break;

                        case 2:

                            $prix_commande =
                                '<del>' .
                                $commande->total_commande .
                                '</del> ' .
                                ($commande->tarif_express >
                                 0 ?
                                    $commande->tarif_express :
                                    '0') .
                                ' €<br />Casse atelier';
                            break;

                        case 3:
                            $prix_commande =
                                '<del>' .
                                $commande->total_commande .
                                '</del> ' .
                                ($commande->tarif_express >
                                 0 ?
                                    $commande->tarif_express :
                                    '0') .
                                ' €<br />Erreur ophta';
                            break;
                    }

                    if ($commande->type_commande >
                        1) {

                        $ancienne_commande =
                            '';

                        if ($commande->ancienne_commande >
                            0) {
                            $ancienne_commande .= '<br />(CR' .
                                                  $commande->ancienne_commande .
                                                  '-' .
                                                  $commande->id_users .
                                                  ')<br /><a class="btn btn-danger btn-sm compare_commande" data-toggle="modal" data-target="#compare-commandes" rel="' .
                                                  $commande->id_commande .
                                                  '">Comparer</a>';
                        }
                        if ($commande->penalty !=
                            1) {
                            $ancienne_commande .= '<br /> <a class="btn btn-warning btn-sm reject_ec" rel="' .
                                                  $commande->id_commande .
                                                  '">Rejeter</a>';
                        }
                    } else {
                        $ancienne_commande =
                            '';
                    }

                    $ispanier_A =
                        "";
                    if ($commande->panierA ==
                        '1' ||
                        $commande->id_generation_verre ==
                        '24' ||
                        $commande->id_generation_verre ==
                        '25' ||
                        $commande->id_generation_verre ==
                        '26' ||
                        $commande->id_generation_verre ==
                        '27') {
                        $ispanier_A =
                            "Panier A";
                    }

                    if ($ispanier_A ==
                        "Panier A") {
                        $data['aaData'][$key] =
                            array(
                                '<a ' .
                                ($commande->tarif_express >
                                 0 ?
                                    'style="border: 10px solid #e42a2a !important"' :
                                    '') .
                                ' class="commande-info btn btn-icon waves-effect waves-light ' .
                                (!empty($commande->commentaire) ?
                                    'btn-warning tooltipster' :
                                    'btn-inverse') .
                                '" data-toggle="modal" data-target="#detail-commande" rel="' .
                                $commande->id_commande .
                                '" ' .
                                (!empty($commande->commentaire) ?
                                    'original-title="' .
                                    htmlentities($commande->commentaire) .
                                    '" title="' .
                                    htmlentities($commande->commentaire) .
                                    '"' :
                                    '') .
                                ' ><i class="zmdi zmdi-' .
                                (!empty($commande->commentaire) ?
                                    'comment' :
                                    'search') .
                                '"></i> Voir</a>',
                                'CR' .
                                $commande->id_commande .
                                '-' .
                                $commande->id_users .
                                $ancienne_commande,
                                $commande->intitule_bl .
                                '<br /><a class="btn btn-inverse btn-sm" id="button_nouvel_intitule_' .
                                $commande->id_commande .
                                '_' .
                                $commande->id_users .
                                '" data-toggle="modal" data-target="#edit-bl"><i class="zmdi zmdi-edit"></i></a> <a href="/admin/generer_pdf/bon_livraison/' .
                                $commande->id_commande .
                                '" class="btn btn-warning btn-sm"><i class="zmdi zmdi-download"></i></a>',
                                '<a class="btn btn-inverse get-userdashboard" data-toggle="modal" data-target="#user-unlock" data-user="' .
                                $commande->id_users .
                                '"><i class="zmdi zmdi-search"></i> Voir</a>',
                                date('d/m/Y H:i',
                                     strtotime($commande->date_commande)),
                                $commande->reference_client,
                                $ispanier_A,
                                '<span style="color:#' .
                                $color .
                                '" id="libelle_etat_commande_' .
                                $commande->id_commande .
                                '">' .
                                $commande->libelle_etat_commande .
                                ' (' .
                                $commande->id_etat_commande .
                                '/6)</span>',
                                $prix_commande,
                                $rx, /*'<div class="checkbox"><input type="checkbox" id="expedier_'.$commande->id_commande.'_'.$commande->id_users.'" name="expedier_'.$commande->id_commande.'_'.$commande->id_users.'" /><label>'.($commande->date_annule !== null ? date('d/m/Y', strtotime($commande->date_annule)) : '').'</label></div>',
                            '<a class="btn btn-default btn-sm" href="#" id="deleteOrder_'.$commande->id_commande.'" ><i class="zmdi zmdi-close"></i></a>',
                            */
                                '<div class="checkbox checkbox-success checkbox-inline"><input type="checkbox" value="' .
                                (!empty($commande->date_pointage) ?
                                    1 :
                                    0) .
                                '" id="pointage_' .
                                $commande->id_commande .
                                '" name="pointage_' .
                                $commande->id_commande .
                                '" ' .
                                (!empty($commande->date_pointage) ?
                                    'checked' :
                                    '') .
                                '/><label for="pointage_' .
                                $commande->id_commande .
                                '" id="pointage_date_' .
                                $commande->id_commande .
                                '">' .
                                (!empty($commande->date_pointage) ?
                                    date("d-m-Y",
                                         strtotime($commande->date_pointage)) :
                                    "") .
                                '</label></div>',
                                '<a class="m-b-5 btn btn-danger btn-sm btn-block valid_commande' .
                                $cl .
                                '" data-commande="' .
                                $commande->id_commande .
                                '" data-verres="' .
                                $commande_verres .
                                '">Check</a>' .
                                (isset($correction['verre']['correction_droit']) ?
                                    'D' :
                                    '') .
                                (isset($correction['verre']['correction_gauche']) ?
                                    'G' :
                                    '') .
                                (!empty($commande->information_certificat) ?
                                    '<span class="certif_ico">C</span>' :
                                    '') .
                                ($commande->date_annule !==
                                 null ?
                                    '<span class="highlight-yellow">' .
                                    date('d/m/Y',
                                         strtotime($commande->date_annule)) .
                                    '</span>' :
                                    ''),
                                $commande->type_commande,
                                ($commande->date_annule !==
                                 null ?
                                    1 :
                                    0)
                            );
                    } else {
                        $data['aaData'][$key] =
                            array(
                                '<a ' .
                                ($commande->tarif_express >
                                 0 ?
                                    'style="border: 10px solid #e42a2a !important"' :
                                    '') .
                                ' class="commande-info btn btn-icon waves-effect waves-light ' .
                                (!empty($commande->commentaire) ?
                                    'btn-warning tooltipster' :
                                    'btn-inverse') .
                                '" data-toggle="modal" data-target="#detail-commande" rel="' .
                                $commande->id_commande .
                                '" ' .
                                (!empty($commande->commentaire) ?
                                    'original-title="' .
                                    htmlentities($commande->commentaire) .
                                    '" title="' .
                                    htmlentities($commande->commentaire) .
                                    '"' :
                                    '') .
                                ' ><i class="zmdi zmdi-' .
                                (!empty($commande->commentaire) ?
                                    'comment' :
                                    'search') .
                                '"></i> Voir</a>',
                                'CR' .
                                $commande->id_commande .
                                '-' .
                                $commande->id_users .
                                $ancienne_commande,
                                $commande->intitule_bl .
                                '<br /><a class="btn btn-inverse btn-sm" id="button_nouvel_intitule_' .
                                $commande->id_commande .
                                '_' .
                                $commande->id_users .
                                '" data-toggle="modal" data-target="#edit-bl"><i class="zmdi zmdi-edit"></i></a> <a href="/admin/generer_pdf/bon_livraison/' .
                                $commande->id_commande .
                                '" class="btn btn-warning btn-sm"><i class="zmdi zmdi-download"></i></a>',
                                '<a class="btn btn-inverse get-userdashboard" data-toggle="modal" data-target="#user-unlock" data-user="' .
                                $commande->id_users .
                                '"><i class="zmdi zmdi-search"></i> Voir</a>',
                                date('d/m/Y H:i',
                                     strtotime($commande->date_commande)),
                                $commande->reference_client,
                                $ispanier_A,
                                '<span style="color:#' .
                                $color .
                                '" id="libelle_etat_commande_' .
                                $commande->id_commande .
                                '">' .
                                $commande->libelle_etat_commande .
                                ' (' .
                                $commande->id_etat_commande .
                                '/6)</span>',
                                $prix_commande,
                                $rx, /*'<div class="checkbox"><input type="checkbox" id="expedier_'.$commande->id_commande.'_'.$commande->id_users.'" name="expedier_'.$commande->id_commande.'_'.$commande->id_users.'" /><label>'.($commande->date_annule !== null ? date('d/m/Y', strtotime($commande->date_annule)) : '').'</label></div>',
                            '<a class="btn btn-default btn-sm" href="#" id="deleteOrder_'.$commande->id_commande.'" ><i class="zmdi zmdi-close"></i></a>',
                            */
                                '<div class="checkbox checkbox-success checkbox-inline"><input type="checkbox" value="' .
                                (!empty($commande->date_pointage) ?
                                    1 :
                                    0) .
                                '" id="pointage_' .
                                $commande->id_commande .
                                '" name="pointage_' .
                                $commande->id_commande .
                                '" ' .
                                (!empty($commande->date_pointage) ?
                                    'checked' :
                                    '') .
                                '/><label for="pointage_' .
                                $commande->id_commande .
                                '" id="pointage_date_' .
                                $commande->id_commande .
                                '">' .
                                (!empty($commande->date_pointage) ?
                                    date("d-m-Y",
                                         strtotime($commande->date_pointage)) :
                                    "") .
                                '</label></div>',
                                '<a class="m-b-5 btn btn-danger btn-sm btn-block valid_commande' .
                                $cl .
                                '" data-commande="' .
                                $commande->id_commande .
                                '" data-verres="' .
                                $commande_verres .
                                '">Check</a>' .
                                (isset($correction['verre']['correction_droit']) ?
                                    'D' :
                                    '') .
                                (isset($correction['verre']['correction_gauche']) ?
                                    'G' :
                                    '') .
                                (!empty($commande->information_certificat) ?
                                    '<span class="certif_ico">C</span>' :
                                    '') .
                                ($commande->date_annule !==
                                 null ?
                                    '<span class="highlight-yellow">' .
                                    date('d/m/Y',
                                         strtotime($commande->date_annule)) .
                                    '</span>' :
                                    ''),
                                $commande->type_commande,
                                ($commande->date_annule !==
                                 null ?
                                    1 :
                                    0)
                            );
                    }
                }
            }
            die(json_encode($data));
        } else {
            $this->redirect("/index");
        }
    }

    public
    function compareCommande($id_commande = false)
    {
        if (is_numeric($id_commande)) {

            $data['newUser'] =
                $this->session->userdata('newUser');
            $data['parametre_lang_datable'] =
                $this->config->item('parametre_lang_datable');
            $data['parametre_export_datable'] =
                $this->config->item('parametre_export_datable');
            $data['page'] =
                "Commande N°" .
                $id_commande;
            $data['recap_commande'] =
                $this->m_commande->getCommandeByIdNew($id_commande);
            $data['ancienne_commande'] =
                $this->m_commande->getCommandeByIdNew($data['recap_commande'][0]->ancienne_commande);
            $this->load->view('admin/compare_commande',
                              $data);

        }
    }

    public
    function reject_ec()
    {

        $id =
            (int)$_POST['id_commande'];
        $this->m_commande->rejectEc($id);

    }


    public
    function update_seconde_paire_omega()
    {

        if ($this->input->is_ajax_request()) {

            $data =
                $this->input->post();

            // var_dump($data);
            $this->regenerate_xml_omega("seconde_omega",
                                        $data['ref_seconde_omega'],
                                        $data['id_commande_seconde_paire_omega']);
            // $user = $this->m_users->getUserById($data['id_users']);
            // $data['email'] = $user[0]->email;


            echo 'sent';

        }
    }

    public
    function update_commentaire_omega()
    {
        if ($this->input->is_ajax_request()) {

            $data =
                $this->input->post();

            $this->regenerate_xml_omega("commentaire_omega",
                                        $data['commentaire_omega'],
                                        $data['id_commande_commentaire_omega']);
            // $user = $this->m_users->getUserById($data['id_users']);
            // $data['email'] = $user[0]->email;


            echo 'sent';

        }
    }

    public
    function getMagEdi()
    {
        $data_commande =
            $this->m_commande->getAllMagCommandeEdiOmega();
        echo json_encode($data_commande);
    }

    public
    function regenerate_xml_omega($typechange,
                                  $change,
                                  $id_commande)
    {
        if ($this->input->is_ajax_request()) {
            $data = array();
            $data['aaData'] =
                array();

            $data_commande =
                $this->m_commande->getCommandeEdiOmegaById($id_commande);

            if ($data_commande !==
                false) {
                //foreach($data_commande as $key => $g){
                $commande =
                    $data_commande;
                //var_dump($commande);
                $detail =
                $textarea =
                    "";


                $information_commande =
                    json_decode($commande->information_commande);
//                var_dump($information_commande);die;

                $precal = 0;

                if ($information_commande->verre->correction_droit->diametre ==
                    'precalibrage' ||
                    $information_commande->verre->correction_gauche->diametre ==
                    'precalibrage') {
                    $precal =
                        1;

                    $mesure_freeform_opt =
                        "";

                    $mesure_freeform_opt .= isset($information_commande->mesure_freeform->largeur_boxing) ?
                        'Largeur boxing : ' .
                        $information_commande->mesure_freeform->largeur_boxing .
                        ', ' :
                        '';
                    $mesure_freeform_opt .= isset($information_commande->mesure_freeform->hauteur_boxing) ?
                        'Hauteur boxing : ' .
                        $information_commande->mesure_freeform->hauteur_boxing .
                        ', ' :
                        '';
                    $mesure_freeform_opt .= isset($information_commande->mesure_freeform->taille_du_pont) ?
                        'Taille du pont : ' .
                        $information_commande->mesure_freeform->taille_du_pont .
                        ', ' :
                        '';
                    $mesure_freeform_opt .= isset($information_commande->mesure_freeform->diametre_utile) ?
                        'Diametre utile : ' .
                        $information_commande->mesure_freeform->diametre_utile .
                        '<br>' :
                        '';
                }

                $xml = '<?xml version="1.0" encoding="UTF-8" ?>
<b2bOptic>
   <header msgType="ORDER" msgState="NEW">
      <customersOrderId>48860</customersOrderId>
      <distributorsOrderId />
      <timeStamps>
         <dateTime step="CREATE">' .
                       date("Y-m-d\TH:i:sO") . '</dateTime> 
      </timeStamps>
      <orderParties role="ORIGINATOR">
         <id>48860</id>
      </orderParties>
      <software typeOf="ORIGINATOR">
         <name>OmegaDirect</name>
         <version>1.3</version>
      </software>
      <productCatalog>
      <name>sf6</name>
      <release />
      </productCatalog>
      <portalOrderId />
   </header>
   <items>
      <item>';

                $remark = '';
                //var_dump($teinteD);die;
                if (isset($information_commande->verre->correction_droit->teinte) &&
                    !empty($information_commande->verre->correction_droit->teinte)) {
                    if (isset($teinteD) &&
                        $teinteD ==
                        "") {
                        $remark .= 'Right tint: ' .
                                   $information_commande->verre->correction_droit->teinte .
                                   '.';
                    }
                    if (strpos($information_commande->verre->correction_droit->teinte,
                               'CUST_') !==
                        false) {
                        if ($information_commande->verre->correction_droit->teinte == 'CUST_24') {
                            $remark .= 'Right tint: Sample color send by mail.';
                        }
                        else if (isset($teinteD)) {
                            $remark .= 'Right tint: ' . $teinteD . '.';
                        }
                    }
                }
                if (isset($information_commande->verre->correction_gauche->teinte) &&
                    !empty($information_commande->verre->correction_gauche->teinte)) {
                    if (isset($teinteG) &&
                        $teinteG ==
                        "") {
                        $remark .= ' Left tint: ' .
                                   $information_commande->verre->correction_gauche->teinte .
                                   '.';
                    }
                    if (strpos($information_commande->verre->correction_gauche->teinte,
                               'CUST_') !==
                        false) {
                        if ($information_commande->verre->correction_gauche->teinte == 'CUST_24') {
                            $remark .= ' Left tint: Sample color send by mail.';
                        }
                        else  if (isset($teinteG)) {
                            $remark .= ' Left tint: ' . $teinteG . '.';
                        }
                    }
                }

                if ($typechange ==
                    "commentaire_omega" ||
                    $commande->commentaire_omega !=
                    "") {
                    if ($typechange ==
                        "commentaire_omega") {
                        $remark .= " " .
                                   $change;
                    } else {
                        $remark .= " " .
                                   $commande->commentaire_omega;
                    }
                }

                $lenses_code =
                    $commande->lenscode;
//                if ($lenses_code ==
//                    'PAI-1515') {
//                    $remark .= " Change to product INITIAL ";
//                }
//                if ($lenses_code ==
//                    'PAI-1615') {
//                    $remark .= " Change to product INITIAL ";
//                }
//                if ($lenses_code ==
//                    'PAI-1715') {
//                    $remark .= " Change to product INITIAL ";
//                }
//                if ($lenses_code ==
//                    'PAI-1815') {
//                    $remark .= " Change to product INITIAL ";
//                }


//                if ($lenses_code ==
//                    'PAI-15159') {
//                    $remark .= " Change to product INITIAL ";
//                }
//                if ($lenses_code ==
//                    'PAI-16159') {
//                    $remark .= " Change to product INITIAL ";
//                }
//                if ($lenses_code ==
//                    'PAI-17159') {
//                    $remark .= " Change to product INITIAL ";
//                }
//                if ($lenses_code ==
//                    'PAI-18159') {
//                    $remark .= " Change to product INITIAL ";
//                }


//                if ($lenses_code ==
//                    'PAI-1516') {
//                    $remark .= " Change to product INITIAL ";
//                }
//                if ($lenses_code ==
//                    'PAI-1616') {
//                    $remark .= " Change to product INITIAL ";
//                }
//                if ($lenses_code ==
//                    'PAI-1716') {
//                    $remark .= " Change to product INITIAL ";
//                }
//                if ($lenses_code ==
//                    'PAI-1816') {
//                    $remark .= " Change to product INITIAL ";
//                }


//                if ($lenses_code ==
//                    'PAI-15167') {
//                    $remark .= " Change to product INITIAL ";
//                }
//                if ($lenses_code ==
//                    'PAI-16167') {
//                    $remark .= " Change to product INITIAL ";
//                }
//                if ($lenses_code ==
//                    'PAI-17167') {
//                    $remark .= " Change to product INITIAL ";
//                }
//                if ($lenses_code ==
//                    'PAI-18167') {
//                    $remark .= " Change to product INITIAL ";
//                }


//                if ($lenses_code ==
//                    'PAI-15174') {
//                    $remark .= " Change to product INITIAL ";
//                }
//                if ($lenses_code ==
//                    'PAI-16174') {
//                    $remark .= " Change to product INITIAL ";
//                }
//                if ($lenses_code ==
//                    'PAI-17174') {
//                    $remark .= " Change to product INITIAL ";
//                }
//                if ($lenses_code ==
//                    'PAI-18174') {
//                    $remark .= " Change to product INITIAL ";
//                }


                if ($remark !=
                    '') {
                    $xml .= '
         <remark>' . $remark . '</remark>
         ';
                }

                $xml .= '
         <referenceNo>' .
                        $commande->id_commande .
                        '-' .
                        $commande->id_users . '</referenceNo>
         <manufacturer />';

                if ($commande->premiere_commande !=
                    '0' ||
                    $typechange ==
                    "seconde_omega" ||
                    $commande->seconde_omega !=
                    "") {
                    if ($typechange ==
                        "seconde_omega" ||
                        $commande->seconde_omega !=
                        "") {
                        if ($typechange ==
                            "seconde_omega") {
                            $xml .= '
			 <secondPair>true</secondPair>
			 <multiplePair>
				<referenceNo>' .
                                    $change . '</referenceNo>
			 </multiplePair>';
                        } else {
                            $xml .= '
			 <secondPair>true</secondPair>
			 <multiplePair>
				<referenceNo>' .
                                    $commande->seconde_omega . '</referenceNo>
			 </multiplePair>';
                        }
                    } else {
                        $xml .= '
			 <secondPair>true</secondPair>
			 <multiplePair>
				<referenceNo>' .
                                $commande->premiere_commande . "-" .
                                $commande->id_users . '</referenceNo>
			 </multiplePair>';
                    }
                }

                $lenses_code =
                    $commande->lenscode;

                $paA = "";
//
//                if ($lenses_code ==
//                    'PAU-15') {
//                    $lenses_code =
//                        '200010';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAU-159') {
//                    $lenses_code =
//                        '200051';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAU-16') {
//                    $lenses_code =
//                        '200005';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAU-167') {
//                    $lenses_code =
//                        '200003';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAU-174') {
//                    $lenses_code =
//                        '200464';
//                    $paA =
//                        "1";
//                }
//
//                if ($lenses_code ==
//                    'PAD-15') {
//                    $lenses_code =
//                        '200076';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAD-159') {
//                    $lenses_code =
//                        '200086';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAD-16') {
//                    $lenses_code =
//                        '200078';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAD-167') {
//                    $lenses_code =
//                        '200913';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAD-174') {
//                    $lenses_code =
//                        '200853';
//                    $paA =
//                        "1";
//                }
//
//
//                if ($lenses_code ==
//                    'PAO-15') {
//                    $lenses_code =
//                        '202954';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAO-159') {
//                    $lenses_code =
//                        '202980';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAO-16') {
//                    $lenses_code =
//                        '202955';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAO-167') {
//                    $lenses_code =
//                        '202956';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAO-174') {
//                    $lenses_code =
//                        '202981';
//                    $paA =
//                        "1";
//                }
//
//                if ($lenses_code ==
//                    'PAI-1515') {
//                    $lenses_code =
//                        'S4UW50';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAI-1615') {
//                    $lenses_code =
//                        'S3UW50';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAI-1715') {
//                    $lenses_code =
//                        'S2UW50';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAI-1815') {
//                    $lenses_code =
//                        'S1UW50';
//                    $paA =
//                        "1";
//                }
//
//
//                if ($lenses_code ==
//                    'PAI-15159') {
//                    $lenses_code =
//                        'S4UY59';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAI-16159') {
//                    $lenses_code =
//                        'S3UY59';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAI-17159') {
//                    $lenses_code =
//                        'S2UY59';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAI-18159') {
//                    $lenses_code =
//                        'S1UY59';
//                    $paA =
//                        "1";
//                }
//
//
//                if ($lenses_code ==
//                    'PAI-1516') {
//                    $lenses_code =
//                        'S4UH60';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAI-1616') {
//                    $lenses_code =
//                        'S3UH60';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAI-1716') {
//                    $lenses_code =
//                        'S2UH60';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAI-1816') {
//                    $lenses_code =
//                        'S1UH60';
//                    $paA =
//                        "1";
//                }
//
//
//                if ($lenses_code ==
//                    'PAI-15167') {
//                    $lenses_code =
//                        'S4UH67';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAI-16167') {
//                    $lenses_code =
//                        'S3UH67';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAI-17167') {
//                    $lenses_code =
//                        'S2UH67';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAI-18167') {
//                    $lenses_code =
//                        'S1UH67';
//                    $paA =
//                        "1";
//                }
//
//
//                if ($lenses_code ==
//                    'PAI-15174') {
//                    $lenses_code =
//                        'S4UH74';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAI-16174') {
//                    $lenses_code =
//                        'S3UH74';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAI-17174') {
//                    $lenses_code =
//                        'S2UH74';
//                    $paA =
//                        "1";
//                }
//                if ($lenses_code ==
//                    'PAI-18174') {
//                    $lenses_code =
//                        'S1UH74';
//                    $paA =
//                        "1";
//                }

                $xml .= '
      	<pair>
         ';

                if (isset($information_commande->verre->correction_droit)) {


                    $xml .= '<lens quantity="1" side="RIGHT">
               <commercialCode>' .
                            $lenses_code . '</commercialCode>
               <rxData>
                  <sphere>' .
                            $information_commande->verre->correction_droit->sphere . '</sphere>
                  <cylinder>
                      <power>' .
                            $information_commande->verre->correction_droit->cylindre . '</power>
                      <axis>' .
                            $information_commande->verre->correction_droit->axe . '</axis>
                  </cylinder>';
                    if (isset($information_commande->verre->correction_droit->addition)) {
                        $xml .= '<addition>' .
                                $information_commande->verre->correction_droit->addition . '</addition>
						  ';
                    }
                    if (isset($information_commande->verre->correction_droit->PrismeSphere) &&
                        !empty($information_commande->verre->correction_droit->PrismeSphere)) {
                        $xml .= '<prism>
						 <power>' .
                                $information_commande->verre->correction_droit->PrismeSphere . '</power>
						 <base>' .
                                $information_commande->verre->correction_droit->PrismeCylindre . '</base>
					  </prism>';
                    }
                    $xml .= '</rxData>';
                    //var_dump($information_commande);
                    if ((isset($information_commande->verre->correction_droit->traitement) &&
                         !empty($information_commande->verre->correction_droit->traitement) &&
                         ($information_commande->verre->correction_droit->traitement !=
                          '700100' ||
                          (($information_commande->verre->correction_droit->traitement ==
                            '700100') &&
                           ((strpos($commande->lensname,
                                    '1.5') === false) ||
                            (strpos($commande->lensname,
                                    '1.53') !== false) ||
                            (strpos($commande->lensname,
                                    '1.56') !== false) ||
                            (strpos($commande->lensname,
                                    '1.59') !== false))
                          ))) ||
                        $paA ==
                        "1") {

                        if ($paA ==
                            "1") {
                            $information_commande->verre->correction_droit->traitement =
                                "700102";
                        }

                        $xml .= '
					   <coating coatingType="ANTIREFLEX">
						  <commercialCode>' .
                                $information_commande->verre->correction_droit->traitement . '</commercialCode>
					   </coating>';

                    }

                    if (isset($information_commande->verre->correction_droit->teinte) &&
                        !empty($information_commande->verre->correction_droit->teinte)) {
                        if (isset($information_commande->verre->correction_droit->teinte) &&
                            $information_commande->verre->correction_droit->teinte !=
                            "" &&
                            strpos($information_commande->verre->correction_droit->teinte,
                                   'CUST_') ===
                            false) {
                            $xml .= '
						   <coating coatingType="COLOR">
							  <commercialCode>' .
                                    $information_commande->verre->correction_droit->teinte . '</commercialCode>
						   </coating>';
                        }
                    }

                    if ($commande->tarif_express !=
                        "0") {
                        $xml .= '<coating coatingType="OTHER">
					<commercialCode>EXP24</commercialCode>
					</coating>';
                    }

                    if (isset($information_commande->mesure_freeform->diametre_utile) &&
                        $information_commande->verre->correction_droit->diametre ==
                        'precalibrage') {
                        $information_commande->verre->correction_droit->diametre =
                            $information_commande->mesure_freeform->diametre_utile;
                    }

                    if (isset($information_commande->verre->hauteur) &&
                        !empty($information_commande->verre->hauteur)) {
                        $hauteurD =
                            $information_commande->verre->hauteur;
                    }

                    if (isset($information_commande->verre->hauteur_gauche) &&
                        !empty($information_commande->verre->hauteur_gauche)) {
                        $hauteurG =
                            $information_commande->verre->hauteur_gauche;
                    }


                    $xml .= '
               <centration>';

                    if (isset($information_commande->verre->ecart_puppillaire->droit) &&
                        !empty($information_commande->verre->ecart_puppillaire->droit)) {
                        $xml .= '
					  <monocularCentrationDistance reference="FAR">' .
                                $information_commande->verre->ecart_puppillaire->droit .
                                '</monocularCentrationDistance>';
                    }

                    if (isset($information_commande->verre->hauteur) &&
                        !empty($information_commande->verre->hauteur)) {
                        $xml .= '
					  <height reference="NEAR" referenceHeight="OVERBOX">' .
                                $hauteurD .
                                '</height>';
                    }

                    $xml .= '
               </centration>';

                    if (strpos($information_commande->verre->correction_droit->diametre,
                               "/") !==
                        false) {
                        $d1 =
                            explode("/",
                                    $information_commande->verre->correction_droit->diametre);
                        $xml .= '
               <geometry>
                  <diameter>
                     <physical>' .
                                $d1[0] . '</physical>
                     <optical>' .
                                $d1[1] . '</optical>
                     <elliptic>false</elliptic>
                  </diameter>';
                    } else {
                        $xml .= '
				   <geometry>';
                        if ($information_commande->verre->correction_droit->diametre !=
                            "precalibrage") {
                            $xml .= '
						  <diameter>
							 <physical>' .
                                    $information_commande->verre->correction_droit->diametre . '</physical>
							 <elliptic>false</elliptic>
						  </diameter>';
                        }
                    }

                    if (isset($information_commande->bord_verre->epaisseur) &&
                        !empty($information_commande->bord_verre->epaisseur)) {
                        $xml .= '
			    	<thickness reference="EDGE">' .
                                $information_commande->bord_verre->epaisseur .
                                '</thickness>';
                    }

                    if (isset($information_commande->verre->ecart_puppillaire->droit) &&
                        !empty($information_commande->verre->ecart_puppillaire->droit)) {
                        $xml .= '
                  <thicknessReduction>true</thicknessReduction>';
                    } else {
                        $xml .= '
                  <thicknessReduction>false</thicknessReduction>';
                    }
                    $xml .= '
               </geometry>
            </lens>
            ';
                }

                if (isset($information_commande->verre->correction_gauche)) {
                    $xml .= '<lens quantity="1" side="LEFT">
               <commercialCode>' .
                            $lenses_code . '</commercialCode>
               <rxData>
                  <sphere>' .
                            $information_commande->verre->correction_gauche->sphere . '</sphere>
                  <cylinder>
                      <power>' .
                            $information_commande->verre->correction_gauche->cylindre . '</power>
                      <axis>' .
                            $information_commande->verre->correction_gauche->axe . '</axis>
                  </cylinder>';
                    if (isset($information_commande->verre->correction_gauche->addition)) {
                        $xml .= '<addition>' .
                                $information_commande->verre->correction_gauche->addition . '</addition>
						  ';
                    }

                    if (isset($information_commande->verre->correction_gauche->PrismeSphere) &&
                        !empty($information_commande->verre->correction_gauche->PrismeSphere)) {
                        $xml .= '<prism>
						 <power>' .
                                $information_commande->verre->correction_gauche->PrismeSphere . '</power>
						 <base>' .
                                $information_commande->verre->correction_gauche->PrismeCylindre . '</base>
					  </prism>';
                    }

                    $xml .= '</rxData>';
                    if ((isset($information_commande->verre->correction_gauche->traitement) &&
                         !empty($information_commande->verre->correction_gauche->traitement) &&
                         ($information_commande->verre->correction_gauche->traitement !=
                          '700100' ||
                          (($information_commande->verre->correction_gauche->traitement ==
                            '700100') &&
                           ((strpos($commande->lensname,
                                    '1.5') === false) ||
                            (strpos($commande->lensname,
                                    '1.53') !== false) ||
                            (strpos($commande->lensname,
                                    '1.56') !== false) ||
                            (strpos($commande->lensname,
                                    '1.59') !== false))
                          ))) ||
                        $paA ==
                        "1") {

                        if ($paA ==
                            "1") {
                            $information_commande->verre->correction_gauche->traitement =
                                "700102";
                        }
                        $xml .= '
					   <coating coatingType="ANTIREFLEX">
						  <commercialCode>' .
                                $information_commande->verre->correction_gauche->traitement . '</commercialCode>
					   </coating>';

                    }

                    if (isset($information_commande->verre->correction_gauche->teinte) &&
                        !empty($information_commande->verre->correction_gauche->teinte)) {
                        if (isset($information_commande->verre->correction_gauche->teinte) &&
                            $information_commande->verre->correction_gauche->teinte !=
                            "" &&
                            strpos($information_commande->verre->correction_gauche->teinte,
                                   'CUST_') ===
                            false) {
                            $xml .= '
						   <coating coatingType="COLOR">
							  <commercialCode>' .
                                    $information_commande->verre->correction_gauche->teinte . '</commercialCode>
						   </coating>';
                        }
                    }

                    if ($commande->tarif_express !=
                        "0") {
                        $xml .= '<coating coatingType="OTHER">
					<commercialCode>EXP24</commercialCode>
					</coating>';
                    }


                    if (isset($information_commande->mesure_freeform->diametre_utile) &&
                        $information_commande->verre->correction_gauche->diametre ==
                        'precalibrage') {
                        $information_commande->verre->correction_gauche->diametre =
                            $information_commande->mesure_freeform->diametre_utile;
                    }


                    $xml .= '
               <centration>';

                    if (isset($information_commande->verre->ecart_puppillaire->gauche) &&
                        !empty($information_commande->verre->ecart_puppillaire->gauche)) {
                        $xml .= '
					  <monocularCentrationDistance reference="FAR">' .
                                $information_commande->verre->ecart_puppillaire->gauche .
                                '</monocularCentrationDistance>';
                    }

                    if (isset($information_commande->verre->hauteur_gauche) &&
                        !empty($information_commande->verre->hauteur_gauche)) {
                        $xml .= '
					  <height reference="NEAR" referenceHeight="OVERBOX">' .
                                $hauteurG .
                                '</height>';
                    }

                    $xml .= '
               </centration>';

                    if (strpos($information_commande->verre->correction_gauche->diametre,
                               "/") !==
                        false) {
                        $d1 =
                            explode("/",
                                    $information_commande->verre->correction_gauche->diametre);
                        $xml .= '
               <geometry>
                  <diameter>
                     <physical>' .
                                $d1[0] . '</physical>
                     <optical>' .
                                $d1[1] . '</optical>
                     <elliptic>false</elliptic>
                  </diameter>';
                    } else {
                        $xml .= '
				   <geometry>';
                        if ($information_commande->verre->correction_gauche->diametre !=
                            "precalibrage") {
                            $xml .= '
						  <diameter>
							 <physical>' .
                                    $information_commande->verre->correction_gauche->diametre . '</physical>
							 <elliptic>false</elliptic>
						  </diameter>';
                        }
                    }

                    if (isset($information_commande->bord_verre->epaisseur) &&
                        !empty($information_commande->bord_verre->epaisseur)) {
                        $xml .= '
			    	<thickness reference="EDGE">' .
                                $information_commande->bord_verre->epaisseur .
                                '</thickness>';
                    }

                    if (isset($information_commande->verre->ecart_puppillaire->gauche) &&
                        !empty($information_commande->verre->ecart_puppillaire->gauche)) {
                        $xml .= '
                  <thicknessReduction>true</thicknessReduction>';
                    } else {
                        $xml .= '
                  <thicknessReduction>false</thicknessReduction>';
                    }
                    $xml .= '
               </geometry>
            </lens>
            ';

                }

                $xml .= '
            	<frame quantity="1">';

                if ((isset($information_commande->verre->correction_droit->galbe) &&
                     $information_commande->verre->correction_droit->galbe !=
                     "Standard") ||
                    (isset($information_commande->verre->correction_gauche->galbe) &&
                     $information_commande->verre->correction_gauche->galbe !=
                     "Standard")) {
                    if (isset($information_commande->verre->correction_droit->galbe) &&
                        $information_commande->verre->correction_droit->galbe !=
                        "Standard") {
                        $xml .= '
<frameBowAngle>' .
                                $information_commande->verre->correction_droit->galbe .
                                '</frameBowAngle>';
                    } else {
                        $xml .= '
<frameBowAngle>' .
                                $information_commande->verre->correction_gauche->galbe .
                                '</frameBowAngle>';
                    }
                }

                $edg = "";

                if ($precal ==
                    '1') {

                    $calibre =
                    $DBL =
                    $boxWidth =
                    $monture_type =
                        "";

                    if (isset($information_commande->monture->type) &&
                        !empty($information_commande->monture->type)) {
                        if ($information_commande->monture->type ==
                            "Plastique") {
                            $monture_type =
                                "PLASTIC";
                        }
                        if ($information_commande->monture->type ==
                            "Optyl") {
                            $monture_type =
                                "OPTYL";
                        }
                        if ($information_commande->monture->type ==
                            "Metal") {
                            $monture_type =
                                "METAL";
                        }
                        if ($information_commande->monture->type ==
                            "Nylor") {
                            $monture_type =
                                "NYLOR";
                        }
                        if ($information_commande->monture->type ==
                            "Percee") {
                            $monture_type =
                                "DRILLED";
                        }
                    }

                    if (isset($information_commande->mesure_freeform->largeur_boxing) &&
                        !empty($information_commande->mesure_freeform->largeur_boxing)) {
                        $boxWidth =
                            $information_commande->mesure_freeform->largeur_boxing;
                    }

                    if (isset($information_commande->mesure_freeform->hauteur_boxing) &&
                        !empty($information_commande->mesure_freeform->hauteur_boxing)) {
                        $boxHeight =
                            $information_commande->mesure_freeform->hauteur_boxing;
                    }

                    if (isset($information_commande->mesure_freeform->taille_du_pont) &&
                        !empty($information_commande->mesure_freeform->taille_du_pont)) {
                        $DBL =
                            $information_commande->mesure_freeform->taille_du_pont;
                    }

                    $calibre =
                        "";

                    if (isset($information_commande->precalibrage->calibre) &&
                        !empty($information_commande->precalibrage->calibre)) {

                        if ($information_commande->precalibrage->calibre ==
                            1) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">25302553257525982612261726202620261726122606260025842567255025272494246024272385234022952254222621982170214521262107209120972103210921142120212621402165219022152257230323482394244224902538257526092643267326892705271027052688267226552640262626122600260326062609261226152618262626432660267726892700271227202708268626642633258825432498244823962345230022692238220721842164214421302128212721252124212221212128214221562170219622222247227022902309232923362342234823482346234323402347235523642374239124082424244824762504</binaries>
						  </tracerData>
					   </shape>';
                        }
                        if ($information_commande->precalibrage->calibre ==
                            2) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">25612589261726452668268527022719271527072698269026732656263926252614260225912580256925582548254325372531253025302530253025302530253025332535253825422548255325592569258025912603261726312645266326832703272227362750276027572739272227052690267626622650264826472645264426422641264326522661266926802691270327112714271727182707270226962691268026692657264526312617260325912580256925582551254325352529252625232519251425082502249824962493249024872484248224772472246624602459245724562454245324512451246024682477249325152537</binaries>
						  </tracerData>
					   </shape>';
                        }

                        if ($information_commande->precalibrage->calibre ==
                            3) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">26002662272427862860295030403130319332533312335833813379336033243268321231563099304329872935289028452801276627352704267826712663265626492641263426352647265826692691271327362765280428432883292529673010304730693091311331203102308330653045302530062989298529802976297129672962296629802994300830253042305830723079308630863075306130463032300929842958292928902850281127692725268226382582252324632418238223462309228122532224220021812161214121402140214021402140214021432157217121852206223122572283232323632402244724972546</binaries>
						  </tracerData>
					   </shape>';
                        }

                        if ($information_commande->precalibrage->calibre ==
                            4) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">26682714276028062857291429713028304430353007297629032829275526902634257825222479243723952360233423092284227522692263225722522246224022522263227422912317234223672410245424992548260726662725279428672941300930563103314931303093305730202978293328882845281427832752272426992673264926322615259825812564254725302519250824972484247024562441242524082391237423572340232423102298228522732263225322442239223822362235223322322230223522412247225322582263226822762285229323032317233123452362238224022422245324842515255025882627</binaries>
						  </tracerData>
					   </shape>';
                        }

                        if ($information_commande->precalibrage->calibre ==
                            5) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">24502446244124352427240523822360233122972262222821922155211920852054202319921964193619081885187118571843183218221812180218041809181318181823182718361850186418781904193219591987201620442072210421382171220622432280231723392360238124012413242624382443244724502450244924462443243924252411239723782355233223102279224822172183214721102074204020061972194219201897187518591845183118201818181718151814181218111816182918411855187118881904192719531978200420342064209521262160219422282260229123222352237223922411242624362447</binaries>
						  </tracerData>
					   </shape>';
                        }

                        if ($information_commande->precalibrage->calibre ==
                            6) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">24772526257426232682275328242895295230083065310330983060302129602872278426952623255224812420237223242277224822222197217921762173217021672164216121742196221822412283232523672415247125272584264427052767281928502881291229122893287328532829280427792759275327472741273527292723272627402754276827822796281028202806278227572724267326232572251924662413236323302296226322362214219121702167216421612158215521522153216521762188219922102221223122372243224822592258225622552253225222502256226422722282230123212341236924032438</binaries>
						  </tracerData>
					   </shape>';
                        }

                        if ($information_commande->precalibrage->calibre ==
                            7) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">23722403243324642498253425712607262026302639261925742529248424292363229622292173211920652016197719381898187418551835182018221823182518261828182918401859187918981933196920062048210221562210227223362400245824942530256725772566255425432528251124942480247824772475247424722471247524862497250825192530254025402507247424402395233022662201215021022054200619691934190018761856183618201818181718151814181218111817183418501867189319221950198120172054209121132130214721612167217321782186219422032213223222522271229423192345</binaries>
						  </tracerData>
					   </shape>';
                        }

                        if ($information_commande->precalibrage->calibre ==
                            8) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">24942532257026092654270727612814283728082770273126782624257125212476243123862351231722832254223422152195219021902190219021902190219022012213222422342242225122592273228723012320235123822413244624802514254425642584260326162624263326412649265826662670266726602653264226292616260325972592258725832578257325732583259225982579255425292503246624272387235323312309228622692253223822222219221722162214221222112213221922252231223322362238224022402240224222452249225122532255225722592270228422982313233223512371239624282460</binaries>
						  </tracerData>
					   </shape>';
                        }

                        if ($information_commande->precalibrage->calibre ==
                            9) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3133382E3139303B3133382E3139300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35322E30363B35322E30360D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323530393B323531333B323531363B323531393B323532323B323532363B323533303B323533333B323533373B323534310D0A523D323534353B323534383B323535323B323535373B323536313B323536353B323537303B323537343B323537393B323538340D0A523D323538383B323539333B323539383B323630333B323630383B323631333B323631383B323632323B323632373B323633320D0A523D323633383B323634333B323634383B323635333B323635383B323636333B323636383B323637323B323637383B323638330D0A523D323638373B323639323B323639363B323639393B323730323B323730343B323730353B323730353B323730333B323730300D0A523D323639353B323639303B323638333B323637363B323636383B323635393B323635303B323634303B323633303B323632300D0A523D323630393B323539383B323538373B323537363B323536343B323535333B323534323B323533303B323531393B323530370D0A523D323439363B323438343B323437323B323436313B323434393B323433383B323432363B323431353B323430333B323339330D0A523D323338323B323337313B323335393B323334393B323333383B323332383B323331373B323330373B323239363B323238360D0A523D323237353B323236353B323235353B323234353B323233363B323232363B323231363B323230363B323139373B323138380D0A523D323137383B323136383B323135393B323135303B323134323B323133323B323132333B323131353B323130363B323039380D0A523D323039303B323038323B323037333B323036353B323035373B323035303B323034323B323033343B323032373B323031390D0A523D323031323B323030353B313939383B313939303B313938343B313937373B313937303B313936333B313935363B313934390D0A523D313934333B313933373B313933303B313932343B313931383B313931333B313930363B313930303B313839353B313838390D0A523D313838343B313837383B313837323B313836373B313836323B313835363B313835313B313834353B313834303B313833350D0A523D313833313B313832363B313832323B313831373B313831323B313830383B313830333B313739393B313739353B313739300D0A523D313738363B313738323B313737373B313737333B313736393B313736353B313736313B313735373B313735343B313735300D0A523D313734373B313734333B313734303B313733373B313733333B313733303B313732373B313732343B313732313B313731380D0A523D313731353B313731323B313730393B313730373B313730343B313730313B313639393B313639363B313639343B313639310D0A523D313638393B313638373B313638343B313638323B313638303B313637383B313637363B313637343B313637313B313636390D0A523D313636373B313636353B313636333B313636313B313636303B313635383B313635373B313635353B313635343B313635320D0A523D313635303B313634393B313634373B313634363B313634353B313634343B313634333B313634323B313634303B313633390D0A523D313633383B313633373B313633363B313633363B313633353B313633343B313633333B313633333B313633323B313633310D0A523D313633303B313633303B313632393B313632393B313632383B313632383B313632373B313632373B313632373B313632370D0A523D313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632360D0A523D313632363B313632363B313632363B313632373B313632373B313632373B313632373B313632383B313632383B313632390D0A523D313632393B313632393B313632393B313633303B313633313B313633323B313633323B313633333B313633343B313633350D0A523D313633353B313633373B313633383B313633393B313634303B313634313B313634323B313634333B313634353B313634360D0A523D313634373B313634393B313635303B313635323B313635333B313635353B313635363B313635383B313635393B313636310D0A523D313636333B313636353B313636373B313636383B313637303B313637323B313637343B313637363B313637383B313638300D0A523D313638323B313638353B313638373B313639303B313639323B313639353B313639373B313730303B313730323B313730340D0A523D313730373B313730393B313731313B313731343B313731373B313732303B313732333B313732363B313732393B313733320D0A523D313733363B313733393B313734323B313734353B313734383B313735323B313735353B313735393B313736333B313736370D0A523D313737303B313737333B313737363B313737393B313738333B313738373B313739303B313739353B313739393B313830340D0A523D313830383B313831323B313831373B313832323B313832363B313833313B313833353B313834303B313834353B313835300D0A523D313835353B313836303B313836353B313837313B313837373B313838333B313838393B313839353B313930323B313930380D0A523D313931343B313931393B313932353B313933313B313933373B313934343B313935303B313935373B313936333B313937300D0A523D313937373B313938333B313939303B313939383B323030353B323031323B323031393B323032363B323033343B323034320D0A523D323034393B323035373B323036353B323037333B323038313B323038393B323039363B323130343B323131333B323132320D0A523D323133303B323133383B323134373B323135363B323136343B323137333B323138333B323139313B323230303B323230390D0A523D323231383B323232383B323233383B323234383B323235383B323236383B323237383B323238393B323239393B323330390D0A523D323331393B323333303B323334313B323335323B323336323B323337333B323338343B323339353B323430363B323431370D0A523D323432383B323433393B323435303B323436323B323437343B323438363B323439393B323531303B323532323B323533340D0A523D323534363B323535373B323536393B323538303B323539313B323630323B323631333B323632343B323633353B323634340D0A523D323635323B323636313B323636383B323637343B323637383B323638323B323638353B323638373B323638393B323639310D0A523D323639323B323639333B323639333B323639323B323639303B323638383B323638353B323638323B323637393B323637360D0A523D323637333B323637303B323636373B323636353B323636333B323636313B323635383B323635353B323635333B323635300D0A523D323634383B323634353B323634333B323634313B323633383B323633353B323633323B323633303B323632373B323632350D0A523D323632323B323632303B323631373B323631353B323631333B323631313B323631303B323630373B323630353B323630330D0A523D323630303B323539383B323539363B323539353B323539333B323539313B323538383B323538363B323538343B323538330D0A523D323538313B323538303B323538303B323537393B323537383B323537373B323537373B323537363B323537353B323537340D0A523D323537333B323537323B323537323B323537313B323537313B323537303B323537303B323536393B323536393B323536380D0A523D323536373B323536363B323536363B323536353B323536343B323536333B323536313B323536303B323535383B323535360D0A523D323535343B323535323B323534393B323534373B323534353B323534313B323533373B323533333B323532373B323532310D0A523D323531353B323530383B323530313B323439343B323438363B323437383B323437313B323436343B323435363B323434380D0A523D323433393B323433313B323432323B323431343B323430353B323339363B323338383B323338303B323337313B323336320D0A523D323335343B323334353B323333363B323332383B323331393B323331303B323330313B323239323B323238323B323237330D0A523D323236353B323235363B323234373B323233383B323232393B323231393B323231303B323230303B323138393B323138300D0A523D323137323B323136333B323135353B323134373B323133393B323133303B323132303B323131323B323130333B323039350D0A523D323038373B323037393B323037323B323036343B323035373B323034393B323034323B323033353B323032383B323032310D0A523D323031343B323030373B323030303B313939343B313938383B313938323B313937363B313937303B313936343B313935380D0A523D313935323B313934363B313934303B313933353B313932393B313932333B313931383B313931323B313930373B313930320D0A523D313839373B313839313B313838363B313838313B313837363B313837313B313836363B313836323B313835373B313835330D0A523D313834383B313834333B313833383B313833333B313832393B313832353B313832313B313831373B313831333B313830390D0A523D313830353B313830303B313739363B313739323B313738393B313738353B313738313B313737373B313737343B313737300D0A523D313736363B313736333B313735393B313735363B313735323B313734393B313734363B313734333B313734303B313733370D0A523D313733333B313733303B313732373B313732353B313732323B313732303B313731373B313731353B313731333B313731300D0A523D313730383B313730353B313730333B313730313B313639393B313639373B313639343B313639323B313638393B313638370D0A523D313638363B313638343B313638323B313638303B313637383B313637363B313637343B313637333B313637313B313637300D0A523D313636383B313636373B313636353B313636343B313636323B313636303B313635393B313635373B313635363B313635340D0A523D313635333B313635323B313635313B313635303B313634393B313634383B313634373B313634363B313634353B313634340D0A523D313634333B313634323B313634313B313634313B313634303B313633393B313633383B313633383B313633373B313633360D0A523D313633353B313633353B313633343B313633343B313633333B313633333B313633323B313633323B313633313B313633310D0A523D313633303B313633303B313632393B313632393B313632383B313632383B313632383B313632383B313632373B313632370D0A523D313632373B313632373B313632373B313632373B313632363B313632363B313632363B313632363B313632363B313632360D0A523D313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632370D0A523D313632373B313632373B313632373B313632383B313632383B313632393B313632393B313633303B313633303B313633310D0A523D313633313B313633323B313633323B313633333B313633343B313633353B313633363B313633373B313633373B313633380D0A523D313633393B313634303B313634313B313634323B313634333B313634353B313634363B313634373B313634383B313634390D0A523D313635303B313635323B313635343B313635353B313635363B313635373B313635393B313636303B313636323B313636330D0A523D313636353B313636363B313636383B313637313B313637333B313637353B313637373B313637393B313638303B313638320D0A523D313638343B313638363B313638393B313639313B313639333B313639353B313639373B313730303B313730323B313730350D0A523D313730373B313731303B313731333B313731363B313731383B313732313B313732343B313732383B313733313B313733340D0A523D313733373B313734303B313734333B313734363B313735303B313735333B313735363B313736303B313736333B313736370D0A523D313737313B313737343B313737383B313738313B313738353B313738393B313739333B313739373B313830313B313830360D0A523D313831303B313831343B313831383B313832323B313832363B313833313B313833353B313833393B313834343B313834380D0A523D313835333B313835373B313836323B313836383B313837333B313837383B313838333B313838373B313839323B313839370D0A523D313930323B313930383B313931333B313931393B313932343B313932393B313933353B313934303B313934363B313935320D0A523D313935373B313936333B313936393B313937353B313938313B313938373B313939343B323030303B323030363B323031320D0A523D323031393B323032353B323033323B323033393B323034363B323035333B323036313B323036383B323037353B323038320D0A523D323038393B323039363B323130343B323131313B323131393B323132363B323133333B323134313B323134383B323135360D0A523D323136343B323137313B323137393B323138373B323139353B323230323B323231303B323231383B323232353B323233330D0A523D323234313B323234383B323235363B323236333B323237303B323237373B323238343B323239313B323239383B323330340D0A523D323331303B323331363B323332323B323332383B323333333B323333383B323334333B323334383B323335323B323335350D0A523D323335393B323336333B323336363B323337303B323337333B323337363B323337393B323338313B323338343B323338360D0A523D323338383B323339313B323339333B323339353B323339373B323339393B323430313B323430333B323430343B323430360D0A523D323430383B323431303B323431323B323431333B323431353B323431373B323431393B323432313B323432333B323432360D0A523D323432383B323433303B323433323B323433343B323433363B323433383B323434313B323434333B323434353B323434370D0A523D323435303B323435323B323435353B323435373B323436303B323436333B323436363B323436393B323437323B323437350D0A523D323437383B323438313B323438343B323438373B323439313B323439343B323439373B323530303B323530333B323530360D0A545243464D543D313B313030303B453B4C3B460D0A523D323538313B323538333B323538343B323538363B323538383B323539313B323539333B323539353B323539363B323539380D0A523D323630303B323630333B323630353B323630373B323631303B323631313B323631333B323631353B323631373B323632300D0A523D323632323B323632353B323632373B323633303B323633323B323633353B323633383B323634313B323634333B323634350D0A523D323634383B323635303B323635333B323635353B323635383B323636313B323636333B323636353B323636373B323637300D0A523D323637333B323637363B323637393B323638323B323638353B323638383B323639303B323639323B323639333B323639330D0A523D323639323B323639313B323638393B323638373B323638353B323638323B323637383B323637343B323636383B323636310D0A523D323635323B323634343B323633353B323632343B323631333B323630323B323539313B323538303B323536393B323535370D0A523D323534363B323533343B323532323B323531303B323439393B323438363B323437343B323436323B323435303B323433390D0A523D323432383B323431373B323430363B323339353B323338343B323337333B323336323B323335323B323334313B323333300D0A523D323331393B323330393B323239393B323238393B323237383B323236383B323235383B323234383B323233383B323232380D0A523D323231383B323230393B323230303B323139313B323138333B323137333B323136343B323135363B323134373B323133380D0A523D323133303B323132323B323131333B323130343B323039363B323038393B323038313B323037333B323036353B323035370D0A523D323034393B323034323B323033343B323032363B323031393B323031323B323030353B313939383B313939303B313938330D0A523D313937373B313937303B313936333B313935373B313935303B313934343B313933373B313933313B313932353B313931390D0A523D313931343B313930383B313930323B313839353B313838393B313838333B313837373B313837313B313836353B313836300D0A523D313835353B313835303B313834353B313834303B313833353B313833313B313832363B313832323B313831373B313831320D0A523D313830383B313830343B313739393B313739353B313739303B313738373B313738333B313737393B313737363B313737330D0A523D313737303B313736373B313736333B313735393B313735353B313735323B313734383B313734353B313734323B313733390D0A523D313733363B313733323B313732393B313732363B313732333B313732303B313731373B313731343B313731313B313730390D0A523D313730373B313730343B313730323B313730303B313639373B313639353B313639323B313639303B313638373B313638350D0A523D313638323B313638303B313637383B313637363B313637343B313637323B313637303B313636383B313636373B313636350D0A523D313636333B313636313B313635393B313635383B313635363B313635353B313635333B313635323B313635303B313634390D0A523D313634373B313634363B313634353B313634333B313634323B313634313B313634303B313633393B313633383B313633370D0A523D313633353B313633353B313633343B313633333B313633323B313633323B313633313B313633303B313632393B313632390D0A523D313632393B313632393B313632383B313632383B313632373B313632373B313632373B313632373B313632363B313632360D0A523D313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632360D0A523D313632363B313632373B313632373B313632373B313632373B313632383B313632383B313632393B313632393B313633300D0A523D313633303B313633313B313633323B313633333B313633333B313633343B313633353B313633363B313633363B313633370D0A523D313633383B313633393B313634303B313634323B313634333B313634343B313634353B313634363B313634373B313634390D0A523D313635303B313635323B313635343B313635353B313635373B313635383B313636303B313636313B313636333B313636350D0A523D313636373B313636393B313637313B313637343B313637363B313637383B313638303B313638323B313638343B313638370D0A523D313638393B313639313B313639343B313639363B313639393B313730313B313730343B313730373B313730393B313731320D0A523D313731353B313731383B313732313B313732343B313732373B313733303B313733333B313733373B313734303B313734330D0A523D313734373B313735303B313735343B313735373B313736313B313736353B313736393B313737333B313737373B313738320D0A523D313738363B313739303B313739353B313739393B313830333B313830383B313831323B313831373B313832323B313832360D0A523D313833313B313833353B313834303B313834353B313835313B313835363B313836323B313836373B313837323B313837380D0A523D313838343B313838393B313839353B313930303B313930363B313931333B313931383B313932343B313933303B313933370D0A523D313934333B313934393B313935363B313936333B313937303B313937373B313938343B313939303B313939383B323030350D0A523D323031323B323031393B323032373B323033343B323034323B323035303B323035373B323036353B323037333B323038320D0A523D323039303B323039383B323130363B323131353B323132333B323133323B323134323B323135303B323135393B323136380D0A523D323137383B323138383B323139373B323230363B323231363B323232363B323233363B323234353B323235353B323236350D0A523D323237353B323238363B323239363B323330373B323331373B323332383B323333383B323334393B323335393B323337310D0A523D323338323B323339333B323430333B323431353B323432363B323433383B323434393B323436313B323437323B323438340D0A523D323439363B323530373B323531393B323533303B323534323B323535333B323536343B323537363B323538373B323539380D0A523D323630393B323632303B323633303B323634303B323635303B323635393B323636383B323637363B323638333B323639300D0A523D323639353B323730303B323730333B323730353B323730353B323730343B323730323B323639393B323639363B323639320D0A523D323638373B323638333B323637383B323637323B323636383B323636333B323635383B323635333B323634383B323634330D0A523D323633383B323633323B323632373B323632323B323631383B323631333B323630383B323630333B323539383B323539330D0A523D323538383B323538343B323537393B323537343B323537303B323536353B323536313B323535373B323535323B323534380D0A523D323534353B323534313B323533373B323533333B323533303B323532363B323532323B323531393B323531363B323531330D0A523D323530393B323530363B323530333B323530303B323439373B323439343B323439313B323438373B323438343B323438310D0A523D323437383B323437353B323437323B323436393B323436363B323436333B323436303B323435373B323435353B323435320D0A523D323435303B323434373B323434353B323434333B323434313B323433383B323433363B323433343B323433323B323433300D0A523D323432383B323432363B323432333B323432313B323431393B323431373B323431353B323431333B323431323B323431300D0A523D323430383B323430363B323430343B323430333B323430313B323339393B323339373B323339353B323339333B323339310D0A523D323338383B323338363B323338343B323338313B323337393B323337363B323337333B323337303B323336363B323336330D0A523D323335393B323335353B323335323B323334383B323334333B323333383B323333333B323332383B323332323B323331360D0A523D323331303B323330343B323239383B323239313B323238343B323237373B323237303B323236333B323235363B323234380D0A523D323234313B323233333B323232353B323231383B323231303B323230323B323139353B323138373B323137393B323137310D0A523D323136343B323135363B323134383B323134313B323133333B323132363B323131393B323131313B323130343B323039360D0A523D323038393B323038323B323037353B323036383B323036313B323035333B323034363B323033393B323033323B323032350D0A523D323031393B323031323B323030363B323030303B313939343B313938373B313938313B313937353B313936393B313936330D0A523D313935373B313935323B313934363B313934303B313933353B313932393B313932343B313931393B313931333B313930380D0A523D313930323B313839373B313839323B313838373B313838333B313837383B313837333B313836383B313836323B313835370D0A523D313835333B313834383B313834343B313833393B313833353B313833313B313832363B313832323B313831383B313831340D0A523D313831303B313830363B313830313B313739373B313739333B313738393B313738353B313738313B313737383B313737340D0A523D313737313B313736373B313736333B313736303B313735363B313735333B313735303B313734363B313734333B313734300D0A523D313733373B313733343B313733313B313732383B313732343B313732313B313731383B313731363B313731333B313731300D0A523D313730373B313730353B313730323B313730303B313639373B313639353B313639333B313639313B313638393B313638360D0A523D313638343B313638323B313638303B313637393B313637373B313637353B313637333B313637313B313636383B313636360D0A523D313636353B313636333B313636323B313636303B313635393B313635373B313635363B313635353B313635343B313635320D0A523D313635303B313634393B313634383B313634373B313634363B313634353B313634333B313634323B313634313B313634300D0A523D313633393B313633383B313633373B313633373B313633363B313633353B313633343B313633333B313633323B313633320D0A523D313633313B313633313B313633303B313633303B313632393B313632393B313632383B313632383B313632373B313632370D0A523D313632373B313632373B313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632360D0A523D313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632373B313632373B313632370D0A523D313632373B313632373B313632373B313632383B313632383B313632383B313632383B313632393B313632393B313633300D0A523D313633303B313633313B313633313B313633323B313633323B313633333B313633333B313633343B313633343B313633350D0A523D313633353B313633363B313633373B313633383B313633383B313633393B313634303B313634313B313634313B313634320D0A523D313634333B313634343B313634353B313634363B313634373B313634383B313634393B313635303B313635313B313635320D0A523D313635333B313635343B313635363B313635373B313635393B313636303B313636323B313636343B313636353B313636370D0A523D313636383B313637303B313637313B313637333B313637343B313637363B313637383B313638303B313638323B313638340D0A523D313638363B313638373B313638393B313639323B313639343B313639373B313639393B313730313B313730333B313730350D0A523D313730383B313731303B313731333B313731353B313731373B313732303B313732323B313732353B313732373B313733300D0A523D313733333B313733373B313734303B313734333B313734363B313734393B313735323B313735363B313735393B313736330D0A523D313736363B313737303B313737343B313737373B313738313B313738353B313738393B313739323B313739363B313830300D0A523D313830353B313830393B313831333B313831373B313832313B313832353B313832393B313833333B313833383B313834330D0A523D313834383B313835333B313835373B313836323B313836363B313837313B313837363B313838313B313838363B313839310D0A523D313839373B313930323B313930373B313931323B313931383B313932333B313932393B313933353B313934303B313934360D0A523D313935323B313935383B313936343B313937303B313937363B313938323B313938383B313939343B323030303B323030370D0A523D323031343B323032313B323032383B323033353B323034323B323034393B323035373B323036343B323037323B323037390D0A523D323038373B323039353B323130333B323131323B323132303B323133303B323133393B323134373B323135353B323136330D0A523D323137323B323138303B323138393B323230303B323231303B323231393B323232393B323233383B323234373B323235360D0A523D323236353B323237333B323238323B323239323B323330313B323331303B323331393B323332383B323333363B323334350D0A523D323335343B323336323B323337313B323338303B323338383B323339363B323430353B323431343B323432323B323433310D0A523D323433393B323434383B323435363B323436343B323437313B323437383B323438363B323439343B323530313B323530380D0A523D323531353B323532313B323532373B323533333B323533373B323534313B323534353B323534373B323534393B323535320D0A523D323535343B323535363B323535383B323536303B323536313B323536333B323536343B323536353B323536363B323536360D0A523D323536373B323536383B323536393B323536393B323537303B323537303B323537313B323537313B323537323B323537320D0A523D323537333B323537343B323537353B323537363B323537373B323537373B323537383B323537393B323538303B323538300D0A56424F583D33322E35323B33322E35320D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35342E30393B35342E30390D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                        }

                        if ($information_commande->precalibrage->calibre ==
                            10) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3133362E3730303B3133362E3730300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D34392E31323B34392E31320D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323335353B323335383B323336313B323336343B323336373B323337303B323337343B323337373B323338313B323338340D0A523D323338383B323339323B323339363B323430303B323430343B323430383B323431333B323431373B323432313B323432360D0A523D323433303B323433353B323433393B323434343B323434393B323435333B323435383B323436333B323436393B323437340D0A523D323438303B323438353B323438393B323439343B323439393B323530343B323530393B323531343B323532303B323532350D0A523D323533303B323533363B323534313B323534363B323535313B323535363B323536323B323536373B323537323B323537370D0A523D323538333B323538383B323539333B323539383B323630333B323630383B323631333B323631383B323632323B323632370D0A523D323633313B323633343B323633373B323634303B323634313B323634313B323634303B323633373B323633333B323632350D0A523D323631373B323630363B323539353B323538313B323536373B323535323B323533363B323531393B323530333B323438350D0A523D323436373B323435303B323433333B323431353B323339373B323337393B323336323B323334353B323332383B323331310D0A523D323239343B323237383B323236323B323234353B323232393B323231333B323139383B323138333B323136383B323135330D0A523D323133383B323132343B323131303B323039353B323038313B323036373B323035343B323034313B323032383B323031360D0A523D323030333B313939313B313937393B313936363B313935353B313934343B313933323B313932313B313931313B313930300D0A523D313839303B313837393B313836393B313835393B313835303B313834303B313833313B313832323B313831323B313830330D0A523D313739343B313738363B313737383B313736393B313736313B313735333B313734353B313733373B313732393B313732310D0A523D313731343B313730363B313639393B313639323B313638363B313637393B313637313B313636353B313635383B313635310D0A523D313634353B313633383B313633323B313632363B313632303B313631343B313630383B313630333B313539373B313539320D0A523D313538363B313538313B313537363B313537303B313536353B313536303B313535353B313535303B313534363B313534310D0A523D313533373B313533323B313532373B313532333B313531393B313531353B313531313B313530373B313530333B313439390D0A523D313439363B313439323B313438393B313438353B313438323B313437383B313437353B313437323B313436383B313436350D0A523D313436323B313435383B313435353B313435333B313435303B313434373B313434343B313434323B313433393B313433370D0A523D313433343B313433313B313432393B313432363B313432343B313432323B313432303B313431383B313431363B313431340D0A523D313431323B313431303B313430383B313430373B313430353B313430343B313430323B313430303B313339383B313339370D0A523D313339353B313339343B313339333B313339323B313339313B313338393B313338383B313338373B313338363B313338350D0A523D313338343B313338333B313338323B313338313B313338303B313338303B313337393B313337383B313337373B313337370D0A523D313337373B313337373B313337363B313337363B313337353B313337353B313337343B313337343B313337343B313337340D0A523D313337343B313337343B313337343B313337343B313337343B313337353B313337353B313337363B313337363B313337370D0A523D313337373B313337383B313337383B313337393B313337393B313338303B313338313B313338323B313338333B313338340D0A523D313338353B313338373B313338383B313338393B313339303B313339313B313339323B313339333B313339353B313339360D0A523D313339373B313339393B313430303B313430323B313430333B313430353B313430363B313430383B313431303B313431320D0A523D313431343B313431363B313431383B313432303B313432323B313432343B313432373B313432393B313433313B313433330D0A523D313433363B313433393B313434313B313434343B313434363B313434393B313435313B313435343B313435363B313435390D0A523D313436323B313436363B313436393B313437333B313437373B313438313B313438343B313438373B313439313B313439350D0A523D313439393B313530333B313530373B313531313B313531343B313531373B313532303B313532343B313532383B313533320D0A523D313533373B313534313B313534363B313535303B313535353B313536303B313536353B313537303B313537363B313538310D0A523D313538373B313539323B313539373B313630333B313631303B313631363B313632323B313632383B313633343B313634310D0A523D313634373B313635343B313636303B313636373B313637333B313638303B313638373B313639343B313730313B313730380D0A523D313731343B313732323B313732393B313733373B313734343B313735313B313735393B313736373B313737343B313738320D0A523D313739303B313739383B313830373B313831363B313832353B313833343B313834343B313835333B313836333B313837330D0A523D313838333B313839323B313930333B313931333B313932343B313933363B313934363B313935373B313936383B313938300D0A523D313939323B323030333B323031353B323032373B323034303B323035333B323036363B323037393B323039313B323130340D0A523D323131383B323133313B323134343B323135383B323137323B323138363B323230303B323231343B323232393B323234330D0A523D323235383B323237333B323238373B323330333B323331383B323333333B323334393B323336343B323337393B323339350D0A523D323431313B323432373B323434333B323435393B323437353B323439323B323530393B323532353B323534313B323535360D0A523D323537303B323538333B323539343B323630343B323631313B323631353B323631383B323631393B323631393B323631370D0A523D323631343B323631303B323630373B323630333B323539393B323539343B323539303B323538363B323538313B323537360D0A523D323537313B323536363B323536323B323535383B323535343B323535303B323534363B323534323B323533393B323533350D0A523D323533313B323532383B323532353B323532333B323531383B323531353B323531313B323530383B323530353B323530320D0A523D323530303B323439373B323439333B323439303B323438363B323438333B323438303B323437373B323437353B323437330D0A523D323437323B323437303B323436383B323436363B323436343B323436323B323436303B323435383B323435363B323435350D0A523D323435323B323435313B323434393B323434383B323434373B323434363B323434343B323434333B323434323B323434310D0A523D323434303B323433393B323433383B323433373B323433373B323433363B323433363B323433363B323433363B323433350D0A523D323433353B323433353B323433353B323433353B323433353B323433363B323433363B323433373B323433373B323433380D0A523D323433393B323434313B323434323B323434333B323434343B323434353B323434363B323434373B323434393B323435300D0A523D323435313B323435333B323435343B323435363B323435383B323436303B323436313B323436333B323436353B323436370D0A523D323436393B323437313B323437343B323437363B323437393B323438313B323438343B323438373B323439303B323439340D0A523D323439373B323530303B323530333B323530373B323531303B323531333B323531363B323531393B323532333B323532360D0A523D323533303B323533333B323533363B323533393B323534323B323534343B323534373B323534393B323535303B323535310D0A523D323535313B323534373B323534313B323533323B323532303B323530373B323439323B323437383B323436333B323434370D0A523D323433313B323431343B323339383B323338303B323336333B323334363B323332393B323331323B323239353B323237390D0A523D323236333B323234373B323233313B323231363B323230303B323138353B323137303B323135353B323134303B323132350D0A523D323131303B323039363B323038323B323036393B323035363B323034333B323033303B323031373B323030353B313939320D0A523D313937393B313936363B313935343B313934313B313933303B313931393B313930383B313839373B313838373B313837360D0A523D313836363B313835363B313834353B313833353B313832343B313831343B313830353B313739373B313738383B313737390D0A523D313737303B313736323B313735343B313734353B313733373B313732393B313732323B313731343B313730363B313639390D0A523D313639313B313638353B313637383B313637313B313636353B313635383B313635313B313634353B313633383B313633310D0A523D313632353B313631383B313631323B313630363B313630313B313539353B313538393B313538343B313537383B313537330D0A523D313536383B313536333B313535383B313535323B313534373B313534333B313533383B313533333B313532393B313532340D0A523D313532303B313531363B313531313B313530373B313530333B313439393B313439353B313439323B313438383B313438340D0A523D313438303B313437363B313437333B313436393B313436363B313436333B313436303B313435373B313435333B313435300D0A523D313434373B313434343B313434313B313433393B313433363B313433343B313433313B313432393B313432363B313432340D0A523D313432313B313431393B313431373B313431343B313431323B313431303B313430383B313430363B313430343B313430320D0A523D313430303B313339393B313339373B313339363B313339343B313339323B313339303B313338393B313338383B313338370D0A523D313338353B313338343B313338333B313338323B313338313B313338303B313337393B313337383B313337373B313337360D0A523D313337343B313337343B313337333B313337333B313337323B313337323B313337313B313337313B313337313B313337310D0A523D313337303B313337303B313336393B313336393B313336393B313336393B313336393B313336393B313336393B313336390D0A523D313337303B313337303B313337303B313337313B313337313B313337323B313337323B313337333B313337333B313337340D0A523D313337353B313337363B313337363B313337373B313337383B313337393B313337393B313338303B313338323B313338330D0A523D313338343B313338363B313338373B313338383B313339303B313339313B313339333B313339343B313339363B313339380D0A523D313339393B313430313B313430333B313430353B313430373B313430393B313431313B313431333B313431353B313431370D0A523D313431393B313432313B313432343B313432363B313432393B313433313B313433343B313433363B313433393B313434310D0A523D313434343B313434373B313435303B313435333B313435363B313435393B313436323B313436353B313436393B313437320D0A523D313437353B313437393B313438323B313438363B313438393B313439333B313439373B313530313B313530353B313530390D0A523D313531333B313531373B313532313B313532353B313533303B313533343B313533383B313534333B313534373B313535320D0A523D313535373B313536323B313536373B313537323B313537373B313538323B313538373B313539323B313539383B313630330D0A523D313630393B313631353B313632303B313632363B313633333B313633393B313634353B313635313B313635373B313636330D0A523D313637303B313637363B313638333B313639303B313639373B313730353B313731323B313731393B313732363B313733330D0A523D313734313B313734393B313735373B313736353B313737333B313738313B313738393B313739373B313830363B313831340D0A523D313832323B313833313B313833393B313834383B313835373B313836363B313837353B313838343B313839343B313930330D0A523D313931323B313932313B313933313B313934313B313935313B313936313B313937323B313938323B313939323B323030330D0A523D323031333B323032343B323033353B323034363B323035363B323036373B323037393B323039303B323130323B323131340D0A523D323132353B323133373B323134383B323135393B323137313B323138313B323139313B323230313B323231303B323231380D0A523D323232353B323233303B323233343B323233393B323234333B323234353B323234373B323234393B323235303B323235310D0A523D323235323B323235333B323235343B323235353B323235353B323235353B323235353B323235353B323235353B323235350D0A523D323235353B323235353B323235353B323235343B323235343B323235343B323235343B323235343B323235343B323235340D0A523D323235343B323235343B323235343B323235353B323235353B323235353B323235363B323235373B323235373B323235380D0A523D323235393B323236303B323236303B323236313B323236323B323236333B323236343B323236363B323236373B323236380D0A523D323237303B323237313B323237333B323237343B323237363B323237373B323237393B323238303B323238323B323238330D0A523D323238353B323238373B323238393B323239313B323239323B323239343B323239363B323239383B323330303B323330320D0A523D323330343B323330363B323330383B323331303B323331323B323331353B323331373B323332303B323332323B323332340D0A523D323332373B323332393B323333323B323333343B323333383B323334303B323334333B323334363B323334393B323335320D0A545243464D543D313B313030303B453B4C3B460D0A523D323434303B323434313B323434323B323434333B323434343B323434363B323434373B323434383B323434393B323435310D0A523D323435323B323435353B323435363B323435383B323436303B323436323B323436343B323436363B323436383B323437300D0A523D323437323B323437333B323437353B323437373B323438303B323438333B323438363B323439303B323439333B323439370D0A523D323530303B323530323B323530353B323530383B323531313B323531353B323531383B323532333B323532353B323532380D0A523D323533313B323533353B323533393B323534323B323534363B323535303B323535343B323535383B323536323B323536360D0A523D323537313B323537363B323538313B323538363B323539303B323539343B323539393B323630333B323630373B323631300D0A523D323631343B323631373B323631393B323631393B323631383B323631353B323631313B323630343B323539343B323538330D0A523D323537303B323535363B323534313B323532353B323530393B323439323B323437353B323435393B323434333B323432370D0A523D323431313B323339353B323337393B323336343B323334393B323333333B323331383B323330333B323238373B323237330D0A523D323235383B323234333B323232393B323231343B323230303B323138363B323137323B323135383B323134343B323133310D0A523D323131383B323130343B323039313B323037393B323036363B323035333B323034303B323032373B323031353B323030330D0A523D313939323B313938303B313936383B313935373B313934363B313933363B313932343B313931333B313930333B313839320D0A523D313838333B313837333B313836333B313835333B313834343B313833343B313832353B313831363B313830373B313739380D0A523D313739303B313738323B313737343B313736373B313735393B313735313B313734343B313733373B313732393B313732320D0A523D313731343B313730383B313730313B313639343B313638373B313638303B313637333B313636373B313636303B313635340D0A523D313634373B313634313B313633343B313632383B313632323B313631363B313631303B313630333B313539373B313539320D0A523D313538373B313538313B313537363B313537303B313536353B313536303B313535353B313535303B313534363B313534310D0A523D313533373B313533323B313532383B313532343B313532303B313531373B313531343B313531313B313530373B313530330D0A523D313439393B313439353B313439313B313438373B313438343B313438313B313437373B313437333B313436393B313436360D0A523D313436323B313435393B313435363B313435343B313435313B313434393B313434363B313434343B313434313B313433390D0A523D313433363B313433333B313433313B313432393B313432373B313432343B313432323B313432303B313431383B313431360D0A523D313431343B313431323B313431303B313430383B313430363B313430353B313430333B313430323B313430303B313339390D0A523D313339373B313339363B313339353B313339333B313339323B313339313B313339303B313338393B313338383B313338370D0A523D313338353B313338343B313338333B313338323B313338313B313338303B313337393B313337393B313337383B313337380D0A523D313337373B313337373B313337363B313337363B313337353B313337353B313337343B313337343B313337343B313337340D0A523D313337343B313337343B313337343B313337343B313337343B313337353B313337353B313337363B313337363B313337370D0A523D313337373B313337373B313337373B313337383B313337393B313338303B313338303B313338313B313338323B313338330D0A523D313338343B313338353B313338363B313338373B313338383B313338393B313339313B313339323B313339333B313339340D0A523D313339353B313339373B313339383B313430303B313430323B313430343B313430353B313430373B313430383B313431300D0A523D313431323B313431343B313431363B313431383B313432303B313432323B313432343B313432363B313432393B313433310D0A523D313433343B313433373B313433393B313434323B313434343B313434373B313435303B313435333B313435353B313435380D0A523D313436323B313436353B313436383B313437323B313437353B313437383B313438323B313438353B313438393B313439320D0A523D313439363B313439393B313530333B313530373B313531313B313531353B313531393B313532333B313532373B313533320D0A523D313533373B313534313B313534363B313535303B313535353B313536303B313536353B313537303B313537363B313538310D0A523D313538363B313539323B313539373B313630333B313630383B313631343B313632303B313632363B313633323B313633380D0A523D313634353B313635313B313635383B313636353B313637313B313637393B313638363B313639323B313639393B313730360D0A523D313731343B313732313B313732393B313733373B313734353B313735333B313736313B313736393B313737383B313738360D0A523D313739343B313830333B313831323B313832323B313833313B313834303B313835303B313835393B313836393B313837390D0A523D313839303B313930303B313931313B313932313B313933323B313934343B313935353B313936363B313937393B313939310D0A523D323030333B323031363B323032383B323034313B323035343B323036373B323038313B323039353B323131303B323132340D0A523D323133383B323135333B323136383B323138333B323139383B323231333B323232393B323234353B323236323B323237380D0A523D323239343B323331313B323332383B323334353B323336323B323337393B323339373B323431353B323433333B323435300D0A523D323436373B323438353B323530333B323531393B323533363B323535323B323536373B323538313B323539353B323630360D0A523D323631373B323632353B323633333B323633373B323634303B323634313B323634313B323634303B323633373B323633340D0A523D323633313B323632373B323632323B323631383B323631333B323630383B323630333B323539383B323539333B323538380D0A523D323538333B323537373B323537323B323536373B323536323B323535363B323535313B323534363B323534313B323533360D0A523D323533303B323532353B323532303B323531343B323530393B323530343B323439393B323439343B323438393B323438350D0A523D323438303B323437343B323436393B323436333B323435383B323435333B323434393B323434343B323433393B323433350D0A523D323433303B323432363B323432313B323431373B323431333B323430383B323430343B323430303B323339363B323339320D0A523D323338383B323338343B323338313B323337373B323337343B323337303B323336373B323336343B323336313B323335380D0A523D323335353B323335323B323334393B323334363B323334333B323334303B323333383B323333343B323333323B323332390D0A523D323332373B323332343B323332323B323332303B323331373B323331353B323331323B323331303B323330383B323330360D0A523D323330343B323330323B323330303B323239383B323239363B323239343B323239323B323239313B323238393B323238370D0A523D323238353B323238333B323238323B323238303B323237393B323237373B323237363B323237343B323237333B323237310D0A523D323237303B323236383B323236373B323236363B323236343B323236333B323236323B323236313B323236303B323236300D0A523D323235393B323235383B323235373B323235373B323235363B323235353B323235353B323235353B323235343B323235340D0A523D323235343B323235343B323235343B323235343B323235343B323235343B323235343B323235343B323235353B323235350D0A523D323235353B323235353B323235353B323235353B323235353B323235353B323235353B323235353B323235343B323235330D0A523D323235323B323235313B323235303B323234393B323234373B323234353B323234333B323233393B323233343B323233300D0A523D323232353B323231383B323231303B323230313B323139313B323138313B323137313B323135393B323134383B323133370D0A523D323132353B323131343B323130323B323039303B323037393B323036373B323035363B323034363B323033353B323032340D0A523D323031333B323030333B313939323B313938323B313937323B313936313B313935313B313934313B313933313B313932310D0A523D313931323B313930333B313839343B313838343B313837353B313836363B313835373B313834383B313833393B313833310D0A523D313832323B313831343B313830363B313739373B313738393B313738313B313737333B313736353B313735373B313734390D0A523D313734313B313733333B313732363B313731393B313731323B313730353B313639373B313639303B313638333B313637360D0A523D313637303B313636333B313635373B313635313B313634353B313633393B313633333B313632363B313632303B313631350D0A523D313630393B313630333B313539383B313539323B313538373B313538323B313537373B313537323B313536373B313536320D0A523D313535373B313535323B313534373B313534333B313533383B313533343B313533303B313532353B313532313B313531370D0A523D313531333B313530393B313530353B313530313B313439373B313439333B313438393B313438363B313438323B313437390D0A523D313437353B313437323B313436393B313436353B313436323B313435393B313435363B313435333B313435303B313434370D0A523D313434343B313434313B313433393B313433363B313433343B313433313B313432393B313432363B313432343B313432310D0A523D313431393B313431373B313431353B313431333B313431313B313430393B313430373B313430353B313430333B313430310D0A523D313339393B313339383B313339363B313339343B313339333B313339313B313339303B313338383B313338373B313338360D0A523D313338343B313338333B313338323B313338303B313337393B313337393B313337383B313337373B313337363B313337360D0A523D313337353B313337343B313337333B313337333B313337323B313337323B313337313B313337313B313337303B313337300D0A523D313337303B313336393B313336393B313336393B313336393B313336393B313336393B313336393B313336393B313337300D0A523D313337303B313337313B313337313B313337313B313337313B313337323B313337323B313337333B313337333B313337340D0A523D313337343B313337363B313337373B313337383B313337393B313338303B313338313B313338323B313338333B313338340D0A523D313338353B313338373B313338383B313338393B313339303B313339323B313339343B313339363B313339373B313339390D0A523D313430303B313430323B313430343B313430363B313430383B313431303B313431323B313431343B313431373B313431390D0A523D313432313B313432343B313432363B313432393B313433313B313433343B313433363B313433393B313434313B313434340D0A523D313434373B313435303B313435333B313435373B313436303B313436333B313436363B313436393B313437333B313437360D0A523D313438303B313438343B313438383B313439323B313439353B313439393B313530333B313530373B313531313B313531360D0A523D313532303B313532343B313532393B313533333B313533383B313534333B313534373B313535323B313535383B313536330D0A523D313536383B313537333B313537383B313538343B313538393B313539353B313630313B313630363B313631323B313631380D0A523D313632353B313633313B313633383B313634353B313635313B313635383B313636353B313637313B313637383B313638350D0A523D313639313B313639393B313730363B313731343B313732323B313732393B313733373B313734353B313735343B313736320D0A523D313737303B313737393B313738383B313739373B313830353B313831343B313832343B313833353B313834353B313835360D0A523D313836363B313837363B313838373B313839373B313930383B313931393B313933303B313934313B313935343B313936360D0A523D313937393B313939323B323030353B323031373B323033303B323034333B323035363B323036393B323038323B323039360D0A523D323131303B323132353B323134303B323135353B323137303B323138353B323230303B323231363B323233313B323234370D0A523D323236333B323237393B323239353B323331323B323332393B323334363B323336333B323338303B323339383B323431340D0A523D323433313B323434373B323436333B323437383B323439323B323530373B323532303B323533323B323534313B323534370D0A523D323535313B323535313B323535303B323534393B323534373B323534343B323534323B323533393B323533363B323533330D0A523D323533303B323532363B323532333B323531393B323531363B323531333B323531303B323530373B323530333B323530300D0A523D323439373B323439343B323439303B323438373B323438343B323438313B323437393B323437363B323437343B323437310D0A523D323436393B323436373B323436353B323436333B323436313B323436303B323435383B323435363B323435343B323435330D0A523D323435313B323435303B323434393B323434373B323434363B323434353B323434343B323434333B323434323B323434310D0A523D323433393B323433383B323433373B323433373B323433363B323433363B323433353B323433353B323433353B323433350D0A523D323433353B323433353B323433363B323433363B323433363B323433363B323433373B323433373B323433383B323433390D0A56424F583D32372E34393B32372E34390D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35322E38313B35322E38310D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                        }

                        if ($information_commande->precalibrage->calibre ==
                            11) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3133362E3730303B3133362E3730300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D34392E31323B34392E31320D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323335353B323335383B323336313B323336343B323336373B323337303B323337343B323337373B323338313B323338340D0A523D323338383B323339323B323339363B323430303B323430343B323430383B323431333B323431373B323432313B323432360D0A523D323433303B323433353B323433393B323434343B323434393B323435333B323435383B323436333B323436393B323437340D0A523D323438303B323438353B323438393B323439343B323439393B323530343B323530393B323531343B323532303B323532350D0A523D323533303B323533363B323534313B323534363B323535313B323535363B323536323B323536373B323537323B323537370D0A523D323538333B323538383B323539333B323539383B323630333B323630383B323631333B323631383B323632323B323632370D0A523D323633313B323633343B323633373B323634303B323634313B323634313B323634303B323633373B323633333B323632350D0A523D323631373B323630363B323539353B323538313B323536373B323535323B323533363B323531393B323530333B323438350D0A523D323436373B323435303B323433333B323431353B323339373B323337393B323336323B323334353B323332383B323331310D0A523D323239343B323237383B323236323B323234353B323232393B323231333B323139383B323138333B323136383B323135330D0A523D323133383B323132343B323131303B323039353B323038313B323036373B323035343B323034313B323032383B323031360D0A523D323030333B313939313B313937393B313936363B313935353B313934343B313933323B313932313B313931313B313930300D0A523D313839303B313837393B313836393B313835393B313835303B313834303B313833313B313832323B313831323B313830330D0A523D313739343B313738363B313737383B313736393B313736313B313735333B313734353B313733373B313732393B313732310D0A523D313731343B313730363B313639393B313639323B313638363B313637393B313637313B313636353B313635383B313635310D0A523D313634353B313633383B313633323B313632363B313632303B313631343B313630383B313630333B313539373B313539320D0A523D313538363B313538313B313537363B313537303B313536353B313536303B313535353B313535303B313534363B313534310D0A523D313533373B313533323B313532373B313532333B313531393B313531353B313531313B313530373B313530333B313439390D0A523D313439363B313439323B313438393B313438353B313438323B313437383B313437353B313437323B313436383B313436350D0A523D313436323B313435383B313435353B313435333B313435303B313434373B313434343B313434323B313433393B313433370D0A523D313433343B313433313B313432393B313432363B313432343B313432323B313432303B313431383B313431363B313431340D0A523D313431323B313431303B313430383B313430373B313430353B313430343B313430323B313430303B313339383B313339370D0A523D313339353B313339343B313339333B313339323B313339313B313338393B313338383B313338373B313338363B313338350D0A523D313338343B313338333B313338323B313338313B313338303B313338303B313337393B313337383B313337373B313337370D0A523D313337373B313337373B313337363B313337363B313337353B313337353B313337343B313337343B313337343B313337340D0A523D313337343B313337343B313337343B313337343B313337343B313337353B313337353B313337363B313337363B313337370D0A523D313337373B313337383B313337383B313337393B313337393B313338303B313338313B313338323B313338333B313338340D0A523D313338353B313338373B313338383B313338393B313339303B313339313B313339323B313339333B313339353B313339360D0A523D313339373B313339393B313430303B313430323B313430333B313430353B313430363B313430383B313431303B313431320D0A523D313431343B313431363B313431383B313432303B313432323B313432343B313432373B313432393B313433313B313433330D0A523D313433363B313433393B313434313B313434343B313434363B313434393B313435313B313435343B313435363B313435390D0A523D313436323B313436363B313436393B313437333B313437373B313438313B313438343B313438373B313439313B313439350D0A523D313439393B313530333B313530373B313531313B313531343B313531373B313532303B313532343B313532383B313533320D0A523D313533373B313534313B313534363B313535303B313535353B313536303B313536353B313537303B313537363B313538310D0A523D313538373B313539323B313539373B313630333B313631303B313631363B313632323B313632383B313633343B313634310D0A523D313634373B313635343B313636303B313636373B313637333B313638303B313638373B313639343B313730313B313730380D0A523D313731343B313732323B313732393B313733373B313734343B313735313B313735393B313736373B313737343B313738320D0A523D313739303B313739383B313830373B313831363B313832353B313833343B313834343B313835333B313836333B313837330D0A523D313838333B313839323B313930333B313931333B313932343B313933363B313934363B313935373B313936383B313938300D0A523D313939323B323030333B323031353B323032373B323034303B323035333B323036363B323037393B323039313B323130340D0A523D323131383B323133313B323134343B323135383B323137323B323138363B323230303B323231343B323232393B323234330D0A523D323235383B323237333B323238373B323330333B323331383B323333333B323334393B323336343B323337393B323339350D0A523D323431313B323432373B323434333B323435393B323437353B323439323B323530393B323532353B323534313B323535360D0A523D323537303B323538333B323539343B323630343B323631313B323631353B323631383B323631393B323631393B323631370D0A523D323631343B323631303B323630373B323630333B323539393B323539343B323539303B323538363B323538313B323537360D0A523D323537313B323536363B323536323B323535383B323535343B323535303B323534363B323534323B323533393B323533350D0A523D323533313B323532383B323532353B323532333B323531383B323531353B323531313B323530383B323530353B323530320D0A523D323530303B323439373B323439333B323439303B323438363B323438333B323438303B323437373B323437353B323437330D0A523D323437323B323437303B323436383B323436363B323436343B323436323B323436303B323435383B323435363B323435350D0A523D323435323B323435313B323434393B323434383B323434373B323434363B323434343B323434333B323434323B323434310D0A523D323434303B323433393B323433383B323433373B323433373B323433363B323433363B323433363B323433363B323433350D0A523D323433353B323433353B323433353B323433353B323433353B323433363B323433363B323433373B323433373B323433380D0A523D323433393B323434313B323434323B323434333B323434343B323434353B323434363B323434373B323434393B323435300D0A523D323435313B323435333B323435343B323435363B323435383B323436303B323436313B323436333B323436353B323436370D0A523D323436393B323437313B323437343B323437363B323437393B323438313B323438343B323438373B323439303B323439340D0A523D323439373B323530303B323530333B323530373B323531303B323531333B323531363B323531393B323532333B323532360D0A523D323533303B323533333B323533363B323533393B323534323B323534343B323534373B323534393B323535303B323535310D0A523D323535313B323534373B323534313B323533323B323532303B323530373B323439323B323437383B323436333B323434370D0A523D323433313B323431343B323339383B323338303B323336333B323334363B323332393B323331323B323239353B323237390D0A523D323236333B323234373B323233313B323231363B323230303B323138353B323137303B323135353B323134303B323132350D0A523D323131303B323039363B323038323B323036393B323035363B323034333B323033303B323031373B323030353B313939320D0A523D313937393B313936363B313935343B313934313B313933303B313931393B313930383B313839373B313838373B313837360D0A523D313836363B313835363B313834353B313833353B313832343B313831343B313830353B313739373B313738383B313737390D0A523D313737303B313736323B313735343B313734353B313733373B313732393B313732323B313731343B313730363B313639390D0A523D313639313B313638353B313637383B313637313B313636353B313635383B313635313B313634353B313633383B313633310D0A523D313632353B313631383B313631323B313630363B313630313B313539353B313538393B313538343B313537383B313537330D0A523D313536383B313536333B313535383B313535323B313534373B313534333B313533383B313533333B313532393B313532340D0A523D313532303B313531363B313531313B313530373B313530333B313439393B313439353B313439323B313438383B313438340D0A523D313438303B313437363B313437333B313436393B313436363B313436333B313436303B313435373B313435333B313435300D0A523D313434373B313434343B313434313B313433393B313433363B313433343B313433313B313432393B313432363B313432340D0A523D313432313B313431393B313431373B313431343B313431323B313431303B313430383B313430363B313430343B313430320D0A523D313430303B313339393B313339373B313339363B313339343B313339323B313339303B313338393B313338383B313338370D0A523D313338353B313338343B313338333B313338323B313338313B313338303B313337393B313337383B313337373B313337360D0A523D313337343B313337343B313337333B313337333B313337323B313337323B313337313B313337313B313337313B313337310D0A523D313337303B313337303B313336393B313336393B313336393B313336393B313336393B313336393B313336393B313336390D0A523D313337303B313337303B313337303B313337313B313337313B313337323B313337323B313337333B313337333B313337340D0A523D313337353B313337363B313337363B313337373B313337383B313337393B313337393B313338303B313338323B313338330D0A523D313338343B313338363B313338373B313338383B313339303B313339313B313339333B313339343B313339363B313339380D0A523D313339393B313430313B313430333B313430353B313430373B313430393B313431313B313431333B313431353B313431370D0A523D313431393B313432313B313432343B313432363B313432393B313433313B313433343B313433363B313433393B313434310D0A523D313434343B313434373B313435303B313435333B313435363B313435393B313436323B313436353B313436393B313437320D0A523D313437353B313437393B313438323B313438363B313438393B313439333B313439373B313530313B313530353B313530390D0A523D313531333B313531373B313532313B313532353B313533303B313533343B313533383B313534333B313534373B313535320D0A523D313535373B313536323B313536373B313537323B313537373B313538323B313538373B313539323B313539383B313630330D0A523D313630393B313631353B313632303B313632363B313633333B313633393B313634353B313635313B313635373B313636330D0A523D313637303B313637363B313638333B313639303B313639373B313730353B313731323B313731393B313732363B313733330D0A523D313734313B313734393B313735373B313736353B313737333B313738313B313738393B313739373B313830363B313831340D0A523D313832323B313833313B313833393B313834383B313835373B313836363B313837353B313838343B313839343B313930330D0A523D313931323B313932313B313933313B313934313B313935313B313936313B313937323B313938323B313939323B323030330D0A523D323031333B323032343B323033353B323034363B323035363B323036373B323037393B323039303B323130323B323131340D0A523D323132353B323133373B323134383B323135393B323137313B323138313B323139313B323230313B323231303B323231380D0A523D323232353B323233303B323233343B323233393B323234333B323234353B323234373B323234393B323235303B323235310D0A523D323235323B323235333B323235343B323235353B323235353B323235353B323235353B323235353B323235353B323235350D0A523D323235353B323235353B323235353B323235343B323235343B323235343B323235343B323235343B323235343B323235340D0A523D323235343B323235343B323235343B323235353B323235353B323235353B323235363B323235373B323235373B323235380D0A523D323235393B323236303B323236303B323236313B323236323B323236333B323236343B323236363B323236373B323236380D0A523D323237303B323237313B323237333B323237343B323237363B323237373B323237393B323238303B323238323B323238330D0A523D323238353B323238373B323238393B323239313B323239323B323239343B323239363B323239383B323330303B323330320D0A523D323330343B323330363B323330383B323331303B323331323B323331353B323331373B323332303B323332323B323332340D0A523D323332373B323332393B323333323B323333343B323333383B323334303B323334333B323334363B323334393B323335320D0A545243464D543D313B313030303B453B4C3B460D0A523D323434303B323434313B323434323B323434333B323434343B323434363B323434373B323434383B323434393B323435310D0A523D323435323B323435353B323435363B323435383B323436303B323436323B323436343B323436363B323436383B323437300D0A523D323437323B323437333B323437353B323437373B323438303B323438333B323438363B323439303B323439333B323439370D0A523D323530303B323530323B323530353B323530383B323531313B323531353B323531383B323532333B323532353B323532380D0A523D323533313B323533353B323533393B323534323B323534363B323535303B323535343B323535383B323536323B323536360D0A523D323537313B323537363B323538313B323538363B323539303B323539343B323539393B323630333B323630373B323631300D0A523D323631343B323631373B323631393B323631393B323631383B323631353B323631313B323630343B323539343B323538330D0A523D323537303B323535363B323534313B323532353B323530393B323439323B323437353B323435393B323434333B323432370D0A523D323431313B323339353B323337393B323336343B323334393B323333333B323331383B323330333B323238373B323237330D0A523D323235383B323234333B323232393B323231343B323230303B323138363B323137323B323135383B323134343B323133310D0A523D323131383B323130343B323039313B323037393B323036363B323035333B323034303B323032373B323031353B323030330D0A523D313939323B313938303B313936383B313935373B313934363B313933363B313932343B313931333B313930333B313839320D0A523D313838333B313837333B313836333B313835333B313834343B313833343B313832353B313831363B313830373B313739380D0A523D313739303B313738323B313737343B313736373B313735393B313735313B313734343B313733373B313732393B313732320D0A523D313731343B313730383B313730313B313639343B313638373B313638303B313637333B313636373B313636303B313635340D0A523D313634373B313634313B313633343B313632383B313632323B313631363B313631303B313630333B313539373B313539320D0A523D313538373B313538313B313537363B313537303B313536353B313536303B313535353B313535303B313534363B313534310D0A523D313533373B313533323B313532383B313532343B313532303B313531373B313531343B313531313B313530373B313530330D0A523D313439393B313439353B313439313B313438373B313438343B313438313B313437373B313437333B313436393B313436360D0A523D313436323B313435393B313435363B313435343B313435313B313434393B313434363B313434343B313434313B313433390D0A523D313433363B313433333B313433313B313432393B313432373B313432343B313432323B313432303B313431383B313431360D0A523D313431343B313431323B313431303B313430383B313430363B313430353B313430333B313430323B313430303B313339390D0A523D313339373B313339363B313339353B313339333B313339323B313339313B313339303B313338393B313338383B313338370D0A523D313338353B313338343B313338333B313338323B313338313B313338303B313337393B313337393B313337383B313337380D0A523D313337373B313337373B313337363B313337363B313337353B313337353B313337343B313337343B313337343B313337340D0A523D313337343B313337343B313337343B313337343B313337343B313337353B313337353B313337363B313337363B313337370D0A523D313337373B313337373B313337373B313337383B313337393B313338303B313338303B313338313B313338323B313338330D0A523D313338343B313338353B313338363B313338373B313338383B313338393B313339313B313339323B313339333B313339340D0A523D313339353B313339373B313339383B313430303B313430323B313430343B313430353B313430373B313430383B313431300D0A523D313431323B313431343B313431363B313431383B313432303B313432323B313432343B313432363B313432393B313433310D0A523D313433343B313433373B313433393B313434323B313434343B313434373B313435303B313435333B313435353B313435380D0A523D313436323B313436353B313436383B313437323B313437353B313437383B313438323B313438353B313438393B313439320D0A523D313439363B313439393B313530333B313530373B313531313B313531353B313531393B313532333B313532373B313533320D0A523D313533373B313534313B313534363B313535303B313535353B313536303B313536353B313537303B313537363B313538310D0A523D313538363B313539323B313539373B313630333B313630383B313631343B313632303B313632363B313633323B313633380D0A523D313634353B313635313B313635383B313636353B313637313B313637393B313638363B313639323B313639393B313730360D0A523D313731343B313732313B313732393B313733373B313734353B313735333B313736313B313736393B313737383B313738360D0A523D313739343B313830333B313831323B313832323B313833313B313834303B313835303B313835393B313836393B313837390D0A523D313839303B313930303B313931313B313932313B313933323B313934343B313935353B313936363B313937393B313939310D0A523D323030333B323031363B323032383B323034313B323035343B323036373B323038313B323039353B323131303B323132340D0A523D323133383B323135333B323136383B323138333B323139383B323231333B323232393B323234353B323236323B323237380D0A523D323239343B323331313B323332383B323334353B323336323B323337393B323339373B323431353B323433333B323435300D0A523D323436373B323438353B323530333B323531393B323533363B323535323B323536373B323538313B323539353B323630360D0A523D323631373B323632353B323633333B323633373B323634303B323634313B323634313B323634303B323633373B323633340D0A523D323633313B323632373B323632323B323631383B323631333B323630383B323630333B323539383B323539333B323538380D0A523D323538333B323537373B323537323B323536373B323536323B323535363B323535313B323534363B323534313B323533360D0A523D323533303B323532353B323532303B323531343B323530393B323530343B323439393B323439343B323438393B323438350D0A523D323438303B323437343B323436393B323436333B323435383B323435333B323434393B323434343B323433393B323433350D0A523D323433303B323432363B323432313B323431373B323431333B323430383B323430343B323430303B323339363B323339320D0A523D323338383B323338343B323338313B323337373B323337343B323337303B323336373B323336343B323336313B323335380D0A523D323335353B323335323B323334393B323334363B323334333B323334303B323333383B323333343B323333323B323332390D0A523D323332373B323332343B323332323B323332303B323331373B323331353B323331323B323331303B323330383B323330360D0A523D323330343B323330323B323330303B323239383B323239363B323239343B323239323B323239313B323238393B323238370D0A523D323238353B323238333B323238323B323238303B323237393B323237373B323237363B323237343B323237333B323237310D0A523D323237303B323236383B323236373B323236363B323236343B323236333B323236323B323236313B323236303B323236300D0A523D323235393B323235383B323235373B323235373B323235363B323235353B323235353B323235353B323235343B323235340D0A523D323235343B323235343B323235343B323235343B323235343B323235343B323235343B323235343B323235353B323235350D0A523D323235353B323235353B323235353B323235353B323235353B323235353B323235353B323235353B323235343B323235330D0A523D323235323B323235313B323235303B323234393B323234373B323234353B323234333B323233393B323233343B323233300D0A523D323232353B323231383B323231303B323230313B323139313B323138313B323137313B323135393B323134383B323133370D0A523D323132353B323131343B323130323B323039303B323037393B323036373B323035363B323034363B323033353B323032340D0A523D323031333B323030333B313939323B313938323B313937323B313936313B313935313B313934313B313933313B313932310D0A523D313931323B313930333B313839343B313838343B313837353B313836363B313835373B313834383B313833393B313833310D0A523D313832323B313831343B313830363B313739373B313738393B313738313B313737333B313736353B313735373B313734390D0A523D313734313B313733333B313732363B313731393B313731323B313730353B313639373B313639303B313638333B313637360D0A523D313637303B313636333B313635373B313635313B313634353B313633393B313633333B313632363B313632303B313631350D0A523D313630393B313630333B313539383B313539323B313538373B313538323B313537373B313537323B313536373B313536320D0A523D313535373B313535323B313534373B313534333B313533383B313533343B313533303B313532353B313532313B313531370D0A523D313531333B313530393B313530353B313530313B313439373B313439333B313438393B313438363B313438323B313437390D0A523D313437353B313437323B313436393B313436353B313436323B313435393B313435363B313435333B313435303B313434370D0A523D313434343B313434313B313433393B313433363B313433343B313433313B313432393B313432363B313432343B313432310D0A523D313431393B313431373B313431353B313431333B313431313B313430393B313430373B313430353B313430333B313430310D0A523D313339393B313339383B313339363B313339343B313339333B313339313B313339303B313338383B313338373B313338360D0A523D313338343B313338333B313338323B313338303B313337393B313337393B313337383B313337373B313337363B313337360D0A523D313337353B313337343B313337333B313337333B313337323B313337323B313337313B313337313B313337303B313337300D0A523D313337303B313336393B313336393B313336393B313336393B313336393B313336393B313336393B313336393B313337300D0A523D313337303B313337313B313337313B313337313B313337313B313337323B313337323B313337333B313337333B313337340D0A523D313337343B313337363B313337373B313337383B313337393B313338303B313338313B313338323B313338333B313338340D0A523D313338353B313338373B313338383B313338393B313339303B313339323B313339343B313339363B313339373B313339390D0A523D313430303B313430323B313430343B313430363B313430383B313431303B313431323B313431343B313431373B313431390D0A523D313432313B313432343B313432363B313432393B313433313B313433343B313433363B313433393B313434313B313434340D0A523D313434373B313435303B313435333B313435373B313436303B313436333B313436363B313436393B313437333B313437360D0A523D313438303B313438343B313438383B313439323B313439353B313439393B313530333B313530373B313531313B313531360D0A523D313532303B313532343B313532393B313533333B313533383B313534333B313534373B313535323B313535383B313536330D0A523D313536383B313537333B313537383B313538343B313538393B313539353B313630313B313630363B313631323B313631380D0A523D313632353B313633313B313633383B313634353B313635313B313635383B313636353B313637313B313637383B313638350D0A523D313639313B313639393B313730363B313731343B313732323B313732393B313733373B313734353B313735343B313736320D0A523D313737303B313737393B313738383B313739373B313830353B313831343B313832343B313833353B313834353B313835360D0A523D313836363B313837363B313838373B313839373B313930383B313931393B313933303B313934313B313935343B313936360D0A523D313937393B313939323B323030353B323031373B323033303B323034333B323035363B323036393B323038323B323039360D0A523D323131303B323132353B323134303B323135353B323137303B323138353B323230303B323231363B323233313B323234370D0A523D323236333B323237393B323239353B323331323B323332393B323334363B323336333B323338303B323339383B323431340D0A523D323433313B323434373B323436333B323437383B323439323B323530373B323532303B323533323B323534313B323534370D0A523D323535313B323535313B323535303B323534393B323534373B323534343B323534323B323533393B323533363B323533330D0A523D323533303B323532363B323532333B323531393B323531363B323531333B323531303B323530373B323530333B323530300D0A523D323439373B323439343B323439303B323438373B323438343B323438313B323437393B323437363B323437343B323437310D0A523D323436393B323436373B323436353B323436333B323436313B323436303B323435383B323435363B323435343B323435330D0A523D323435313B323435303B323434393B323434373B323434363B323434353B323434343B323434333B323434323B323434310D0A523D323433393B323433383B323433373B323433373B323433363B323433363B323433353B323433353B323433353B323433350D0A523D323433353B323433353B323433363B323433363B323433363B323433363B323433373B323433373B323433383B323433390D0A56424F583D32372E34393B32372E34390D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35322E38313B35322E38310D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                        }

                        if ($information_commande->precalibrage->calibre ==
                            12) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3135322E3930303B3135322E3930300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35332E30363B35332E30360D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323434333B323434393B323435343B323436303B323436373B323437333B323437393B323438363B323439323B323439380D0A523D323530353B323531313B323531383B323532353B323533313B323533383B323534343B323535313B323535383B323536350D0A523D323537323B323537393B323538353B323539323B323539393B323630353B323631323B323631393B323632363B323633330D0A523D323634303B323634373B323635343B323636313B323636383B323637363B323638333B323639303B323639373B323730350D0A523D323731323B323732303B323732383B323733353B323734333B323735313B323735383B323736353B323737323B323737390D0A523D323738363B323739333B323830303B323830373B323831333B323832303B323832353B323833313B323833373B323834320D0A523D323834373B323835323B323835373B323836313B323836353B323836393B323837333B323837373B323838313B323838340D0A523D323838383B323839313B323839343B323839373B323839393B323930313B323930333B323930333B323930343B323930340D0A523D323930343B323930343B323930333B323930313B323839393B323839363B323839343B323839303B323838363B323838310D0A523D323837363B323837303B323836343B323835363B323834393B323834313B323833343B323832353B323831373B323830380D0A523D323739393B323739303B323738313B323737313B323736313B323735323B323734323B323733323B323732323B323731310D0A523D323730313B323639303B323638303B323637303B323636303B323634393B323633393B323632383B323631383B323630370D0A523D323539373B323538373B323537373B323536373B323535373B323534373B323533373B323532383B323531383B323530390D0A523D323530303B323439313B323438313B323437323B323436343B323435353B323434363B323433383B323432393B323432300D0A523D323431323B323430343B323339363B323338383B323338303B323337323B323336343B323335363B323334393B323334320D0A523D323333343B323332373B323331393B323331323B323330353B323239383B323239313B323238343B323237373B323237310D0A523D323236343B323235373B323235313B323234343B323233373B323233313B323232353B323231393B323231333B323230370D0A523D323230313B323139353B323138393B323138343B323137383B323137323B323136373B323136323B323135373B323135320D0A523D323134373B323134323B323133373B323133333B323132383B323132343B323131393B323131353B323131313B323130370D0A523D323130333B323039393B323039353B323039303B323038373B323038333B323038303B323037363B323037333B323037300D0A523D323036373B323036343B323036303B323035373B323035353B323035323B323034393B323034363B323034343B323034310D0A523D323033393B323033373B323033343B323033323B323033303B323032383B323032363B323032343B323032323B323032310D0A523D323031393B323031383B323031363B323031353B323031343B323031323B323031313B323031303B323030393B323030380D0A523D323030363B323030363B323030353B323030353B323030343B323030333B323030323B323030323B323030313B323030310D0A523D323030313B323030313B323030303B323030303B323030303B323030303B323030303B323030303B323030303B323030300D0A523D323030303B323030313B323030313B323030313B323030313B323030323B323030333B323030343B323030343B323030350D0A523D323030353B323030363B323030363B323030373B323030383B323030393B323031313B323031323B323031333B323031340D0A523D323031363B323031373B323031393B323032303B323032323B323032343B323032363B323032383B323033303B323033320D0A523D323033343B323033363B323033393B323034323B323034353B323034383B323035303B323035333B323035363B323035390D0A523D323036323B323036353B323036383B323037313B323037343B323037373B323038313B323038353B323038393B323039330D0A523D323039373B323130313B323130343B323130383B323131323B323131363B323132303B323132343B323132393B323133330D0A523D323133373B323134313B323134353B323134393B323135333B323135383B323136323B323136373B323137323B323137370D0A523D323138323B323138383B323139343B323139383B323230333B323230383B323231333B323231383B323232333B323232390D0A523D323233363B323234323B323234383B323235343B323236313B323236383B323237343B323238323B323238393B323239360D0A523D323330333B323331313B323331393B323332363B323333343B323334323B323334393B323335383B323336363B323337330D0A523D323338313B323338393B323339383B323430363B323431343B323432323B323433303B323433393B323434373B323435360D0A523D323436343B323437333B323438323B323439313B323530303B323530393B323531383B323532373B323533373B323534370D0A523D323535363B323536363B323537353B323538353B323539343B323630343B323631333B323632323B323633323B323634310D0A523D323635303B323635383B323636383B323637373B323638353B323639343B323730323B323731303B323731383B323732350D0A523D323733333B323733393B323734363B323735333B323735393B323736353B323737303B323737363B323738323B323738370D0A523D323739313B323739363B323830303B323830343B323830383B323831313B323831333B323831363B323831383B323831380D0A523D323831393B323831393B323831393B323831393B323831393B323831393B323831383B323831373B323831363B323831340D0A523D323831333B323831313B323831303B323830383B323830373B323830353B323830343B323830323B323830303B323739380D0A523D323739363B323739343B323739323B323739313B323738393B323738373B323738353B323738333B323738313B323737390D0A523D323737373B323737353B323737323B323737303B323736373B323736343B323736313B323735393B323735363B323735340D0A523D323735313B323734383B323734353B323734323B323734303B323733373B323733343B323733313B323732393B323732360D0A523D323732333B323732313B323731383B323731363B323731333B323730393B323730363B323730323B323639393B323639350D0A523D323639333B323639323B323639303B323638383B323638363B323638343B323638313B323637393B323637373B323637350D0A523D323637343B323637323B323637303B323636383B323636353B323636333B323636323B323636313B323635393B323635370D0A523D323635343B323635313B323634393B323634383B323634373B323634363B323634353B323634343B323634323B323634310D0A523D323634303B323633383B323633373B323633363B323633353B323633343B323633333B323633313B323633303B323632390D0A523D323632383B323632373B323632373B323632353B323632343B323632333B323632333B323632323B323632313B323632300D0A523D323632303B323631383B323631373B323631363B323631363B323631353B323631353B323631343B323631333B323631320D0A523D323631323B323631313B323631313B323631303B323630393B323630383B323630383B323630373B323630373B323630360D0A523D323630353B323630343B323630333B323630333B323630323B323630323B323630323B323630323B323630313B323630310D0A523D323630303B323630303B323539393B323539393B323539393B323539393B323539383B323539373B323539363B323539350D0A523D323539343B323539333B323539323B323539303B323538393B323538373B323538353B323538333B323538313B323537380D0A523D323537363B323537343B323537323B323536393B323536373B323536353B323536323B323536303B323535373B323535350D0A523D323535323B323535303B323534373B323534353B323534323B323533393B323533373B323533343B323533323B323532390D0A523D323532373B323532343B323532313B323531393B323531363B323531343B323531313B323530383B323530353B323530320D0A523D323439393B323439363B323439333B323439303B323438373B323438333B323438303B323437373B323437333B323437300D0A523D323436373B323436343B323436313B323435373B323435343B323435313B323434373B323434343B323434303B323433360D0A523D323433313B323432373B323432333B323431393B323431353B323431303B323430353B323430313B323339373B323339330D0A523D323338383B323338333B323337383B323337333B323336393B323336343B323335393B323335343B323334393B323334340D0A523D323333393B323333343B323332393B323332343B323331393B323331343B323330383B323330333B323239383B323239330D0A523D323238383B323238333B323237383B323237333B323236383B323236323B323235373B323235333B323234383B323234330D0A523D323233393B323233343B323232393B323232343B323231393B323231353B323231313B323230373B323230333B323139390D0A523D323139353B323139313B323138363B323138323B323137383B323137343B323136393B323136353B323136313B323135370D0A523D323135343B323135303B323134363B323134323B323133393B323133353B323133313B323132383B323132343B323132310D0A523D323131373B323131343B323131313B323130373B323130343B323130313B323039383B323039353B323039323B323038390D0A523D323038363B323038333B323038303B323037373B323037343B323037313B323036393B323036363B323036343B323036310D0A523D323035383B323035363B323035333B323035313B323034393B323034373B323034353B323034323B323034303B323033370D0A523D323033353B323033333B323033313B323032393B323032383B323032363B323032343B323032323B323032303B323031380D0A523D323031373B323031353B323031333B323031313B323031303B323030383B323030373B323030353B323030333B323030310D0A523D323030303B313939393B313939373B313939363B313939343B313939333B313939323B313939313B313938393B313938380D0A523D313938373B313938363B313938353B313938343B313938333B313938323B313938323B313938313B313938303B313937390D0A523D313937383B313937373B313937373B313937363B313937363B313937353B313937353B313937343B313937333B313937320D0A523D313937323B313937313B313937313B313937303B313937303B313936393B313936393B313936383B313936383B313936380D0A523D313936383B313936373B313936373B313936373B313936373B313936363B313936363B313936363B313936363B313936350D0A523D313936353B313936353B313936353B313936353B313936343B313936343B313936343B313936343B313936343B313936340D0A523D313936343B313936343B313936343B313936343B313936343B313936343B313936343B313936343B313936343B313936340D0A523D313936353B313936353B313936353B313936353B313936363B313936363B313936363B313936363B313936373B313936370D0A523D313936383B313936383B313936393B313936393B313937303B313937303B313937313B313937313B313937323B313937320D0A523D313937333B313937333B313937343B313937343B313937353B313937363B313937363B313937373B313937373B313937380D0A523D313937383B313937393B313937393B313938303B313938313B313938323B313938323B313938333B313938343B313938350D0A523D313938353B313938363B313938373B313938383B313938393B313939313B313939323B313939333B313939343B313939350D0A523D313939363B313939373B313939383B313939393B323030303B323030313B323030323B323030333B323030343B323030350D0A523D323030363B323030373B323030383B323031303B323031313B323031333B323031343B323031353B323031373B323031380D0A523D323032303B323032313B323032333B323032343B323032363B323032373B323033303B323033313B323033333B323033350D0A523D323033373B323033393B323034313B323034333B323034353B323034373B323034393B323035313B323035333B323035350D0A523D323035373B323036303B323036323B323036343B323036363B323036383B323037303B323037333B323037353B323037380D0A523D323038303B323038323B323038353B323038373B323038393B323039313B323039343B323039373B323039393B323130320D0A523D323130343B323130373B323130393B323131323B323131343B323131373B323132303B323132333B323132363B323132390D0A523D323133323B323133343B323133373B323134303B323134333B323134363B323134393B323135323B323135363B323135390D0A523D323136323B323136353B323136383B323137313B323137343B323137373B323138303B323138343B323138383B323139310D0A523D323139353B323139383B323230323B323230363B323231303B323231343B323231373B323232313B323232353B323233300D0A523D323233343B323233383B323234333B323234383B323235323B323235373B323236313B323236363B323237313B323237350D0A523D323238303B323238353B323239303B323239353B323330303B323330353B323331303B323331353B323332303B323332360D0A523D323333313B323333373B323334323B323334373B323335333B323335383B323336333B323336393B323337343B323338300D0A523D323338363B323339313B323339373B323430333B323430383B323431343B323431393B323432363B323433323B323433370D0A545243464D543D313B313030303B453B4C3B460D0A523D323634303B323634313B323634323B323634343B323634353B323634363B323634373B323634383B323634393B323635310D0A523D323635343B323635373B323635393B323636313B323636323B323636333B323636353B323636383B323637303B323637320D0A523D323637343B323637353B323637373B323637393B323638313B323638343B323638363B323638383B323639303B323639320D0A523D323639333B323639353B323639393B323730323B323730363B323730393B323731333B323731363B323731383B323732310D0A523D323732333B323732363B323732393B323733313B323733343B323733373B323734303B323734323B323734353B323734380D0A523D323735313B323735343B323735363B323735393B323736313B323736343B323736373B323737303B323737323B323737350D0A523D323737373B323737393B323738313B323738333B323738353B323738373B323738393B323739313B323739323B323739340D0A523D323739363B323739383B323830303B323830323B323830343B323830353B323830373B323830383B323831303B323831310D0A523D323831333B323831343B323831363B323831373B323831383B323831393B323831393B323831393B323831393B323831390D0A523D323831393B323831383B323831383B323831363B323831333B323831313B323830383B323830343B323830303B323739360D0A523D323739313B323738373B323738323B323737363B323737303B323736353B323735393B323735333B323734363B323733390D0A523D323733333B323732353B323731383B323731303B323730323B323639343B323638353B323637373B323636383B323635380D0A523D323635303B323634313B323633323B323632323B323631333B323630343B323539343B323538353B323537353B323536360D0A523D323535363B323534373B323533373B323532373B323531383B323530393B323530303B323439313B323438323B323437330D0A523D323436343B323435363B323434373B323433393B323433303B323432323B323431343B323430363B323339383B323338390D0A523D323338313B323337333B323336363B323335383B323334393B323334323B323333343B323332363B323331393B323331310D0A523D323330333B323239363B323238393B323238323B323237343B323236383B323236313B323235343B323234383B323234320D0A523D323233363B323232393B323232333B323231383B323231333B323230383B323230333B323139383B323139343B323138380D0A523D323138323B323137373B323137323B323136373B323136323B323135383B323135333B323134393B323134353B323134310D0A523D323133373B323133333B323132393B323132343B323132303B323131363B323131323B323130383B323130343B323130310D0A523D323039373B323039333B323038393B323038353B323038313B323037373B323037343B323037313B323036383B323036350D0A523D323036323B323035393B323035363B323035333B323035303B323034383B323034353B323034323B323033393B323033360D0A523D323033343B323033323B323033303B323032383B323032363B323032343B323032323B323032303B323031393B323031370D0A523D323031363B323031343B323031333B323031323B323031313B323030393B323030383B323030373B323030363B323030360D0A523D323030353B323030353B323030343B323030343B323030333B323030323B323030313B323030313B323030313B323030310D0A523D323030303B323030303B323030303B323030303B323030303B323030303B323030303B323030303B323030303B323030310D0A523D323030313B323030313B323030313B323030323B323030323B323030333B323030343B323030353B323030353B323030360D0A523D323030363B323030383B323030393B323031303B323031313B323031323B323031343B323031353B323031363B323031380D0A523D323031393B323032313B323032323B323032343B323032363B323032383B323033303B323033323B323033343B323033370D0A523D323033393B323034313B323034343B323034363B323034393B323035323B323035353B323035373B323036303B323036340D0A523D323036373B323037303B323037333B323037363B323038303B323038333B323038373B323039303B323039353B323039390D0A523D323130333B323130373B323131313B323131353B323131393B323132343B323132383B323133333B323133373B323134320D0A523D323134373B323135323B323135373B323136323B323136373B323137323B323137383B323138343B323138393B323139350D0A523D323230313B323230373B323231333B323231393B323232353B323233313B323233373B323234343B323235313B323235370D0A523D323236343B323237313B323237373B323238343B323239313B323239383B323330353B323331323B323331393B323332370D0A523D323333343B323334323B323334393B323335363B323336343B323337323B323338303B323338383B323339363B323430340D0A523D323431323B323432303B323432393B323433383B323434363B323435353B323436343B323437323B323438313B323439310D0A523D323530303B323530393B323531383B323532383B323533373B323534373B323535373B323536373B323537373B323538370D0A523D323539373B323630373B323631383B323632383B323633393B323634393B323636303B323637303B323638303B323639300D0A523D323730313B323731313B323732323B323733323B323734323B323735323B323736313B323737313B323738313B323739300D0A523D323739393B323830383B323831373B323832353B323833343B323834313B323834393B323835363B323836343B323837300D0A523D323837363B323838313B323838363B323839303B323839343B323839363B323839393B323930313B323930333B323930340D0A523D323930343B323930343B323930343B323930333B323930333B323930313B323839393B323839373B323839343B323839310D0A523D323838383B323838343B323838313B323837373B323837333B323836393B323836353B323836313B323835373B323835320D0A523D323834373B323834323B323833373B323833313B323832353B323832303B323831333B323830373B323830303B323739330D0A523D323738363B323737393B323737323B323736353B323735383B323735313B323734333B323733353B323732383B323732300D0A523D323731323B323730353B323639373B323639303B323638333B323637363B323636383B323636313B323635343B323634370D0A523D323634303B323633333B323632363B323631393B323631323B323630353B323539393B323539323B323538353B323537390D0A523D323537323B323536353B323535383B323535313B323534343B323533383B323533313B323532353B323531383B323531310D0A523D323530353B323439383B323439323B323438363B323437393B323437333B323436373B323436303B323435343B323434390D0A523D323434333B323433373B323433323B323432363B323431393B323431343B323430383B323430333B323339373B323339310D0A523D323338363B323338303B323337343B323336393B323336333B323335383B323335333B323334373B323334323B323333370D0A523D323333313B323332363B323332303B323331353B323331303B323330353B323330303B323239353B323239303B323238350D0A523D323238303B323237353B323237313B323236363B323236313B323235373B323235323B323234383B323234333B323233380D0A523D323233343B323233303B323232353B323232313B323231373B323231343B323231303B323230363B323230323B323139380D0A523D323139353B323139313B323138383B323138343B323138303B323137373B323137343B323137313B323136383B323136350D0A523D323136323B323135393B323135363B323135323B323134393B323134363B323134333B323134303B323133373B323133340D0A523D323133323B323132393B323132363B323132333B323132303B323131373B323131343B323131323B323130393B323130370D0A523D323130343B323130323B323039393B323039373B323039343B323039313B323038393B323038373B323038353B323038320D0A523D323038303B323037383B323037353B323037333B323037303B323036383B323036363B323036343B323036323B323036300D0A523D323035373B323035353B323035333B323035313B323034393B323034373B323034353B323034333B323034313B323033390D0A523D323033373B323033353B323033333B323033313B323033303B323032373B323032363B323032343B323032333B323032310D0A523D323032303B323031383B323031373B323031353B323031343B323031333B323031313B323031303B323030383B323030370D0A523D323030363B323030353B323030343B323030333B323030323B323030313B323030303B313939393B313939383B313939370D0A523D313939363B313939353B313939343B313939333B313939323B313939313B313938393B313938383B313938373B313938360D0A523D313938353B313938353B313938343B313938333B313938323B313938323B313938313B313938303B313937393B313937390D0A523D313937383B313937383B313937373B313937373B313937363B313937363B313937353B313937343B313937343B313937330D0A523D313937333B313937323B313937323B313937313B313937313B313937303B313937303B313936393B313936393B313936380D0A523D313936383B313936373B313936373B313936363B313936363B313936363B313936363B313936353B313936353B313936350D0A523D313936353B313936343B313936343B313936343B313936343B313936343B313936343B313936343B313936343B313936340D0A523D313936343B313936343B313936343B313936343B313936343B313936343B313936343B313936353B313936353B313936350D0A523D313936353B313936353B313936363B313936363B313936363B313936363B313936373B313936373B313936373B313936370D0A523D313936383B313936383B313936383B313936383B313936393B313936393B313937303B313937303B313937313B313937310D0A523D313937323B313937323B313937333B313937343B313937353B313937353B313937363B313937363B313937373B313937370D0A523D313937383B313937393B313938303B313938313B313938323B313938323B313938333B313938343B313938353B313938360D0A523D313938373B313938383B313938393B313939313B313939323B313939333B313939343B313939363B313939373B313939390D0A523D323030303B323030313B323030333B323030353B323030373B323030383B323031303B323031313B323031333B323031350D0A523D323031373B323031383B323032303B323032323B323032343B323032363B323032383B323032393B323033313B323033330D0A523D323033353B323033373B323034303B323034323B323034353B323034373B323034393B323035313B323035333B323035360D0A523D323035383B323036313B323036343B323036363B323036393B323037313B323037343B323037373B323038303B323038330D0A523D323038363B323038393B323039323B323039353B323039383B323130313B323130343B323130373B323131313B323131340D0A523D323131373B323132313B323132343B323132383B323133313B323133353B323133393B323134323B323134363B323135300D0A523D323135343B323135373B323136313B323136353B323136393B323137343B323137383B323138323B323138363B323139310D0A523D323139353B323139393B323230333B323230373B323231313B323231353B323231393B323232343B323232393B323233340D0A523D323233393B323234333B323234383B323235333B323235373B323236323B323236383B323237333B323237383B323238330D0A523D323238383B323239333B323239383B323330333B323330383B323331343B323331393B323332343B323332393B323333340D0A523D323333393B323334343B323334393B323335343B323335393B323336343B323336393B323337333B323337383B323338330D0A523D323338383B323339333B323339373B323430313B323430353B323431303B323431353B323431393B323432333B323432370D0A523D323433313B323433363B323434303B323434343B323434373B323435313B323435343B323435373B323436313B323436340D0A523D323436373B323437303B323437333B323437373B323438303B323438333B323438373B323439303B323439333B323439360D0A523D323439393B323530323B323530353B323530383B323531313B323531343B323531363B323531393B323532313B323532340D0A523D323532373B323532393B323533323B323533343B323533373B323533393B323534323B323534353B323534373B323535300D0A523D323535323B323535353B323535373B323536303B323536323B323536353B323536373B323536393B323537323B323537340D0A523D323537363B323537383B323538313B323538333B323538353B323538373B323538393B323539303B323539323B323539330D0A523D323539343B323539353B323539363B323539373B323539383B323539393B323539393B323539393B323539393B323630300D0A523D323630303B323630313B323630313B323630323B323630323B323630323B323630323B323630333B323630333B323630340D0A523D323630353B323630363B323630373B323630373B323630383B323630383B323630393B323631303B323631313B323631310D0A523D323631323B323631323B323631333B323631343B323631353B323631353B323631363B323631363B323631373B323631380D0A523D323632303B323632303B323632313B323632323B323632333B323632333B323632343B323632353B323632373B323632370D0A523D323632383B323632393B323633303B323633313B323633333B323633343B323633353B323633363B323633373B323633380D0A56424F583D34302E30333B34302E30330D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35382E30383B35382E30380D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                        }

                        if ($information_commande->precalibrage->calibre ==
                            13) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3134372E3732303B3134372E3732300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35312E33303B35312E33300D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323430343B323430393B323431343B323432303B323432353B323433313B323433363B323434313B323434373B323435330D0A523D323435393B323436353B323437313B323437383B323438343B323439303B323439363B323530333B323531303B323531370D0A523D323532343B323533313B323533373B323534343B323535313B323535373B323536343B323537303B323537363B323538320D0A523D323538383B323539343B323539393B323630353B323631303B323631363B323632313B323632353B323633313B323633360D0A523D323634313B323634363B323635313B323635363B323636313B323636363B323637323B323637383B323638333B323638390D0A523D323639353B323730303B323730363B323731333B323731393B323732353B323733323B323733383B323734353B323735320D0A523D323735383B323736353B323737323B323737383B323738343B323739303B323739363B323830303B323830353B323830370D0A523D323830393B323830373B323830343B323739353B323738353B323737303B323735343B323733353B323731353B323639350D0A523D323637353B323635333B323633323B323631303B323538393B323536383B323534373B323532373B323530383B323438380D0A523D323436393B323435303B323433313B323431333B323339353B323337373B323335393B323334323B323332353B323330380D0A523D323239323B323237363B323236303B323234343B323232393B323231333B323139383B323138333B323136393B323135340D0A523D323134303B323132373B323131333B323039393B323038353B323037323B323035393B323034363B323033343B323032320D0A523D323031303B313939383B313938373B313937363B313936343B313935333B313934323B313933323B313932313B313931310D0A523D313930313B313839323B313838323B313837323B313836333B313835343B313834353B313833363B313832383B313831390D0A523D313831313B313830333B313739353B313738373B313737393B313737313B313736343B313735363B313734393B313734320D0A523D313733363B313732393B313732313B313731353B313730393B313730323B313639363B313638393B313638333B313637370D0A523D313637313B313636353B313636303B313635343B313634383B313634333B313633373B313633323B313632373B313632320D0A523D313631373B313631313B313630363B313630323B313539373B313539333B313538383B313538343B313538303B313537350D0A523D313537313B313536373B313536333B313535393B313535353B313535313B313534373B313534343B313534303B313533370D0A523D313533333B313533303B313532373B313532333B313532303B313531383B313531353B313531323B313530393B313530370D0A523D313530343B313530313B313439383B313439353B313439333B313439313B313438393B313438363B313438343B313438320D0A523D313438303B313437383B313437363B313437343B313437323B313437303B313436383B313436373B313436353B313436340D0A523D313436323B313436313B313436303B313435393B313435383B313435373B313435363B313435353B313435343B313435330D0A523D313435323B313435323B313435313B313435313B313435303B313435303B313434393B313434393B313434383B313434380D0A523D313434383B313434383B313434383B313434383B313434383B313434383B313434383B313434383B313434383B313434380D0A523D313434383B313434383B313434383B313434393B313434393B313435303B313435303B313435313B313435313B313435320D0A523D313435323B313435333B313435333B313435343B313435363B313435373B313435383B313435393B313436303B313436310D0A523D313436323B313436343B313436353B313436363B313436383B313436393B313437313B313437333B313437353B313437370D0A523D313437383B313438303B313438333B313438353B313438373B313438393B313439313B313439343B313439363B313439380D0A523D313530303B313530323B313530343B313530363B313530383B313531303B313531333B313531353B313531383B313532320D0A523D313532353B313532393B313533323B313533353B313533383B313534313B313534343B313534373B313535303B313535330D0A523D313535373B313536313B313536353B313536393B313537333B313537383B313538323B313538373B313539313B313539360D0A523D313630313B313630363B313631313B313631363B313632313B313632363B313633323B313633383B313634333B313634390D0A523D313635363B313636313B313636373B313637323B313637383B313638353B313639313B313639383B313730343B313731300D0A523D313731373B313732343B313733303B313733383B313734353B313735323B313735393B313736373B313737343B313738320D0A523D313738393B313739373B313830353B313831333B313832313B313832393B313833383B313834363B313835353B313836340D0A523D313837333B313838333B313839323B313930313B313931313B313932323B313933323B313934333B313935343B313936340D0A523D313937363B313938373B313939383B323030393B323032313B323033333B323034363B323035393B323037313B323038340D0A523D323039383B323131313B323132353B323133393B323135333B323136373B323138323B323139373B323231323B323232370D0A523D323234343B323236303B323237373B323239343B323331313B323332383B323334363B323336343B323338323B323430300D0A523D323431393B323433383B323435373B323437373B323439383B323531383B323533393B323536313B323538333B323630350D0A523D323632383B323635313B323637343B323639363B323731373B323733343B323735313B323736323B323737333B323737390D0A523D323738353B323738393B323739323B323739333B323739343B323739323B323738393B323738353B323738313B323737360D0A523D323737303B323736343B323735383B323735323B323734363B323733393B323733333B323732373B323732313B323731350D0A523D323730393B323730333B323639383B323639323B323638373B323638323B323637363B323637313B323636363B323636310D0A523D323635363B323635323B323634373B323634333B323633383B323633323B323632383B323632343B323632303B323631350D0A523D323631313B323630373B323630343B323630313B323539383B323539353B323539323B323538383B323538353B323538320D0A523D323537393B323537363B323537343B323537323B323537303B323536383B323536363B323536353B323536343B323536330D0A523D323536313B323536303B323535393B323535393B323535383B323535383B323535373B323535373B323535363B323535360D0A523D323535353B323535353B323535353B323535353B323535353B323535353B323535353B323535353B323535353B323535350D0A523D323535363B323535373B323535373B323535383B323535383B323535393B323535393B323536303B323536313B323536330D0A523D323536343B323536363B323536373B323536383B323537303B323537313B323537333B323537353B323537373B323537390D0A523D323538313B323538343B323538363B323538393B323539313B323539333B323539363B323539383B323630313B323630340D0A523D323630373B323631303B323631343B323631373B323632313B323632353B323632393B323633333B323633373B323634320D0A523D323634363B323635313B323635363B323636303B323636353B323636393B323637353B323638303B323638353B323639300D0A523D323639363B323730313B323730373B323731333B323731393B323732353B323733323B323733383B323734353B323735320D0A523D323735383B323736353B323737323B323737393B323738363B323739323B323739393B323830343B323831303B323831340D0A523D323831383B323832303B323832323B323832303B323831383B323831323B323830353B323739323B323737383B323735390D0A523D323733393B323731363B323639343B323637323B323635303B323632383B323630363B323538353B323536353B323534350D0A523D323532353B323530363B323438363B323436373B323434373B323432393B323431313B323339323B323337343B323335370D0A523D323333393B323332323B323330353B323238393B323237343B323235383B323234333B323232373B323231313B323139370D0A523D323138323B323136383B323135333B323133393B323132353B323131323B323039393B323038353B323037333B323036300D0A523D323034373B323033353B323032333B323031323B323030303B313938393B313937383B313936363B313935363B313934350D0A523D313933343B313932333B313931323B313930323B313839333B313838343B313837353B313836353B313835363B313834360D0A523D313833363B313832373B313831383B313831303B313830313B313739333B313738363B313737383B313737303B313736330D0A523D313735363B313734393B313734313B313733353B313732383B313732323B313731363B313730393B313730333B313639380D0A523D313639323B313638363B313638303B313637343B313636383B313636333B313635373B313635323B313634373B313634320D0A523D313633373B313633313B313632363B313632313B313631363B313631323B313630373B313630323B313539383B313539340D0A523D313539303B313538363B313538313B313537373B313537333B313536393B313536353B313536313B313535373B313535340D0A523D313535303B313534373B313534343B313534303B313533373B313533343B313533313B313532383B313532353B313532320D0A523D313531393B313531363B313531323B313530393B313530373B313530343B313530323B313530303B313439383B313439350D0A523D313439323B313439303B313438383B313438373B313438353B313438333B313438313B313437393B313437373B313437360D0A523D313437343B313437333B313437313B313436393B313436383B313436373B313436363B313436353B313436343B313436330D0A523D313436313B313436313B313436303B313435393B313435383B313435383B313435373B313435373B313435363B313435360D0A523D313435353B313435353B313435353B313435353B313435343B313435343B313435343B313435343B313435333B313435330D0A523D313435333B313435333B313435333B313435333B313435333B313435333B313435333B313435343B313435343B313435350D0A523D313435353B313435353B313435353B313435363B313435363B313435373B313435383B313435393B313435393B313436300D0A523D313436303B313436323B313436333B313436343B313436353B313436363B313436373B313436383B313437303B313437320D0A523D313437333B313437353B313437363B313437383B313437393B313438313B313438333B313438353B313438373B313438390D0A523D313439313B313439333B313439363B313439383B313530303B313530323B313530353B313530373B313531303B313531340D0A523D313531373B313532303B313532333B313532363B313532393B313533323B313533363B313533393B313534333B313534360D0A523D313535303B313535343B313535383B313536323B313536363B313537303B313537343B313537383B313538333B313538370D0A523D313539323B313539363B313630313B313630353B313631303B313631353B313632303B313632353B313633303B313633360D0A523D313634323B313634373B313635333B313635383B313636343B313637303B313637353B313638323B313638383B313639340D0A523D313730303B313730363B313731323B313731393B313732363B313733323B313733393B313734363B313735333B313736310D0A523D313736383B313737353B313738323B313739303B313739383B313830353B313831333B313832323B313833303B313833380D0A523D313834363B313835353B313836343B313837333B313838333B313839323B313930313B313931303B313932303B313933300D0A523D313933393B313934393B313936303B313937303B313938313B313939323B323030333B323031343B323032353B323033360D0A523D323034383B323036303B323037323B323038343B323039373B323130393B323132323B323133353B323134373B323136300D0A523D323137343B323138373B323230303B323231343B323232373B323234303B323235333B323236353B323237373B323238380D0A523D323239393B323330383B323331363B323332333B323332393B323333333B323333363B323333383B323333393B323333390D0A523D323333383B323333373B323333363B323333353B323333333B323333313B323332393B323332373B323332353B323332330D0A523D323332313B323331383B323331363B323331333B323331313B323330383B323330363B323330343B323330313B323239390D0A523D323239383B323239363B323239353B323239343B323239333B323239323B323239313B323239303B323239303B323238390D0A523D323238383B323238373B323238373B323238363B323238363B323238363B323238363B323238353B323238353B323238350D0A523D323238353B323238353B323238353B323238353B323238353B323238363B323238363B323238373B323238373B323238380D0A523D323238393B323239303B323239313B323239323B323239343B323239353B323239373B323239383B323330303B323330310D0A523D323330333B323330353B323330373B323331303B323331323B323331343B323331373B323331393B323332323B323332340D0A523D323332373B323333303B323333333B323333363B323333393B323334323B323334363B323334393B323335333B323335370D0A523D323336313B323336353B323336393B323337333B323337373B323338323B323338363B323339303B323339353B323339390D0A545243464D543D313B313030303B453B4C3B460D0A523D323535363B323535353B323535353B323535353B323535353B323535353B323535353B323535353B323535353B323535350D0A523D323535353B323535363B323535363B323535373B323535373B323535383B323535383B323535393B323535393B323536300D0A523D323536313B323536333B323536343B323536353B323536363B323536383B323537303B323537323B323537343B323537360D0A523D323537393B323538323B323538353B323538383B323539323B323539353B323539383B323630313B323630343B323630370D0A523D323631313B323631353B323632303B323632343B323632383B323633323B323633383B323634333B323634373B323635320D0A523D323635363B323636313B323636363B323637313B323637363B323638323B323638373B323639323B323639383B323730330D0A523D323730393B323731353B323732313B323732373B323733333B323733393B323734363B323735323B323735383B323736340D0A523D323737303B323737363B323738313B323738353B323738393B323739323B323739343B323739333B323739323B323738390D0A523D323738353B323737393B323737333B323736323B323735313B323733343B323731373B323639363B323637343B323635310D0A523D323632383B323630353B323538333B323536313B323533393B323531383B323439383B323437373B323435373B323433380D0A523D323431393B323430303B323338323B323336343B323334363B323332383B323331313B323239343B323237373B323236300D0A523D323234343B323232373B323231323B323139373B323138323B323136373B323135333B323133393B323132353B323131310D0A523D323039383B323038343B323037313B323035393B323034363B323033333B323032313B323030393B313939383B313938370D0A523D313937363B313936343B313935343B313934333B313933323B313932323B313931313B313930313B313839323B313838330D0A523D313837333B313836343B313835353B313834363B313833383B313832393B313832313B313831333B313830353B313739370D0A523D313738393B313738323B313737343B313736373B313735393B313735323B313734353B313733383B313733303B313732340D0A523D313731373B313731303B313730343B313639383B313639313B313638353B313637383B313637323B313636373B313636310D0A523D313635363B313634393B313634333B313633383B313633323B313632363B313632313B313631363B313631313B313630360D0A523D313630313B313539363B313539313B313538373B313538323B313537383B313537333B313536393B313536353B313536310D0A523D313535373B313535333B313535303B313534373B313534343B313534313B313533383B313533353B313533323B313532390D0A523D313532353B313532323B313531383B313531353B313531333B313531303B313530383B313530363B313530343B313530320D0A523D313530303B313439383B313439363B313439343B313439313B313438393B313438373B313438353B313438333B313438300D0A523D313437383B313437373B313437353B313437333B313437313B313436393B313436383B313436363B313436353B313436340D0A523D313436323B313436313B313436303B313435393B313435383B313435373B313435363B313435343B313435333B313435330D0A523D313435323B313435323B313435313B313435313B313435303B313435303B313434393B313434393B313434383B313434380D0A523D313434383B313434383B313434383B313434383B313434383B313434383B313434383B313434383B313434383B313434380D0A523D313434383B313434383B313434383B313434393B313434393B313435303B313435303B313435313B313435313B313435320D0A523D313435323B313435333B313435343B313435353B313435363B313435373B313435383B313435393B313436303B313436310D0A523D313436323B313436343B313436353B313436373B313436383B313437303B313437323B313437343B313437363B313437380D0A523D313438303B313438323B313438343B313438363B313438393B313439313B313439333B313439353B313439383B313530310D0A523D313530343B313530373B313530393B313531323B313531353B313531383B313532303B313532333B313532373B313533300D0A523D313533333B313533373B313534303B313534343B313534373B313535313B313535353B313535393B313536333B313536370D0A523D313537313B313537353B313538303B313538343B313538383B313539333B313539373B313630323B313630363B313631310D0A523D313631373B313632323B313632373B313633323B313633373B313634333B313634383B313635343B313636303B313636350D0A523D313637313B313637373B313638333B313638393B313639363B313730323B313730393B313731353B313732313B313732390D0A523D313733363B313734323B313734393B313735363B313736343B313737313B313737393B313738373B313739353B313830330D0A523D313831313B313831393B313832383B313833363B313834353B313835343B313836333B313837323B313838323B313839320D0A523D313930313B313931313B313932313B313933323B313934323B313935333B313936343B313937363B313938373B313939380D0A523D323031303B323032323B323033343B323034363B323035393B323037323B323038353B323039393B323131333B323132370D0A523D323134303B323135343B323136393B323138333B323139383B323231333B323232393B323234343B323236303B323237360D0A523D323239323B323330383B323332353B323334323B323335393B323337373B323339353B323431333B323433313B323435300D0A523D323436393B323438383B323530383B323532373B323534373B323536383B323538393B323631303B323633323B323635330D0A523D323637353B323639353B323731353B323733353B323735343B323737303B323738353B323739353B323830343B323830370D0A523D323830393B323830373B323830353B323830303B323739363B323739303B323738343B323737383B323737323B323736350D0A523D323735383B323735323B323734353B323733383B323733323B323732353B323731393B323731333B323730363B323730300D0A523D323639353B323638393B323638333B323637383B323637323B323636363B323636313B323635363B323635313B323634360D0A523D323634313B323633363B323633313B323632353B323632313B323631363B323631303B323630353B323539393B323539340D0A523D323538383B323538323B323537363B323537303B323536343B323535373B323535313B323534343B323533373B323533310D0A523D323532343B323531373B323531303B323530333B323439363B323439303B323438343B323437383B323437313B323436350D0A523D323435393B323435333B323434373B323434313B323433363B323433313B323432353B323432303B323431343B323430390D0A523D323430343B323339393B323339353B323339303B323338363B323338323B323337373B323337333B323336393B323336350D0A523D323336313B323335373B323335333B323334393B323334363B323334323B323333393B323333363B323333333B323333300D0A523D323332373B323332343B323332323B323331393B323331373B323331343B323331323B323331303B323330373B323330350D0A523D323330333B323330313B323330303B323239383B323239373B323239353B323239343B323239323B323239313B323239300D0A523D323238393B323238383B323238373B323238373B323238363B323238363B323238353B323238353B323238353B323238350D0A523D323238353B323238353B323238353B323238353B323238363B323238363B323238363B323238363B323238373B323238370D0A523D323238383B323238393B323239303B323239303B323239313B323239323B323239333B323239343B323239353B323239360D0A523D323239383B323239393B323330313B323330343B323330363B323330383B323331313B323331333B323331363B323331380D0A523D323332313B323332333B323332353B323332373B323332393B323333313B323333333B323333353B323333363B323333370D0A523D323333383B323333393B323333393B323333383B323333363B323333333B323332393B323332333B323331363B323330380D0A523D323239393B323238383B323237373B323236353B323235333B323234303B323232373B323231343B323230303B323138370D0A523D323137343B323136303B323134373B323133353B323132323B323130393B323039373B323038343B323037323B323036300D0A523D323034383B323033363B323032353B323031343B323030333B313939323B313938313B313937303B313936303B313934390D0A523D313933393B313933303B313932303B313931303B313930313B313839323B313838333B313837333B313836343B313835350D0A523D313834363B313833383B313833303B313832323B313831333B313830353B313739383B313739303B313738323B313737350D0A523D313736383B313736313B313735333B313734363B313733393B313733323B313732363B313731393B313731323B313730360D0A523D313730303B313639343B313638383B313638323B313637353B313637303B313636343B313635383B313635333B313634370D0A523D313634323B313633363B313633303B313632353B313632303B313631353B313631303B313630353B313630313B313539360D0A523D313539323B313538373B313538333B313537383B313537343B313537303B313536363B313536323B313535383B313535340D0A523D313535303B313534363B313534333B313533393B313533363B313533323B313532393B313532363B313532333B313532300D0A523D313531373B313531343B313531303B313530373B313530353B313530323B313530303B313439383B313439363B313439330D0A523D313439313B313438393B313438373B313438353B313438333B313438313B313437393B313437383B313437363B313437350D0A523D313437333B313437323B313437303B313436383B313436373B313436363B313436353B313436343B313436333B313436320D0A523D313436303B313436303B313435393B313435393B313435383B313435373B313435363B313435363B313435353B313435350D0A523D313435353B313435353B313435343B313435343B313435333B313435333B313435333B313435333B313435333B313435330D0A523D313435333B313435333B313435333B313435343B313435343B313435343B313435343B313435353B313435353B313435350D0A523D313435353B313435363B313435363B313435373B313435373B313435383B313435383B313435393B313436303B313436310D0A523D313436313B313436333B313436343B313436353B313436363B313436373B313436383B313436393B313437313B313437330D0A523D313437343B313437363B313437373B313437393B313438313B313438333B313438353B313438373B313438383B313439300D0A523D313439323B313439353B313439383B313530303B313530323B313530343B313530373B313530393B313531323B313531360D0A523D313531393B313532323B313532353B313532383B313533313B313533343B313533373B313534303B313534343B313534370D0A523D313535303B313535343B313535373B313536313B313536353B313536393B313537333B313537373B313538313B313538360D0A523D313539303B313539343B313539383B313630323B313630373B313631323B313631363B313632313B313632363B313633310D0A523D313633373B313634323B313634373B313635323B313635373B313636333B313636383B313637343B313638303B313638360D0A523D313639323B313639383B313730333B313730393B313731363B313732323B313732383B313733353B313734313B313734390D0A523D313735363B313736333B313737303B313737383B313738363B313739333B313830313B313831303B313831383B313832370D0A523D313833363B313834363B313835363B313836353B313837353B313838343B313839333B313930323B313931323B313932330D0A523D313933343B313934353B313935363B313936363B313937383B313938393B323030303B323031323B323032333B323033350D0A523D323034373B323036303B323037333B323038353B323039393B323131323B323132353B323133393B323135333B323136380D0A523D323138323B323139373B323231313B323232373B323234333B323235383B323237343B323238393B323330353B323332320D0A523D323333393B323335373B323337343B323339323B323431313B323432393B323434373B323436373B323438363B323530360D0A523D323532353B323534353B323536353B323538353B323630363B323632383B323635303B323637323B323639343B323731360D0A523D323733393B323735393B323737383B323739323B323830353B323831323B323831383B323832303B323832323B323832300D0A523D323831383B323831343B323831303B323830343B323739393B323739323B323738363B323737393B323737323B323736350D0A523D323735383B323735323B323734353B323733383B323733323B323732353B323731393B323731333B323730373B323730310D0A523D323639363B323639303B323638353B323638303B323637353B323636393B323636353B323636303B323635363B323635310D0A523D323634363B323634323B323633373B323633333B323632393B323632353B323632313B323631373B323631343B323631300D0A523D323630373B323630343B323630313B323539383B323539363B323539333B323539313B323538393B323538363B323538340D0A523D323538313B323537393B323537373B323537353B323537333B323537313B323537303B323536383B323536373B323536360D0A523D323536343B323536333B323536313B323536303B323535393B323535393B323535383B323535383B323535373B323535370D0A56424F583D32392E30373B32392E30370D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35362E34343B35362E34340D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                        }

                        if ($information_commande->precalibrage->calibre ==
                            14) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3134332E3336303B3134332E3336300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35312E30333B35312E30330D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323531303B323531323B323531343B323531373B323531393B323532313B323532333B323532363B323532393B323533320D0A523D323533353B323533373B323534303B323534333B323534363B323534393B323535323B323535353B323535373B323536300D0A523D323536333B323536373B323537303B323537333B323537373B323538303B323538333B323538373B323539303B323539330D0A523D323539373B323630303B323630343B323630373B323631313B323631343B323631383B323632323B323632363B323633300D0A523D323633343B323633383B323634323B323634353B323634393B323635323B323635363B323636303B323636333B323636360D0A523D323636393B323637323B323637353B323637383B323638303B323638333B323638353B323638373B323638383B323639300D0A523D323639313B323639323B323639333B323639333B323639343B323639343B323639343B323639333B323639323B323639310D0A523D323638393B323638383B323638363B323638333B323638303B323637363B323637323B323636373B323636323B323635340D0A523D323634373B323633383B323632383B323631383B323630373B323539353B323538333B323537313B323535393B323534350D0A523D323533323B323531393B323530353B323439323B323437393B323436353B323435323B323433393B323432353B323431320D0A523D323339393B323338353B323337323B323336303B323334373B323333343B323332313B323330393B323239373B323238340D0A523D323237313B323235393B323234373B323233353B323232343B323231323B323230303B323138383B323137373B323136360D0A523D323135343B323134333B323133323B323132323B323131313B323130313B323039313B323038313B323037313B323036310D0A523D323035313B323034323B323033323B323032323B323031343B323030353B313939363B313938373B313937383B313936390D0A523D313936303B313935323B313934343B313933363B313932373B313931393B313931323B313930343B313839363B313838390D0A523D313838313B313837343B313836363B313836303B313835333B313834363B313833393B313833323B313832363B313832300D0A523D313831333B313830373B313830313B313739353B313738383B313738333B313737373B313737313B313736363B313736300D0A523D313735353B313734393B313734333B313733383B313733333B313732383B313732333B313731383B313731333B313730380D0A523D313730333B313639383B313639343B313638393B313638353B313638313B313637363B313637323B313636383B313636350D0A523D313636313B313635373B313635333B313634393B313634363B313634323B313633393B313633353B313633323B313632390D0A523D313632363B313632333B313631393B313631363B313631343B313631313B313630393B313630363B313630343B313630310D0A523D313539383B313539363B313539343B313539323B313539303B313538383B313538353B313538333B313538313B313537390D0A523D313537373B313537363B313537343B313537323B313537313B313536393B313536383B313536373B313536363B313536340D0A523D313536333B313536313B313536303B313535393B313535383B313535383B313535373B313535363B313535353B313535350D0A523D313535343B313535343B313535333B313535333B313535323B313535323B313535313B313535313B313535313B313535310D0A523D313535313B313535313B313535313B313535313B313535313B313535323B313535323B313535333B313535333B313535340D0A523D313535343B313535353B313535353B313535363B313535363B313535373B313535383B313535393B313535393B313536300D0A523D313536323B313536333B313536353B313536363B313536373B313536383B313537303B313537313B313537333B313537340D0A523D313537353B313537363B313537373B313537393B313538303B313538323B313538343B313538363B313538383B313539300D0A523D313539323B313539343B313539363B313539383B313630303B313630323B313630343B313630363B313630383B313631310D0A523D313631343B313631373B313632303B313632333B313632363B313632393B313633323B313633353B313633393B313634320D0A523D313634363B313635303B313635333B313635373B313636313B313636353B313636393B313637343B313637383B313638330D0A523D313638383B313639323B313639373B313730313B313730363B313731313B313731363B313732313B313732353B313733300D0A523D313733363B313734313B313734373B313735323B313735383B313736343B313736393B313737353B313738313B313738360D0A523D313739323B313739383B313830343B313831313B313831383B313832343B313833313B313833373B313834333B313835310D0A523D313835383B313836343B313837313B313837383B313838363B313839333B313930313B313930393B313931363B313932340D0A523D313933323B313934313B313935303B313935383B313936363B313937353B313938343B313939333B323030323B323031320D0A523D323032313B323033303B323034303B323035303B323035393B323036393B323037393B323038393B323130303B323131300D0A523D323132313B323133323B323134323B323135333B323136343B323137363B323138373B323139383B323231313B323232330D0A523D323233353B323234383B323236303B323237333B323238363B323239393B323331333B323332363B323334303B323335340D0A523D323336383B323338313B323339353B323430393B323432343B323433383B323435323B323436373B323438313B323439350D0A523D323531303B323532343B323533373B323535313B323536343B323537363B323538383B323539383B323630383B323631370D0A523D323632363B323633323B323633393B323634353B323635313B323635353B323635393B323636323B323636353B323636370D0A523D323637303B323637323B323637343B323637353B323637373B323637383B323637393B323638303B323638303B323638310D0A523D323638303B323637393B323637383B323637373B323637343B323637323B323636393B323636373B323636343B323636310D0A523D323635383B323635353B323635313B323634383B323634353B323634313B323633393B323633363B323633333B323632390D0A523D323632353B323632323B323631383B323631353B323631323B323630393B323630353B323630323B323630303B323539370D0A523D323539353B323539323B323539303B323538373B323538353B323538333B323538303B323537383B323537353B323537330D0A523D323537303B323536383B323536373B323536353B323536333B323536313B323536303B323535383B323535363B323535350D0A523D323535343B323535333B323535313B323535303B323534393B323534383B323534373B323534373B323534363B323534360D0A523D323534353B323534343B323534343B323534333B323534323B323534313B323534313B323534303B323534303B323533390D0A523D323533383B323533383B323533383B323533373B323533373B323533363B323533363B323533363B323533363B323533350D0A523D323533353B323533353B323533353B323533353B323533353B323533353B323533353B323533353B323533353B323533360D0A523D323533363B323533373B323533373B323533373B323533373B323533383B323533383B323533393B323533393B323534300D0A523D323534303B323534313B323534323B323534333B323534343B323534353B323534363B323534363B323534373B323534380D0A523D323534393B323535303B323535313B323535313B323535323B323535323B323535333B323535333B323535343B323535340D0A523D323535353B323535353B323535353B323535353B323535353B323535353B323535343B323535343B323535333B323535330D0A523D323535323B323535313B323534393B323534383B323534363B323534343B323534313B323533383B323533353B323533320D0A523D323532393B323532343B323531393B323531343B323530383B323530313B323439333B323438353B323437373B323436380D0A523D323436303B323435303B323434313B323433323B323432333B323431333B323430333B323339333B323338333B323337330D0A523D323336323B323335323B323334313B323333313B323332303B323330393B323239383B323238383B323237373B323236370D0A523D323235373B323234363B323233353B323232343B323231343B323230333B323139323B323138313B323137313B323136300D0A523D323135303B323134303B323133303B323131393B323130393B323039393B323038393B323038303B323036393B323035390D0A523D323035303B323034313B323033313B323032313B323031323B323030333B313939343B313938353B313937363B313936370D0A523D313935383B313935303B313934313B313933323B313932343B313931353B313930363B313839383B313839303B313838330D0A523D313837373B313837303B313836323B313835353B313834363B313833393B313833323B313832353B313831383B313831320D0A523D313830353B313739393B313739333B313738373B313738303B313737353B313736393B313736333B313735383B313735320D0A523D313734373B313734323B313733373B313733323B313732373B313732333B313731383B313731333B313730393B313730350D0A523D313730313B313639363B313639313B313638373B313638323B313637383B313637333B313636393B313636353B313636310D0A523D313635373B313635333B313635303B313634363B313634333B313634303B313633373B313633333B313633303B313632370D0A523D313632343B313632313B313631383B313631353B313631323B313630393B313630373B313630343B313630323B313539390D0A523D313539363B313539343B313539323B313539303B313538383B313538363B313538343B313538323B313538303B313537380D0A523D313537363B313537343B313537323B313537303B313536393B313536383B313536373B313536363B313536353B313536330D0A523D313536323B313536303B313535393B313535393B313535383B313535373B313535363B313535363B313535353B313535350D0A523D313535343B313535343B313535333B313535333B313535323B313535323B313535313B313535313B313535313B313535310D0A523D313535313B313535313B313535313B313535313B313535313B313535313B313535313B313535323B313535323B313535330D0A523D313535333B313535343B313535343B313535353B313535353B313535363B313535363B313535373B313535383B313535390D0A523D313536303B313536323B313536333B313536343B313536353B313536363B313536383B313536393B313537313B313537330D0A523D313537343B313537363B313537383B313538303B313538323B313538343B313538363B313538383B313539303B313539330D0A523D313539353B313539383B313630303B313630323B313630353B313630383B313631313B313631333B313631363B313631390D0A523D313632323B313632353B313632383B313633313B313633343B313633373B313634313B313634343B313634373B313635300D0A523D313635343B313635383B313636323B313636363B313637303B313637343B313637383B313638323B313638373B313639310D0A523D313639353B313639393B313730343B313730383B313731333B313731383B313732323B313732373B313733323B313733370D0A523D313734333B313734383B313735333B313735383B313736333B313736393B313737343B313738303B313738363B313739310D0A523D313739373B313830333B313830393B313831353B313832323B313832383B313833353B313834313B313834373B313835340D0A523D313836313B313836383B313837353B313838323B313838393B313839373B313930343B313931313B313931383B313932360D0A523D313933343B313934313B313935303B313935383B313936363B313937343B313938333B313939313B323030303B323030380D0A523D323031363B323032353B323033343B323034333B323035323B323036313B323037303B323037383B323038383B323039370D0A523D323130363B323131353B323132353B323133343B323134333B323135323B323136323B323137323B323138313B323139300D0A523D323139393B323230373B323231373B323232363B323233343B323234333B323235313B323235393B323236383B323237360D0A523D323238343B323239313B323239393B323330353B323331323B323331383B323332343B323332393B323333353B323334300D0A523D323334343B323334383B323335333B323335373B323336313B323336343B323336373B323337303B323337333B323337360D0A523D323337383B323338313B323338333B323338353B323338373B323338393B323339313B323339333B323339363B323339380D0A523D323339393B323430313B323430333B323430353B323430373B323430383B323431303B323431323B323431343B323431350D0A523D323431373B323431393B323432313B323432323B323432333B323432353B323432363B323432383B323432393B323433300D0A523D323433313B323433333B323433343B323433353B323433363B323433383B323433393B323434303B323434313B323434330D0A523D323434343B323434353B323434373B323434383B323434393B323435303B323435323B323435333B323435343B323435350D0A523D323435373B323435383B323435393B323436313B323436323B323436343B323436353B323436373B323436383B323437300D0A523D323437313B323437333B323437353B323437373B323437383B323438303B323438323B323438343B323438363B323438380D0A523D323439303B323439323B323439343B323439363B323439393B323530303B323530323B323530343B323530363B323530380D0A545243464D543D313B313030303B453B4C3B460D0A523D323534353B323534363B323534363B323534373B323534373B323534383B323534393B323535303B323535313B323535330D0A523D323535343B323535353B323535363B323535383B323536303B323536313B323536333B323536353B323536373B323536380D0A523D323537303B323537333B323537353B323537383B323538303B323538333B323538353B323538373B323539303B323539320D0A523D323539353B323539373B323630303B323630323B323630353B323630393B323631323B323631353B323631383B323632320D0A523D323632353B323632393B323633333B323633363B323633393B323634313B323634353B323634383B323635313B323635350D0A523D323635383B323636313B323636343B323636373B323636393B323637323B323637343B323637373B323637383B323637390D0A523D323638303B323638313B323638303B323638303B323637393B323637383B323637373B323637353B323637343B323637320D0A523D323637303B323636373B323636353B323636323B323635393B323635353B323635313B323634353B323633393B323633320D0A523D323632363B323631373B323630383B323539383B323538383B323537363B323536343B323535313B323533373B323532340D0A523D323531303B323439353B323438313B323436373B323435323B323433383B323432343B323430393B323339353B323338310D0A523D323336383B323335343B323334303B323332363B323331333B323239393B323238363B323237333B323236303B323234380D0A523D323233353B323232333B323231313B323139383B323138373B323137363B323136343B323135333B323134323B323133320D0A523D323132313B323131303B323130303B323038393B323037393B323036393B323035393B323035303B323034303B323033300D0A523D323032313B323031323B323030323B313939333B313938343B313937353B313936363B313935383B313935303B313934310D0A523D313933323B313932343B313931363B313930393B313930313B313839333B313838363B313837383B313837313B313836340D0A523D313835383B313835313B313834333B313833373B313833313B313832343B313831383B313831313B313830343B313739380D0A523D313739323B313738363B313738313B313737353B313736393B313736343B313735383B313735323B313734373B313734310D0A523D313733363B313733303B313732353B313732313B313731363B313731313B313730363B313730313B313639373B313639320D0A523D313638383B313638333B313637383B313637343B313636393B313636353B313636313B313635373B313635333B313635300D0A523D313634363B313634323B313633393B313633353B313633323B313632393B313632363B313632333B313632303B313631370D0A523D313631343B313631313B313630383B313630363B313630343B313630323B313630303B313539383B313539363B313539340D0A523D313539323B313539303B313538383B313538363B313538343B313538323B313538303B313537393B313537373B313537360D0A523D313537353B313537343B313537333B313537313B313537303B313536383B313536373B313536363B313536353B313536330D0A523D313536323B313536303B313535393B313535393B313535383B313535373B313535363B313535363B313535353B313535350D0A523D313535343B313535343B313535333B313535333B313535323B313535323B313535313B313535313B313535313B313535310D0A523D313535313B313535313B313535313B313535313B313535313B313535323B313535323B313535333B313535333B313535340D0A523D313535343B313535353B313535353B313535363B313535373B313535383B313535383B313535393B313536303B313536310D0A523D313536333B313536343B313536363B313536373B313536383B313536393B313537313B313537323B313537343B313537360D0A523D313537373B313537393B313538313B313538333B313538353B313538383B313539303B313539323B313539343B313539360D0A523D313539383B313630313B313630343B313630363B313630393B313631313B313631343B313631363B313631393B313632330D0A523D313632363B313632393B313633323B313633353B313633393B313634323B313634363B313634393B313635333B313635370D0A523D313636313B313636353B313636383B313637323B313637363B313638313B313638353B313638393B313639343B313639380D0A523D313730333B313730383B313731333B313731383B313732333B313732383B313733333B313733383B313734333B313734390D0A523D313735353B313736303B313736363B313737313B313737373B313738333B313738383B313739353B313830313B313830370D0A523D313831333B313832303B313832363B313833323B313833393B313834363B313835333B313836303B313836363B313837340D0A523D313838313B313838393B313839363B313930343B313931323B313931393B313932373B313933363B313934343B313935320D0A523D313936303B313936393B313937383B313938373B313939363B323030353B323031343B323032323B323033323B323034320D0A523D323035313B323036313B323037313B323038313B323039313B323130313B323131313B323132323B323133323B323134330D0A523D323135343B323136363B323137373B323138383B323230303B323231323B323232343B323233353B323234373B323235390D0A523D323237313B323238343B323239373B323330393B323332313B323333343B323334373B323336303B323337323B323338350D0A523D323339393B323431323B323432353B323433393B323435323B323436353B323437393B323439323B323530353B323531390D0A523D323533323B323534353B323535393B323537313B323538333B323539353B323630373B323631383B323632383B323633380D0A523D323634373B323635343B323636323B323636373B323637323B323637363B323638303B323638333B323638363B323638380D0A523D323638393B323639313B323639323B323639333B323639343B323639343B323639343B323639333B323639333B323639320D0A523D323639313B323639303B323638383B323638373B323638353B323638333B323638303B323637383B323637353B323637320D0A523D323636393B323636363B323636333B323636303B323635363B323635323B323634393B323634353B323634323B323633380D0A523D323633343B323633303B323632363B323632323B323631383B323631343B323631313B323630373B323630343B323630300D0A523D323539373B323539333B323539303B323538373B323538333B323538303B323537373B323537333B323537303B323536370D0A523D323536333B323536303B323535373B323535353B323535323B323534393B323534363B323534333B323534303B323533370D0A523D323533353B323533323B323532393B323532363B323532333B323532313B323531393B323531373B323531343B323531320D0A523D323531303B323530383B323530363B323530343B323530323B323530303B323439393B323439363B323439343B323439320D0A523D323439303B323438383B323438363B323438343B323438323B323438303B323437383B323437373B323437353B323437330D0A523D323437313B323437303B323436383B323436373B323436353B323436343B323436323B323436313B323435393B323435380D0A523D323435373B323435353B323435343B323435333B323435323B323435303B323434393B323434383B323434373B323434350D0A523D323434343B323434333B323434313B323434303B323433393B323433383B323433363B323433353B323433343B323433330D0A523D323433313B323433303B323432393B323432383B323432363B323432353B323432333B323432323B323432313B323431390D0A523D323431373B323431353B323431343B323431323B323431303B323430383B323430373B323430353B323430333B323430310D0A523D323339393B323339383B323339363B323339333B323339313B323338393B323338373B323338353B323338333B323338310D0A523D323337383B323337363B323337333B323337303B323336373B323336343B323336313B323335373B323335333B323334380D0A523D323334343B323334303B323333353B323332393B323332343B323331383B323331323B323330353B323239393B323239310D0A523D323238343B323237363B323236383B323235393B323235313B323234333B323233343B323232363B323231373B323230370D0A523D323139393B323139303B323138313B323137323B323136323B323135323B323134333B323133343B323132353B323131350D0A523D323130363B323039373B323038383B323037383B323037303B323036313B323035323B323034333B323033343B323032350D0A523D323031363B323030383B323030303B313939313B313938333B313937343B313936363B313935383B313935303B313934310D0A523D313933343B313932363B313931383B313931313B313930343B313839373B313838393B313838323B313837353B313836380D0A523D313836313B313835343B313834373B313834313B313833353B313832383B313832323B313831353B313830393B313830330D0A523D313739373B313739313B313738363B313738303B313737343B313736393B313736333B313735383B313735333B313734380D0A523D313734333B313733373B313733323B313732373B313732323B313731383B313731333B313730383B313730343B313639390D0A523D313639353B313639313B313638373B313638323B313637383B313637343B313637303B313636363B313636323B313635380D0A523D313635343B313635303B313634373B313634343B313634313B313633373B313633343B313633313B313632383B313632350D0A523D313632323B313631393B313631363B313631333B313631313B313630383B313630353B313630323B313630303B313539380D0A523D313539353B313539333B313539303B313538383B313538363B313538343B313538323B313538303B313537383B313537360D0A523D313537343B313537333B313537313B313536393B313536383B313536363B313536353B313536343B313536333B313536320D0A523D313536303B313535393B313535383B313535373B313535363B313535363B313535353B313535353B313535343B313535340D0A523D313535333B313535333B313535323B313535323B313535313B313535313B313535313B313535313B313535313B313535310D0A523D313535313B313535313B313535313B313535313B313535313B313535323B313535323B313535333B313535333B313535340D0A523D313535343B313535353B313535353B313535363B313535363B313535373B313535383B313535393B313535393B313536300D0A523D313536323B313536333B313536353B313536363B313536373B313536383B313536393B313537303B313537323B313537340D0A523D313537363B313537383B313538303B313538323B313538343B313538363B313538383B313539303B313539323B313539340D0A523D313539363B313539393B313630323B313630343B313630373B313630393B313631323B313631353B313631383B313632310D0A523D313632343B313632373B313633303B313633333B313633373B313634303B313634333B313634363B313635303B313635330D0A523D313635373B313636313B313636353B313636393B313637333B313637383B313638323B313638373B313639313B313639360D0A523D313730313B313730353B313730393B313731333B313731383B313732333B313732373B313733323B313733373B313734320D0A523D313734373B313735323B313735383B313736333B313736393B313737353B313738303B313738373B313739333B313739390D0A523D313830353B313831323B313831383B313832353B313833323B313833393B313834363B313835353B313836323B313837300D0A523D313837373B313838333B313839303B313839383B313930363B313931353B313932343B313933323B313934313B313935300D0A523D313935383B313936373B313937363B313938353B313939343B323030333B323031323B323032313B323033313B323034310D0A523D323035303B323035393B323036393B323038303B323038393B323039393B323130393B323131393B323133303B323134300D0A523D323135303B323136303B323137313B323138313B323139323B323230333B323231343B323232343B323233353B323234360D0A523D323235373B323236373B323237373B323238383B323239383B323330393B323332303B323333313B323334313B323335320D0A523D323336323B323337333B323338333B323339333B323430333B323431333B323432333B323433323B323434313B323435300D0A523D323436303B323436383B323437373B323438353B323439333B323530313B323530383B323531343B323531393B323532340D0A523D323532393B323533323B323533353B323533383B323534313B323534343B323534363B323534383B323534393B323535310D0A523D323535323B323535333B323535333B323535343B323535343B323535353B323535353B323535353B323535353B323535350D0A523D323535353B323535343B323535343B323535333B323535333B323535323B323535323B323535313B323535313B323535300D0A523D323534393B323534383B323534373B323534363B323534363B323534353B323534343B323534333B323534323B323534310D0A523D323534303B323534303B323533393B323533393B323533383B323533383B323533373B323533373B323533373B323533370D0A523D323533363B323533363B323533353B323533353B323533353B323533353B323533353B323533353B323533353B323533350D0A523D323533353B323533353B323533363B323533363B323533363B323533363B323533373B323533373B323533383B323533380D0A523D323533383B323533393B323534303B323534303B323534313B323534313B323534323B323534333B323534343B323534340D0A56424F583D33312E30333B33312E30330D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35332E38373B35332E38370D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                        }

                        if ($information_commande->precalibrage->calibre ==
                            15) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3132382E3239303B3132382E3239300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D34382E30363B34382E30360D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323337333B323337363B323337383B323338313B323338343B323338363B323338383B323339303B323339313B323339330D0A523D323339363B323339383B323430313B323430343B323430373B323430393B323431313B323431323B323431343B323431370D0A523D323431393B323432323B323432353B323432383B323433303B323433323B323433343B323433353B323433373B323433380D0A523D323433393B323434313B323434313B323434323B323434313B323434303B323433393B323433383B323433383B323433370D0A523D323433373B323433363B323433353B323433353B323433343B323433343B323433333B323433323B323433313B323433300D0A523D323432383B323432353B323432323B323431393B323431363B323431333B323430383B323430333B323339373B323339310D0A523D323338343B323337373B323337303B323336323B323335353B323334383B323334303B323333333B323332363B323331380D0A523D323331303B323330323B323239343B323238363B323237373B323236393B323236303B323235323B323234333B323233350D0A523D323232373B323231393B323231313B323230333B323139353B323138373B323137383B323137303B323136323B323135340D0A523D323134373B323133393B323133313B323132343B323131363B323130393B323130323B323039353B323038383B323038310D0A523D323037353B323036383B323036323B323035363B323035303B323034343B323033383B323033323B323032363B323032300D0A523D323031343B323030393B323030333B313939373B313939313B313938353B313938303B313937343B313936383B313936320D0A523D313935363B313935303B313934343B313933383B313933333B313932373B313932313B313931363B313931303B313930340D0A523D313839393B313839333B313838383B313838333B313837373B313837323B313836363B313836313B313835353B313835300D0A523D313834353B313834303B313833353B313833303B313832353B313832313B313831363B313831323B313830373B313830330D0A523D313739393B313739343B313739303B313738353B313738313B313737373B313737343B313737303B313736363B313736320D0A523D313735393B313735353B313735313B313734383B313734353B313734323B313733383B313733353B313733323B313732380D0A523D313732353B313732323B313731393B313731363B313731323B313730393B313730363B313730333B313730303B313639370D0A523D313639343B313639323B313638393B313638373B313638343B313638313B313637393B313637363B313637333B313637300D0A523D313636383B313636363B313636333B313636313B313635393B313635373B313635353B313635333B313635313B313634390D0A523D313634383B313634373B313634363B313634353B313634343B313634333B313634313B313633393B313633383B313633360D0A523D313633343B313633333B313633313B313633303B313632393B313632383B313632363B313632353B313632333B313632320D0A523D313632303B313631393B313631383B313631373B313631363B313631353B313631343B313631343B313631333B313631330D0A523D313631313B313631313B313631303B313630393B313630383B313630383B313630373B313630363B313630353B313630350D0A523D313630343B313630343B313630343B313630343B313630333B313630333B313630323B313630323B313630323B313630320D0A523D313630323B313630323B313630323B313630323B313630323B313630323B313630323B313630333B313630333B313630330D0A523D313630333B313630343B313630343B313630353B313630353B313630363B313630373B313630383B313630383B313630390D0A523D313630393B313631313B313631323B313631333B313631343B313631353B313631363B313631373B313631393B313632300D0A523D313632313B313632333B313632343B313632363B313632373B313632393B313633303B313633323B313633333B313633350D0A523D313633363B313633383B313634303B313634323B313634343B313634353B313634373B313634393B313635313B313635330D0A523D313635353B313635383B313636303B313636333B313636353B313636373B313636393B313637313B313637333B313637360D0A523D313637383B313638303B313638333B313638353B313638383B313639313B313639343B313639373B313730303B313730330D0A523D313730363B313730393B313731323B313731353B313731383B313732323B313732353B313732393B313733333B313733360D0A523D313734303B313734333B313734373B313735313B313735353B313735393B313736323B313736363B313737303B313737350D0A523D313737393B313738333B313738373B313739323B313739363B313830313B313830353B313831303B313831353B313831390D0A523D313832343B313832383B313833333B313833383B313834343B313834393B313835353B313836303B313836353B313837310D0A523D313837373B313838323B313838383B313839343B313930303B313930363B313931323B313931383B313932343B313933300D0A523D313933373B313934333B313935303B313935363B313936323B313936393B313937363B313938323B313938393B313939360D0A523D323030323B323030393B323031363B323032333B323033303B323033373B323034343B323035313B323035383B323036350D0A523D323037333B323038303B323038383B323039353B323130323B323130393B323131373B323132343B323133323B323133390D0A523D323134363B323135343B323136313B323136393B323137373B323138343B323139323B323230303B323230373B323231350D0A523D323232333B323233303B323233383B323234363B323235343B323236323B323237303B323237383B323238353B323239330D0A523D323330313B323330383B323331353B323332333B323333303B323333373B323334343B323335313B323335383B323336340D0A523D323337313B323337383B323338343B323339303B323339373B323430333B323431303B323431363B323432323B323432370D0A523D323433333B323433393B323434343B323434383B323435333B323435373B323436303B323436343B323436373B323436390D0A523D323437313B323437333B323437333B323437343B323437343B323437333B323437323B323437313B323436393B323436370D0A523D323436353B323436343B323436313B323435393B323435363B323435343B323435323B323435303B323434383B323434350D0A523D323434333B323434313B323433393B323433363B323433343B323433323B323433303B323432383B323432363B323432340D0A523D323432323B323432303B323431383B323431363B323431333B323431313B323430393B323430363B323430343B323430310D0A523D323339383B323339353B323339323B323338393B323338363B323338323B323337393B323337373B323337343B323337310D0A523D323336383B323336353B323336323B323335393B323335363B323335333B323335303B323334363B323334333B323334300D0A523D323333373B323333343B323333303B323332373B323332343B323332303B323331373B323331343B323331303B323330360D0A523D323330323B323239393B323239353B323239313B323238373B323238333B323237393B323237343B323237303B323236350D0A523D323236313B323235373B323235333B323234393B323234343B323234303B323233353B323233313B323232363B323232310D0A523D323231373B323231323B323230373B323230333B323139383B323139333B323138373B323138323B323137373B323137320D0A523D323136373B323136323B323135373B323135323B323134363B323134303B323133353B323132393B323132333B323131380D0A523D323131323B323130363B323130313B323039353B323039303B323038343B323037373B323037323B323036363B323036310D0A523D323035363B323035303B323034343B323033393B323033333B323032383B323032323B323031363B323031313B323030350D0A523D313939393B313939343B313938393B313938343B313937393B313937343B313936393B313936343B313935383B313935330D0A523D313934373B313934333B313933383B313933333B313932383B313932333B313931383B313931333B313930383B313930340D0A523D313839393B313839353B313839303B313838363B313838323B313837373B313837333B313836393B313836353B313836310D0A523D313835363B313835323B313834393B313834353B313834313B313833373B313833333B313832393B313832353B313832320D0A523D313831373B313831333B313830393B313830353B313830323B313739383B313739343B313739313B313738373B313738340D0A523D313738303B313737373B313737333B313737303B313736373B313736333B313736303B313735373B313735343B313735310D0A523D313734383B313734353B313734323B313733393B313733363B313733333B313733303B313732383B313732353B313732320D0A523D313731393B313731363B313731343B313731313B313730393B313730363B313730343B313730313B313639393B313639360D0A523D313639343B313639323B313638393B313638373B313638353B313638333B313638303B313637383B313637363B313637340D0A523D313637323B313637303B313636383B313636363B313636353B313636333B313636313B313635393B313635363B313635340D0A523D313635333B313635313B313634393B313634383B313634363B313634353B313634333B313634313B313633393B313633380D0A523D313633363B313633353B313633333B313633323B313633303B313632383B313632373B313632353B313632343B313632330D0A523D313632323B313632303B313631393B313631383B313631373B313631363B313631353B313631343B313631333B313631320D0A523D313631313B313631303B313630393B313630393B313630383B313630373B313630363B313630363B313630353B313630350D0A523D313630343B313630343B313630343B313630343B313630333B313630333B313630323B313630323B313630313B313630310D0A523D313630303B313630303B313630303B313630303B313630303B313630303B313630303B313630303B313630303B313630300D0A523D313539393B313539393B313539393B313539393B313630303B313630303B313630303B313630303B313630313B313630310D0A523D313630313B313630323B313630323B313630323B313630323B313630333B313630333B313630343B313630343B313630350D0A523D313630353B313630353B313630353B313630363B313630363B313630373B313630383B313630393B313630393B313631300D0A523D313631313B313631323B313631333B313631343B313631353B313631363B313631373B313631383B313631393B313632300D0A523D313632313B313632323B313632333B313632353B313632363B313632373B313632383B313633303B313633313B313633330D0A523D313633343B313633363B313633383B313633393B313634313B313634323B313634343B313634363B313634383B313634390D0A523D313635313B313635333B313635353B313635373B313635393B313636313B313636333B313636353B313636373B313636390D0A523D313637313B313637333B313637353B313637373B313637393B313638313B313638343B313638363B313638383B313639310D0A523D313639333B313639353B313639373B313730303B313730323B313730353B313730383B313731313B313731343B313731360D0A523D313731383B313732303B313732333B313732353B313732383B313733313B313733333B313733363B313733383B313734310D0A523D313734333B313734363B313734393B313735323B313735353B313735373B313736303B313736323B313736353B313736370D0A523D313737303B313737333B313737363B313737393B313738313B313738353B313738383B313739313B313739343B313739370D0A523D313830303B313830333B313830363B313830393B313831323B313831343B313831383B313832313B313832343B313832380D0A523D313833313B313833353B313833383B313834313B313834343B313834383B313835323B313835353B313835393B313836320D0A523D313836353B313836393B313837333B313837373B313838303B313838343B313838373B313839313B313839353B313839390D0A523D313930333B313930373B313931313B313931353B313931393B313932333B313932373B313933313B313933353B313933390D0A523D313934333B313934383B313935323B313935373B313936323B313936363B313937303B313937343B313937393B313938330D0A523D313938373B313939313B313939363B323030303B323030353B323030393B323031333B323031383B323032323B323032370D0A523D323033313B323033353B323034303B323034343B323034383B323035323B323035363B323036313B323036353B323036390D0A523D323037333B323037373B323038313B323038363B323039303B323039343B323130303B323130353B323131313B323131360D0A523D323132313B323132363B323133303B323133353B323133393B323134333B323134383B323135333B323135393B323136350D0A523D323137313B323137373B323138323B323138373B323139323B323139383B323230333B323230383B323231333B323231380D0A523D323232333B323232373B323233323B323233383B323234333B323234383B323235333B323235383B323236333B323236380D0A523D323237333B323237383B323238333B323238383B323239333B323239383B323330333B323330383B323331333B323331370D0A523D323332313B323332353B323332393B323333333B323333363B323333383B323334303B323334333B323334353B323334380D0A523D323335303B323335333B323335363B323335393B323336323B323336343B323336363B323336373B323336383B323337300D0A545243464D543D313B313030303B453B4C3B460D0A523D323336383B323337313B323337343B323337373B323337393B323338323B323338363B323338393B323339323B323339350D0A523D323339383B323430313B323430343B323430363B323430393B323431313B323431333B323431363B323431383B323432300D0A523D323432323B323432343B323432363B323432383B323433303B323433323B323433343B323433363B323433393B323434310D0A523D323434333B323434353B323434383B323435303B323435323B323435343B323435363B323435393B323436313B323436340D0A523D323436353B323436373B323436393B323437313B323437323B323437333B323437343B323437343B323437333B323437330D0A523D323437313B323436393B323436373B323436343B323436303B323435373B323435333B323434383B323434343B323433390D0A523D323433333B323432373B323432323B323431363B323431303B323430333B323339373B323339303B323338343B323337380D0A523D323337313B323336343B323335383B323335313B323334343B323333373B323333303B323332333B323331353B323330380D0A523D323330313B323239333B323238353B323237383B323237303B323236323B323235343B323234363B323233383B323233300D0A523D323232333B323231353B323230373B323230303B323139323B323138343B323137373B323136393B323136313B323135340D0A523D323134363B323133393B323133323B323132343B323131373B323130393B323130323B323039353B323038383B323038300D0A523D323037333B323036353B323035383B323035313B323034343B323033373B323033303B323032333B323031363B323030390D0A523D323030323B313939363B313938393B313938323B313937363B313936393B313936323B313935363B313935303B313934330D0A523D313933373B313933303B313932343B313931383B313931323B313930363B313930303B313839343B313838383B313838320D0A523D313837373B313837313B313836353B313836303B313835353B313834393B313834343B313833383B313833333B313832380D0A523D313832343B313831393B313831353B313831303B313830353B313830313B313739363B313739323B313738373B313738330D0A523D313737393B313737353B313737303B313736363B313736323B313735393B313735353B313735313B313734373B313734330D0A523D313734303B313733363B313733333B313732393B313732353B313732323B313731383B313731353B313731323B313730390D0A523D313730363B313730333B313730303B313639373B313639343B313639313B313638383B313638353B313638333B313638300D0A523D313637383B313637363B313637333B313637313B313636393B313636373B313636353B313636333B313636303B313635380D0A523D313635353B313635333B313635313B313634393B313634373B313634353B313634343B313634323B313634303B313633380D0A523D313633363B313633353B313633333B313633323B313633303B313632393B313632373B313632363B313632343B313632330D0A523D313632313B313632303B313631393B313631373B313631363B313631353B313631343B313631333B313631323B313631310D0A523D313630393B313630393B313630383B313630383B313630373B313630363B313630353B313630353B313630343B313630340D0A523D313630333B313630333B313630333B313630333B313630323B313630323B313630323B313630323B313630323B313630320D0A523D313630323B313630323B313630323B313630323B313630323B313630333B313630333B313630343B313630343B313630340D0A523D313630343B313630353B313630353B313630363B313630373B313630383B313630383B313630393B313631303B313631310D0A523D313631313B313631333B313631333B313631343B313631343B313631353B313631363B313631373B313631383B313631390D0A523D313632303B313632323B313632333B313632353B313632363B313632383B313632393B313633303B313633313B313633330D0A523D313633343B313633363B313633383B313633393B313634313B313634333B313634343B313634353B313634363B313634370D0A523D313634383B313634393B313635313B313635333B313635353B313635373B313635393B313636313B313636333B313636360D0A523D313636383B313637303B313637333B313637363B313637393B313638313B313638343B313638373B313638393B313639320D0A523D313639343B313639373B313730303B313730333B313730363B313730393B313731323B313731363B313731393B313732320D0A523D313732353B313732383B313733323B313733353B313733383B313734323B313734353B313734383B313735313B313735350D0A523D313735393B313736323B313736363B313737303B313737343B313737373B313738313B313738353B313739303B313739340D0A523D313739393B313830333B313830373B313831323B313831363B313832313B313832353B313833303B313833353B313834300D0A523D313834353B313835303B313835353B313836313B313836363B313837323B313837373B313838333B313838383B313839330D0A523D313839393B313930343B313931303B313931363B313932313B313932373B313933333B313933383B313934343B313935300D0A523D313935363B313936323B313936383B313937343B313938303B313938353B313939313B313939373B323030333B323030390D0A523D323031343B323032303B323032363B323033323B323033383B323034343B323035303B323035363B323036323B323036380D0A523D323037353B323038313B323038383B323039353B323130323B323130393B323131363B323132343B323133313B323133390D0A523D323134373B323135343B323136323B323137303B323137383B323138373B323139353B323230333B323231313B323231390D0A523D323232373B323233353B323234333B323235323B323236303B323236393B323237373B323238363B323239343B323330320D0A523D323331303B323331383B323332363B323333333B323334303B323334383B323335353B323336323B323337303B323337370D0A523D323338343B323339313B323339373B323430333B323430383B323431333B323431363B323431393B323432323B323432350D0A523D323432383B323433303B323433313B323433323B323433333B323433343B323433343B323433353B323433353B323433360D0A523D323433373B323433373B323433383B323433383B323433393B323434303B323434313B323434323B323434313B323434310D0A523D323433393B323433383B323433373B323433353B323433343B323433323B323433303B323432383B323432353B323432320D0A523D323431393B323431373B323431343B323431323B323431313B323430393B323430373B323430343B323430313B323339380D0A523D323339363B323339333B323339313B323339303B323338383B323338363B323338343B323338313B323337383B323337360D0A523D323337333B323337303B323336383B323336373B323336363B323336343B323336323B323335393B323335363B323335330D0A523D323335303B323334383B323334353B323334333B323334303B323333383B323333363B323333333B323332393B323332350D0A523D323332313B323331373B323331333B323330383B323330333B323239383B323239333B323238383B323238333B323237380D0A523D323237333B323236383B323236333B323235383B323235333B323234383B323234333B323233383B323233323B323232370D0A523D323232333B323231383B323231333B323230383B323230333B323139383B323139323B323138373B323138323B323137370D0A523D323137313B323136353B323135393B323135333B323134383B323134333B323133393B323133353B323133303B323132360D0A523D323132313B323131363B323131313B323130353B323130303B323039343B323039303B323038363B323038313B323037370D0A523D323037333B323036393B323036353B323036313B323035363B323035323B323034383B323034343B323034303B323033350D0A523D323033313B323032373B323032323B323031383B323031333B323030393B323030353B323030303B313939363B313939310D0A523D313938373B313938333B313937393B313937343B313937303B313936363B313936323B313935373B313935323B313934380D0A523D313934333B313933393B313933353B313933313B313932373B313932333B313931393B313931353B313931313B313930370D0A523D313930333B313839393B313839353B313839313B313838373B313838343B313838303B313837373B313837333B313836390D0A523D313836353B313836323B313835393B313835353B313835323B313834383B313834343B313834313B313833383B313833350D0A523D313833313B313832383B313832343B313832313B313831383B313831343B313831323B313830393B313830363B313830330D0A523D313830303B313739373B313739343B313739313B313738383B313738353B313738313B313737393B313737363B313737330D0A523D313737303B313736373B313736353B313736323B313736303B313735373B313735353B313735323B313734393B313734360D0A523D313734333B313734313B313733383B313733363B313733333B313733313B313732383B313732353B313732333B313732300D0A523D313731383B313731363B313731343B313731313B313730383B313730353B313730323B313730303B313639373B313639350D0A523D313639333B313639313B313638383B313638363B313638343B313638313B313637393B313637373B313637353B313637330D0A523D313637313B313636393B313636373B313636353B313636333B313636313B313635393B313635373B313635353B313635330D0A523D313635313B313634393B313634383B313634363B313634343B313634323B313634313B313633393B313633383B313633360D0A523D313633343B313633333B313633313B313633303B313632383B313632373B313632363B313632353B313632333B313632320D0A523D313632313B313632303B313631393B313631383B313631373B313631363B313631353B313631343B313631333B313631320D0A523D313631313B313631303B313630393B313630393B313630383B313630373B313630363B313630363B313630353B313630350D0A523D313630353B313630353B313630343B313630343B313630333B313630333B313630323B313630323B313630323B313630320D0A523D313630313B313630313B313630313B313630303B313630303B313630303B313630303B313539393B313539393B313539390D0A523D313539393B313630303B313630303B313630303B313630303B313630303B313630303B313630303B313630303B313630300D0A523D313630303B313630313B313630313B313630323B313630323B313630333B313630333B313630343B313630343B313630340D0A523D313630343B313630353B313630353B313630363B313630363B313630373B313630383B313630393B313630393B313631300D0A523D313631313B313631323B313631333B313631343B313631353B313631363B313631373B313631383B313631393B313632300D0A523D313632323B313632333B313632343B313632353B313632373B313632383B313633303B313633323B313633333B313633350D0A523D313633363B313633383B313633393B313634313B313634333B313634353B313634363B313634383B313634393B313635310D0A523D313635333B313635343B313635363B313635393B313636313B313636333B313636353B313636363B313636383B313637300D0A523D313637323B313637343B313637363B313637383B313638303B313638333B313638353B313638373B313638393B313639320D0A523D313639343B313639363B313639393B313730313B313730343B313730363B313730393B313731313B313731343B313731360D0A523D313731393B313732323B313732353B313732383B313733303B313733333B313733363B313733393B313734323B313734350D0A523D313734383B313735313B313735343B313735373B313736303B313736333B313736373B313737303B313737333B313737370D0A523D313738303B313738343B313738373B313739313B313739343B313739383B313830323B313830353B313830393B313831330D0A523D313831373B313832323B313832353B313832393B313833333B313833373B313834313B313834353B313834393B313835320D0A523D313835363B313836313B313836353B313836393B313837333B313837373B313838323B313838363B313839303B313839350D0A523D313839393B313930343B313930383B313931333B313931383B313932333B313932383B313933333B313933383B313934330D0A523D313934373B313935333B313935383B313936343B313936393B313937343B313937393B313938343B313938393B313939340D0A523D313939393B323030353B323031313B323031363B323032323B323032383B323033333B323033393B323034343B323035300D0A523D323035363B323036313B323036363B323037323B323037373B323038343B323039303B323039353B323130313B323130360D0A523D323131323B323131383B323132333B323132393B323133353B323134303B323134363B323135323B323135373B323136320D0A523D323136373B323137323B323137373B323138323B323138373B323139333B323139383B323230333B323230373B323231320D0A523D323231373B323232313B323232363B323233313B323233353B323234303B323234343B323234393B323235333B323235370D0A523D323236313B323236353B323237303B323237343B323237393B323238333B323238373B323239313B323239353B323239390D0A523D323330323B323330363B323331303B323331343B323331373B323332303B323332343B323332373B323333303B323333340D0A523D323333373B323334303B323334333B323334363B323335303B323335333B323335363B323335393B323336323B323336350D0A56424F583D33322E30343B33322E30340D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D34392E34383B34392E34380D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                        }

                        if ($information_commande->precalibrage->calibre ==
                            16) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3134322E3036303B3134322E3036300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35322E31393B35322E31390D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323535323B323535363B323536303B323536353B323536393B323537333B323537383B323538323B323538363B323538390D0A523D323539333B323539363B323630303B323630333B323630363B323630393B323631323B323631353B323631383B323632310D0A523D323632343B323632383B323633313B323633343B323633373B323634303B323634333B323634363B323634393B323635320D0A523D323635363B323635393B323636333B323636363B323637303B323637333B323637373B323638323B323638363B323639300D0A523D323639343B323639383B323730333B323730373B323731323B323731363B323732313B323732363B323733313B323733360D0A523D323734313B323734363B323735323B323735373B323736333B323736393B323737343B323738303B323738363B323739330D0A523D323739393B323830363B323831333B323832303B323832363B323833323B323833383B323834303B323834303B323833320D0A523D323831393B323830333B323738353B323736353B323734353B323732353B323730343B323638333B323636333B323634320D0A523D323632313B323630313B323538313B323536313B323534313B323532323B323530333B323438343B323436353B323434370D0A523D323432383B323431303B323339333B323337363B323335393B323334323B323332353B323330393B323239333B323237370D0A523D323236323B323234373B323233313B323231363B323230313B323138373B323137333B323135393B323134353B323133310D0A523D323131373B323130343B323039303B323037383B323036353B323035323B323034303B323032373B323031353B323030330D0A523D313939313B313937393B313936383B313935373B313934353B313933343B313932333B313931333B313930323B313839320D0A523D313838323B313837333B313836333B313835333B313834343B313833353B313832363B313831383B313830393B313830300D0A523D313739313B313738333B313737353B313736373B313735393B313735313B313734343B313733363B313732383B313732310D0A523D313731343B313730373B313639393B313639333B313638363B313637393B313637333B313636363B313635393B313635330D0A523D313634373B313634313B313633353B313632393B313632323B313631373B313631313B313630363B313630313B313539350D0A523D313539303B313538343B313537393B313537353B313537303B313536353B313536303B313535353B313535303B313534360D0A523D313534323B313533373B313533333B313532383B313532343B313532303B313531363B313531333B313530393B313530360D0A523D313530323B313439383B313439353B313439313B313438383B313438353B313438323B313437393B313437363B313437330D0A523D313437303B313436373B313436333B313436303B313435383B313435353B313435333B313435303B313434373B313434340D0A523D313434323B313434303B313433373B313433353B313433333B313433313B313432393B313432373B313432353B313432330D0A523D313432313B313431393B313431373B313431353B313431343B313431333B313431323B313431303B313430393B313430370D0A523D313430363B313430343B313430333B313430323B313430313B313430303B313339393B313339383B313339373B313339360D0A523D313339353B313339343B313339333B313339333B313339323B313339323B313339313B313339313B313339303B313339300D0A523D313338393B313338393B313338393B313338383B313338383B313338383B313338383B313338383B313338383B313338370D0A523D313338373B313338373B313338373B313338373B313338373B313338373B313338373B313338383B313338383B313338390D0A523D313338393B313338393B313339303B313339313B313339313B313339323B313339333B313339343B313339343B313339350D0A523D313339363B313339373B313339383B313339393B313430303B313430313B313430323B313430333B313430333B313430340D0A523D313430343B313430353B313430363B313430373B313430393B313431303B313431323B313431343B313431373B313431390D0A523D313432323B313432343B313432363B313432383B313433303B313433323B313433343B313433363B313433373B313433390D0A523D313434323B313434343B313434373B313435303B313435333B313435353B313435383B313436313B313436343B313436370D0A523D313437303B313437333B313437373B313438303B313438333B313438373B313439303B313439343B313439383B313530320D0A523D313530363B313531303B313531343B313531383B313532323B313532373B313533313B313533353B313534303B313534340D0A523D313534393B313535333B313535383B313536333B313536373B313537323B313537363B313538313B313538363B313539310D0A523D313539363B313630313B313630363B313631323B313631373B313632333B313632383B313633343B313633393B313634350D0A523D313635313B313635363B313636323B313636393B313637353B313638313B313638373B313639343B313730303B313730370D0A523D313731333B313731393B313732363B313733343B313734313B313734383B313735353B313736323B313737313B313737390D0A523D313738363B313739343B313830323B313831313B313831393B313832373B313833353B313834343B313835333B313836320D0A523D313837313B313837393B313838393B313839383B313930383B313931383B313932373B313933373B313934373B313935370D0A523D313936373B313937383B313938383B313939393B323031313B323032323B323033333B323034353B323035373B323036390D0A523D323038313B323039333B323130363B323131393B323133323B323134353B323135383B323137323B323138353B323139390D0A523D323231333B323232373B323234323B323235373B323237323B323238373B323330323B323331383B323333333B323334390D0A523D323336353B323338313B323339373B323431333B323433303B323434363B323436333B323438303B323439383B323531350D0A523D323533333B323535303B323536383B323538363B323630333B323632313B323633383B323635353B323637303B323638360D0A523D323639353B323730323B323730313B323639393B323639373B323639343B323639313B323638373B323638343B323638310D0A523D323637383B323637353B323637323B323636393B323636363B323636333B323636303B323635373B323635343B323635310D0A523D323634383B323634353B323634323B323633393B323633373B323633353B323633333B323633313B323633303B323632380D0A523D323632353B323632333B323632313B323631393B323631383B323631373B323631363B323631353B323631343B323631330D0A523D323631313B323631303B323630393B323630393B323630383B323630383B323630393B323630393B323630393B323630390D0A523D323630393B323631303B323631303B323631303B323631303B323631313B323631313B323631323B323631323B323631330D0A523D323631343B323631353B323631363B323631373B323631393B323632303B323632323B323632333B323632353B323632360D0A523D323632383B323633303B323633323B323633343B323633363B323633393B323634323B323634343B323634373B323634390D0A523D323635323B323635343B323635383B323636313B323636343B323636383B323637313B323637353B323637383B323638320D0A523D323638353B323638393B323639333B323639373B323730313B323730353B323730393B323731343B323731383B323732330D0A523D323732373B323733323B323733363B323734303B323734343B323734373B323734353B323733393B323732353B323730390D0A523D323639323B323637343B323635353B323633373B323631393B323630313B323538323B323536333B323534353B323532370D0A523D323530393B323439313B323437343B323435363B323433393B323432323B323430363B323338393B323337333B323335370D0A523D323334313B323332363B323331303B323239363B323238313B323236363B323235313B323233363B323232313B323230370D0A523D323139333B323138303B323136363B323135333B323134303B323132363B323131333B323130313B323038393B323037370D0A523D323036353B323035343B323034323B323033303B323031393B323030383B313939373B313938363B313937353B313936350D0A523D313935353B313934343B313933343B313932353B313931353B313930343B313839353B313838373B313837383B313836380D0A523D313836303B313835313B313834323B313833323B313832333B313831333B313830343B313739363B313738383B313738300D0A523D313737333B313736363B313735393B313735323B313734343B313733373B313733303B313732333B313731373B313731310D0A523D313730333B313639363B313638383B313638313B313637353B313636393B313636333B313635373B313635313B313634360D0A523D313634303B313633353B313633303B313632343B313631393B313631333B313630383B313630343B313539393B313539340D0A523D313539303B313538353B313538313B313537363B313537323B313536383B313536333B313535393B313535353B313535310D0A523D313534383B313534343B313534303B313533363B313533323B313532393B313532353B313532323B313531383B313531340D0A523D313531313B313530373B313530343B313530313B313439383B313439343B313439313B313438383B313438343B313438310D0A523D313437393B313437363B313437333B313437303B313436373B313436353B313436323B313436303B313435373B313435350D0A523D313435323B313434393B313434373B313434353B313434333B313434313B313433393B313433373B313433353B313433330D0A523D313433313B313433303B313432383B313432363B313432343B313432333B313432313B313432303B313431383B313431370D0A523D313431363B313431353B313431333B313431323B313431313B313431303B313430393B313430383B313430373B313430370D0A523D313430353B313430353B313430343B313430333B313430323B313430323B313430313B313430313B313430303B313430300D0A523D313339393B313339393B313339393B313339393B313339383B313339383B313339383B313339383B313339383B313339380D0A523D313339373B313339373B313339373B313339383B313339383B313339383B313339383B313339393B313339393B313339390D0A523D313339393B313430303B313430303B313430313B313430313B313430323B313430333B313430343B313430343B313430350D0A523D313430363B313430383B313430393B313431303B313431313B313431323B313431333B313431343B313431363B313431380D0A523D313431393B313432313B313432323B313432343B313432353B313432373B313432393B313433313B313433323B313433340D0A523D313433363B313433383B313434313B313434333B313434353B313434373B313435303B313435323B313435343B313435360D0A523D313435393B313436323B313436353B313436383B313437303B313437333B313437363B313437393B313438323B313438350D0A523D313438383B313439323B313439353B313439393B313530323B313530363B313531303B313531333B313531373B313532310D0A523D313532353B313532393B313533333B313533373B313534313B313534353B313534393B313535333B313535373B313536320D0A523D313536373B313537313B313537363B313538313B313538363B313539313B313539363B313630313B313630373B313631320D0A523D313631373B313632333B313632383B313633343B313633393B313634353B313635313B313635373B313636333B313636390D0A523D313637353B313638323B313638383B313639353B313730313B313730383B313731353B313732323B313732393B313733360D0A523D313734343B313735313B313735393B313736373B313737353B313738323B313739303B313739383B313830373B313831360D0A523D313832343B313833333B313834323B313835323B313836313B313837303B313837393B313838383B313839383B313930380D0A523D313931383B313932373B313933383B313934383B313935393B313937303B313938303B313939313B323030323B323031340D0A523D323032353B323033363B323034383B323036303B323037323B323038353B323039373B323131303B323132323B323133350D0A523D323134383B323136313B323137343B323138373B323230303B323231333B323232363B323233393B323235323B323236360D0A523D323237393B323239323B323330353B323331363B323332383B323333393B323335303B323335383B323336353B323336390D0A523D323337323B323337343B323337353B323337363B323337363B323337363B323337363B323337363B323337363B323337360D0A523D323337363B323337353B323337353B323337363B323337363B323337373B323337373B323337373B323337373B323337380D0A523D323337383B323337393B323337393B323338303B323338313B323338323B323338333B323338343B323338353B323338360D0A523D323338373B323338393B323339303B323339323B323339333B323339353B323339363B323339383B323430303B323430320D0A523D323430343B323430363B323430383B323431303B323431333B323431353B323431373B323432303B323432333B323432360D0A523D323432383B323433313B323433343B323433373B323434303B323434333B323434373B323435313B323435353B323435390D0A523D323436323B323436363B323437303B323437343B323437383B323438333B323438373B323439313B323439363B323530300D0A523D323530343B323530393B323531333B323531383B323532333B323532383B323533333B323533373B323534323B323534370D0A545243464D543D313B313030303B453B4C3B460D0A523D323630393B323630393B323630393B323630393B323630393B323630383B323630383B323630393B323630393B323631300D0A523D323631313B323631333B323631343B323631353B323631363B323631373B323631383B323631393B323632313B323632330D0A523D323632353B323632383B323633303B323633313B323633333B323633353B323633373B323633393B323634323B323634350D0A523D323634383B323635313B323635343B323635373B323636303B323636333B323636363B323636393B323637323B323637350D0A523D323637383B323638313B323638343B323638373B323639313B323639343B323639373B323639393B323730313B323730320D0A523D323639353B323638363B323637303B323635353B323633383B323632313B323630333B323538363B323536383B323535300D0A523D323533333B323531353B323439383B323438303B323436333B323434363B323433303B323431333B323339373B323338310D0A523D323336353B323334393B323333333B323331383B323330323B323238373B323237323B323235373B323234323B323232370D0A523D323231333B323139393B323138353B323137323B323135383B323134353B323133323B323131393B323130363B323039330D0A523D323038313B323036393B323035373B323034353B323033333B323032323B323031313B313939393B313938383B313937380D0A523D313936373B313935373B313934373B313933373B313932373B313931383B313930383B313839383B313838393B313837390D0A523D313837313B313836323B313835333B313834343B313833353B313832373B313831393B313831313B313830323B313739340D0A523D313738363B313737393B313737313B313736323B313735353B313734383B313734313B313733343B313732363B313731390D0A523D313731333B313730373B313730303B313639343B313638373B313638313B313637353B313636393B313636323B313635360D0A523D313635313B313634353B313633393B313633343B313632383B313632333B313631373B313631323B313630363B313630310D0A523D313539363B313539313B313538363B313538313B313537363B313537323B313536373B313536333B313535383B313535330D0A523D313534393B313534343B313534303B313533353B313533313B313532373B313532323B313531383B313531343B313531300D0A523D313530363B313530323B313439383B313439343B313439303B313438373B313438333B313438303B313437373B313437330D0A523D313437303B313436373B313436343B313436313B313435383B313435353B313435333B313435303B313434373B313434340D0A523D313434323B313433393B313433373B313433363B313433343B313433323B313433303B313432383B313432363B313432340D0A523D313432323B313431393B313431373B313431343B313431323B313431303B313430393B313430373B313430363B313430350D0A523D313430343B313430343B313430333B313430333B313430323B313430313B313430303B313339393B313339383B313339370D0A523D313339363B313339353B313339343B313339343B313339333B313339323B313339313B313339313B313339303B313338390D0A523D313338393B313338393B313338383B313338383B313338373B313338373B313338373B313338373B313338373B313338370D0A523D313338373B313338373B313338383B313338383B313338383B313338383B313338383B313338383B313338393B313338390D0A523D313338393B313339303B313339303B313339313B313339313B313339323B313339323B313339333B313339333B313339340D0A523D313339353B313339363B313339373B313339383B313339393B313430303B313430313B313430323B313430333B313430340D0A523D313430363B313430373B313430393B313431303B313431323B313431333B313431343B313431353B313431373B313431390D0A523D313432313B313432333B313432353B313432373B313432393B313433313B313433333B313433353B313433373B313434300D0A523D313434323B313434343B313434373B313435303B313435333B313435353B313435383B313436303B313436333B313436370D0A523D313437303B313437333B313437363B313437393B313438323B313438353B313438383B313439313B313439353B313439380D0A523D313530323B313530363B313530393B313531333B313531363B313532303B313532343B313532383B313533333B313533370D0A523D313534323B313534363B313535303B313535353B313536303B313536353B313537303B313537353B313537393B313538340D0A523D313539303B313539353B313630313B313630363B313631313B313631373B313632323B313632393B313633353B313634310D0A523D313634373B313635333B313635393B313636363B313637333B313637393B313638363B313639333B313639393B313730370D0A523D313731343B313732313B313732383B313733363B313734343B313735313B313735393B313736373B313737353B313738330D0A523D313739313B313830303B313830393B313831383B313832363B313833353B313834343B313835333B313836333B313837330D0A523D313838323B313839323B313930323B313931333B313932333B313933343B313934353B313935373B313936383B313937390D0A523D313939313B323030333B323031353B323032373B323034303B323035323B323036353B323037383B323039303B323130340D0A523D323131373B323133313B323134353B323135393B323137333B323138373B323230313B323231363B323233313B323234370D0A523D323236323B323237373B323239333B323330393B323332353B323334323B323335393B323337363B323339333B323431300D0A523D323432383B323434373B323436353B323438343B323530333B323532323B323534313B323536313B323538313B323630310D0A523D323632313B323634323B323636333B323638333B323730343B323732353B323734353B323736353B323738353B323830330D0A523D323831393B323833323B323834303B323834303B323833383B323833323B323832363B323832303B323831333B323830360D0A523D323739393B323739333B323738363B323738303B323737343B323736393B323736333B323735373B323735323B323734360D0A523D323734313B323733363B323733313B323732363B323732313B323731363B323731323B323730373B323730333B323639380D0A523D323639343B323639303B323638363B323638323B323637373B323637333B323637303B323636363B323636333B323635390D0A523D323635363B323635323B323634393B323634363B323634333B323634303B323633373B323633343B323633313B323632380D0A523D323632343B323632313B323631383B323631353B323631323B323630393B323630363B323630333B323630303B323539360D0A523D323539333B323538393B323538363B323538323B323537383B323537333B323536393B323536353B323536303B323535360D0A523D323535323B323534373B323534323B323533373B323533333B323532383B323532333B323531383B323531333B323530390D0A523D323530343B323530303B323439363B323439313B323438373B323438333B323437383B323437343B323437303B323436360D0A523D323436323B323435393B323435353B323435313B323434373B323434333B323434303B323433373B323433343B323433310D0A523D323432383B323432363B323432333B323432303B323431373B323431353B323431333B323431303B323430383B323430360D0A523D323430343B323430323B323430303B323339383B323339363B323339353B323339333B323339323B323339303B323338390D0A523D323338373B323338363B323338353B323338343B323338333B323338323B323338313B323338303B323337393B323337390D0A523D323337383B323337383B323337373B323337373B323337373B323337373B323337363B323337363B323337353B323337350D0A523D323337363B323337363B323337363B323337363B323337363B323337363B323337363B323337363B323337353B323337340D0A523D323337323B323336393B323336353B323335383B323335303B323333393B323332383B323331363B323330353B323239320D0A523D323237393B323236363B323235323B323233393B323232363B323231333B323230303B323138373B323137343B323136310D0A523D323134383B323133353B323132323B323131303B323039373B323038353B323037323B323036303B323034383B323033360D0A523D323032353B323031343B323030323B313939313B313938303B313937303B313935393B313934383B313933383B313932370D0A523D313931383B313930383B313839383B313838383B313837393B313837303B313836313B313835323B313834323B313833330D0A523D313832343B313831363B313830373B313739383B313739303B313738323B313737353B313736373B313735393B313735310D0A523D313734343B313733363B313732393B313732323B313731353B313730383B313730313B313639353B313638383B313638320D0A523D313637353B313636393B313636333B313635373B313635313B313634353B313633393B313633343B313632383B313632330D0A523D313631373B313631323B313630373B313630313B313539363B313539313B313538363B313538313B313537363B313537310D0A523D313536373B313536323B313535373B313535333B313534393B313534353B313534313B313533373B313533333B313532390D0A523D313532353B313532313B313531373B313531333B313531303B313530363B313530323B313439393B313439353B313439320D0A523D313438383B313438353B313438323B313437393B313437363B313437333B313437303B313436383B313436353B313436320D0A523D313435393B313435363B313435343B313435323B313435303B313434373B313434353B313434333B313434313B313433380D0A523D313433363B313433343B313433323B313433313B313432393B313432373B313432353B313432343B313432323B313432310D0A523D313431393B313431383B313431363B313431343B313431333B313431323B313431313B313431303B313430393B313430380D0A523D313430363B313430353B313430343B313430343B313430333B313430323B313430313B313430313B313430303B313430300D0A523D313339393B313339393B313339393B313339393B313339383B313339383B313339383B313339383B313339373B313339370D0A523D313339373B313339383B313339383B313339383B313339383B313339383B313339383B313339393B313339393B313339390D0A523D313339393B313430303B313430303B313430313B313430313B313430323B313430323B313430333B313430343B313430350D0A523D313430353B313430373B313430373B313430383B313430393B313431303B313431313B313431323B313431333B313431350D0A523D313431363B313431373B313431383B313432303B313432313B313432333B313432343B313432363B313432383B313433300D0A523D313433313B313433333B313433353B313433373B313433393B313434313B313434333B313434353B313434373B313434390D0A523D313435323B313435353B313435373B313436303B313436323B313436353B313436373B313437303B313437333B313437360D0A523D313437393B313438313B313438343B313438383B313439313B313439343B313439383B313530313B313530343B313530370D0A523D313531313B313531343B313531383B313532323B313532353B313532393B313533323B313533363B313534303B313534340D0A523D313534383B313535313B313535353B313535393B313536333B313536383B313537323B313537363B313538313B313538350D0A523D313539303B313539343B313539393B313630343B313630383B313631333B313631393B313632343B313633303B313633350D0A523D313634303B313634363B313635313B313635373B313636333B313636393B313637353B313638313B313638383B313639360D0A523D313730333B313731313B313731373B313732333B313733303B313733373B313734343B313735323B313735393B313736360D0A523D313737333B313738303B313738383B313739363B313830343B313831333B313832333B313833323B313834323B313835310D0A523D313836303B313836383B313837383B313838373B313839353B313930343B313931353B313932353B313933343B313934340D0A523D313935353B313936353B313937353B313938363B313939373B323030383B323031393B323033303B323034323B323035340D0A523D323036353B323037373B323038393B323130313B323131333B323132363B323134303B323135333B323136363B323138300D0A523D323139333B323230373B323232313B323233363B323235313B323236363B323238313B323239363B323331303B323332360D0A523D323334313B323335373B323337333B323338393B323430363B323432323B323433393B323435363B323437343B323439310D0A523D323530393B323532373B323534353B323536333B323538323B323630313B323631393B323633373B323635353B323637340D0A523D323639323B323730393B323732353B323733393B323734353B323734373B323734343B323734303B323733363B323733320D0A523D323732373B323732333B323731383B323731343B323730393B323730353B323730313B323639373B323639333B323638390D0A523D323638353B323638323B323637383B323637353B323637313B323636383B323636343B323636313B323635383B323635340D0A523D323635323B323634393B323634373B323634343B323634323B323633393B323633363B323633343B323633323B323633300D0A523D323632383B323632363B323632353B323632333B323632323B323632303B323631393B323631373B323631363B323631350D0A523D323631343B323631333B323631323B323631323B323631313B323631313B323631303B323631303B323631303B323631300D0A56424F583D32372E39353B32372E39350D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35362E38303B35362E38300D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                        }

                        if ($information_commande->precalibrage->calibre ==
                            17) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3133382E3537303B3133382E3537300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35302E31323B35302E31320D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323434343B323434373B323434393B323435323B323435353B323435383B323436303B323436343B323436373B323437300D0A523D323437333B323437363B323437393B323438323B323438353B323438383B323439313B323439343B323439373B323530300D0A523D323530343B323530373B323531313B323531343B323531383B323532323B323532353B323533303B323533333B323533370D0A523D323534313B323534363B323535303B323535343B323535393B323536333B323536373B323537323B323537363B323538310D0A523D323538353B323539303B323539353B323630303B323630353B323630393B323631343B323631393B323632333B323632380D0A523D323633323B323633373B323634313B323634353B323634393B323635333B323635373B323636303B323636323B323636330D0A523D323636343B323636353B323636353B323636333B323636303B323635363B323635303B323634333B323633343B323632340D0A523D323631333B323630313B323538383B323537353B323536313B323534363B323533323B323531373B323530323B323438370D0A523D323437313B323435363B323434303B323432363B323431313B323339363B323338313B323336363B323335313B323333370D0A523D323332333B323330393B323239353B323238313B323236383B323235343B323234313B323232383B323231363B323230330D0A523D323139313B323137393B323136373B323135343B323134323B323133313B323131393B323130373B323039353B323038340D0A523D323037333B323036333B323035323B323034313B323033303B323032303B323031303B323030303B313939303B313938300D0A523D313937313B313936323B313935333B313934343B313933363B313932373B313931383B313931303B313930313B313839330D0A523D313838353B313837373B313836393B313836323B313835343B313834363B313833393B313833313B313832343B313831360D0A523D313830393B313830313B313739343B313738373B313738313B313737343B313736373B313736313B313735343B313734380D0A523D313734313B313733353B313732393B313732333B313731373B313731313B313730353B313730303B313639343B313638390D0A523D313638333B313637373B313637323B313636363B313636313B313635363B313635303B313634353B313634303B313633350D0A523D313633313B313632353B313632303B313631363B313631323B313630383B313630333B313539383B313539343B313539300D0A523D313538363B313538323B313537383B313537333B313537303B313536363B313536323B313535393B313535353B313535320D0A523D313534393B313534353B313534323B313533393B313533363B313533333B313533303B313532373B313532343B313532310D0A523D313531383B313531353B313531323B313530393B313530373B313530343B313530323B313439393B313439373B313439350D0A523D313439323B313439303B313438383B313438363B313438343B313438333B313438313B313437393B313437373B313437360D0A523D313437343B313437333B313437313B313437303B313436393B313436373B313436363B313436353B313436343B313436330D0A523D313436313B313436303B313435393B313435393B313435383B313435373B313435363B313435363B313435353B313435350D0A523D313435343B313435333B313435323B313435323B313435313B313435313B313435303B313435303B313435303B313435300D0A523D313434393B313434393B313434393B313434393B313434393B313434393B313434393B313434393B313434393B313435300D0A523D313435303B313435303B313435303B313435303B313435303B313435313B313435313B313435323B313435333B313435340D0A523D313435343B313435363B313435363B313435373B313435383B313435393B313436303B313436313B313436323B313436340D0A523D313436353B313436373B313436383B313436393B313437303B313437323B313437333B313437343B313437353B313437360D0A523D313437373B313437393B313438313B313438333B313438363B313438383B313439303B313439323B313439343B313439360D0A523D313439383B313530303B313530333B313530363B313530393B313531323B313531363B313531393B313532313B313532330D0A523D313532363B313532383B313533313B313533333B313533363B313533393B313534323B313534353B313534383B313535310D0A523D313535353B313535383B313536323B313536363B313537303B313537343B313537373B313538313B313538353B313539300D0A523D313539343B313539383B313630323B313630363B313631313B313631363B313632303B313632353B313633303B313633350D0A523D313634303B313634353B313635303B313635363B313636313B313636363B313637323B313637373B313638333B313638390D0A523D313639343B313639393B313730353B313731313B313731373B313732333B313732393B313733353B313734313B313734370D0A523D313735333B313736303B313736363B313737323B313737393B313738363B313739333B313830303B313830373B313831340D0A523D313832323B313832393B313833373B313834353B313835333B313836313B313836393B313837373B313838363B313839350D0A523D313930333B313931313B313932313B313933303B313933383B313934373B313935363B313936363B313937353B313938350D0A523D313939363B323030363B323031363B323032363B323033363B323034363B323035363B323036363B323037373B323038370D0A523D323039383B323130393B323132303B323133323B323134343B323135353B323136373B323137393B323139323B323230340D0A523D323231373B323233303B323234333B323235363B323237303B323238333B323239373B323331313B323332353B323334300D0A523D323335353B323336393B323338343B323339393B323431343B323432383B323434333B323435393B323437343B323438390D0A523D323530353B323532303B323533353B323534393B323536323B323537353B323538373B323539373B323630353B323631320D0A523D323631353B323631353B323631353B323631343B323631333B323631323B323631313B323630393B323630373B323630350D0A523D323630323B323539393B323539353B323539323B323538393B323538363B323538333B323537393B323537373B323537340D0A523D323537313B323536383B323536353B323536323B323535383B323535343B323535313B323534373B323534353B323534320D0A523D323534303B323533373B323533353B323533333B323533313B323532393B323532373B323532353B323532343B323532330D0A523D323532313B323532303B323531393B323531383B323531373B323531363B323531353B323531333B323531323B323531320D0A523D323531313B323531303B323530393B323530383B323530373B323530373B323530363B323530363B323530353B323530350D0A523D323530343B323530343B323530343B323530343B323530343B323530333B323530333B323530343B323530343B323530350D0A523D323530353B323530353B323530353B323530363B323530373B323530383B323530393B323531303B323531313B323531320D0A523D323531333B323531353B323531363B323531373B323531393B323532303B323532323B323532333B323532353B323532370D0A523D323532393B323533313B323533343B323533363B323533383B323534303B323534323B323534343B323534363B323534380D0A523D323535303B323535333B323535363B323535393B323536323B323536343B323536373B323537303B323537333B323537370D0A523D323538303B323538333B323538363B323538393B323539333B323539363B323539393B323630323B323630353B323630380D0A523D323631313B323631343B323631373B323631393B323632313B323632333B323632343B323632353B323632353B323632340D0A523D323632333B323632313B323631373B323631303B323630333B323539333B323538323B323536393B323535363B323534310D0A523D323532373B323531333B323439383B323438343B323436393B323435343B323433393B323432343B323430393B323339340D0A523D323337393B323336343B323334393B323333353B323332313B323330373B323239333B323237393B323236363B323235330D0A523D323234303B323232363B323231333B323230313B323138383B323137363B323136333B323135303B323133383B323132360D0A523D323131353B323130333B323039313B323037393B323036383B323035373B323034363B323033353B323032343B323031330D0A523D323030323B313939323B313938323B313937313B313936323B313935323B313934323B313933333B313932333B313931340D0A523D313930343B313839353B313838343B313837343B313836343B313835353B313834363B313833383B313833303B313832330D0A523D313831353B313830383B313830313B313739333B313738353B313737363B313736393B313736313B313735343B313734370D0A523D313734313B313733343B313732373B313732313B313731343B313730383B313730323B313639373B313639313B313638350D0A523D313637393B313637343B313636393B313636333B313635383B313635333B313634383B313634333B313633383B313633330D0A523D313632393B313632333B313631383B313631343B313630393B313630353B313630313B313539363B313539323B313538380D0A523D313538343B313538303B313537363B313537313B313536383B313536343B313536303B313535373B313535333B313535300D0A523D313534363B313534323B313533393B313533363B313533333B313533303B313532373B313532343B313532313B313531380D0A523D313531353B313531323B313530393B313530363B313530343B313530313B313439393B313439373B313439353B313439320D0A523D313439303B313438383B313438363B313438343B313438323B313438313B313437393B313437373B313437353B313437340D0A523D313437323B313437313B313437303B313436383B313436373B313436353B313436343B313436333B313436323B313436310D0A523D313436303B313435393B313435383B313435373B313435363B313435363B313435353B313435343B313435333B313435330D0A523D313435323B313435323B313435323B313435323B313435313B313435313B313435303B313435303B313435303B313435300D0A523D313435313B313435313B313435313B313435313B313435313B313435313B313435313B313435323B313435323B313435330D0A523D313435333B313435343B313435343B313435353B313435363B313435373B313435373B313435383B313435393B313436300D0A523D313436313B313436333B313436343B313436353B313436363B313436373B313436393B313437303B313437313B313437330D0A523D313437343B313437363B313437383B313438303B313438313B313438333B313438353B313438373B313438393B313439310D0A523D313439333B313439353B313439383B313530303B313530323B313530343B313530373B313530393B313531323B313531350D0A523D313531383B313532313B313532343B313532373B313533303B313533333B313533363B313533393B313534323B313534350D0A523D313534383B313535323B313535353B313535393B313536323B313536363B313537303B313537343B313537383B313538320D0A523D313538363B313539303B313539353B313539393B313630333B313630383B313631323B313631363B313632303B313632350D0A523D313633303B313633353B313634303B313634343B313634393B313635343B313635393B313636343B313637303B313637350D0A523D313638313B313638363B313639313B313639373B313730323B313730383B313731343B313732303B313732363B313733320D0A523D313733393B313734353B313735323B313735393B313736353B313737323B313737393B313738363B313739333B313830300D0A523D313830363B313831343B313832313B313832393B313833363B313834333B313835313B313835393B313836373B313837350D0A523D313838333B313839303B313839383B313930373B313931353B313932333B313933313B313933393B313934383B313935370D0A523D313936363B313937343B313938333B313939323B323030313B323031303B323031393B323032383B323033373B323034360D0A523D323035363B323036353B323037353B323038343B323039343B323130343B323131333B323132333B323133333B323134320D0A523D323135313B323136313B323137303B323137393B323138373B323139363B323230343B323231323B323231393B323232360D0A523D323233323B323233373B323234313B323234353B323234393B323235313B323235343B323235373B323235393B323236310D0A523D323236323B323236343B323236363B323236373B323236383B323237303B323237313B323237323B323237333B323237350D0A523D323237363B323237373B323237393B323238303B323238313B323238323B323238343B323238353B323238373B323238380D0A523D323239303B323239313B323239333B323239343B323239363B323239383B323330303B323330323B323330343B323330360D0A523D323330383B323331303B323331323B323331343B323331363B323331393B323332313B323332343B323332363B323332390D0A523D323333323B323333343B323333373B323333393B323334323B323334353B323334383B323335313B323335343B323335370D0A523D323335393B323336323B323336353B323336383B323337313B323337343B323337373B323337393B323338323B323338350D0A523D323338383B323339313B323339343B323339373B323430303B323430333B323430363B323430393B323431313B323431340D0A523D323431373B323432303B323432333B323432353B323432383B323433313B323433343B323433363B323433393B323434310D0A545243464D543D313B313030303B453B4C3B460D0A523D323530343B323530353B323530353B323530363B323530363B323530373B323530373B323530383B323530393B323531300D0A523D323531313B323531323B323531323B323531333B323531353B323531363B323531373B323531383B323531393B323532300D0A523D323532313B323532333B323532343B323532353B323532373B323532393B323533313B323533333B323533353B323533370D0A523D323534303B323534323B323534353B323534373B323535313B323535343B323535383B323536323B323536353B323536380D0A523D323537313B323537343B323537373B323537393B323538333B323538363B323538393B323539323B323539353B323539390D0A523D323630323B323630353B323630373B323630393B323631313B323631323B323631333B323631343B323631353B323631350D0A523D323631353B323631323B323630353B323539373B323538373B323537353B323536323B323534393B323533353B323532300D0A523D323530353B323438393B323437343B323435393B323434333B323432383B323431343B323339393B323338343B323336390D0A523D323335353B323334303B323332353B323331313B323239373B323238333B323237303B323235363B323234333B323233300D0A523D323231373B323230343B323139323B323137393B323136373B323135353B323134343B323133323B323132303B323130390D0A523D323039383B323038373B323037373B323036363B323035363B323034363B323033363B323032363B323031363B323030360D0A523D313939363B313938353B313937353B313936363B313935363B313934373B313933383B313933303B313932313B313931310D0A523D313930333B313839353B313838363B313837373B313836393B313836313B313835333B313834353B313833373B313832390D0A523D313832323B313831343B313830373B313830303B313739333B313738363B313737393B313737323B313736363B313736300D0A523D313735333B313734373B313734313B313733353B313732393B313732333B313731373B313731313B313730353B313639390D0A523D313639343B313638393B313638333B313637373B313637323B313636363B313636313B313635363B313635303B313634350D0A523D313634303B313633353B313633303B313632353B313632303B313631363B313631313B313630363B313630323B313539380D0A523D313539343B313539303B313538353B313538313B313537373B313537343B313537303B313536363B313536323B313535380D0A523D313535353B313535313B313534383B313534353B313534323B313533393B313533363B313533333B313533313B313532380D0A523D313532363B313532333B313532313B313531393B313531363B313531323B313530393B313530363B313530333B313530300D0A523D313439383B313439363B313439343B313439323B313439303B313438383B313438363B313438333B313438313B313437390D0A523D313437373B313437363B313437353B313437343B313437333B313437323B313437303B313436393B313436383B313436370D0A523D313436353B313436343B313436323B313436313B313436303B313435393B313435383B313435373B313435363B313435360D0A523D313435343B313435343B313435333B313435323B313435313B313435313B313435303B313435303B313435303B313435300D0A523D313435303B313435303B313434393B313434393B313434393B313434393B313434393B313434393B313434393B313434390D0A523D313434393B313435303B313435303B313435303B313435303B313435313B313435313B313435323B313435323B313435330D0A523D313435343B313435353B313435353B313435363B313435363B313435373B313435383B313435393B313435393B313436300D0A523D313436313B313436333B313436343B313436353B313436363B313436373B313436393B313437303B313437313B313437330D0A523D313437343B313437363B313437373B313437393B313438313B313438333B313438343B313438363B313438383B313439300D0A523D313439323B313439353B313439373B313439393B313530323B313530343B313530373B313530393B313531323B313531350D0A523D313531383B313532313B313532343B313532373B313533303B313533333B313533363B313533393B313534323B313534350D0A523D313534393B313535323B313535353B313535393B313536323B313536363B313537303B313537333B313537383B313538320D0A523D313538363B313539303B313539343B313539383B313630333B313630383B313631323B313631363B313632303B313632350D0A523D313633313B313633353B313634303B313634353B313635303B313635363B313636313B313636363B313637323B313637370D0A523D313638333B313638393B313639343B313730303B313730353B313731313B313731373B313732333B313732393B313733350D0A523D313734313B313734383B313735343B313736313B313736373B313737343B313738313B313738373B313739343B313830310D0A523D313830393B313831363B313832343B313833313B313833393B313834363B313835343B313836323B313836393B313837370D0A523D313838353B313839333B313930313B313931303B313931383B313932373B313933363B313934343B313935333B313936320D0A523D313937313B313938303B313939303B323030303B323031303B323032303B323033303B323034313B323035323B323036330D0A523D323037333B323038343B323039353B323130373B323131393B323133313B323134323B323135343B323136373B323137390D0A523D323139313B323230333B323231363B323232383B323234313B323235343B323236383B323238313B323239353B323330390D0A523D323332333B323333373B323335313B323336363B323338313B323339363B323431313B323432363B323434303B323435360D0A523D323437313B323438373B323530323B323531373B323533323B323534363B323536313B323537353B323538383B323630310D0A523D323631333B323632343B323633343B323634333B323635303B323635363B323636303B323636333B323636353B323636350D0A523D323636343B323636333B323636323B323636303B323635373B323635333B323634393B323634353B323634313B323633370D0A523D323633323B323632383B323632333B323631393B323631343B323630393B323630353B323630303B323539353B323539300D0A523D323538353B323538313B323537363B323537323B323536373B323536333B323535393B323535343B323535303B323534360D0A523D323534313B323533373B323533333B323533303B323532353B323532323B323531383B323531343B323531313B323530370D0A523D323530343B323530303B323439373B323439343B323439313B323438383B323438353B323438323B323437393B323437360D0A523D323437333B323437303B323436373B323436343B323436303B323435383B323435353B323435323B323434393B323434370D0A523D323434343B323434313B323433393B323433363B323433343B323433313B323432383B323432353B323432333B323432300D0A523D323431373B323431343B323431313B323430393B323430363B323430333B323430303B323339373B323339343B323339310D0A523D323338383B323338353B323338323B323337393B323337373B323337343B323337313B323336383B323336353B323336320D0A523D323335393B323335373B323335343B323335313B323334383B323334353B323334323B323333393B323333373B323333340D0A523D323333323B323332393B323332363B323332343B323332313B323331393B323331363B323331343B323331323B323331300D0A523D323330383B323330363B323330343B323330323B323330303B323239383B323239363B323239343B323239333B323239310D0A523D323239303B323238383B323238373B323238353B323238343B323238323B323238313B323238303B323237393B323237370D0A523D323237363B323237353B323237333B323237323B323237313B323237303B323236383B323236373B323236363B323236340D0A523D323236323B323236313B323235393B323235373B323235343B323235313B323234393B323234353B323234313B323233370D0A523D323233323B323232363B323231393B323231323B323230343B323139363B323138373B323137393B323137303B323136310D0A523D323135313B323134323B323133333B323132333B323131333B323130343B323039343B323038343B323037353B323036350D0A523D323035363B323034363B323033373B323032383B323031393B323031303B323030313B313939323B313938333B313937340D0A523D313936363B313935373B313934383B313933393B313933313B313932333B313931353B313930373B313839383B313839300D0A523D313838333B313837353B313836373B313835393B313835313B313834333B313833363B313832393B313832313B313831340D0A523D313830363B313830303B313739333B313738363B313737393B313737323B313736353B313735393B313735323B313734350D0A523D313733393B313733323B313732363B313732303B313731343B313730383B313730323B313639373B313639313B313638360D0A523D313638313B313637353B313637303B313636343B313635393B313635343B313634393B313634343B313634303B313633350D0A523D313633303B313632353B313632303B313631363B313631323B313630383B313630333B313539393B313539353B313539300D0A523D313538363B313538323B313537383B313537343B313537303B313536363B313536323B313535393B313535353B313535320D0A523D313534383B313534353B313534323B313533393B313533363B313533333B313533303B313532373B313532343B313532310D0A523D313531383B313531353B313531323B313530393B313530373B313530343B313530323B313530303B313439383B313439350D0A523D313439333B313439313B313438393B313438373B313438353B313438333B313438313B313438303B313437383B313437360D0A523D313437343B313437333B313437313B313437303B313436393B313436373B313436363B313436353B313436343B313436330D0A523D313436313B313436303B313435393B313435383B313435373B313435373B313435363B313435353B313435343B313435340D0A523D313435333B313435333B313435323B313435323B313435313B313435313B313435313B313435313B313435313B313435310D0A523D313435313B313435303B313435303B313435303B313435303B313435313B313435313B313435323B313435323B313435320D0A523D313435323B313435333B313435333B313435343B313435353B313435363B313435363B313435373B313435383B313435390D0A523D313436303B313436313B313436323B313436333B313436343B313436353B313436373B313436383B313437303B313437310D0A523D313437323B313437343B313437353B313437373B313437393B313438313B313438323B313438343B313438363B313438380D0A523D313439303B313439323B313439353B313439373B313439393B313530313B313530343B313530363B313530393B313531320D0A523D313531353B313531383B313532313B313532343B313532373B313533303B313533333B313533363B313533393B313534320D0A523D313534363B313535303B313535333B313535373B313536303B313536343B313536383B313537313B313537363B313538300D0A523D313538343B313538383B313539323B313539363B313630313B313630353B313630393B313631343B313631383B313632330D0A523D313632393B313633333B313633383B313634333B313634383B313635333B313635383B313636333B313636393B313637340D0A523D313637393B313638353B313639313B313639373B313730323B313730383B313731343B313732313B313732373B313733340D0A523D313734313B313734373B313735343B313736313B313736393B313737363B313738353B313739333B313830313B313830380D0A523D313831353B313832333B313833303B313833383B313834363B313835353B313836343B313837343B313838343B313839350D0A523D313930343B313931343B313932333B313933333B313934323B313935323B313936323B313937313B313938323B313939320D0A523D323030323B323031333B323032343B323033353B323034363B323035373B323036383B323037393B323039313B323130330D0A523D323131353B323132363B323133383B323135303B323136333B323137363B323138383B323230313B323231333B323232360D0A523D323234303B323235333B323236363B323237393B323239333B323330373B323332313B323333353B323334393B323336340D0A523D323337393B323339343B323430393B323432343B323433393B323435343B323436393B323438343B323439383B323531330D0A523D323532373B323534313B323535363B323536393B323538323B323539333B323630333B323631303B323631373B323632310D0A523D323632333B323632343B323632353B323632353B323632343B323632333B323632313B323631393B323631373B323631340D0A523D323631313B323630383B323630353B323630323B323539393B323539363B323539333B323538393B323538363B323538330D0A523D323538303B323537373B323537333B323537303B323536373B323536343B323536323B323535393B323535363B323535330D0A523D323535303B323534383B323534363B323534343B323534323B323534303B323533383B323533363B323533343B323533310D0A523D323532393B323532373B323532353B323532333B323532323B323532303B323531393B323531373B323531363B323531350D0A523D323531333B323531323B323531313B323531303B323530393B323530383B323530373B323530363B323530353B323530350D0A523D323530353B323530353B323530343B323530343B323530333B323530333B323530343B323530343B323530343B323530340D0A56424F583D32392E30323B32392E30320D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35332E33303B35332E33300D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                        }

                        if ($information_commande->precalibrage->calibre ==
                            18) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3133342E3132303B3133342E3132300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D34392E30363B34392E30360D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323434373B323434393B323435303B323435313B323435323B323435333B323435343B323435353B323435363B323435370D0A523D323435373B323435383B323435383B323435383B323435383B323435383B323435383B323435383B323435383B323435370D0A523D323435373B323435353B323435353B323435343B323435343B323435333B323435323B323435313B323435303B323434390D0A523D323434383B323434373B323434363B323434353B323434343B323434323B323434313B323434303B323433393B323433380D0A523D323433373B323433363B323433353B323433343B323433333B323433323B323433313B323433303B323432383B323432370D0A523D323432353B323432343B323432323B323431393B323431373B323431343B323431323B323431303B323430383B323430350D0A523D323430323B323339393B323339363B323339333B323339303B323338363B323338333B323338303B323337363B323337330D0A523D323336393B323336363B323336323B323335383B323335353B323335313B323334373B323334333B323333393B323333350D0A523D323333313B323332373B323332333B323331393B323331353B323331313B323330373B323330323B323239373B323239330D0A523D323238383B323238343B323237393B323237343B323237303B323236353B323236303B323235353B323235303B323234360D0A523D323234313B323233363B323233313B323232363B323232313B323231353B323231303B323230353B323230303B323139350D0A523D323139303B323138353B323138303B323137343B323137303B323136353B323136303B323135353B323135303B323134350D0A523D323134303B323133343B323132393B323132343B323131393B323131343B323130393B323130353B323130303B323039350D0A523D323038393B323038343B323038303B323037353B323037313B323036363B323036313B323035363B323035303B323034350D0A523D323034313B323033363B323033323B323032373B323032323B323031383B323031333B323030393B323030343B313939390D0A523D313939353B313939313B313938363B313938323B313937373B313937333B313936393B313936353B313936313B313935370D0A523D313935333B313934393B313934343B313934303B313933363B313933333B313932393B313932353B313932313B313931370D0A523D313931343B313931303B313930373B313930333B313839393B313839353B313839313B313838383B313838353B313838310D0A523D313837383B313837343B313837313B313836373B313836343B313836313B313835383B313835353B313835313B313834380D0A523D313834353B313834323B313833393B313833373B313833343B313833323B313832393B313832373B313832343B313832320D0A523D313831393B313831363B313831343B313831313B313830393B313830373B313830353B313830323B313830303B313739380D0A523D313739363B313739343B313739323B313739303B313738383B313738373B313738353B313738333B313738313B313738300D0A523D313737383B313737373B313737353B313737343B313737333B313737313B313737303B313736393B313736383B313736360D0A523D313736353B313736333B313736323B313736323B313736313B313736303B313735393B313735383B313735373B313735370D0A523D313735363B313735353B313735343B313735343B313735333B313735333B313735323B313735323B313735323B313735320D0A523D313735313B313735313B313735313B313735313B313735313B313735313B313735313B313735313B313735313B313735310D0A523D313735313B313735323B313735323B313735323B313735323B313735333B313735333B313735343B313735343B313735340D0A523D313735343B313735353B313735353B313735363B313735363B313735373B313735373B313735383B313735393B313736300D0A523D313736313B313736323B313736333B313736343B313736353B313736363B313736373B313736393B313737303B313737310D0A523D313737323B313737343B313737363B313737373B313737383B313737393B313738313B313738323B313738343B313738360D0A523D313738383B313738393B313739313B313739333B313739353B313739363B313739383B313830303B313830323B313830350D0A523D313830373B313830393B313831303B313831323B313831343B313831363B313831383B313832303B313832323B313832340D0A523D313832363B313832393B313833313B313833343B313833373B313834303B313834333B313834373B313835303B313835320D0A523D313835353B313835383B313836313B313836343B313836373B313837303B313837333B313837363B313837393B313838320D0A523D313838353B313838383B313839313B313839343B313839373B313930303B313930333B313930373B313931303B313931350D0A523D313931383B313932323B313932363B313933303B313933343B313933373B313934313B313934343B313934383B313935320D0A523D313935373B313936313B313936353B313936393B313937333B313937373B313938313B313938353B313939303B313939340D0A523D313939393B323030333B323030373B323031313B323031353B323032303B323032353B323032393B323033343B323033380D0A523D323034323B323034373B323035323B323035373B323036313B323036353B323037303B323037353B323038303B323038350D0A523D323039303B323039363B323130313B323130363B323131313B323131363B323132323B323132373B323133323B323133370D0A523D323134323B323134373B323135323B323135373B323136323B323136373B323137323B323137373B323138323B323138370D0A523D323139323B323139383B323230333B323230393B323231343B323231393B323232343B323232393B323233343B323233390D0A523D323234333B323234393B323235353B323236303B323236353B323236393B323237343B323237393B323238343B323238390D0A523D323239343B323239393B323330333B323330383B323331323B323331363B323332313B323332363B323333303B323333350D0A523D323333393B323334333B323334373B323335323B323335363B323336303B323336343B323336383B323337323B323337350D0A523D323337393B323338333B323338373B323339303B323339333B323339363B323339393B323430323B323430353B323430380D0A523D323431313B323431333B323431363B323431393B323432323B323432343B323432373B323433303B323433333B323433360D0A523D323433383B323434303B323434313B323434323B323434333B323434333B323434343B323434353B323434363B323434370D0A523D323434383B323434383B323434373B323434373B323434383B323434393B323435303B323435313B323435323B323435320D0A523D323435323B323435323B323435313B323435313B323435313B323435323B323435333B323435333B323435333B323435320D0A523D323435313B323435313B323435313B323435313B323435313B323435313B323435313B323435303B323435303B323434390D0A523D323434383B323434373B323434373B323434363B323434343B323434333B323434323B323434313B323433393B323433380D0A523D323433363B323433353B323433333B323433313B323432393B323432373B323432353B323432343B323432323B323432300D0A523D323431383B323431363B323431343B323431323B323431303B323430363B323430333B323339393B323339373B323339340D0A523D323339323B323339303B323338383B323338373B323338343B323338313B323337383B323337363B323337343B323337320D0A523D323337303B323336373B323336353B323336323B323335383B323335353B323335313B323334363B323334313B323333370D0A523D323333333B323333303B323332373B323332333B323332303B323331363B323331323B323330383B323330343B323330310D0A523D323239383B323239353B323239323B323238383B323238343B323238303B323237373B323237333B323236393B323236340D0A523D323236303B323235363B323235313B323234373B323234333B323233383B323233333B323232383B323232343B323231390D0A523D323231353B323231313B323230373B323230323B323139373B323139323B323138383B323138333B323137393B323137350D0A523D323137313B323136373B323136323B323135363B323135313B323134353B323134313B323133363B323133313B323132370D0A523D323132323B323131383B323131333B323130383B323130343B323039393B323039343B323039303B323038353B323038310D0A523D323037363B323037323B323036383B323036333B323035393B323035353B323035303B323034363B323034323B323033380D0A523D323033343B323032393B323032353B323032313B323031373B323031323B323030393B323030353B323030313B313939380D0A523D313939343B313939303B313938363B313938323B313937393B313937353B313937313B313936373B313936343B313936300D0A523D313935363B313935333B313934393B313934353B313934313B313933383B313933353B313933313B313932383B313932340D0A523D313932313B313931373B313931343B313931313B313930373B313930343B313930313B313839383B313839353B313839320D0A523D313838393B313838363B313838333B313838303B313837363B313837333B313837303B313836383B313836353B313836330D0A523D313836303B313835373B313835343B313835323B313834393B313834363B313834343B313834313B313833393B313833360D0A523D313833343B313833313B313832383B313832363B313832333B313832313B313831393B313831373B313831343B313831320D0A523D313831303B313830373B313830353B313830333B313830313B313739393B313739373B313739353B313739343B313739320D0A523D313739303B313738393B313738373B313738363B313738343B313738323B313738303B313737393B313737373B313737360D0A523D313737343B313737333B313737323B313737303B313736393B313736383B313736373B313736363B313736353B313736340D0A523D313736323B313736323B313736313B313736303B313735393B313735393B313735383B313735373B313735363B313735360D0A523D313735353B313735353B313735343B313735343B313735333B313735333B313735333B313735333B313735323B313735320D0A523D313735323B313735313B313735313B313735313B313735313B313735303B313735303B313735303B313735303B313735310D0A523D313735313B313735313B313735313B313735313B313735313B313735323B313735323B313735333B313735333B313735330D0A523D313735333B313735343B313735353B313735363B313735363B313735373B313735373B313735383B313735393B313736300D0A523D313736313B313736323B313736323B313736333B313736343B313736353B313736363B313736373B313736383B313736390D0A523D313737303B313737323B313737333B313737343B313737353B313737363B313737383B313737393B313738313B313738320D0A523D313738343B313738353B313738373B313738383B313739303B313739323B313739343B313739363B313739383B313830300D0A523D313830313B313830333B313830353B313830373B313830393B313831313B313831333B313831353B313831373B313831390D0A523D313832313B313832343B313832363B313832393B313833313B313833343B313833373B313833393B313834323B313834340D0A523D313834373B313834393B313835323B313835343B313835373B313836303B313836333B313836363B313836393B313837320D0A523D313837343B313837383B313838313B313838343B313838373B313839303B313839343B313839373B313930303B313930340D0A523D313930373B313931313B313931353B313931383B313932323B313932353B313932393B313933323B313933353B313933390D0A523D313934323B313934353B313934383B313935323B313935353B313935383B313936323B313936353B313936383B313937320D0A523D313937353B313937393B313938323B313938363B313938393B313939323B313939363B323030303B323030343B323030370D0A523D323031313B323031353B323031383B323032323B323032363B323033303B323033333B323033373B323034313B323034350D0A523D323034393B323035333B323035373B323036313B323036353B323036393B323037333B323037373B323038303B323038340D0A523D323038383B323039323B323039373B323130313B323130353B323130393B323131333B323131373B323132313B323132350D0A523D323132393B323133333B323133383B323134323B323134363B323135303B323135343B323135383B323136323B323136360D0A523D323137303B323137343B323137393B323138333B323138373B323139313B323139353B323139393B323230333B323230380D0A523D323231323B323231363B323232303B323232353B323232393B323233333B323233373B323234313B323234353B323234390D0A523D323235333B323235373B323236313B323236363B323237303B323237343B323237383B323238323B323238363B323239300D0A523D323239343B323239383B323330323B323330363B323331313B323331353B323331393B323332333B323332363B323333300D0A523D323333343B323333383B323334323B323334353B323335303B323335343B323335373B323336313B323336343B323336380D0A523D323337313B323337353B323337393B323338323B323338363B323338393B323339323B323339353B323339383B323430310D0A523D323430343B323430373B323431303B323431323B323431353B323431383B323432303B323432323B323432343B323432370D0A523D323432393B323433323B323433343B323433353B323433373B323433393B323434313B323434323B323434343B323434350D0A545243464D543D313B313030303B453B4C3B460D0A523D323435313B323435323B323435333B323435333B323435333B323435323B323435313B323435313B323435313B323435320D0A523D323435323B323435323B323435323B323435313B323435303B323434393B323434383B323434373B323434373B323434380D0A523D323434383B323434373B323434363B323434353B323434343B323434333B323434333B323434323B323434313B323434300D0A523D323433383B323433363B323433333B323433303B323432373B323432343B323432323B323431393B323431363B323431330D0A523D323431313B323430383B323430353B323430323B323339393B323339363B323339333B323339303B323338373B323338330D0A523D323337393B323337353B323337323B323336383B323336343B323336303B323335363B323335323B323334373B323334330D0A523D323333393B323333353B323333303B323332363B323332313B323331363B323331323B323330383B323330333B323239390D0A523D323239343B323238393B323238343B323237393B323237343B323236393B323236353B323236303B323235353B323234390D0A523D323234333B323233393B323233343B323232393B323232343B323231393B323231343B323230393B323230333B323139380D0A523D323139323B323138373B323138323B323137373B323137323B323136373B323136323B323135373B323135323B323134370D0A523D323134323B323133373B323133323B323132373B323132323B323131363B323131313B323130363B323130313B323039360D0A523D323039303B323038353B323038303B323037353B323037303B323036353B323036313B323035373B323035323B323034370D0A523D323034323B323033383B323033343B323032393B323032353B323032303B323031353B323031313B323030373B323030330D0A523D313939393B313939343B313939303B313938353B313938313B313937373B313937333B313936393B313936353B313936310D0A523D313935373B313935323B313934383B313934343B313934313B313933373B313933343B313933303B313932363B313932320D0A523D313931383B313931353B313931303B313930373B313930333B313930303B313839373B313839343B313839313B313838380D0A523D313838353B313838323B313837393B313837363B313837333B313837303B313836373B313836343B313836313B313835380D0A523D313835353B313835323B313835303B313834373B313834333B313834303B313833373B313833343B313833313B313832390D0A523D313832363B313832343B313832323B313832303B313831383B313831363B313831343B313831323B313831303B313830390D0A523D313830373B313830353B313830323B313830303B313739383B313739363B313739353B313739333B313739313B313738390D0A523D313738383B313738363B313738343B313738323B313738313B313737393B313737383B313737373B313737363B313737340D0A523D313737323B313737313B313737303B313736393B313736373B313736363B313736353B313736343B313736333B313736320D0A523D313736313B313736303B313735393B313735383B313735373B313735373B313735363B313735363B313735353B313735350D0A523D313735343B313735343B313735343B313735343B313735333B313735333B313735323B313735323B313735323B313735320D0A523D313735313B313735313B313735313B313735313B313735313B313735313B313735313B313735313B313735313B313735310D0A523D313735313B313735323B313735323B313735323B313735323B313735333B313735333B313735343B313735343B313735350D0A523D313735363B313735373B313735373B313735383B313735393B313736303B313736313B313736323B313736323B313736330D0A523D313736353B313736363B313736383B313736393B313737303B313737313B313737333B313737343B313737353B313737370D0A523D313737383B313738303B313738313B313738333B313738353B313738373B313738383B313739303B313739323B313739340D0A523D313739363B313739383B313830303B313830323B313830353B313830373B313830393B313831313B313831343B313831360D0A523D313831393B313832323B313832343B313832373B313832393B313833323B313833343B313833373B313833393B313834320D0A523D313834353B313834383B313835313B313835353B313835383B313836313B313836343B313836373B313837313B313837340D0A523D313837383B313838313B313838353B313838383B313839313B313839353B313839393B313930333B313930373B313931300D0A523D313931343B313931373B313932313B313932353B313932393B313933333B313933363B313934303B313934343B313934390D0A523D313935333B313935373B313936313B313936353B313936393B313937333B313937373B313938323B313938363B313939310D0A523D313939353B313939393B323030343B323030393B323031333B323031383B323032323B323032373B323033323B323033360D0A523D323034313B323034353B323035303B323035363B323036313B323036363B323037313B323037353B323038303B323038340D0A523D323038393B323039353B323130303B323130353B323130393B323131343B323131393B323132343B323132393B323133340D0A523D323134303B323134353B323135303B323135353B323136303B323136353B323137303B323137343B323138303B323138350D0A523D323139303B323139353B323230303B323230353B323231303B323231353B323232313B323232363B323233313B323233360D0A523D323234313B323234363B323235303B323235353B323236303B323236353B323237303B323237343B323237393B323238340D0A523D323238383B323239333B323239373B323330323B323330373B323331313B323331353B323331393B323332333B323332370D0A523D323333313B323333353B323333393B323334333B323334373B323335313B323335353B323335383B323336323B323336360D0A523D323336393B323337333B323337363B323338303B323338333B323338363B323339303B323339333B323339363B323339390D0A523D323430323B323430353B323430383B323431303B323431323B323431343B323431373B323431393B323432323B323432340D0A523D323432353B323432373B323432383B323433303B323433313B323433323B323433333B323433343B323433353B323433360D0A523D323433373B323433383B323433393B323434303B323434313B323434323B323434343B323434353B323434363B323434370D0A523D323434383B323434393B323435303B323435313B323435323B323435333B323435343B323435343B323435353B323435350D0A523D323435373B323435373B323435383B323435383B323435383B323435383B323435383B323435383B323435383B323435380D0A523D323435373B323435373B323435363B323435353B323435343B323435333B323435323B323435313B323435303B323434390D0A523D323434373B323434353B323434343B323434323B323434313B323433393B323433373B323433353B323433343B323433320D0A523D323432393B323432373B323432343B323432323B323432303B323431383B323431353B323431323B323431303B323430370D0A523D323430343B323430313B323339383B323339353B323339323B323338393B323338363B323338323B323337393B323337350D0A523D323337313B323336383B323336343B323336313B323335373B323335343B323335303B323334353B323334323B323333380D0A523D323333343B323333303B323332363B323332333B323331393B323331353B323331313B323330363B323330323B323239380D0A523D323239343B323239303B323238363B323238323B323237383B323237343B323237303B323236363B323236313B323235370D0A523D323235333B323234393B323234353B323234313B323233373B323233333B323232393B323232353B323232303B323231360D0A523D323231323B323230383B323230333B323139393B323139353B323139313B323138373B323138333B323137393B323137340D0A523D323137303B323136363B323136323B323135383B323135343B323135303B323134363B323134323B323133383B323133330D0A523D323132393B323132353B323132313B323131373B323131333B323130393B323130353B323130313B323039373B323039320D0A523D323038383B323038343B323038303B323037373B323037333B323036393B323036353B323036313B323035373B323035330D0A523D323034393B323034353B323034313B323033373B323033333B323033303B323032363B323032323B323031383B323031350D0A523D323031313B323030373B323030343B323030303B313939363B313939323B313938393B313938363B313938323B313937390D0A523D313937353B313937323B313936383B313936353B313936323B313935383B313935353B313935323B313934383B313934350D0A523D313934323B313933393B313933353B313933323B313932393B313932353B313932323B313931383B313931353B313931310D0A523D313930373B313930343B313930303B313839373B313839343B313839303B313838373B313838343B313838313B313837380D0A523D313837343B313837323B313836393B313836363B313836333B313836303B313835373B313835343B313835323B313834390D0A523D313834373B313834343B313834323B313833393B313833373B313833343B313833313B313832393B313832363B313832340D0A523D313832313B313831393B313831373B313831353B313831333B313831313B313830393B313830373B313830353B313830330D0A523D313830313B313830303B313739383B313739363B313739343B313739323B313739303B313738383B313738373B313738350D0A523D313738343B313738323B313738313B313737393B313737383B313737363B313737353B313737343B313737333B313737320D0A523D313737303B313736393B313736383B313736373B313736363B313736353B313736343B313736333B313736323B313736320D0A523D313736313B313736303B313735393B313735383B313735373B313735373B313735363B313735363B313735353B313735340D0A523D313735333B313735333B313735333B313735333B313735323B313735323B313735313B313735313B313735313B313735310D0A523D313735313B313735313B313735303B313735303B313735303B313735303B313735313B313735313B313735313B313735310D0A523D313735323B313735323B313735323B313735333B313735333B313735333B313735333B313735343B313735343B313735350D0A523D313735353B313735363B313735363B313735373B313735383B313735393B313735393B313736303B313736313B313736320D0A523D313736323B313736343B313736353B313736363B313736373B313736383B313736393B313737303B313737323B313737330D0A523D313737343B313737363B313737373B313737393B313738303B313738323B313738343B313738363B313738373B313738390D0A523D313739303B313739323B313739343B313739353B313739373B313739393B313830313B313830333B313830353B313830370D0A523D313831303B313831323B313831343B313831373B313831393B313832313B313832333B313832363B313832383B313833310D0A523D313833343B313833363B313833393B313834313B313834343B313834363B313834393B313835323B313835343B313835370D0A523D313836303B313836333B313836353B313836383B313837303B313837333B313837363B313838303B313838333B313838360D0A523D313838393B313839323B313839353B313839383B313930313B313930343B313930373B313931313B313931343B313931370D0A523D313932313B313932343B313932383B313933313B313933353B313933383B313934313B313934353B313934393B313935330D0A523D313935363B313936303B313936343B313936373B313937313B313937353B313937393B313938323B313938363B313939300D0A523D313939343B313939383B323030313B323030353B323030393B323031323B323031373B323032313B323032353B323032390D0A523D323033343B323033383B323034323B323034363B323035303B323035353B323035393B323036333B323036383B323037320D0A523D323037363B323038313B323038353B323039303B323039343B323039393B323130343B323130383B323131333B323131380D0A523D323132323B323132373B323133313B323133363B323134313B323134353B323135313B323135363B323136323B323136370D0A523D323137313B323137353B323137393B323138333B323138383B323139323B323139373B323230323B323230373B323231310D0A523D323231353B323231393B323232343B323232383B323233333B323233383B323234333B323234373B323235313B323235360D0A523D323236303B323236343B323236393B323237333B323237373B323238303B323238343B323238383B323239323B323239350D0A523D323239383B323330313B323330343B323330383B323331323B323331363B323332303B323332333B323332373B323333300D0A523D323333333B323333373B323334313B323334363B323335313B323335353B323335383B323336323B323336353B323336370D0A523D323337303B323337323B323337343B323337363B323337383B323338313B323338343B323338373B323338383B323339300D0A523D323339323B323339343B323339373B323339393B323430333B323430363B323431303B323431323B323431343B323431360D0A523D323431383B323432303B323432323B323432343B323432353B323432373B323432393B323433313B323433333B323433350D0A523D323433363B323433383B323433393B323434313B323434323B323434333B323434343B323434363B323434373B323434370D0A523D323434383B323434393B323435303B323435303B323435313B323435313B323435313B323435313B323435313B323435310D0A56424F583D33352E30353B33352E30350D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D34392E31363B34392E31360D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                        }

                        if ($information_commande->precalibrage->calibre ==
                            19) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3135322E3535303B3135322E3535300D0A44424C3D32302E30300D0A455459503D330D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D330D0A4744455054483D302E35303B302E35300D0A4757494454483D302E36303B302E36300D0A48424F583D35332E31343B35332E31340D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323538313B323538343B323538373B323539303B323539333B323539373B323630303B323630343B323630373B323631300D0A523D323631343B323631373B323632313B323632353B323632383B323633323B323633363B323634303B323634343B323634380D0A523D323635323B323635353B323635393B323636333B323636383B323637323B323637363B323638313B323638353B323639300D0A523D323639343B323639393B323730333B323730383B323731333B323731373B323732323B323732373B323733323B323733370D0A523D323734313B323734363B323735313B323735363B323736323B323736373B323737333B323737383B323738333B323738380D0A523D323739343B323739393B323830353B323831303B323831353B323832313B323832363B323833323B323833363B323834310D0A523D323834353B323835303B323835343B323835383B323836323B323836363B323836393B323837323B323837343B323837360D0A523D323837383B323837393B323838313B323838313B323838323B323838313B323837393B323837373B323837343B323837300D0A523D323836353B323835393B323835333B323834363B323833383B323832393B323831393B323830393B323739393B323738380D0A523D323737363B323736343B323735333B323734303B323732383B323731353B323730323B323638393B323637363B323636330D0A523D323635303B323633363B323632333B323631303B323539373B323538343B323537313B323535383B323534343B323533310D0A523D323531383B323530353B323439323B323438303B323436373B323435353B323434333B323433313B323431393B323430370D0A523D323339353B323338343B323337333B323336323B323335303B323333393B323332383B323331373B323330373B323239360D0A523D323238353B323237353B323236343B323235343B323234343B323233353B323232353B323231353B323230363B323139370D0A523D323138383B323137393B323136393B323136303B323135323B323134333B323133353B323132373B323131393B323131300D0A523D323130323B323039343B323038363B323037383B323037313B323036343B323035363B323034393B323034323B323033360D0A523D323032393B323032323B323031363B323031303B323030333B313939373B313939313B313938353B313938303B313937340D0A523D313936393B313936333B313935373B313935323B313934363B313934313B313933363B313933313B313932373B313932320D0A523D313931373B313931323B313930373B313930333B313839383B313839343B313839303B313838353B313838313B313837370D0A523D313837333B313836393B313836353B313836303B313835373B313835333B313834393B313834353B313834323B313833390D0A523D313833353B313833323B313832383B313832353B313832323B313831393B313831363B313831333B313831313B313830380D0A523D313830353B313830333B313830303B313739383B313739353B313739333B313739313B313738383B313738363B313738330D0A523D313738313B313738303B313737383B313737363B313737343B313737323B313737313B313736393B313736383B313736360D0A523D313736353B313736333B313736323B313736313B313736303B313735393B313735383B313735373B313735363B313735350D0A523D313735343B313735333B313735323B313735323B313735313B313735313B313735303B313735303B313735303B313735300D0A523D313734393B313734393B313734393B313734383B313734383B313734383B313734383B313734383B313734383B313734370D0A523D313734373B313734373B313734373B313734383B313734383B313734383B313734383B313734393B313735303B313735310D0A523D313735323B313735333B313735343B313735353B313735353B313735363B313735373B313735383B313735393B313736300D0A523D313736303B313736313B313736323B313736343B313736353B313736373B313736393B313737313B313737333B313737350D0A523D313737373B313737393B313738323B313738343B313738373B313738393B313739323B313739343B313739373B313830300D0A523D313830333B313830363B313830393B313831323B313831353B313831383B313832303B313832333B313832373B313833300D0A523D313833333B313833363B313833393B313834333B313834363B313835303B313835343B313835373B313836323B313836360D0A523D313837303B313837343B313837383B313838323B313838363B313839313B313839353B313839393B313930333B313930380D0A523D313931333B313931373B313932323B313932373B313933323B313933373B313934313B313934363B313935323B313935370D0A523D313936333B313936393B313937343B313938303B313938353B313939313B313939373B323030333B323030393B323031360D0A523D323032333B323032393B323033363B323034333B323034393B323035363B323036333B323037313B323037383B323038350D0A523D323039323B323130303B323130383B323131363B323132343B323133323B323134303B323134383B323135373B323136350D0A523D323137333B323138323B323139313B323230303B323230393B323231393B323232383B323233373B323234373B323235370D0A523D323236373B323237373B323238373B323239373B323330373B323331373B323332383B323333383B323334393B323336300D0A523D323337303B323338313B323339323B323430343B323431353B323432373B323433383B323435303B323436323B323437340D0A523D323438353B323439373B323531303B323532323B323533343B323534353B323535373B323536393B323538313B323539330D0A523D323630353B323631373B323632383B323633393B323635313B323636323B323637333B323638343B323639343B323730350D0A523D323731353B323732343B323733333B323734323B323735303B323735383B323736353B323737323B323737383B323738340D0A523D323738393B323739333B323739363B323739383B323739393B323739393B323739393B323739383B323739373B323739360D0A523D323739353B323739333B323739313B323738393B323738373B323738353B323738323B323737393B323737363B323737330D0A523D323736393B323736363B323736323B323735393B323735363B323735323B323734393B323734353B323734323B323733390D0A523D323733353B323733323B323732393B323732363B323732333B323731393B323731363B323731323B323731303B323730370D0A523D323730343B323730313B323639393B323639363B323639333B323639303B323638373B323638353B323638323B323638300D0A523D323637373B323637353B323637323B323637303B323636383B323636363B323636343B323636323B323636303B323635380D0A523D323635353B323635333B323635313B323635303B323634383B323634373B323634363B323634363B323634353B323634350D0A523D323634353B323634343B323634333B323634323B323634323B323634313B323634313B323634313B323634313B323634310D0A523D323634313B323634303B323634303B323633393B323633393B323633383B323633373B323633373B323633373B323633380D0A523D323633393B323634313B323634313B323634323B323634323B323634333B323634343B323634353B323634363B323634370D0A523D323634383B323635303B323635313B323635323B323635333B323635353B323635363B323635383B323636303B323636320D0A523D323636343B323636363B323636383B323637303B323637333B323637353B323637373B323637393B323638313B323638330D0A523D323638363B323638393B323639313B323639343B323639363B323639393B323730313B323730343B323730363B323730390D0A523D323731323B323731353B323731383B323732313B323732343B323732363B323732393B323733313B323733323B323733340D0A523D323733363B323733373B323733383B323733393B323734303B323734303B323734303B323734303B323734303B323734300D0A523D323733393B323733383B323733363B323733333B323732393B323732343B323731393B323731323B323730363B323639380D0A523D323639303B323638323B323637333B323636343B323635343B323634343B323633343B323632343B323631333B323630330D0A523D323539323B323538313B323537303B323535393B323534383B323533363B323532353B323531343B323530323B323439310D0A523D323438303B323436393B323435373B323434353B323433343B323432343B323431323B323430313B323339313B323338300D0A523D323337303B323336303B323335303B323333393B323332393B323331383B323330383B323239383B323238383B323237380D0A523D323236383B323235393B323234393B323233393B323233303B323232313B323231323B323230343B323139353B323138360D0A523D323137373B323136393B323136313B323135333B323134343B323133363B323132383B323132303B323131323B323130350D0A523D323039373B323038393B323038323B323037343B323036373B323036303B323035333B323034363B323033383B323033320D0A523D323032353B323031383B323031323B323030363B313939393B313939333B313938373B313938303B313937343B313936370D0A523D313936313B313935353B313934393B313934343B313933383B313933333B313932383B313932333B313931383B313931320D0A523D313930363B313930313B313839363B313839313B313838363B313838323B313837373B313837333B313836393B313836350D0A523D313836313B313835373B313835343B313835303B313834373B313834333B313834303B313833363B313833333B313833300D0A523D313832373B313832343B313832313B313831383B313831353B313831323B313831303B313830373B313830353B313830330D0A523D313830303B313739383B313739353B313739333B313739313B313738393B313738373B313738353B313738333B313738300D0A523D313737383B313737373B313737353B313737333B313737313B313736393B313736383B313736373B313736363B313736340D0A523D313736333B313736313B313736303B313735393B313735383B313735383B313735373B313735373B313735363B313735350D0A523D313735343B313735343B313735333B313735333B313735323B313735323B313735323B313735323B313735313B313735310D0A523D313735313B313735313B313735313B313735303B313735303B313735303B313735303B313735303B313735303B313735310D0A523D313735313B313735323B313735323B313735333B313735333B313735343B313735343B313735353B313735353B313735360D0A523D313735373B313735393B313736303B313736313B313736323B313736333B313736353B313736363B313736373B313736390D0A523D313737313B313737333B313737343B313737363B313737383B313738303B313738313B313738333B313738353B313738380D0A523D313739303B313739323B313739353B313739373B313739393B313830313B313830343B313830373B313831303B313831340D0A523D313831373B313832303B313832323B313832353B313832383B313833313B313833343B313833373B313834313B313834340D0A523D313834383B313835323B313835353B313835393B313836333B313836373B313837313B313837353B313837393B313838330D0A523D313838383B313839323B313839363B313930303B313930353B313930393B313931333B313931383B313932323B313932370D0A523D313933333B313933373B313934323B313934373B313935323B313935373B313936323B313936373B313937333B313937380D0A523D313938343B313939303B313939353B323030313B323030363B323031323B323031383B323032343B323033303B323033360D0A523D323034323B323034393B323035353B323036313B323036373B323037343B323038313B323038373B323039343B323130310D0A523D323130383B323131363B323132323B323132393B323133373B323134343B323135323B323136303B323136373B323137350D0A523D323138333B323139303B323139383B323230373B323231353B323232333B323233313B323233383B323234373B323235350D0A523D323236333B323237313B323237393B323238383B323239363B323330343B323331323B323332303B323332383B323333360D0A523D323334333B323335313B323335393B323336363B323337343B323338313B323338393B323339353B323430323B323430390D0A523D323431353B323432323B323432383B323433333B323433383B323434343B323435303B323435343B323435393B323436340D0A523D323436383B323437323B323437363B323437393B323438333B323438353B323438373B323438393B323439313B323439320D0A523D323439333B323439343B323439353B323439363B323439373B323439373B323439373B323439383B323439383B323439380D0A523D323439383B323439393B323439393B323439393B323439393B323439393B323439393B323439393B323439393B323439390D0A523D323439393B323439393B323439393B323530303B323530303B323530303B323530303B323530303B323530303B323530310D0A523D323530313B323530323B323530323B323530333B323530333B323530343B323530343B323530353B323530353B323530360D0A523D323530373B323530383B323530393B323530393B323531303B323531313B323531323B323531333B323531353B323531360D0A523D323531373B323531383B323532303B323532323B323532333B323532353B323532363B323532383B323532393B323533310D0A523D323533323B323533343B323533363B323533383B323533393B323534323B323534343B323534363B323534383B323535310D0A523D323535333B323535363B323535393B323536313B323536343B323536363B323536393B323537323B323537353B323537380D0A545243464D543D313B313030303B453B4C3B460D0A523D323634353B323634353B323634353B323634363B323634363B323634373B323634383B323635303B323635313B323635330D0A523D323635353B323635383B323636303B323636323B323636343B323636363B323636383B323637303B323637323B323637350D0A523D323637373B323638303B323638323B323638353B323638373B323639303B323639333B323639363B323639393B323730310D0A523D323730343B323730373B323731303B323731323B323731363B323731393B323732333B323732363B323732393B323733320D0A523D323733353B323733393B323734323B323734353B323734393B323735323B323735363B323735393B323736323B323736360D0A523D323736393B323737333B323737363B323737393B323738323B323738353B323738373B323738393B323739313B323739330D0A523D323739353B323739363B323739373B323739383B323739393B323739393B323739393B323739383B323739363B323739330D0A523D323738393B323738343B323737383B323737323B323736353B323735383B323735303B323734323B323733333B323732340D0A523D323731353B323730353B323639343B323638343B323637333B323636323B323635313B323633393B323632383B323631370D0A523D323630353B323539333B323538313B323536393B323535373B323534353B323533343B323532323B323531303B323439370D0A523D323438353B323437343B323436323B323435303B323433383B323432373B323431353B323430343B323339323B323338310D0A523D323337303B323336303B323334393B323333383B323332383B323331373B323330373B323239373B323238373B323237370D0A523D323236373B323235373B323234373B323233373B323232383B323231393B323230393B323230303B323139313B323138320D0A523D323137333B323136353B323135373B323134383B323134303B323133323B323132343B323131363B323130383B323130300D0A523D323039323B323038353B323037383B323037313B323036333B323035363B323034393B323034333B323033363B323032390D0A523D323032333B323031363B323030393B323030333B313939373B313939313B313938353B313938303B313937343B313936390D0A523D313936333B313935373B313935323B313934363B313934313B313933373B313933323B313932373B313932323B313931370D0A523D313931333B313930383B313930333B313839393B313839353B313839313B313838363B313838323B313837383B313837340D0A523D313837303B313836363B313836323B313835373B313835343B313835303B313834363B313834333B313833393B313833360D0A523D313833333B313833303B313832373B313832333B313832303B313831383B313831353B313831323B313830393B313830360D0A523D313830333B313830303B313739373B313739343B313739323B313738393B313738373B313738343B313738323B313737390D0A523D313737373B313737353B313737333B313737313B313736393B313736373B313736353B313736343B313736323B313736310D0A523D313736303B313736303B313735393B313735383B313735373B313735363B313735353B313735353B313735343B313735330D0A523D313735323B313735313B313735303B313734393B313734383B313734383B313734383B313734383B313734373B313734370D0A523D313734373B313734373B313734383B313734383B313734383B313734383B313734383B313734383B313734393B313734390D0A523D313734393B313735303B313735303B313735303B313735303B313735313B313735313B313735323B313735323B313735330D0A523D313735343B313735353B313735363B313735373B313735383B313735393B313736303B313736313B313736323B313736330D0A523D313736353B313736363B313736383B313736393B313737313B313737323B313737343B313737363B313737383B313738300D0A523D313738313B313738333B313738363B313738383B313739313B313739333B313739353B313739383B313830303B313830330D0A523D313830353B313830383B313831313B313831333B313831363B313831393B313832323B313832353B313832383B313833320D0A523D313833353B313833393B313834323B313834353B313834393B313835333B313835373B313836303B313836353B313836390D0A523D313837333B313837373B313838313B313838353B313839303B313839343B313839383B313930333B313930373B313931320D0A523D313931373B313932323B313932373B313933313B313933363B313934313B313934363B313935323B313935373B313936330D0A523D313936393B313937343B313938303B313938353B313939313B313939373B323030333B323031303B323031363B323032320D0A523D323032393B323033363B323034323B323034393B323035363B323036343B323037313B323037383B323038363B323039340D0A523D323130323B323131303B323131393B323132373B323133353B323134333B323135323B323136303B323136393B323137390D0A523D323138383B323139373B323230363B323231353B323232353B323233353B323234343B323235343B323236343B323237350D0A523D323238353B323239363B323330373B323331373B323332383B323333393B323335303B323336323B323337333B323338340D0A523D323339353B323430373B323431393B323433313B323434333B323435353B323436373B323438303B323439323B323530350D0A523D323531383B323533313B323534343B323535383B323537313B323538343B323539373B323631303B323632333B323633360D0A523D323635303B323636333B323637363B323638393B323730323B323731353B323732383B323734303B323735333B323736340D0A523D323737363B323738383B323739393B323830393B323831393B323832393B323833383B323834363B323835333B323835390D0A523D323836353B323837303B323837343B323837373B323837393B323838313B323838323B323838313B323838313B323837390D0A523D323837383B323837363B323837343B323837323B323836393B323836363B323836323B323835383B323835343B323835300D0A523D323834353B323834313B323833363B323833323B323832363B323832313B323831353B323831303B323830353B323739390D0A523D323739343B323738383B323738333B323737383B323737333B323736373B323736323B323735363B323735313B323734360D0A523D323734313B323733373B323733323B323732373B323732323B323731373B323731333B323730383B323730333B323639390D0A523D323639343B323639303B323638353B323638313B323637363B323637323B323636383B323636333B323635393B323635350D0A523D323635323B323634383B323634343B323634303B323633363B323633323B323632383B323632353B323632313B323631370D0A523D323631343B323631303B323630373B323630343B323630303B323539373B323539333B323539303B323538373B323538340D0A523D323538313B323537383B323537353B323537323B323536393B323536363B323536343B323536313B323535393B323535360D0A523D323535333B323535313B323534383B323534363B323534343B323534323B323533393B323533383B323533363B323533340D0A523D323533323B323533313B323532393B323532383B323532363B323532353B323532333B323532323B323532303B323531380D0A523D323531373B323531363B323531353B323531333B323531323B323531313B323531303B323530393B323530393B323530380D0A523D323530373B323530363B323530353B323530353B323530343B323530343B323530333B323530333B323530323B323530320D0A523D323530313B323530313B323530303B323530303B323530303B323530303B323530303B323530303B323439393B323439390D0A523D323439393B323439393B323439393B323439393B323439393B323439393B323439393B323439393B323439393B323439390D0A523D323439383B323439383B323439383B323439383B323439373B323439373B323439373B323439363B323439353B323439340D0A523D323439333B323439323B323439313B323438393B323438373B323438353B323438333B323437393B323437363B323437320D0A523D323436383B323436343B323435393B323435343B323435303B323434343B323433383B323433333B323432383B323432320D0A523D323431353B323430393B323430323B323339353B323338393B323338313B323337343B323336363B323335393B323335310D0A523D323334333B323333363B323332383B323332303B323331323B323330343B323239363B323238383B323237393B323237310D0A523D323236333B323235353B323234373B323233383B323233313B323232333B323231353B323230373B323139383B323139300D0A523D323138333B323137353B323136373B323136303B323135323B323134343B323133373B323132393B323132323B323131360D0A523D323130383B323130313B323039343B323038373B323038313B323037343B323036373B323036313B323035353B323034390D0A523D323034323B323033363B323033303B323032343B323031383B323031323B323030363B323030313B313939353B313939300D0A523D313938343B313937383B313937333B313936373B313936323B313935373B313935323B313934373B313934323B313933370D0A523D313933333B313932373B313932323B313931383B313931333B313930393B313930353B313930303B313839363B313839320D0A523D313838383B313838333B313837393B313837353B313837313B313836373B313836333B313835393B313835353B313835320D0A523D313834383B313834343B313834313B313833373B313833343B313833313B313832383B313832353B313832323B313832300D0A523D313831373B313831343B313831303B313830373B313830343B313830313B313739393B313739373B313739353B313739320D0A523D313739303B313738383B313738353B313738333B313738313B313738303B313737383B313737363B313737343B313737330D0A523D313737313B313736393B313736373B313736363B313736353B313736333B313736323B313736313B313736303B313735390D0A523D313735373B313735363B313735353B313735353B313735343B313735343B313735333B313735333B313735323B313735320D0A523D313735313B313735313B313735303B313735303B313735303B313735303B313735303B313735303B313735313B313735310D0A523D313735313B313735313B313735313B313735323B313735323B313735323B313735323B313735333B313735333B313735340D0A523D313735343B313735353B313735363B313735373B313735373B313735383B313735383B313735393B313736303B313736310D0A523D313736333B313736343B313736363B313736373B313736383B313736393B313737313B313737333B313737353B313737370D0A523D313737383B313738303B313738333B313738353B313738373B313738393B313739313B313739333B313739353B313739380D0A523D313830303B313830333B313830353B313830373B313831303B313831323B313831353B313831383B313832313B313832340D0A523D313832373B313833303B313833333B313833363B313834303B313834333B313834373B313835303B313835343B313835370D0A523D313836313B313836353B313836393B313837333B313837373B313838323B313838363B313839313B313839363B313930310D0A523D313930363B313931323B313931383B313932333B313932383B313933333B313933383B313934343B313934393B313935350D0A523D313936313B313936373B313937343B313938303B313938373B313939333B313939393B323030363B323031323B323031380D0A523D323032353B323033323B323033383B323034363B323035333B323036303B323036373B323037343B323038323B323038390D0A523D323039373B323130353B323131323B323132303B323132383B323133363B323134343B323135333B323136313B323136390D0A523D323137373B323138363B323139353B323230343B323231323B323232313B323233303B323233393B323234393B323235390D0A523D323236383B323237383B323238383B323239383B323330383B323331383B323332393B323333393B323335303B323336300D0A523D323337303B323338303B323339313B323430313B323431323B323432343B323433343B323434353B323435373B323436390D0A523D323438303B323439313B323530323B323531343B323532353B323533363B323534383B323535393B323537303B323538310D0A523D323539323B323630333B323631333B323632343B323633343B323634343B323635343B323636343B323637333B323638320D0A523D323639303B323639383B323730363B323731323B323731393B323732343B323732393B323733333B323733363B323733380D0A523D323733393B323734303B323734303B323734303B323734303B323734303B323734303B323733393B323733383B323733370D0A523D323733363B323733343B323733323B323733313B323732393B323732363B323732343B323732313B323731383B323731350D0A523D323731323B323730393B323730363B323730343B323730313B323639393B323639363B323639343B323639313B323638390D0A523D323638363B323638333B323638313B323637393B323637373B323637353B323637333B323637303B323636383B323636360D0A523D323636343B323636323B323636303B323635383B323635363B323635353B323635333B323635323B323635313B323635300D0A523D323634383B323634373B323634363B323634353B323634343B323634333B323634323B323634323B323634313B323634310D0A523D323633393B323633383B323633373B323633373B323633373B323633383B323633393B323633393B323634303B323634300D0A523D323634313B323634313B323634313B323634313B323634313B323634313B323634323B323634323B323634333B323634340D0A56424F583D33352E30323B33352E30320D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A5A54494C543D31303B31300D0A4645443D35372E36323B35372E36320D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                        }

                        if ($information_commande->precalibrage->calibre ==
                            20) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3134342E3934303B3134342E3934300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35332E31303B35332E31300D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323437313B323437383B323438343B323439313B323439383B323530343B323531313B323531383B323532343B323533320D0A523D323533393B323534353B323535323B323535393B323536353B323537323B323537393B323538363B323539333B323539390D0A523D323630363B323631343B323632303B323632373B323633343B323634313B323634383B323635363B323636333B323637300D0A523D323637373B323638333B323639303B323639373B323730333B323730393B323731353B323732313B323732373B323733340D0A523D323733393B323734353B323735303B323735353B323736303B323736343B323737303B323737353B323737393B323738330D0A523D323738373B323739313B323739343B323739383B323830323B323830353B323830383B323831313B323831333B323831360D0A523D323831383B323832303B323832313B323832323B323832333B323832333B323832343B323832343B323832333B323832320D0A523D323832313B323832303B323831383B323831363B323831343B323831323B323831303B323830383B323830353B323830320D0A523D323739393B323739363B323739333B323738393B323738353B323738313B323737373B323737333B323736383B323736330D0A523D323735383B323735323B323734373B323734313B323733343B323732383B323732313B323731333B323730353B323639380D0A523D323639303B323638323B323637333B323636343B323635363B323634363B323633373B323632373B323631373B323630360D0A523D323539363B323538353B323537343B323536333B323535323B323534313B323533303B323531393B323530383B323439370D0A523D323438363B323437353B323436343B323435343B323434333B323433323B323432323B323431313B323430313B323339300D0A523D323337393B323336393B323335383B323334383B323333383B323332383B323331373B323330373B323239383B323238390D0A523D323237393B323236393B323236303B323235303B323234313B323233323B323232333B323231353B323230363B323139370D0A523D323138383B323138303B323137323B323136343B323135353B323134383B323134303B323133323B323132353B323131370D0A523D323130393B323130323B323039353B323038383B323038303B323037343B323036373B323036303B323035343B323034370D0A523D323034313B323033343B323032383B323032323B323031363B323031303B323030343B313939383B313939323B313938360D0A523D313938303B313937353B313936393B313936343B313935393B313935343B313934393B313934343B313933383B313933330D0A523D313932383B313932343B313931393B313931353B313931303B313930353B313930313B313839373B313839333B313838390D0A523D313838353B313838313B313837373B313837333B313836393B313836353B313836323B313835383B313835353B313835310D0A523D313834373B313834343B313834313B313833383B313833353B313833323B313832393B313832363B313832333B313832300D0A523D313831383B313831353B313831333B313831303B313830383B313830353B313830333B313830313B313739383B313739360D0A523D313739343B313739323B313739313B313738393B313738373B313738353B313738343B313738323B313738303B313737390D0A523D313737383B313737373B313737353B313737343B313737323B313737313B313737303B313736393B313736383B313736370D0A523D313736363B313736353B313736353B313736343B313736333B313736323B313736323B313736313B313736303B313735390D0A523D313735393B313735393B313735393B313735393B313735393B313735383B313735383B313735383B313735383B313735390D0A523D313735393B313735393B313735393B313736303B313736303B313736313B313736313B313736323B313736323B313736330D0A523D313736343B313736353B313736353B313736363B313736373B313736383B313736393B313737313B313737323B313737330D0A523D313737343B313737363B313737383B313737393B313738313B313738323B313738343B313738353B313738373B313738390D0A523D313739313B313739323B313739343B313739373B313739393B313830313B313830333B313830363B313830383B313831300D0A523D313831333B313831353B313831383B313832303B313832333B313832363B313832393B313833313B313833333B313833360D0A523D313833383B313834303B313834323B313834353B313834383B313835313B313835343B313835383B313836323B313836370D0A523D313837313B313837353B313837393B313838323B313838363B313838393B313839323B313839363B313839393B313930330D0A523D313930373B313931313B313931353B313932303B313932343B313932393B313933333B313933383B313934333B313934380D0A523D313935333B313935383B313936333B313936393B313937353B313938303B313938363B313939323B313939393B323030350D0A523D323031313B323031363B323032323B323032383B323033343B323034313B323034373B323035333B323035393B323036360D0A523D323037333B323037393B323038363B323039333B323130303B323130373B323131343B323132313B323132393B323133360D0A523D323134333B323135313B323135393B323136373B323137353B323138333B323139303B323139383B323230363B323231350D0A523D323232333B323233313B323233393B323234373B323235363B323236343B323237323B323238303B323238383B323239370D0A523D323330353B323331333B323332313B323332393B323333383B323334363B323335353B323336343B323337323B323338310D0A523D323339303B323339383B323430363B323431343B323432323B323433303B323433383B323434363B323435333B323436310D0A523D323437303B323437373B323438353B323439333B323530303B323530383B323531363B323532333B323533313B323533380D0A523D323534353B323535323B323535383B323536353B323537313B323537383B323538343B323538393B323539353B323630300D0A523D323630363B323631303B323631353B323631393B323632343B323632383B323633313B323633353B323633393B323634320D0A523D323634353B323634373B323634383B323634393B323634393B323635303B323635313B323635323B323635333B323635340D0A523D323635353B323635363B323635373B323635383B323635393B323635393B323636303B323636303B323636313B323636310D0A523D323636313B323636313B323636313B323636313B323636323B323636323B323636333B323636333B323636323B323636320D0A523D323636323B323636323B323636313B323636313B323636303B323636303B323635393B323635393B323635393B323635390D0A523D323635383B323635383B323635373B323635373B323635373B323635363B323635353B323635343B323635333B323635330D0A523D323635333B323635333B323635333B323635323B323635323B323635313B323635313B323635303B323635303B323635300D0A523D323635303B323635303B323635303B323634393B323634393B323634393B323634393B323634393B323634393B323634380D0A523D323634373B323634363B323634363B323634353B323634353B323634343B323634333B323634323B323634313B323633390D0A523D323633393B323633383B323633383B323633373B323633353B323633333B323633323B323633303B323632393B323632370D0A523D323632363B323632353B323632323B323632303B323631373B323631353B323631333B323631313B323630393B323630360D0A523D323630333B323630303B323539373B323539333B323539313B323538383B323538353B323538323B323537383B323537350D0A523D323537313B323536373B323536323B323535383B323535333B323534383B323534333B323533383B323533343B323532390D0A523D323532343B323531393B323531343B323530383B323530323B323439363B323439303B323438343B323437393B323437340D0A523D323436383B323436333B323435383B323435333B323434373B323434313B323433363B323433313B323432353B323431390D0A523D323431333B323430383B323430333B323339373B323339303B323338343B323337383B323337333B323336373B323336310D0A523D323335343B323334383B323334313B323333353B323333303B323332353B323332303B323331343B323330383B323330310D0A523D323239353B323238393B323238333B323237383B323237323B323236353B323236303B323235343B323234383B323234320D0A523D323233363B323233313B323232353B323232303B323231353B323230393B323230333B323139383B323139323B323138360D0A523D323138313B323137353B323137303B323136353B323135393B323135343B323134393B323134333B323133383B323133320D0A523D323132373B323132323B323131373B323131323B323130373B323130333B323039373B323039333B323038383B323038330D0A523D323037383B323037333B323036383B323036333B323035383B323035333B323034383B323034333B323033383B323033330D0A523D323032393B323032343B323032303B323031353B323031303B323030363B323030313B313939363B313939323B313938380D0A523D313938343B313937393B313937343B313937303B313936363B313936323B313935373B313935343B313935303B313934360D0A523D313934323B313933383B313933353B313933313B313932383B313932343B313932303B313931363B313931323B313930390D0A523D313930353B313930313B313839383B313839353B313839323B313838383B313838353B313838323B313837393B313837360D0A523D313837333B313837303B313836373B313836343B313836323B313835393B313835373B313835353B313835333B313835300D0A523D313834373B313834353B313834323B313834303B313833383B313833363B313833333B313833313B313832393B313832360D0A523D313832343B313832323B313832303B313831383B313831373B313831353B313831343B313831323B313831313B313830390D0A523D313830383B313830363B313830353B313830333B313830323B313830313B313830303B313739393B313739383B313739370D0A523D313739363B313739363B313739353B313739343B313739333B313739333B313739323B313739323B313739313B313739300D0A523D313738393B313738383B313738383B313738373B313738373B313738363B313738363B313738353B313738353B313738340D0A523D313738343B313738343B313738343B313738333B313738333B313738333B313738333B313738333B313738333B313738320D0A523D313738323B313738333B313738333B313738333B313738333B313738333B313738333B313738333B313738333B313738340D0A523D313738343B313738343B313738343B313738353B313738353B313738363B313738363B313738373B313738373B313738380D0A523D313738393B313739303B313739313B313739313B313739323B313739333B313739343B313739353B313739363B313739370D0A523D313739383B313739393B313830303B313830313B313830333B313830343B313830353B313830373B313830383B313831300D0A523D313831313B313831333B313831343B313831363B313831373B313831393B313832303B313832323B313832333B313832350D0A523D313832373B313832393B313833313B313833333B313833353B313833373B313833393B313834313B313834333B313834350D0A523D313834373B313834393B313835313B313835333B313835353B313835383B313836303B313836323B313836343B313836370D0A523D313836393B313837323B313837353B313837373B313838303B313838323B313838353B313838383B313839313B313839330D0A523D313839363B313839393B313930323B313930353B313930383B313931323B313931353B313931383B313932313B313932340D0A523D313932373B313933303B313933333B313933363B313933393B313934323B313934363B313934393B313935323B313935360D0A523D313935393B313936333B313936363B313937303B313937333B313937373B313938303B313938333B313938373B313939300D0A523D313939343B313939383B323030313B323030353B323030383B323031323B323031353B323031393B323032333B323032360D0A523D323033303B323033333B323033373B323034303B323034333B323034363B323035303B323035333B323035363B323035390D0A523D323036323B323036353B323036383B323037313B323037353B323037383B323038313B323038343B323038373B323039300D0A523D323039343B323039373B323130303B323130333B323130363B323130383B323131313B323131343B323131373B323132300D0A523D323132333B323132363B323132393B323133323B323133353B323133383B323134313B323134343B323134373B323135300D0A523D323135333B323135373B323136303B323136333B323136363B323136393B323137333B323137363B323138303B323138330D0A523D323138363B323138393B323139323B323139363B323139393B323230323B323230353B323230393B323231333B323231360D0A523D323232303B323232343B323232383B323233323B323233353B323233393B323234333B323234373B323235313B323235360D0A523D323236303B323236343B323236383B323237333B323237373B323238323B323238363B323239313B323239363B323330300D0A523D323330353B323331303B323331353B323332303B323332343B323332393B323333343B323333393B323334343B323334390D0A523D323335353B323336303B323336353B323337303B323337363B323338313B323338363B323339323B323339373B323430330D0A523D323431303B323431353B323432313B323432373B323433333B323433393B323434353B323435323B323435393B323436350D0A545243464D543D313B313030303B453B4C3B460D0A523D323635333B323635333B323635333B323635343B323635353B323635363B323635373B323635373B323635373B323635380D0A523D323635383B323635393B323635393B323635393B323635393B323636303B323636303B323636313B323636313B323636320D0A523D323636323B323636323B323636323B323636333B323636333B323636323B323636323B323636313B323636313B323636310D0A523D323636313B323636313B323636313B323636303B323636303B323635393B323635393B323635383B323635373B323635360D0A523D323635353B323635343B323635333B323635323B323635313B323635303B323634393B323634393B323634383B323634370D0A523D323634353B323634323B323633393B323633353B323633313B323632383B323632343B323631393B323631353B323631300D0A523D323630363B323630303B323539353B323538393B323538343B323537383B323537313B323536353B323535383B323535320D0A523D323534353B323533383B323533313B323532333B323531363B323530383B323530303B323439333B323438353B323437370D0A523D323437303B323436313B323435333B323434363B323433383B323433303B323432323B323431343B323430363B323339380D0A523D323339303B323338313B323337323B323336343B323335353B323334363B323333383B323332393B323332313B323331330D0A523D323330353B323239373B323238383B323238303B323237323B323236343B323235363B323234373B323233393B323233310D0A523D323232333B323231353B323230363B323139383B323139303B323138333B323137353B323136373B323135393B323135310D0A523D323134333B323133363B323132393B323132313B323131343B323130373B323130303B323039333B323038363B323037390D0A523D323037333B323036363B323035393B323035333B323034373B323034313B323033343B323032383B323032323B323031360D0A523D323031313B323030353B313939393B313939323B313938363B313938303B313937353B313936393B313936333B313935380D0A523D313935333B313934383B313934333B313933383B313933333B313932393B313932343B313932303B313931353B313931310D0A523D313930373B313930333B313839393B313839363B313839323B313838393B313838363B313838323B313837393B313837350D0A523D313837313B313836373B313836323B313835383B313835343B313835313B313834383B313834353B313834323B313834300D0A523D313833383B313833363B313833333B313833313B313832393B313832363B313832333B313832303B313831383B313831350D0A523D313831333B313831303B313830383B313830363B313830333B313830313B313739393B313739373B313739343B313739320D0A523D313739313B313738393B313738373B313738353B313738343B313738323B313738313B313737393B313737383B313737360D0A523D313737343B313737333B313737323B313737313B313736393B313736383B313736373B313736363B313736353B313736350D0A523D313736343B313736333B313736323B313736323B313736313B313736313B313736303B313736303B313735393B313735390D0A523D313735393B313735393B313735383B313735383B313735383B313735383B313735393B313735393B313735393B313735390D0A523D313735393B313735393B313736303B313736313B313736323B313736323B313736333B313736343B313736353B313736350D0A523D313736363B313736373B313736383B313736393B313737303B313737313B313737323B313737343B313737353B313737370D0A523D313737383B313737393B313738303B313738323B313738343B313738353B313738373B313738393B313739313B313739320D0A523D313739343B313739363B313739383B313830313B313830333B313830353B313830383B313831303B313831333B313831350D0A523D313831383B313832303B313832333B313832363B313832393B313833323B313833353B313833383B313834313B313834340D0A523D313834373B313835313B313835353B313835383B313836323B313836353B313836393B313837333B313837373B313838310D0A523D313838353B313838393B313839333B313839373B313930313B313930353B313931303B313931353B313931393B313932340D0A523D313932383B313933333B313933383B313934343B313934393B313935343B313935393B313936343B313936393B313937350D0A523D313938303B313938363B313939323B313939383B323030343B323031303B323031363B323032323B323032383B323033340D0A523D323034313B323034373B323035343B323036303B323036373B323037343B323038303B323038383B323039353B323130320D0A523D323130393B323131373B323132353B323133323B323134303B323134383B323135353B323136343B323137323B323138300D0A523D323138383B323139373B323230363B323231353B323232333B323233323B323234313B323235303B323236303B323236390D0A523D323237393B323238393B323239383B323330373B323331373B323332383B323333383B323334383B323335383B323336390D0A523D323337393B323339303B323430313B323431313B323432323B323433323B323434333B323435343B323436343B323437350D0A523D323438363B323439373B323530383B323531393B323533303B323534313B323535323B323536333B323537343B323538350D0A523D323539363B323630363B323631373B323632373B323633373B323634363B323635363B323636343B323637333B323638320D0A523D323639303B323639383B323730353B323731333B323732313B323732383B323733343B323734313B323734373B323735320D0A523D323735383B323736333B323736383B323737333B323737373B323738313B323738353B323738393B323739333B323739360D0A523D323739393B323830323B323830353B323830383B323831303B323831323B323831343B323831363B323831383B323832300D0A523D323832313B323832323B323832333B323832343B323832343B323832333B323832333B323832323B323832313B323832300D0A523D323831383B323831363B323831333B323831313B323830383B323830353B323830323B323739383B323739343B323739310D0A523D323738373B323738333B323737393B323737353B323737303B323736343B323736303B323735353B323735303B323734350D0A523D323733393B323733343B323732373B323732313B323731353B323730393B323730333B323639373B323639303B323638330D0A523D323637373B323637303B323636333B323635363B323634383B323634313B323633343B323632373B323632303B323631340D0A523D323630363B323539393B323539333B323538363B323537393B323537323B323536353B323535393B323535323B323534350D0A523D323533393B323533323B323532343B323531383B323531313B323530343B323439383B323439313B323438343B323437380D0A523D323437313B323436353B323435393B323435323B323434353B323433393B323433333B323432373B323432313B323431350D0A523D323431303B323430333B323339373B323339323B323338363B323338313B323337363B323337303B323336353B323336300D0A523D323335353B323334393B323334343B323333393B323333343B323332393B323332343B323332303B323331353B323331300D0A523D323330353B323330303B323239363B323239313B323238363B323238323B323237373B323237333B323236383B323236340D0A523D323236303B323235363B323235313B323234373B323234333B323233393B323233353B323233323B323232383B323232340D0A523D323232303B323231363B323231333B323230393B323230353B323230323B323139393B323139363B323139323B323138390D0A523D323138363B323138333B323138303B323137363B323137333B323136393B323136363B323136333B323136303B323135370D0A523D323135333B323135303B323134373B323134343B323134313B323133383B323133353B323133323B323132393B323132360D0A523D323132333B323132303B323131373B323131343B323131313B323130383B323130363B323130333B323130303B323039370D0A523D323039343B323039303B323038373B323038343B323038313B323037383B323037353B323037313B323036383B323036350D0A523D323036323B323035393B323035363B323035333B323035303B323034363B323034333B323034303B323033373B323033330D0A523D323033303B323032363B323032333B323031393B323031353B323031323B323030383B323030353B323030313B313939380D0A523D313939343B313939303B313938373B313938333B313938303B313937373B313937333B313937303B313936363B313936330D0A523D313935393B313935363B313935323B313934393B313934363B313934323B313933393B313933363B313933333B313933300D0A523D313932373B313932343B313932313B313931383B313931353B313931323B313930383B313930353B313930323B313839390D0A523D313839363B313839333B313839313B313838383B313838353B313838323B313838303B313837373B313837353B313837320D0A523D313836393B313836373B313836343B313836323B313836303B313835383B313835353B313835333B313835313B313834390D0A523D313834373B313834353B313834333B313834313B313833393B313833373B313833353B313833333B313833313B313832390D0A523D313832373B313832353B313832333B313832323B313832303B313831393B313831373B313831363B313831343B313831330D0A523D313831313B313831303B313830383B313830373B313830353B313830343B313830333B313830313B313830303B313739390D0A523D313739383B313739373B313739363B313739353B313739343B313739333B313739323B313739313B313739313B313739300D0A523D313738393B313738383B313738373B313738373B313738363B313738363B313738353B313738353B313738343B313738340D0A523D313738343B313738343B313738333B313738333B313738333B313738333B313738333B313738333B313738333B313738330D0A523D313738323B313738323B313738333B313738333B313738333B313738333B313738333B313738333B313738343B313738340D0A523D313738343B313738343B313738353B313738353B313738363B313738363B313738373B313738373B313738383B313738380D0A523D313738393B313739303B313739313B313739323B313739323B313739333B313739333B313739343B313739353B313739360D0A523D313739363B313739373B313739383B313739393B313830303B313830313B313830323B313830333B313830353B313830360D0A523D313830383B313830393B313831313B313831323B313831343B313831353B313831373B313831383B313832303B313832320D0A523D313832343B313832363B313832393B313833313B313833333B313833363B313833383B313834303B313834323B313834350D0A523D313834373B313835303B313835333B313835353B313835373B313835393B313836323B313836343B313836373B313837300D0A523D313837333B313837363B313837393B313838323B313838353B313838383B313839323B313839353B313839383B313930310D0A523D313930353B313930393B313931323B313931363B313932303B313932343B313932383B313933313B313933353B313933380D0A523D313934323B313934363B313935303B313935343B313935373B313936323B313936363B313937303B313937343B313937390D0A523D313938343B313938383B313939323B313939363B323030313B323030363B323031303B323031353B323032303B323032340D0A523D323032393B323033333B323033383B323034333B323034383B323035333B323035383B323036333B323036383B323037330D0A523D323037383B323038333B323038383B323039333B323039373B323130333B323130373B323131323B323131373B323132320D0A523D323132373B323133323B323133383B323134333B323134393B323135343B323135393B323136353B323137303B323137350D0A523D323138313B323138363B323139323B323139383B323230333B323230393B323231353B323232303B323232353B323233310D0A523D323233363B323234323B323234383B323235343B323236303B323236353B323237323B323237383B323238333B323238390D0A523D323239353B323330313B323330383B323331343B323332303B323332353B323333303B323333353B323334313B323334380D0A523D323335343B323336313B323336373B323337333B323337383B323338343B323339303B323339373B323430333B323430380D0A523D323431333B323431393B323432353B323433313B323433363B323434313B323434373B323435333B323435383B323436330D0A523D323436383B323437343B323437393B323438343B323439303B323439363B323530323B323530383B323531343B323531390D0A523D323532343B323532393B323533343B323533383B323534333B323534383B323535333B323535383B323536323B323536370D0A523D323537313B323537353B323537383B323538323B323538353B323538383B323539313B323539333B323539373B323630300D0A523D323630333B323630363B323630393B323631313B323631333B323631353B323631373B323632303B323632323B323632350D0A523D323632363B323632373B323632393B323633303B323633323B323633333B323633353B323633373B323633383B323633380D0A523D323633393B323633393B323634313B323634323B323634333B323634343B323634353B323634353B323634363B323634360D0A523D323634373B323634383B323634393B323634393B323634393B323634393B323634393B323634393B323635303B323635300D0A523D323635303B323635303B323635303B323635303B323635313B323635313B323635323B323635323B323635333B323635330D0A56424F583D33352E38373B33352E38370D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35362E34383B35362E34380D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                        }

                        if ($information_commande->precalibrage->calibre ==
                            21) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3135312E3036303B3135312E3036300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35332E30363B35332E30360D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323535363B323536303B323536333B323536373B323537303B323537343B323537383B323538323B323538363B323538390D0A523D323539333B323539373B323630313B323630353B323630393B323631333B323631383B323632323B323632373B323633310D0A523D323633353B323634303B323634343B323634393B323635343B323635383B323636333B323636373B323637323B323637370D0A523D323638323B323638373B323639323B323639383B323730333B323730383B323731333B323731383B323732343B323732390D0A523D323733343B323733393B323734353B323735303B323735353B323736303B323736363B323737323B323737373B323738330D0A523D323738393B323739353B323830313B323830373B323831333B323831393B323832353B323833313B323833373B323834330D0A523D323835303B323835363B323836323B323836383B323837343B323838303B323838363B323839313B323839353B323930300D0A523D323930353B323930393B323931323B323931353B323931373B323931383B323931393B323931383B323931363B323931320D0A523D323930383B323930333B323839373B323838393B323838313B323837313B323836313B323835303B323833393B323832360D0A523D323831333B323739393B323738353B323737313B323735363B323734313B323732363B323731313B323639363B323638300D0A523D323636343B323634393B323633343B323631393B323630343B323538383B323537333B323535383B323534343B323532390D0A523D323531353B323530313B323438363B323437313B323435373B323434333B323432393B323431363B323430323B323338390D0A523D323337363B323336323B323334393B323333373B323332343B323331313B323239393B323238363B323237343B323236320D0A523D323235303B323233383B323232373B323231363B323230353B323139333B323138333B323137323B323136313B323135310D0A523D323134303B323133303B323132313B323131313B323130303B323039313B323038313B323037323B323036323B323035330D0A523D323034343B323033353B323032363B323031383B323030393B323030313B313939333B313938353B313937383B313937300D0A523D313936323B313935353B313934383B313934313B313933333B313932363B313931393B313931323B313930353B313839380D0A523D313839323B313838353B313837393B313837333B313836373B313836313B313835353B313834393B313834333B313833370D0A523D313833313B313832363B313832303B313831353B313831303B313830353B313830303B313739353B313739303B313738350D0A523D313738303B313737363B313737313B313736373B313736323B313735373B313735333B313734393B313734353B313734310D0A523D313733373B313733343B313733303B313732363B313732333B313732303B313731373B313731333B313730393B313730350D0A523D313730313B313639383B313639343B313639303B313638363B313638333B313637393B313637373B313637353B313637320D0A523D313637303B313636383B313636363B313636333B313636313B313635383B313635353B313635323B313635303B313634380D0A523D313634363B313634343B313634333B313634313B313634303B313633383B313633373B313633353B313633343B313633330D0A523D313633313B313633303B313632393B313632393B313632383B313632373B313632363B313632363B313632353B313632350D0A523D313632343B313632333B313632333B313632323B313632323B313632323B313632323B313632313B313632313B313632310D0A523D313632313B313632303B313632303B313632313B313632313B313632313B313632313B313632313B313632313B313632320D0A523D313632323B313632323B313632323B313632333B313632343B313632353B313632353B313632363B313632373B313632380D0A523D313632393B313633303B313633313B313633323B313633333B313633353B313633363B313633373B313633393B313634310D0A523D313634323B313634343B313634363B313634383B313635303B313635323B313635343B313635363B313635383B313636300D0A523D313636333B313636363B313636383B313637313B313637333B313637353B313637383B313638313B313638333B313638360D0A523D313638393B313639323B313639353B313639393B313730323B313730353B313730393B313731323B313731363B313731390D0A523D313732333B313732363B313733303B313733343B313733383B313734323B313734363B313735303B313735343B313735390D0A523D313736333B313736373B313737323B313737373B313738323B313738373B313739313B313739363B313830323B313830370D0A523D313831323B313831373B313832323B313832383B313833333B313833393B313834353B313835303B313835363B313836320D0A523D313836393B313837353B313838323B313838383B313839343B313930313B313930383B313931353B313932323B313932390D0A523D313933373B313934343B313935323B313936303B313936383B313937363B313938343B313939323B323030313B323030390D0A523D323031383B323032373B323033363B323034353B323035343B323036333B323037333B323038323B323039333B323130330D0A523D323131333B323132333B323133343B323134343B323135353B323136363B323137373B323138383B323230303B323231320D0A523D323232343B323233363B323234383B323236313B323237343B323238373B323330303B323331333B323332373B323334310D0A523D323335353B323336393B323338333B323339373B323431323B323432363B323434313B323435363B323437313B323438360D0A523D323530323B323531373B323533333B323534393B323536353B323538313B323539383B323631343B323633313B323634370D0A523D323636343B323638313B323639373B323731333B323733303B323734363B323736313B323737353B323738393B323830310D0A523D323831323B323832303B323832383B323833333B323833363B323833373B323833383B323833373B323833353B323833320D0A523D323832393B323832353B323832323B323831373B323831343B323831303B323830363B323830313B323739373B323739320D0A523D323738373B323738333B323737383B323737333B323736383B323736323B323735373B323735323B323734383B323734330D0A523D323733383B323733343B323733303B323732353B323732313B323731363B323731323B323730383B323730353B323730310D0A523D323639383B323639343B323639303B323638373B323638343B323638313B323637383B323637353B323637323B323637300D0A523D323636363B323636343B323636313B323635393B323635363B323635343B323635323B323634393B323634373B323634350D0A523D323634323B323634303B323633383B323633373B323633353B323633343B323633323B323633313B323632393B323632380D0A523D323632363B323632353B323632343B323632323B323632313B323632303B323631393B323631383B323631383B323631370D0A523D323631373B323631373B323631373B323631373B323631373B323631373B323631373B323631383B323631383B323631380D0A523D323631383B323632303B323632303B323632313B323632313B323632323B323632333B323632343B323632353B323632360D0A523D323632373B323632393B323633303B323633313B323633323B323633343B323633363B323633383B323633393B323634310D0A523D323634333B323634353B323634373B323634393B323635313B323635333B323635363B323635383B323636303B323636320D0A523D323636353B323636383B323637303B323637333B323637353B323637383B323638313B323638343B323638373B323639300D0A523D323639333B323639363B323639393B323730333B323730363B323730383B323731303B323731323B323731343B323731360D0A523D323731373B323731373B323731383B323731373B323731363B323731343B323731323B323730393B323730353B323730310D0A523D323639363B323639303B323638333B323637353B323636373B323635373B323634373B323633373B323632373B323631350D0A523D323630333B323539313B323537393B323536363B323535343B323534323B323532393B323531373B323530353B323439320D0A523D323437393B323436383B323435363B323434333B323433313B323431393B323430373B323339363B323338343B323337320D0A523D323336313B323335303B323333383B323332373B323331363B323330353B323239343B323238333B323237323B323236320D0A523D323235313B323234313B323233313B323232303B323231303B323230303B323139303B323138313B323137313B323136310D0A523D323135323B323134333B323133333B323132343B323131353B323130363B323039373B323038393B323038303B323037310D0A523D323036323B323035343B323034363B323033383B323033303B323032323B323031343B323030363B313939393B313939320D0A523D313938353B313937383B313937303B313936333B313935363B313935303B313934343B313933373B313933303B313932340D0A523D313931383B313931323B313930363B313930303B313839343B313838383B313838323B313837373B313837323B313836360D0A523D313836313B313835353B313834393B313834343B313833393B313833353B313833303B313832353B313832303B313831350D0A523D313831313B313830373B313830333B313739383B313739343B313739303B313738353B313738323B313737383B313737340D0A523D313737303B313736363B313736333B313735393B313735363B313735323B313734393B313734363B313734333B313734300D0A523D313733373B313733343B313733303B313732373B313732343B313732313B313731393B313731363B313731333B313731300D0A523D313730373B313730353B313730323B313639393B313639373B313639353B313639333B313639313B313638393B313638370D0A523D313638353B313638343B313638323B313638303B313637383B313637363B313637353B313637333B313637313B313636390D0A523D313636383B313636363B313636353B313636343B313636333B313636323B313636313B313636303B313635393B313635390D0A523D313635383B313635383B313635383B313635383B313635373B313635373B313635373B313635373B313635373B313635370D0A523D313635373B313635383B313635383B313635393B313635393B313635393B313635393B313636303B313636303B313636310D0A523D313636313B313636323B313636323B313636333B313636333B313636343B313636353B313636363B313636363B313636370D0A523D313636383B313637303B313637313B313637323B313637343B313637353B313637363B313637373B313637393B313638310D0A523D313638333B313638353B313638363B313638383B313639303B313639323B313639343B313639363B313639383B313730300D0A523D313730323B313730353B313730373B313730393B313731323B313731343B313731373B313732303B313732333B313732360D0A523D313732393B313733323B313733353B313733383B313734313B313734343B313734373B313735303B313735353B313735380D0A523D313736313B313736353B313736393B313737333B313737363B313738303B313738343B313738383B313739333B313739370D0A523D313830313B313830363B313831313B313831353B313832303B313832353B313832393B313833343B313833383B313834340D0A523D313835303B313835353B313836303B313836353B313837303B313837363B313838313B313838373B313839333B313839390D0A523D313930353B313931313B313931373B313932333B313933303B313933363B313934323B313934393B313935353B313936330D0A523D313937303B313937363B313938333B313939303B313939383B323030353B323031333B323032313B323032383B323033360D0A523D323034343B323035313B323035393B323036373B323037353B323038333B323039313B323039393B323130373B323131360D0A523D323132343B323133323B323134303B323134393B323135373B323136363B323137343B323138323B323139313B323230300D0A523D323230383B323231363B323232343B323233313B323233393B323234373B323235343B323236323B323236393B323237360D0A523D323238343B323239303B323239373B323330343B323331303B323331373B323332343B323333303B323333363B323334310D0A523D323334383B323335333B323335383B323336333B323336383B323337333B323337383B323338323B323338373B323339310D0A523D323339353B323339393B323430333B323430363B323430393B323431323B323431363B323431393B323432323B323432350D0A523D323432383B323433303B323433323B323433343B323433353B323433373B323433383B323434303B323434313B323434320D0A523D323434333B323434353B323434363B323434373B323434373B323434383B323434383B323434393B323435303B323435310D0A523D323435313B323435323B323435323B323435333B323435333B323435343B323435343B323435353B323435353B323435360D0A523D323435363B323435373B323435383B323435393B323435393B323436303B323436313B323436323B323436323B323436330D0A523D323436343B323436353B323436363B323436373B323436383B323436393B323437313B323437323B323437343B323437360D0A523D323437383B323437393B323438313B323438333B323438353B323438373B323438393B323439313B323439333B323439350D0A523D323439383B323530303B323530333B323530353B323530383B323531313B323531343B323531373B323531393B323532320D0A523D323532353B323532383B323533313B323533343B323533373B323534313B323534343B323534373B323535303B323535330D0A545243464D543D313B313030303B453B4C3B460D0A523D323632363B323632383B323632393B323633313B323633323B323633343B323633353B323633373B323633383B323634300D0A523D323634323B323634353B323634373B323634393B323635323B323635343B323635363B323635393B323636313B323636340D0A523D323636363B323637303B323637323B323637353B323637383B323638313B323638343B323638373B323639303B323639340D0A523D323639383B323730313B323730353B323730383B323731323B323731363B323732313B323732353B323733303B323733340D0A523D323733383B323734333B323734383B323735323B323735373B323736323B323736383B323737333B323737383B323738330D0A523D323738373B323739323B323739373B323830313B323830363B323831303B323831343B323831373B323832323B323832350D0A523D323832393B323833323B323833353B323833373B323833383B323833373B323833363B323833333B323832383B323832300D0A523D323831323B323830313B323738393B323737353B323736313B323734363B323733303B323731333B323639373B323638310D0A523D323636343B323634373B323633313B323631343B323539383B323538313B323536353B323534393B323533333B323531370D0A523D323530323B323438363B323437313B323435363B323434313B323432363B323431323B323339373B323338333B323336390D0A523D323335353B323334313B323332373B323331333B323330303B323238373B323237343B323236313B323234383B323233360D0A523D323232343B323231323B323230303B323138383B323137373B323136363B323135353B323134343B323133343B323132330D0A523D323131333B323130333B323039333B323038323B323037333B323036333B323035343B323034353B323033363B323032370D0A523D323031383B323030393B323030313B313939323B313938343B313937363B313936383B313936303B313935323B313934340D0A523D313933373B313932393B313932323B313931353B313930383B313930313B313839343B313838383B313838323B313837350D0A523D313836393B313836323B313835363B313835303B313834353B313833393B313833333B313832383B313832323B313831370D0A523D313831323B313830373B313830323B313739363B313739313B313738373B313738323B313737373B313737323B313736370D0A523D313736333B313735393B313735343B313735303B313734363B313734323B313733383B313733343B313733303B313732360D0A523D313732333B313731393B313731363B313731323B313730393B313730353B313730323B313639393B313639353B313639320D0A523D313638393B313638363B313638333B313638313B313637383B313637353B313637333B313637313B313636383B313636360D0A523D313636333B313636303B313635383B313635363B313635343B313635323B313635303B313634383B313634363B313634340D0A523D313634323B313634313B313633393B313633373B313633363B313633353B313633333B313633323B313633313B313633300D0A523D313632393B313632383B313632373B313632363B313632353B313632353B313632343B313632333B313632323B313632320D0A523D313632323B313632323B313632313B313632313B313632313B313632313B313632313B313632313B313632303B313632300D0A523D313632313B313632313B313632313B313632313B313632323B313632323B313632323B313632323B313632333B313632330D0A523D313632343B313632353B313632353B313632363B313632363B313632373B313632383B313632393B313632393B313633300D0A523D313633313B313633333B313633343B313633353B313633373B313633383B313634303B313634313B313634333B313634340D0A523D313634363B313634383B313635303B313635323B313635353B313635383B313636313B313636333B313636363B313636380D0A523D313637303B313637323B313637353B313637373B313637393B313638333B313638363B313639303B313639343B313639380D0A523D313730313B313730353B313730393B313731333B313731373B313732303B313732333B313732363B313733303B313733340D0A523D313733373B313734313B313734353B313734393B313735333B313735373B313736323B313736373B313737313B313737360D0A523D313738303B313738353B313739303B313739353B313830303B313830353B313831303B313831353B313832303B313832360D0A523D313833313B313833373B313834333B313834393B313835353B313836313B313836373B313837333B313837393B313838350D0A523D313839323B313839383B313930353B313931323B313931393B313932363B313933333B313934313B313934383B313935350D0A523D313936323B313937303B313937383B313938353B313939333B323030313B323030393B323031383B323032363B323033350D0A523D323034343B323035333B323036323B323037323B323038313B323039313B323130303B323131313B323132313B323133300D0A523D323134303B323135313B323136313B323137323B323138333B323139333B323230353B323231363B323232373B323233380D0A523D323235303B323236323B323237343B323238363B323239393B323331313B323332343B323333373B323334393B323336320D0A523D323337363B323338393B323430323B323431363B323432393B323434333B323435373B323437313B323438363B323530310D0A523D323531353B323532393B323534343B323535383B323537333B323538383B323630343B323631393B323633343B323634390D0A523D323636343B323638303B323639363B323731313B323732363B323734313B323735363B323737313B323738353B323739390D0A523D323831333B323832363B323833393B323835303B323836313B323837313B323838313B323838393B323839373B323930330D0A523D323930383B323931323B323931363B323931383B323931393B323931383B323931373B323931353B323931323B323930390D0A523D323930353B323930303B323839353B323839313B323838363B323838303B323837343B323836383B323836323B323835360D0A523D323835303B323834333B323833373B323833313B323832353B323831393B323831333B323830373B323830313B323739350D0A523D323738393B323738333B323737373B323737323B323736363B323736303B323735353B323735303B323734353B323733390D0A523D323733343B323732393B323732343B323731383B323731333B323730383B323730333B323639383B323639323B323638370D0A523D323638323B323637373B323637323B323636373B323636333B323635383B323635343B323634393B323634343B323634300D0A523D323633353B323633313B323632373B323632323B323631383B323631333B323630393B323630353B323630313B323539370D0A523D323539333B323538393B323538363B323538323B323537383B323537343B323537303B323536373B323536333B323536300D0A523D323535363B323535333B323535303B323534373B323534343B323534313B323533373B323533343B323533313B323532380D0A523D323532353B323532323B323531393B323531373B323531343B323531313B323530383B323530353B323530333B323530300D0A523D323439383B323439353B323439333B323439313B323438393B323438373B323438353B323438333B323438313B323437390D0A523D323437383B323437363B323437343B323437323B323437313B323436393B323436383B323436373B323436363B323436350D0A523D323436343B323436333B323436323B323436323B323436313B323436303B323435393B323435393B323435383B323435370D0A523D323435363B323435363B323435353B323435353B323435343B323435343B323435333B323435333B323435323B323435320D0A523D323435313B323435313B323435303B323434393B323434383B323434383B323434373B323434373B323434363B323434350D0A523D323434333B323434323B323434313B323434303B323433383B323433373B323433353B323433343B323433323B323433300D0A523D323432383B323432353B323432323B323431393B323431363B323431323B323430393B323430363B323430333B323339390D0A523D323339353B323339313B323338373B323338323B323337383B323337333B323336383B323336333B323335383B323335330D0A523D323334383B323334313B323333363B323333303B323332343B323331373B323331303B323330343B323239373B323239300D0A523D323238343B323237363B323236393B323236323B323235343B323234373B323233393B323233313B323232343B323231360D0A523D323230383B323230303B323139313B323138323B323137343B323136363B323135373B323134393B323134303B323133320D0A523D323132343B323131363B323130373B323039393B323039313B323038333B323037353B323036373B323035393B323035310D0A523D323034343B323033363B323032383B323032313B323031333B323030353B313939383B313939303B313938333B313937360D0A523D313937303B313936333B313935353B313934393B313934323B313933363B313933303B313932333B313931373B313931310D0A523D313930353B313839393B313839333B313838373B313838313B313837363B313837303B313836353B313836303B313835350D0A523D313835303B313834343B313833383B313833343B313832393B313832353B313832303B313831353B313831313B313830360D0A523D313830313B313739373B313739333B313738383B313738343B313738303B313737363B313737333B313736393B313736350D0A523D313736313B313735383B313735353B313735303B313734373B313734343B313734313B313733383B313733353B313733320D0A523D313732393B313732363B313732333B313732303B313731373B313731343B313731323B313730393B313730373B313730350D0A523D313730323B313730303B313639383B313639363B313639343B313639323B313639303B313638383B313638363B313638350D0A523D313638333B313638313B313637393B313637373B313637363B313637353B313637343B313637323B313637313B313637300D0A523D313636383B313636373B313636363B313636363B313636353B313636343B313636333B313636333B313636323B313636320D0A523D313636313B313636313B313636303B313636303B313635393B313635393B313635393B313635393B313635383B313635380D0A523D313635373B313635373B313635373B313635373B313635373B313635373B313635373B313635383B313635383B313635380D0A523D313635383B313635393B313635393B313636303B313636313B313636323B313636333B313636343B313636353B313636360D0A523D313636383B313636393B313637313B313637333B313637353B313637363B313637383B313638303B313638323B313638340D0A523D313638353B313638373B313638393B313639313B313639333B313639353B313639373B313639393B313730323B313730350D0A523D313730373B313731303B313731333B313731363B313731393B313732313B313732343B313732373B313733303B313733340D0A523D313733373B313734303B313734333B313734363B313734393B313735323B313735363B313735393B313736333B313736360D0A523D313737303B313737343B313737383B313738323B313738353B313739303B313739343B313739383B313830333B313830370D0A523D313831313B313831353B313832303B313832353B313833303B313833353B313833393B313834343B313834393B313835350D0A523D313836313B313836363B313837323B313837373B313838323B313838383B313839343B313930303B313930363B313931320D0A523D313931383B313932343B313933303B313933373B313934343B313935303B313935363B313936333B313937303B313937380D0A523D313938353B313939323B313939393B323030363B323031343B323032323B323033303B323033383B323034363B323035340D0A523D323036323B323037313B323038303B323038393B323039373B323130363B323131353B323132343B323133333B323134330D0A523D323135323B323136313B323137313B323138313B323139303B323230303B323231303B323232303B323233313B323234310D0A523D323235313B323236323B323237323B323238333B323239343B323330353B323331363B323332373B323333383B323335300D0A523D323336313B323337323B323338343B323339363B323430373B323431393B323433313B323434333B323435363B323436380D0A523D323437393B323439323B323530353B323531373B323532393B323534323B323535343B323536363B323537393B323539310D0A523D323630333B323631353B323632373B323633373B323634373B323635373B323636373B323637353B323638333B323639300D0A523D323639363B323730313B323730353B323730393B323731323B323731343B323731363B323731373B323731383B323731370D0A523D323731373B323731363B323731343B323731323B323731303B323730383B323730363B323730333B323639393B323639360D0A523D323639333B323639303B323638373B323638343B323638313B323637383B323637353B323637333B323637303B323636380D0A523D323636353B323636323B323636303B323635383B323635363B323635333B323635313B323634393B323634373B323634350D0A523D323634333B323634313B323633393B323633383B323633363B323633343B323633323B323633313B323633303B323632390D0A523D323632373B323632363B323632353B323632343B323632333B323632323B323632313B323632313B323632303B323632300D0A523D323631383B323631383B323631383B323631383B323631373B323631373B323631373B323631373B323631373B323631370D0A523D323631373B323631373B323631383B323631383B323631393B323632303B323632313B323632323B323632343B323632350D0A56424F583D33332E31363B33332E31360D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35382E33373B35382E33370D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                        }

                        if ($information_commande->precalibrage->calibre ==
                            22) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3135372E3838303B3135372E3838300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35362E31383B35362E31380D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323732303B323732343B323732373B323733313B323733353B323733393B323734343B323734383B323735323B323735360D0A523D323736303B323736343B323736383B323737323B323737373B323738313B323738363B323739303B323739353B323830300D0A523D323830343B323830393B323831333B323831383B323832333B323832383B323833333B323833373B323834323B323834370D0A523D323835323B323835373B323836323B323836373B323837323B323837363B323838313B323838363B323839313B323839360D0A523D323930303B323930353B323930393B323931333B323931373B323932313B323932353B323932383B323933323B323933360D0A523D323933393B323934333B323934363B323934393B323935313B323935333B323935353B323935363B323935373B323935370D0A523D323935373B323935373B323935363B323935343B323935333B323935313B323934383B323934353B323934313B323933370D0A523D323933323B323932373B323932323B323931373B323931313B323930353B323839383B323839313B323838333B323837350D0A523D323836383B323835393B323835313B323834323B323833333B323832343B323831353B323830363B323739363B323738360D0A523D323737363B323736373B323735373B323734373B323733363B323732363B323731363B323730363B323639353B323638350D0A523D323637353B323636343B323635333B323634333B323633323B323632313B323631303B323630303B323538393B323537380D0A523D323536373B323535373B323534363B323533353B323532343B323531343B323530333B323439323B323438313B323437310D0A523D323436303B323435303B323434303B323432393B323431393B323430393B323339393B323338393B323337393B323336390D0A523D323335393B323335303B323334303B323333313B323332323B323331333B323330343B323239343B323238353B323237360D0A523D323236373B323235393B323235303B323234323B323233333B323232353B323231373B323230393B323230313B323139330D0A523D323138353B323137373B323137303B323136323B323135353B323134383B323134313B323133343B323132373B323132310D0A523D323131343B323130373B323130313B323039353B323038383B323038323B323037363B323037303B323036343B323035380D0A523D323035333B323034373B323034313B323033363B323033303B323032353B323032303B323031353B323031303B323030350D0A523D323030303B313939353B313939303B313938363B313938313B313937373B313937323B313936383B313936343B313935390D0A523D313935353B313935313B313934373B313934333B313934303B313933363B313933333B313932393B313932363B313932330D0A523D313931393B313931363B313931323B313930393B313930363B313930333B313930313B313839383B313839363B313839330D0A523D313839313B313838393B313838363B313838343B313838323B313838303B313837383B313837363B313837343B313837320D0A523D313837303B313836393B313836373B313836353B313836343B313836323B313836313B313836303B313835393B313835380D0A523D313835363B313835353B313835343B313835333B313835323B313835323B313835313B313835313B313835303B313835300D0A523D313834393B313834393B313834383B313834383B313834383B313834383B313834383B313834383B313834383B313834380D0A523D313834393B313834393B313834393B313835303B313835303B313835313B313835313B313835323B313835323B313835330D0A523D313835333B313835343B313835353B313835363B313835373B313835383B313836303B313836313B313836323B313836330D0A523D313836353B313836363B313836383B313837303B313837323B313837343B313837363B313837373B313837393B313838310D0A523D313838323B313838343B313838363B313838383B313839303B313839333B313839353B313839383B313930303B313930330D0A523D313930353B313930373B313931303B313931323B313931353B313931373B313932313B313932343B313932383B313933320D0A523D313933353B313933393B313934323B313934363B313935303B313935343B313935383B313936333B313936373B313937320D0A523D313937373B313938323B313938373B313939323B313939373B323030323B323030373B323031323B323031373B323032320D0A523D323032373B323033333B323033393B323034343B323035303B323035353B323036313B323036373B323037323B323037380D0A523D323038353B323039313B323039373B323130333B323131303B323131373B323132333B323133313B323133383B323134340D0A523D323135313B323135393B323136363B323137343B323138313B323138393B323139373B323230363B323231343B323232320D0A523D323233303B323233393B323234383B323235373B323236353B323237343B323238333B323239333B323330333B323331320D0A523D323332323B323333313B323334313B323335313B323336313B323337313B323338313B323339323B323430323B323431330D0A523D323432333B323433343B323434353B323435353B323436363B323437373B323438383B323530303B323531313B323532330D0A523D323533343B323534363B323535373B323536393B323538313B323539333B323630343B323631353B323632373B323633390D0A523D323635303B323636313B323637323B323638343B323639343B323730353B323731363B323732363B323733373B323734360D0A523D323735363B323736363B323737363B323738363B323739363B323830353B323831353B323832343B323833323B323834300D0A523D323834373B323835343B323836313B323836373B323837343B323837393B323838343B323838393B323839333B323839370D0A523D323930313B323930343B323930373B323931303B323931323B323931343B323931353B323931373B323931383B323931390D0A523D323931393B323931383B323931383B323931383B323931383B323931373B323931363B323931353B323931343B323931330D0A523D323931323B323931313B323930393B323930373B323930353B323930333B323930313B323839393B323839363B323839340D0A523D323839313B323838383B323838363B323838333B323838313B323837383B323837363B323837333B323837313B323836390D0A523D323836373B323836363B323836343B323836323B323836303B323835383B323835363B323835353B323835333B323835300D0A523D323834383B323834363B323834343B323834323B323834303B323833383B323833363B323833343B323833333B323833310D0A523D323832393B323832373B323832363B323832343B323832333B323832313B323832303B323831383B323831373B323831360D0A523D323831343B323831333B323831323B323831313B323831303B323830393B323830383B323830383B323830373B323830360D0A523D323830353B323830353B323830353B323830343B323830343B323830333B323830333B323830323B323830323B323830320D0A523D323830323B323830323B323830323B323830333B323830333B323830333B323830333B323830343B323830343B323830350D0A523D323830353B323830363B323830363B323830373B323830383B323830393B323830393B323831303B323831313B323831320D0A523D323831333B323831343B323831353B323831363B323831363B323831373B323831383B323831393B323832303B323832310D0A523D323832323B323832333B323832343B323832353B323832363B323832373B323832383B323832383B323832393B323833300D0A523D323833313B323833313B323833323B323833323B323833323B323833323B323833323B323833323B323833313B323833310D0A523D323833303B323833303B323832393B323832383B323832373B323832363B323832353B323832343B323832333B323832310D0A523D323831393B323831383B323831363B323831343B323831323B323831303B323830373B323830353B323830323B323739390D0A523D323739363B323739333B323738393B323738353B323738313B323737373B323737333B323736383B323736333B323735380D0A523D323735333B323734373B323734323B323733363B323733303B323732343B323731383B323731323B323730363B323639390D0A523D323639323B323638353B323637373B323636393B323636313B323635323B323634333B323633353B323632363B323631370D0A523D323630393B323630303B323539313B323538323B323537333B323536333B323535343B323534343B323533343B323532340D0A523D323531353B323530353B323439353B323438353B323437363B323436363B323435363B323434373B323433373B323432370D0A523D323431383B323430393B323339393B323338393B323338303B323337313B323336303B323335303B323334313B323333320D0A523D323332333B323331343B323330353B323239363B323238373B323237383B323236393B323236313B323235333B323234340D0A523D323233363B323232383B323232303B323231313B323230333B323139343B323138363B323137383B323137313B323136330D0A523D323135353B323134383B323134313B323133343B323132363B323132303B323131333B323130363B323130303B323039340D0A523D323038383B323038323B323037363B323037303B323036343B323035383B323035333B323034383B323034333B323033380D0A523D323033323B323032373B323032323B323031373B323031323B323030373B323030323B313939373B313939333B313938380D0A523D313938333B313937393B313937353B313937303B313936363B313936323B313935383B313935343B313935303B313934370D0A523D313934333B313934303B313933363B313933323B313932393B313932353B313932323B313931383B313931353B313931320D0A523D313930393B313930373B313930343B313930313B313839383B313839363B313839333B313839313B313838393B313838360D0A523D313838343B313838323B313838303B313837373B313837353B313837333B313837323B313837303B313836393B313836370D0A523D313836363B313836343B313836333B313836313B313836303B313835383B313835373B313835363B313835343B313835340D0A523D313835333B313835323B313835313B313835313B313835303B313835303B313834393B313834393B313834383B313834380D0A523D313834383B313834373B313834373B313834373B313834373B313834373B313834373B313834373B313834373B313834370D0A523D313834373B313834383B313834383B313834383B313834383B313834393B313834393B313835303B313835303B313835310D0A523D313835323B313835333B313835343B313835353B313835363B313835373B313835383B313835393B313836313B313836330D0A523D313836343B313836353B313836363B313836383B313837303B313837323B313837343B313837363B313837373B313837390D0A523D313838313B313838333B313838363B313838383B313839313B313839333B313839363B313839383B313930313B313930330D0A523D313930363B313930393B313931313B313931343B313931363B313931393B313932323B313932353B313932373B313933300D0A523D313933343B313933373B313934303B313934343B313934373B313935313B313935343B313935373B313936313B313936340D0A523D313936383B313937313B313937353B313937393B313938323B313938363B313939303B313939343B313939383B323030320D0A523D323030363B323031303B323031343B323031383B323032323B323032363B323033303B323033353B323034303B323034340D0A523D323034393B323035333B323035373B323036323B323036363B323037313B323037353B323038303B323038353B323038390D0A523D323039343B323039383B323130333B323130383B323131333B323131383B323132333B323132383B323133333B323133380D0A523D323134333B323134383B323135333B323135393B323136343B323136393B323137343B323137393B323138343B323138390D0A523D323139353B323230303B323230363B323231313B323231363B323232323B323232373B323233323B323233373B323234320D0A523D323234383B323235333B323235383B323236343B323236393B323237343B323237393B323238343B323239303B323239350D0A523D323330303B323330353B323331303B323331353B323332303B323332353B323333313B323333363B323334313B323334360D0A523D323335303B323335353B323336303B323336353B323337303B323337343B323337393B323338333B323338383B323339330D0A523D323339383B323430333B323430373B323431323B323431373B323432313B323432363B323433303B323433343B323433390D0A523D323434333B323434373B323435323B323435363B323436303B323436343B323436383B323437323B323437363B323438300D0A523D323438343B323438383B323439313B323439353B323439383B323530323B323530363B323530393B323531333B323531360D0A523D323532303B323532343B323532373B323533303B323533333B323533373B323534303B323534333B323534373B323535300D0A523D323535333B323535363B323536303B323536343B323536373B323537303B323537333B323537373B323538303B323538330D0A523D323538373B323539303B323539333B323539363B323539393B323630333B323630363B323631303B323631333B323631360D0A523D323631393B323632323B323632353B323632383B323633313B323633343B323633383B323634313B323634343B323634370D0A523D323635313B323635343B323635373B323636303B323636343B323636373B323637313B323637343B323637373B323638300D0A523D323638333B323638373B323639303B323639343B323639373B323730313B323730353B323730383B323731323B323731360D0A545243464D543D313B313030303B453B4C3B460D0A523D323830353B323830363B323830373B323830383B323830383B323830393B323831303B323831313B323831323B323831330D0A523D323831343B323831363B323831373B323831383B323832303B323832313B323832333B323832343B323832363B323832370D0A523D323832393B323833313B323833333B323833343B323833363B323833383B323834303B323834323B323834343B323834360D0A523D323834383B323835303B323835333B323835353B323835363B323835383B323836303B323836323B323836343B323836360D0A523D323836373B323836393B323837313B323837333B323837363B323837383B323838313B323838333B323838363B323838380D0A523D323839313B323839343B323839363B323839393B323930313B323930333B323930353B323930373B323930393B323931310D0A523D323931323B323931333B323931343B323931353B323931363B323931373B323931383B323931383B323931383B323931380D0A523D323931393B323931393B323931383B323931373B323931353B323931343B323931323B323931303B323930373B323930340D0A523D323930313B323839373B323839333B323838393B323838343B323837393B323837343B323836373B323836313B323835340D0A523D323834373B323834303B323833323B323832343B323831353B323830353B323739363B323738363B323737363B323736360D0A523D323735363B323734363B323733373B323732363B323731363B323730353B323639343B323638343B323637323B323636310D0A523D323635303B323633393B323632373B323631353B323630343B323539333B323538313B323536393B323535373B323534360D0A523D323533343B323532333B323531313B323530303B323438383B323437373B323436363B323435353B323434353B323433340D0A523D323432333B323431333B323430323B323339323B323338313B323337313B323336313B323335313B323334313B323333310D0A523D323332323B323331323B323330333B323239333B323238333B323237343B323236353B323235373B323234383B323233390D0A523D323233303B323232323B323231343B323230363B323139373B323138393B323138313B323137343B323136363B323135390D0A523D323135313B323134343B323133383B323133313B323132333B323131373B323131303B323130333B323039373B323039310D0A523D323038353B323037383B323037323B323036373B323036313B323035353B323035303B323034343B323033393B323033330D0A523D323032373B323032323B323031373B323031323B323030373B323030323B313939373B313939323B313938373B313938320D0A523D313937373B313937323B313936373B313936333B313935383B313935343B313935303B313934363B313934323B313933390D0A523D313933353B313933323B313932383B313932343B313932313B313931373B313931353B313931323B313931303B313930370D0A523D313930353B313930333B313930303B313839383B313839353B313839333B313839303B313838383B313838363B313838340D0A523D313838323B313838313B313837393B313837373B313837363B313837343B313837323B313837303B313836383B313836360D0A523D313836353B313836333B313836323B313836313B313836303B313835383B313835373B313835363B313835353B313835340D0A523D313835333B313835333B313835323B313835323B313835313B313835313B313835303B313835303B313834393B313834390D0A523D313834393B313834383B313834383B313834383B313834383B313834383B313834383B313834383B313834383B313834390D0A523D313834393B313835303B313835303B313835313B313835313B313835323B313835323B313835333B313835343B313835350D0A523D313835363B313835383B313835393B313836303B313836313B313836323B313836343B313836353B313836373B313836390D0A523D313837303B313837323B313837343B313837363B313837383B313838303B313838323B313838343B313838363B313838390D0A523D313839313B313839333B313839363B313839383B313930313B313930333B313930363B313930393B313931323B313931360D0A523D313931393B313932333B313932363B313932393B313933333B313933363B313934303B313934333B313934373B313935310D0A523D313935353B313935393B313936343B313936383B313937323B313937373B313938313B313938363B313939303B313939350D0A523D323030303B323030353B323031303B323031353B323032303B323032353B323033303B323033363B323034313B323034370D0A523D323035333B323035383B323036343B323037303B323037363B323038323B323038383B323039353B323130313B323130370D0A523D323131343B323132313B323132373B323133343B323134313B323134383B323135353B323136323B323137303B323137370D0A523D323138353B323139333B323230313B323230393B323231373B323232353B323233333B323234323B323235303B323235390D0A523D323236373B323237363B323238353B323239343B323330343B323331333B323332323B323333313B323334303B323335300D0A523D323335393B323336393B323337393B323338393B323339393B323430393B323431393B323432393B323434303B323435300D0A523D323436303B323437313B323438313B323439323B323530333B323531343B323532343B323533353B323534363B323535370D0A523D323536373B323537383B323538393B323630303B323631303B323632313B323633323B323634333B323635333B323636340D0A523D323637353B323638353B323639353B323730363B323731363B323732363B323733363B323734373B323735373B323736370D0A523D323737363B323738363B323739363B323830363B323831353B323832343B323833333B323834323B323835313B323835390D0A523D323836383B323837353B323838333B323839313B323839383B323930353B323931313B323931373B323932323B323932370D0A523D323933323B323933373B323934313B323934353B323934383B323935313B323935333B323935343B323935363B323935370D0A523D323935373B323935373B323935373B323935363B323935353B323935333B323935313B323934393B323934363B323934330D0A523D323933393B323933363B323933323B323932383B323932353B323932313B323931373B323931333B323930393B323930350D0A523D323930303B323839363B323839313B323838363B323838313B323837363B323837323B323836373B323836323B323835370D0A523D323835323B323834373B323834323B323833373B323833333B323832383B323832333B323831383B323831333B323830390D0A523D323830343B323830303B323739353B323739303B323738363B323738313B323737373B323737323B323736383B323736340D0A523D323736303B323735363B323735323B323734383B323734343B323733393B323733353B323733313B323732373B323732340D0A523D323732303B323731363B323731323B323730383B323730353B323730313B323639373B323639343B323639303B323638370D0A523D323638333B323638303B323637373B323637343B323637313B323636373B323636343B323636303B323635373B323635340D0A523D323635313B323634373B323634343B323634313B323633383B323633343B323633313B323632383B323632353B323632320D0A523D323631393B323631363B323631333B323631303B323630363B323630333B323539393B323539363B323539333B323539300D0A523D323538373B323538333B323538303B323537373B323537333B323537303B323536373B323536343B323536303B323535360D0A523D323535333B323535303B323534373B323534333B323534303B323533373B323533333B323533303B323532373B323532340D0A523D323532303B323531363B323531333B323530393B323530363B323530323B323439383B323439353B323439313B323438380D0A523D323438343B323438303B323437363B323437323B323436383B323436343B323436303B323435363B323435323B323434370D0A523D323434333B323433393B323433343B323433303B323432363B323432313B323431373B323431323B323430373B323430330D0A523D323339383B323339333B323338383B323338333B323337393B323337343B323337303B323336353B323336303B323335350D0A523D323335303B323334363B323334313B323333363B323333313B323332353B323332303B323331353B323331303B323330350D0A523D323330303B323239353B323239303B323238343B323237393B323237343B323236393B323236343B323235383B323235330D0A523D323234383B323234323B323233373B323233323B323232373B323232323B323231363B323231313B323230363B323230300D0A523D323139353B323138393B323138343B323137393B323137343B323136393B323136343B323135393B323135333B323134380D0A523D323134333B323133383B323133333B323132383B323132333B323131383B323131333B323130383B323130333B323039380D0A523D323039343B323038393B323038353B323038303B323037353B323037313B323036363B323036323B323035373B323035330D0A523D323034393B323034343B323034303B323033353B323033303B323032363B323032323B323031383B323031343B323031300D0A523D323030363B323030323B313939383B313939343B313939303B313938363B313938323B313937393B313937353B313937310D0A523D313936383B313936343B313936313B313935373B313935343B313935313B313934373B313934343B313934303B313933370D0A523D313933343B313933303B313932373B313932353B313932323B313931393B313931363B313931343B313931313B313930390D0A523D313930363B313930333B313930313B313839383B313839363B313839333B313839313B313838383B313838363B313838330D0A523D313838313B313837393B313837373B313837363B313837343B313837323B313837303B313836383B313836363B313836350D0A523D313836343B313836333B313836313B313835393B313835383B313835373B313835363B313835353B313835343B313835330D0A523D313835323B313835313B313835303B313835303B313834393B313834393B313834383B313834383B313834383B313834380D0A523D313834373B313834373B313834373B313834373B313834373B313834373B313834373B313834373B313834373B313834370D0A523D313834383B313834383B313834383B313834393B313834393B313835303B313835303B313835313B313835313B313835320D0A523D313835333B313835343B313835343B313835363B313835373B313835383B313836303B313836313B313836333B313836340D0A523D313836363B313836373B313836393B313837303B313837323B313837333B313837353B313837373B313838303B313838320D0A523D313838343B313838363B313838393B313839313B313839333B313839363B313839383B313930313B313930343B313930370D0A523D313930393B313931323B313931353B313931383B313932323B313932353B313932393B313933323B313933363B313934300D0A523D313934333B313934373B313935303B313935343B313935383B313936323B313936363B313937303B313937353B313937390D0A523D313938333B313938383B313939333B313939373B323030323B323030373B323031323B323031373B323032323B323032370D0A523D323033323B323033383B323034333B323034383B323035333B323035383B323036343B323037303B323037363B323038320D0A523D323038383B323039343B323130303B323130363B323131333B323132303B323132363B323133343B323134313B323134380D0A523D323135353B323136333B323137313B323137383B323138363B323139343B323230333B323231313B323232303B323232380D0A523D323233363B323234343B323235333B323236313B323236393B323237383B323238373B323239363B323330353B323331340D0A523D323332333B323333323B323334313B323335303B323336303B323337313B323338303B323338393B323339393B323430390D0A523D323431383B323432373B323433373B323434373B323435363B323436363B323437363B323438353B323439353B323530350D0A523D323531353B323532343B323533343B323534343B323535343B323536333B323537333B323538323B323539313B323630300D0A523D323630393B323631373B323632363B323633353B323634333B323635323B323636313B323636393B323637373B323638350D0A523D323639323B323639393B323730363B323731323B323731383B323732343B323733303B323733363B323734323B323734370D0A523D323735333B323735383B323736333B323736383B323737333B323737373B323738313B323738353B323738393B323739330D0A523D323739363B323739393B323830323B323830353B323830373B323831303B323831323B323831343B323831363B323831380D0A523D323831393B323832313B323832333B323832343B323832353B323832363B323832373B323832383B323832393B323833300D0A523D323833303B323833313B323833313B323833323B323833323B323833323B323833323B323833323B323833323B323833310D0A523D323833313B323833303B323832393B323832383B323832383B323832373B323832363B323832353B323832343B323832330D0A523D323832323B323832313B323832303B323831393B323831383B323831373B323831363B323831363B323831353B323831340D0A523D323831333B323831323B323831313B323831303B323830393B323830393B323830383B323830373B323830363B323830360D0A523D323830353B323830353B323830343B323830343B323830333B323830333B323830333B323830333B323830323B323830320D0A523D323830323B323830323B323830323B323830323B323830333B323830333B323830343B323830343B323830353B323830350D0A56424F583D33372E30313B33372E30310D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35392E31343B35392E31340D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                        }

                        if ($information_commande->precalibrage->calibre ==
                            23) {
                            $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3134302E3939303B3134302E3939300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35302E30333B35302E30330D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323431333B323431373B323432303B323432343B323432383B323433323B323433373B323434313B323434353B323434380D0A523D323435323B323435363B323436303B323436353B323436393B323437333B323437383B323438323B323438373B323439310D0A523D323439353B323439393B323530333B323530383B323531333B323531373B323532313B323532363B323533303B323533350D0A523D323533393B323534343B323534383B323535333B323535373B323536313B323536363B323537303B323537353B323537390D0A523D323538323B323538363B323539303B323539333B323539363B323539393B323630323B323630343B323630363B323630380D0A523D323631303B323631323B323631333B323631343B323631343B323631343B323631343B323631343B323631333B323631310D0A523D323630393B323630373B323630343B323630313B323539383B323539353B323539323B323538393B323538343B323538300D0A523D323537363B323537323B323536373B323536333B323535383B323535333B323534383B323534323B323533373B323533310D0A523D323532353B323531393B323531333B323530383B323530323B323439363B323439303B323438333B323437363B323437300D0A523D323436343B323435373B323435313B323434343B323433373B323433313B323432343B323431373B323431313B323430340D0A523D323339373B323339313B323338343B323337373B323337313B323336333B323335363B323335303B323334333B323333360D0A523D323333303B323332333B323331363B323330393B323330323B323239363B323238393B323238333B323237373B323237300D0A523D323236343B323235383B323235313B323234353B323233393B323233333B323232373B323232313B323231353B323230390D0A523D323230343B323139383B323139333B323138373B323138313B323137363B323137303B323136353B323135393B323135340D0A523D323134393B323134343B323133393B323133343B323132393B323132343B323131383B323131343B323130393B323130340D0A523D323039393B323039343B323039303B323038353B323038303B323037363B323037323B323036383B323036333B323035390D0A523D323035353B323035313B323034363B323034323B323033383B323033353B323033313B323032373B323032343B323032300D0A523D323031373B323031333B323031303B323030363B323030323B313939393B313939363B313939333B313938393B313938360D0A523D313938333B313938303B313937373B313937353B313937323B313936393B313936363B313936333B313936313B313935380D0A523D313935363B313935343B313935313B313934393B313934373B313934353B313934323B313934303B313933373B313933350D0A523D313933343B313933323B313933303B313932383B313932373B313932353B313932343B313932323B313932313B313931390D0A523D313931373B313931363B313931353B313931343B313931323B313931313B313931303B313930393B313930383B313930370D0A523D313930363B313930363B313930353B313930343B313930333B313930323B313930313B313930313B313930303B313930300D0A523D313839393B313839393B313839383B313839383B313839373B313839373B313839373B313839373B313839373B313839370D0A523D313839363B313839363B313839363B313839363B313839363B313839363B313839373B313839373B313839373B313839370D0A523D313839383B313839393B313839393B313930303B313930303B313930313B313930313B313930323B313930333B313930340D0A523D313930343B313930353B313930363B313930373B313930393B313931303B313931313B313931323B313931333B313931340D0A523D313931363B313931373B313931393B313932303B313932323B313932333B313932353B313932373B313932393B313933310D0A523D313933323B313933343B313933373B313933393B313934313B313934333B313934353B313934383B313935303B313935320D0A523D313935343B313935373B313936303B313936323B313936343B313936363B313936393B313937313B313937343B313937370D0A523D313938303B313938333B313938363B313938393B313939333B313939363B323030303B323030333B323030363B323030390D0A523D323031333B323031373B323032303B323032343B323032383B323033323B323033363B323034303B323034343B323034370D0A523D323035313B323035343B323035383B323036323B323036363B323037303B323037343B323037393B323038343B323038390D0A523D323039343B323039383B323130333B323130373B323131323B323131373B323132323B323132373B323133333B323133380D0A523D323134333B323134383B323135333B323135393B323136343B323137303B323137363B323138313B323138373B323139330D0A523D323139383B323230343B323230393B323231353B323232313B323232373B323233333B323233393B323234363B323235320D0A523D323235383B323236343B323237303B323237363B323238333B323238393B323239363B323330323B323330383B323331350D0A523D323332313B323332373B323333343B323334313B323334373B323335333B323336303B323336363B323337323B323337390D0A523D323338353B323339313B323339383B323430343B323431303B323431353B323432323B323432383B323433333B323433390D0A523D323434353B323435313B323435373B323436323B323436383B323437333B323437393B323438343B323438393B323439340D0A523D323439393B323530343B323530383B323531333B323531383B323532333B323532383B323533323B323533373B323534320D0A523D323534373B323535323B323535363B323536303B323536343B323536373B323537313B323537343B323537373B323538300D0A523D323538323B323538353B323538373B323538393B323539313B323539333B323539353B323539373B323539393B323630300D0A523D323630313B323630323B323630323B323630333B323630333B323630343B323630343B323630343B323630343B323630340D0A523D323630343B323630343B323630333B323630323B323630323B323630313B323630303B323539393B323539383B323539370D0A523D323539353B323539333B323539323B323539313B323538393B323538373B323538353B323538333B323538313B323537390D0A523D323537363B323537333B323537303B323536383B323536353B323536323B323535383B323535353B323535323B323534390D0A523D323534373B323534343B323534313B323533383B323533353B323533323B323532393B323532363B323532333B323532300D0A523D323531373B323531343B323531313B323530393B323530363B323530333B323530303B323439373B323439353B323439320D0A523D323438393B323438363B323438333B323438313B323437373B323437353B323437323B323437303B323436373B323436340D0A523D323436313B323435383B323435363B323435333B323435313B323434383B323434363B323434333B323434303B323433370D0A523D323433343B323433323B323432393B323432373B323432343B323432323B323431393B323431363B323431343B323431320D0A523D323431303B323430373B323430353B323430323B323430303B323339373B323339343B323339323B323338393B323338370D0A523D323338343B323338323B323337393B323337373B323337343B323337313B323336383B323336343B323336313B323335370D0A523D323335353B323335323B323335303B323334383B323334363B323334353B323334323B323333393B323333363B323333340D0A523D323333323B323333303B323332383B323332363B323332343B323332313B323331393B323331363B323331353B323331330D0A523D323331303B323330383B323330353B323330333B323330323B323330303B323239393B323239363B323239333B323239300D0A523D323238383B323238363B323238343B323238323B323238313B323237393B323237363B323237333B323237303B323236390D0A523D323236373B323236363B323236343B323236313B323235383B323235353B323235323B323235303B323234383B323234360D0A523D323234343B323234323B323234303B323233383B323233353B323233333B323233323B323233303B323232383B323232360D0A523D323232333B323232313B323231393B323231373B323231353B323231333B323231313B323230393B323230373B323230340D0A523D323230313B323139393B323139373B323139353B323139323B323139303B323138373B323138353B323138333B323138310D0A523D323137393B323137363B323137343B323137313B323136393B323136363B323136333B323136313B323135383B323135360D0A523D323135333B323135313B323134383B323134363B323134333B323134313B323133383B323133363B323133343B323133310D0A523D323132393B323132363B323132333B323132313B323131383B323131363B323131333B323131313B323130383B323130360D0A523D323130333B323130313B323039393B323039363B323039343B323039323B323039303B323038373B323038353B323038320D0A523D323037393B323037373B323037343B323037323B323036393B323036373B323036343B323036313B323035393B323035360D0A523D323035343B323035313B323034393B323034363B323034343B323034323B323033393B323033373B323033343B323033320D0A523D323032393B323032373B323032353B323032333B323032303B323031383B323031363B323031333B323031313B323030390D0A523D323030373B323030343B323030313B313939383B313939363B313939343B313939313B313938393B313938363B313938340D0A523D313938313B313937383B313937363B313937343B313937323B313936393B313936373B313936343B313936323B313936300D0A523D313935373B313935353B313935323B313935303B313934383B313934363B313934343B313934313B313933393B313933360D0A523D313933343B313933333B313933313B313932393B313932373B313932353B313932333B313932313B313931383B313931360D0A523D313931353B313931333B313931313B313930393B313930373B313930353B313930343B313930323B313930303B313839390D0A523D313839373B313839363B313839343B313839333B313839313B313838393B313838373B313838363B313838353B313838340D0A523D313838323B313838313B313838303B313837383B313837373B313837363B313837353B313837343B313837333B313837320D0A523D313837323B313837313B313837303B313836393B313836383B313836373B313836373B313836363B313836363B313836350D0A523D313836343B313836333B313836333B313836323B313836323B313836323B313836323B313836313B313836313B313836310D0A523D313836313B313836303B313836303B313836303B313836303B313836303B313836303B313836303B313836303B313836300D0A523D313836303B313836303B313836303B313836303B313836303B313836303B313836313B313836313B313836313B313836310D0A523D313836323B313836323B313836333B313836333B313836343B313836343B313836353B313836353B313836363B313836360D0A523D313836373B313836373B313836383B313836393B313837303B313837313B313837323B313837333B313837343B313837350D0A523D313837363B313837373B313837383B313837393B313838303B313838313B313838323B313838333B313838353B313838360D0A523D313838373B313838383B313839303B313839313B313839333B313839343B313839353B313839373B313839393B313930310D0A523D313930323B313930343B313930353B313930373B313930383B313931303B313931323B313931343B313931363B313931370D0A523D313931393B313932313B313932333B313932353B313932373B313932393B313933313B313933333B313933353B313933370D0A523D313933393B313934313B313934343B313934363B313934383B313935313B313935333B313935353B313935373B313936300D0A523D313936323B313936353B313936373B313936393B313937313B313937343B313937373B313937393B313938323B313938340D0A523D313938373B313938393B313939323B313939343B313939373B323030303B323030323B323030353B323030383B323031310D0A523D323031333B323031363B323031393B323032323B323032353B323032383B323033313B323033343B323033373B323034300D0A523D323034333B323034363B323034393B323035323B323035353B323035383B323036313B323036343B323036373B323037300D0A523D323037343B323037373B323038313B323038343B323038373B323039303B323039333B323039373B323130303B323130330D0A523D323130363B323131303B323131333B323131363B323132303B323132333B323132373B323133303B323133343B323133380D0A523D323134313B323134353B323134383B323135333B323135363B323136303B323136343B323136373B323137313B323137340D0A523D323137383B323138323B323138353B323139303B323139333B323139373B323230303B323230343B323230383B323231310D0A523D323231353B323231393B323232333B323232373B323233313B323233353B323233383B323234323B323234363B323235300D0A523D323235343B323235383B323236323B323236353B323237303B323237343B323237373B323238313B323238353B323238390D0A523D323239323B323239363B323330303B323330343B323330393B323331333B323331373B323332313B323332343B323332380D0A523D323333323B323333363B323334303B323334343B323334383B323335333B323335373B323336303B323336343B323336380D0A523D323337323B323337363B323338303B323338343B323338383B323339333B323339373B323430313B323430353B323430390D0A545243464D543D313B313030303B453B4C3B460D0A523D323436313B323436343B323436373B323437303B323437323B323437353B323437373B323438313B323438333B323438360D0A523D323438393B323439323B323439353B323439373B323530303B323530333B323530363B323530393B323531313B323531340D0A523D323531373B323532303B323532333B323532363B323532393B323533323B323533353B323533383B323534313B323534340D0A523D323534373B323534393B323535323B323535353B323535383B323536323B323536353B323536383B323537303B323537330D0A523D323537363B323537393B323538313B323538333B323538353B323538373B323538393B323539313B323539323B323539330D0A523D323539353B323539373B323539383B323539393B323630303B323630313B323630323B323630323B323630333B323630340D0A523D323630343B323630343B323630343B323630343B323630343B323630343B323630333B323630333B323630323B323630320D0A523D323630313B323630303B323539393B323539373B323539353B323539333B323539313B323538393B323538373B323538350D0A523D323538323B323538303B323537373B323537343B323537313B323536373B323536343B323536303B323535363B323535320D0A523D323534373B323534323B323533373B323533323B323532383B323532333B323531383B323531333B323530383B323530340D0A523D323439393B323439343B323438393B323438343B323437393B323437333B323436383B323436323B323435373B323435310D0A523D323434353B323433393B323433333B323432383B323432323B323431353B323431303B323430343B323339383B323339310D0A523D323338353B323337393B323337323B323336363B323336303B323335333B323334373B323334313B323333343B323332370D0A523D323332313B323331353B323330383B323330323B323239363B323238393B323238333B323237363B323237303B323236340D0A523D323235383B323235323B323234363B323233393B323233333B323232373B323232313B323231353B323230393B323230340D0A523D323139383B323139333B323138373B323138313B323137363B323137303B323136343B323135393B323135333B323134380D0A523D323134333B323133383B323133333B323132373B323132323B323131373B323131323B323130373B323130333B323039380D0A523D323039343B323038393B323038343B323037393B323037343B323037303B323036363B323036323B323035383B323035340D0A523D323035313B323034373B323034343B323034303B323033363B323033323B323032383B323032343B323032303B323031370D0A523D323031333B323030393B323030363B323030333B323030303B313939363B313939333B313938393B313938363B313938330D0A523D313938303B313937373B313937343B313937313B313936393B313936363B313936343B313936323B313936303B313935370D0A523D313935343B313935323B313935303B313934383B313934353B313934333B313934313B313933393B313933373B313933340D0A523D313933323B313933313B313932393B313932373B313932353B313932333B313932323B313932303B313931393B313931370D0A523D313931363B313931343B313931333B313931323B313931313B313931303B313930393B313930373B313930363B313930350D0A523D313930343B313930343B313930333B313930323B313930313B313930313B313930303B313930303B313839393B313839390D0A523D313839383B313839373B313839373B313839373B313839373B313839363B313839363B313839363B313839363B313839360D0A523D313839363B313839373B313839373B313839373B313839373B313839373B313839373B313839383B313839383B313839390D0A523D313839393B313930303B313930303B313930313B313930313B313930323B313930333B313930343B313930353B313930360D0A523D313930363B313930373B313930383B313930393B313931303B313931313B313931323B313931343B313931353B313931360D0A523D313931373B313931393B313932313B313932323B313932343B313932353B313932373B313932383B313933303B313933320D0A523D313933343B313933353B313933373B313934303B313934323B313934353B313934373B313934393B313935313B313935340D0A523D313935363B313935383B313936313B313936333B313936363B313936393B313937323B313937353B313937373B313938300D0A523D313938333B313938363B313938393B313939333B313939363B313939393B323030323B323030363B323031303B323031330D0A523D323031373B323032303B323032343B323032373B323033313B323033353B323033383B323034323B323034363B323035310D0A523D323035353B323035393B323036333B323036383B323037323B323037363B323038303B323038353B323039303B323039340D0A523D323039393B323130343B323130393B323131343B323131383B323132343B323132393B323133343B323133393B323134340D0A523D323134393B323135343B323135393B323136353B323137303B323137363B323138313B323138373B323139333B323139380D0A523D323230343B323230393B323231353B323232313B323232373B323233333B323233393B323234353B323235313B323235380D0A523D323236343B323237303B323237373B323238333B323238393B323239363B323330323B323330393B323331363B323332330D0A523D323333303B323333363B323334333B323335303B323335363B323336333B323337313B323337373B323338343B323339310D0A523D323339373B323430343B323431313B323431373B323432343B323433313B323433373B323434343B323435313B323435370D0A523D323436343B323437303B323437363B323438333B323439303B323439363B323530323B323530383B323531333B323531390D0A523D323532353B323533313B323533373B323534323B323534383B323535333B323535383B323536333B323536373B323537320D0A523D323537363B323538303B323538343B323538393B323539323B323539353B323539383B323630313B323630343B323630370D0A523D323630393B323631313B323631333B323631343B323631343B323631343B323631343B323631343B323631333B323631320D0A523D323631303B323630383B323630363B323630343B323630323B323539393B323539363B323539333B323539303B323538360D0A523D323538323B323537393B323537353B323537303B323536363B323536313B323535373B323535333B323534383B323534340D0A523D323533393B323533353B323533303B323532363B323532313B323531373B323531333B323530383B323530333B323439390D0A523D323439353B323439313B323438373B323438323B323437383B323437333B323436393B323436353B323436303B323435360D0A523D323435323B323434383B323434353B323434313B323433373B323433323B323432383B323432343B323432303B323431370D0A523D323431333B323430393B323430353B323430313B323339373B323339333B323338383B323338343B323338303B323337360D0A523D323337323B323336383B323336343B323336303B323335373B323335333B323334383B323334343B323334303B323333360D0A523D323333323B323332383B323332343B323332313B323331373B323331333B323330393B323330343B323330303B323239360D0A523D323239323B323238393B323238353B323238313B323237373B323237343B323237303B323236353B323236323B323235380D0A523D323235343B323235303B323234363B323234323B323233383B323233353B323233313B323232373B323232333B323231390D0A523D323231353B323231313B323230383B323230343B323230303B323139373B323139333B323139303B323138353B323138320D0A523D323137383B323137343B323137313B323136373B323136343B323136303B323135363B323135333B323134383B323134350D0A523D323134313B323133383B323133343B323133303B323132373B323132333B323132303B323131363B323131333B323131300D0A523D323130363B323130333B323130303B323039373B323039333B323039303B323038373B323038343B323038313B323037370D0A523D323037343B323037303B323036373B323036343B323036313B323035383B323035353B323035323B323034393B323034360D0A523D323034333B323034303B323033373B323033343B323033313B323032383B323032353B323032323B323031393B323031360D0A523D323031333B323031313B323030383B323030353B323030323B323030303B313939373B313939343B313939323B313938390D0A523D313938373B313938343B313938323B313937393B313937373B313937343B313937313B313936393B313936373B313936350D0A523D313936323B313936303B313935373B313935353B313935333B313935313B313934383B313934363B313934343B313934310D0A523D313933393B313933373B313933353B313933333B313933313B313932393B313932373B313932353B313932333B313932310D0A523D313931393B313931373B313931363B313931343B313931323B313931303B313930383B313930373B313930353B313930340D0A523D313930323B313930313B313839393B313839373B313839353B313839343B313839333B313839313B313839303B313838380D0A523D313838373B313838363B313838353B313838333B313838323B313838313B313838303B313837393B313837383B313837370D0A523D313837363B313837353B313837343B313837333B313837323B313837313B313837303B313836393B313836383B313836370D0A523D313836373B313836363B313836363B313836353B313836353B313836343B313836343B313836333B313836333B313836320D0A523D313836323B313836313B313836313B313836313B313836313B313836303B313836303B313836303B313836303B313836300D0A523D313836303B313836303B313836303B313836303B313836303B313836303B313836303B313836303B313836303B313836300D0A523D313836313B313836313B313836313B313836313B313836323B313836323B313836323B313836323B313836333B313836330D0A523D313836343B313836353B313836363B313836363B313836373B313836373B313836383B313836393B313837303B313837310D0A523D313837323B313837323B313837333B313837343B313837353B313837363B313837373B313837383B313838303B313838310D0A523D313838323B313838343B313838353B313838363B313838373B313838393B313839313B313839333B313839343B313839360D0A523D313839373B313839393B313930303B313930323B313930343B313930353B313930373B313930393B313931313B313931330D0A523D313931353B313931363B313931383B313932313B313932333B313932353B313932373B313932393B313933313B313933330D0A523D313933343B313933363B313933393B313934313B313934343B313934363B313934383B313935303B313935323B313935350D0A523D313935373B313936303B313936323B313936343B313936373B313936393B313937323B313937343B313937363B313937380D0A523D313938313B313938343B313938363B313938393B313939313B313939343B313939363B313939383B323030313B323030340D0A523D323030373B323030393B323031313B323031333B323031363B323031383B323032303B323032333B323032353B323032370D0A523D323032393B323033323B323033343B323033373B323033393B323034323B323034343B323034363B323034393B323035310D0A523D323035343B323035363B323035393B323036313B323036343B323036373B323036393B323037323B323037343B323037370D0A523D323037393B323038323B323038353B323038373B323039303B323039323B323039343B323039363B323039393B323130310D0A523D323130333B323130363B323130383B323131313B323131333B323131363B323131383B323132313B323132333B323132360D0A523D323132393B323133313B323133343B323133363B323133383B323134313B323134333B323134363B323134383B323135310D0A523D323135333B323135363B323135383B323136313B323136333B323136363B323136393B323137313B323137343B323137360D0A523D323137393B323138313B323138333B323138353B323138373B323139303B323139323B323139353B323139373B323139390D0A523D323230313B323230343B323230373B323230393B323231313B323231333B323231353B323231373B323231393B323232310D0A523D323232333B323232363B323232383B323233303B323233323B323233333B323233353B323233383B323234303B323234320D0A523D323234343B323234363B323234383B323235303B323235323B323235353B323235383B323236313B323236343B323236360D0A523D323236373B323236393B323237303B323237333B323237363B323237393B323238313B323238323B323238343B323238360D0A523D323238383B323239303B323239333B323239363B323239393B323330303B323330323B323330333B323330353B323330380D0A523D323331303B323331333B323331353B323331363B323331393B323332313B323332343B323332363B323332383B323333300D0A523D323333323B323333343B323333363B323333393B323334323B323334353B323334363B323334383B323335303B323335320D0A523D323335353B323335373B323336313B323336343B323336383B323337313B323337343B323337373B323337393B323338320D0A523D323338343B323338373B323338393B323339323B323339343B323339373B323430303B323430323B323430353B323430370D0A523D323431303B323431323B323431343B323431363B323431393B323432323B323432343B323432373B323432393B323433320D0A523D323433343B323433373B323434303B323434333B323434363B323434383B323435313B323435333B323435363B323435380D0A56424F583D33382E30333B33382E30330D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35322E32383B35322E32380D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                        }

                    }


                    if ($calibre !=
                        "") {
                        $edg = '
						<edging edgingType="NONE">
						   <bevel>
							  <type>BEVEL</type>
							  <position posType="AUTO">0</position>
						  </bevel>
						  <polish>false</polish>
						</edging>';
                    }

                    $xml .= '<material>' .
                            $monture_type . '</material>
				   <boxWidth>' .
                            $boxWidth . '</boxWidth>
				   <boxHeight>' .
                            $boxHeight . '</boxHeight>
				   <distanceBetweenLenses>' .
                            $DBL . '</distanceBetweenLenses>
				   ' .
                            $calibre;
                }
                $xml .= '
            	</frame>';
                $xml .= $edg . ' 
        </pair>
     </item>
  </items>
</b2bOptic>
';


                $CommandeOmega =
                    $this->m_commande->updateXMLCommandeOmega($commande->id_commande,
                                                              $typechange,
                                                              $change,
                                                              $xml);


            }
            die('sent');
        } else {
            $this->redirect("/index");
        }

    }


    public
    function edi_omega()
    {

        $data['newUser'] =
            $this->session->userdata('newUser');
        $data['parametre_lang_datable'] =
            $this->config->item('parametre_lang_datable');
        $data['parametre_export_datable'] =
            $this->config->item('parametre_export_datable');

        $data['page'] =
        $data['title'] =
            "EDI OMEGA";
        $data['modules'] =
            array(
                'datatables' => true,
                'datepicker' => true,
                'sweetalert' => true
            );
        $this->load->view('admin/edi_omega',
                          $data);
    }

    public
    function edi_omega_expediee()
    {

        $data['newUser'] =
            $this->session->userdata('newUser');
        $data['parametre_lang_datable'] =
            $this->config->item('parametre_lang_datable');
        $data['parametre_export_datable'] =
            $this->config->item('parametre_export_datable');

        $data['page'] =
        $data['title'] =
            "VERRES OMEGA EXPEDIÉS";
        $data['modules'] =
            array(
                'datatables' => true,
                'datepicker' => true,
                'sweetalert' => true
            );
        $this->load->view('admin/edi_omega_expediee',
                          $data);
    }

    public
    function edi_omega_expedie_ajax()
    {
        if ($this->input->is_ajax_request()) {
            $data = array();
            $data['aaData'] =
                array();
            $data_commande =
                $this->m_commande->getAllCommandeEdiOmegaExpediee();
            $compteur = 0;
            if ($data_commande !==
                false) {
                foreach ($data_commande
                         as
                         $key
                => $commande)
                {
                    $detail =
                        "";

                    if ($commande->origine_commande ==
                        '2') {
                        $detail .= "<b>Commande Stock Déporté</b><br>";
                    } else {
                        $detail .= "<b>Commande Fabrication</b><br>";
                    }

                    if ($commande->panierA ==
                        '1') {
                        $detail .= "<br><b>Panier A</b>";
                    }

                    $detail .= "<br>Nom du verre: <b>" .
                               $commande->trad_fr .
                               "</b>";
                    $detail .= "<br>Indice: " .
                               $commande->indice_verre .
                               '';

                    $information_commande =
                        json_decode($commande->information_commande);
                    //var_dump($information_commande);
                    if (isset($information_commande->verre->correction_droit)) {
                        $detail .= "<br><br><b>OD:</b>";
                        $detail .= " " .
                                   $information_commande->verre->correction_droit->sphere .
                                   "";
                        $detail .= " (" .
                                   $information_commande->verre->correction_droit->cylindre .
                                   ")";
                        if ($information_commande->verre->correction_droit->axe !=
                            "0.00") {
                            $detail .= " " .
                                       $information_commande->verre->correction_droit->axe .
                                       "°";
                        }

                        if (isset($information_commande->verre->correction_droit->addition) &&
                            $information_commande->verre->correction_droit->addition !=
                            "0.00" &&
                            $commande->id_generation_verre !=
                            34) {
                            $detail .= " ADD " .
                                       $information_commande->verre->correction_droit->addition .
                                       "";
                        }

                        if (isset($information_commande->verre->correction_droit->addition) &&
                            $information_commande->verre->correction_droit->addition !=
                            "0.00" &&
                            $commande->id_generation_verre ==
                            34) {
                            $detail .= " DEG " .
                                       $information_commande->verre->correction_droit->addition .
                                       "";
                        }


                        /*if(isset($information_commande->verre->correction_droit->addition) && $information_commande->verre->correction_droit->addition != "0.00")
                			$detail .=" ADD ".$information_commande->verre->correction_droit->addition."";*/


                        if (isset($information_commande->verre->correction_droit->PrismeSphere) &&
                            !empty($information_commande->verre->correction_droit->PrismeSphere)) {
                            $detail .= " " .
                                       $information_commande->verre->correction_droit->PrismeSphere .
                                       "Δ";

                        }
                        if (isset($information_commande->verre->correction_droit->PrismeCylindre) &&
                            !empty($information_commande->verre->correction_droit->PrismeCylindre)) {
                            $detail .= " base " .
                                       $information_commande->verre->correction_droit->PrismeCylindre .
                                       "°";

                        }

                        if (isset($information_commande->verre->correction_droit->galbe)) {
                            $detail .= " Galbe: " .
                                       $information_commande->verre->correction_droit->galbe .
                                       " ";
                        }
                        if (isset($information_commande->verre->correction_droit->traitement) &&
                            !empty($information_commande->verre->correction_droit->traitement)) {
                            $traitementD =
                                $this->m_commande->getTraitementByCode($information_commande->verre->correction_droit->traitement);
                            $detail .= "<br>Traitement: " .
                                       $traitementD .
                                       "";
                        }
                        if (isset($information_commande->verre->correction_droit->teinte)) {
                            $teinteD =
                                $this->m_commande->getTeinteEnById($information_commande->verre->correction_droit->teinte);
                            if ($teinteD !=
                                "") {
                                $detail .= "<br>Teinte: <b>" .
                                           $teinteD .
                                           "</b>";
                            } else {
                                if ($information_commande->verre->correction_droit->teinte !=
                                    "") {
                                    $detail .= "<br>Teinte personnalisée: <b>" .
                                               $information_commande->verre->correction_droit->teinte .
                                               "</b>";
                                }
                            }
                        }
                        if (isset($information_commande->verre->correction_droit->diametre) &&
                            !empty($information_commande->verre->correction_droit->diametre)) {
                            $detail .= "<br>Diametre: " .
                                       $information_commande->verre->correction_droit->diametre .
                                       "";

                        }

                    }

                    if (isset($information_commande->verre->correction_gauche)) {
                        $detail .= "<br><br><b>OG:</b>";
                        $detail .= " " .
                                   $information_commande->verre->correction_gauche->sphere .
                                   "";
                        $detail .= " (" .
                                   $information_commande->verre->correction_gauche->cylindre .
                                   ")";

                        if ($information_commande->verre->correction_gauche->axe !=
                            "0.00") {
                            $detail .= " " .
                                       $information_commande->verre->correction_gauche->axe .
                                       "°";
                        }
                        /*if(isset($information_commande->verre->correction_gauche->addition) && $information_commande->verre->correction_gauche->addition != "0.00")
                			$detail .=" ".$information_commande->verre->correction_gauche->addition."</b>";*/

                        if (isset($information_commande->verre->correction_gauche->addition) &&
                            $information_commande->verre->correction_gauche->addition !=
                            "0.00" &&
                            $commande->id_generation_verre !=
                            34) {
                            $detail .= " ADD " .
                                       $information_commande->verre->correction_gauche->addition .
                                       "";
                        }

                        if (isset($information_commande->verre->correction_gauche->addition) &&
                            $information_commande->verre->correction_gauche->addition !=
                            "0.00" &&
                            $commande->id_generation_verre ==
                            34) {
                            $detail .= " DEG " .
                                       $information_commande->verre->correction_gauche->addition .
                                       "";
                        }


                        if (isset($information_commande->verre->correction_gauche->PrismeSphere) &&
                            !empty($information_commande->verre->correction_gauche->PrismeSphere)) {
                            $detail .= " " .
                                       $information_commande->verre->correction_gauche->PrismeSphere .
                                       "Δ";
                        }
                        if (isset($information_commande->verre->correction_gauche->PrismeCylindre) &&
                            !empty($information_commande->verre->correction_gauche->PrismeCylindre)) {
                            $detail .= " base  " .
                                       $information_commande->verre->correction_gauche->PrismeCylindre .
                                       "°";
                        }

                        if (isset($information_commande->verre->correction_gauche->galbe)) {
                            $detail .= " Galbe: " .
                                       $information_commande->verre->correction_gauche->galbe .
                                       " ";
                        }
                        if (isset($information_commande->verre->correction_gauche->traitement) &&
                            !empty($information_commande->verre->correction_gauche->traitement)) {

                            $traitementG =
                                $this->m_commande->getTraitementByCode($information_commande->verre->correction_gauche->traitement);
                            $detail .= "<br>Traitement: " .
                                       $traitementG .
                                       "";
                        }

                        if (isset($information_commande->verre->correction_gauche->teinte)) {
                            $teinteG =
                                $this->m_commande->getTeinteEnById($information_commande->verre->correction_gauche->teinte);
                            if ($teinteG !=
                                "") {
                                $detail .= "<br>Teinte: <b>" .
                                           $teinteG .
                                           "</b>";
                            } else {
                                if ($information_commande->verre->correction_gauche->teinte !=
                                    "") {
                                    $detail .= "<br>Teinte personnalisée: <b>" .
                                               $information_commande->verre->correction_gauche->teinte .
                                               "</b>";
                                }
                            }
                        }
                        $detail .= "<br>Diametre: " .
                                   $information_commande->verre->correction_gauche->diametre .
                                   "";

                    }

                    $precal =
                        0;

                    if ((isset($information_commande->verre->correction_droit) &&
                         $information_commande->verre->correction_droit->diametre ==
                         'precalibrage') ||
                        (isset($information_commande->verre->correction_gauche) &&
                         $information_commande->verre->correction_gauche->diametre ==
                         'precalibrage')) {
                        $precal =
                            1;
                        $detail .= '<br><br><b>Précalibrage:</b> <br>';

                        if (isset($information_commande->precalibrage)) {
                            $detail .= '<br><img src="/static/img/calibre/' .
                                       $information_commande->precalibrage->calibre .
                                       '.jpg" width="150" heigth="70" /><br>';
                        }

                        $mesure_freeform_opt =
                            "";

                        $mesure_freeform_opt .= isset($information_commande->mesure_freeform->largeur_boxing) ?
                            'Largeur boxing : ' .
                            $information_commande->mesure_freeform->largeur_boxing .
                            ', ' :
                            '';
                        $mesure_freeform_opt .= isset($information_commande->mesure_freeform->hauteur_boxing) ?
                            'Hauteur boxing : ' .
                            $information_commande->mesure_freeform->hauteur_boxing .
                            ', ' :
                            '';
                        $mesure_freeform_opt .= isset($information_commande->mesure_freeform->taille_du_pont) ?
                            'Taille du pont : ' .
                            $information_commande->mesure_freeform->taille_du_pont .
                            ', ' :
                            '';
                        $mesure_freeform_opt .= isset($information_commande->mesure_freeform->diametre_utile) ?
                            'Diametre utile : ' .
                            $information_commande->mesure_freeform->diametre_utile .
                            '<br>' :
                            '';

                        if (!empty($mesure_freeform_opt)) {
                            $detail .= '<b>Mesure freeform:</b> <br> - ';
                            $detail .= $mesure_freeform_opt;
                        }

                        if (isset($information_commande->monture->type)) {
                            $detail .= 'Type monture: ' .
                                       $information_commande->monture->type .
                                       '<br>';
                        }

                        if (isset($information_commande->bord_verre->epaisseur) &&
                            !empty($information_commande->bord_verre->epaisseur)) {
                            $detail .= 'EP au bord minimum: ' .
                                       $information_commande->bord_verre->epaisseur .
                                       '<br>';
                        }

                        if (isset($information_commande->mesure_freeform->ecart_puppillaire_droit) &&
                            !empty($information_commande->mesure_freeform->ecart_puppillaire_droit)) {
                            $detail .= 'Ecart puppillaire droit: ' .
                                       $information_commande->mesure_freeform->ecart_puppillaire_droit .
                                       '<br>';
                        }

                        if (isset($information_commande->mesure_freeform->ecart_puppillaire_gauche) &&
                            !empty($information_commande->mesure_freeform->ecart_puppillaire_gauche)) {
                            $detail .= 'Ecart puppillaire gauche: ' .
                                       $information_commande->mesure_freeform->ecart_puppillaire_gauche .
                                       '<br>';
                        }

                        if (isset($information_commande->mesure_freeform->hauteur) &&
                            !empty($information_commande->mesure_freeform->hauteur)) {
                            $detail .= 'Hauteur de montage droit: ' .
                                       $information_commande->mesure_freeform->hauteur .
                                       '<br>';
                        }

                        if (isset($information_commande->mesure_freeform->hauteur_gauche) &&
                            !empty($information_commande->mesure_freeform->hauteur_gauche)) {
                            $detail .= 'Hauteur de montage gauche: ' .
                                       $information_commande->mesure_freeform->hauteur_gauche .
                                       '<br>';
                        }

                    }

                    if ($commande->type_commande >
                        1) {

                        $ancienne_commande =
                            '';

                        if ($commande->ancienne_commande >
                            0) {
                            $ancienne_commande .= '<br />(CR' .
                                                  $commande->ancienne_commande .
                                                  '-' .
                                                  $commande->id_users .
                                                  ')<br /><a class="btn btn-danger btn-sm compare_commande" data-toggle="modal" data-target="#compare-commandes" rel="' .
                                                  $commande->id_commande .
                                                  '">Comparer</a>';
                        }
                        if ($commande->penalty !=
                            1) {
                            $ancienne_commande .= '<br /> <a class="btn btn-warning btn-sm reject_ec" rel="' .
                                                  $commande->id_commande .
                                                  '">Rejeter</a>';
                        }
                    } else {
                        $ancienne_commande =
                            '';
                    }

                    $ref_optieyes =
                        'CR' .
                        $commande->id_commande .
                        '-' .
                        $commande->id_users .
                        $ancienne_commande;
                    switch ($commande->type_commande) {

                        case 1:
                            $prix_commande =
                                $commande->total_commande .
                                ' €';
                            break;

                        case 2:

                            $prix_commande =
                                '<del>' .
                                $commande->total_commande .
                                '</del> ' .
                                ($commande->tarif_express >
                                 0 ?
                                    $commande->tarif_express :
                                    '0') .
                                ' €<br />Casse atelier';
                            break;

                        case 3:
                            $prix_commande =
                                '<del>' .
                                $commande->total_commande .
                                '</del> ' .
                                ($commande->tarif_express >
                                 0 ?
                                    $commande->tarif_express :
                                    '0') .
                                ' €<br />Erreur ophta';
                            break;
                    }

                    $infos =
                        "Date: <b>" .
                        date('d/m/Y H:i',
                             strtotime($commande->date_commande)) .
                        "</b><br>Ref.&nbsp;Optieyes: <b>" .
                        $ref_optieyes .
                        "</b><br>Ref. client: <b>" .
                        $commande->reference_client .
                        "</b><br>Tarif HT: <b>" .
                        $prix_commande .
                        "</b>";
                    if ($commande->tarif_express !=
                        '0') {
                        $infos .= "<br><b>EXPRESS</b><br>";
                    }

                    if ($commande->commentaire !=
                        "") {
                        $infos .= "<br><br>Commentaires client: <b><br>" .
                                  $commande->commentaire .
                                  "</b>";
                    }

                    if ($commande->commentaire_omega !=
                        "") {
                        $infos .= '<br><br>Commentaires OMEGA: <b>' .
                                  $commande->commentaire_omega .
                                  '</b>';
                    }

                    $infos .= '<br><br><a class="btn btn-inverse btn-sm" id="button_commentaires_omega_' .
                              $commande->id_commande .
                              '_' .
                              $commande->id_users . '" data-toggle="modal" data-target="#edit-commentaire_omega"><i class="zmdi zmdi-edit"></i> commentaire Omega</a>
            		';

                    if ($commande->seconde_omega !=
                        "") {
                        $infos .= "<br><br>Seconde Paire OMEGA: <b>" .
                                  $commande->seconde_omega .
                                  "</b>";
                        $infos .= '<br><br><a class="btn btn-warning btn-sm" id="button_seconde_paire_omega_' .
                                  $commande->id_commande .
                                  '_' .
                                  $commande->id_users .
                                  '" data-toggle="modal" data-target="#edit-seconde_paire_omega"><i class="zmdi zmdi-edit"></i> seconde paire Omega</a>';
                    } else {
                        if ($commande->premiere_commande !=
                            0) {
                            $infos .= "<br><br>Seconde Paire OMEGA: <b>" .
                                      $commande->premiere_commande .
                                      "-" .
                                      $commande->id_users .
                                      "</b>";
                        } else {
                            $infos .= '<br><br><a class="btn btn-warning btn-sm" id="button_seconde_paire_omega_' .
                                      $commande->id_commande .
                                      '_' .
                                      $commande->id_users .
                                      '" data-toggle="modal" data-target="#edit-seconde_paire_omega"><i class="zmdi zmdi-edit"></i> seconde paire Omega</a>';
                        }

                    }

                    $data['aaData'][$compteur] =
                        array(
                            $infos,
                            $detail,
                            $commande->commande,
                            '<a href="/static/xml/' .
                            $commande->filename .
                            '" target="_blank">' .
                            $commande->filename .
                            '</a><br><br>Date: <br>' .
                            $commande->date_omega,
                        );

                    $compteur++;
                }
            }
            die(json_encode($data));
        } else {
            $this->redirect("/index");
        }
    }

    public
    function edi_omega_ajax()
    {
        if ($this->input->is_ajax_request()) {
            $data = array();
            $data['aaData'] =
                array();

            $data_commande =
                $this->m_commande->getAllCommandeEdiOmega();
            $compteur = 0;
            if ($data_commande !==
                false) {
                foreach ($data_commande
                         as
                         $key
                => $commande)
                {
                    //var_dump($commande);
                    $detail =
                    $textarea =
                        "";

                    if ($commande->origine_commande ==
                        '2') {
                        $detail .= "<b>Commande Stock Déporté</b><br>";
                    } else {
                        $detail .= "<b>Commande Fabrication</b><br>";
                    }

                    if ($commande->panierA ==
                        '1') {
                        $detail .= "<br><b>Panier A</b>";
                    }

                    $detail .= "<br>Nom du verre: <b>" .
                               $commande->trad_fr .
                               "</b>";
                    $detail .= "<br>Indice: " .
                               $commande->indice_verre .
                               '';

                    if ($commande->premiere_commande !=
                        '0') {
                        $textarea .= "SECOND PAIR, First Pair Optieyes reference: " .
                                     $commande->premiere_commande .
                                     "-" .
                                     $commande->id_users .
                                     "<br>";
                    }

                    if ($commande->tarif_express !=
                        '0') {
                        $textarea .= "<br>EXPRESS<br>";
                    }

                    $textarea .= "Optieyes reference: " .
                                 $commande->id_commande .
                                 "-" .
                                 $commande->id_users;
                    $textarea .= "<br><br>Lens Code: " .
                                 $commande->lenscode;
                    $textarea .= "<br>Lens Name: " .
                                 $commande->lensname;

                    $textarea .= "<br><br>Optical Index: " .
                                 $commande->indice_verre;


                    $information_commande =
                        json_decode($commande->information_commande);
                    //var_dump($information_commande);
                    if (isset($information_commande->verre->correction_droit)) {
                        $detail .= "<br><br><b>OD :</b>";
                        $detail .= " " .
                                   $information_commande->verre->correction_droit->sphere .
                                   " ";
                        $detail .= "(" .
                                   $information_commande->verre->correction_droit->cylindre .
                                   ")";
                        if ($information_commande->verre->correction_droit->axe !=
                            "0.00") {
                            $detail .= " " .
                                       $information_commande->verre->correction_droit->axe .
                                       "°";
                        }

                        if (isset($information_commande->verre->correction_droit->addition) &&
                            $information_commande->verre->correction_droit->addition !=
                            "0.00" &&
                            $commande->id_generation_verre !=
                            34) {
                            $detail .= " ADD " .
                                       $information_commande->verre->correction_droit->addition .
                                       "";
                        }

                        if (isset($information_commande->verre->correction_droit->addition) &&
                            $information_commande->verre->correction_droit->addition !=
                            "0.00" &&
                            $commande->id_generation_verre ==
                            34) {
                            $detail .= " DEG " .
                                       $information_commande->verre->correction_droit->addition .
                                       "";
                        }

                        if (isset($information_commande->verre->correction_droit->PrismeSphere) &&
                            !empty($information_commande->verre->correction_droit->PrismeSphere)) {
                            $detail .= " " .
                                       $information_commande->verre->correction_droit->PrismeSphere .
                                       "Δ";

                        }
                        if (isset($information_commande->verre->correction_droit->PrismeCylindre) &&
                            !empty($information_commande->verre->correction_droit->PrismeCylindre)) {
                            $detail .= " base " .
                                       $information_commande->verre->correction_droit->PrismeCylindre .
                                       "°";

                        }

                        if (isset($information_commande->verre->correction_droit->galbe)) {
                            $detail .= " Galbe: " .
                                       $information_commande->verre->correction_droit->galbe .
                                       " ";
                        }

                        if (isset($information_commande->verre->correction_droit->traitement) &&
                            !empty($information_commande->verre->correction_droit->traitement)) {
                            $traitementD =
                                $this->m_commande->getTraitementByCode($information_commande->verre->correction_droit->traitement);
                            $detail .= "<br>Traitement: " .
                                       $traitementD .
                                       "";
                        }
                        if (isset($information_commande->verre->correction_droit->teinte)) {
                            $teinteD =
                                $this->m_commande->getTeinteEnById($information_commande->verre->correction_droit->teinte);
                            if ($teinteD !=
                                "") {
                                $detail .= "<br>Teinte: <b>" .
                                           $teinteD .
                                           "</b>";
                            } else {
                                if ($information_commande->verre->correction_droit->teinte !=
                                    "") {
                                    $detail .= "<br>Teinte personnalisée: <b>" .
                                               $information_commande->verre->correction_droit->teinte .
                                               "</b>";
                                }
                            }
                        }
                        if (isset($information_commande->verre->correction_droit->diametre) &&
                            !empty($information_commande->verre->correction_droit->diametre)) {
                            $detail .= "<br>Diametre: " .
                                       $information_commande->verre->correction_droit->diametre .
                                       "";

                        }

                        $textarea .= "<br><br>OD :";
                        $textarea .= "  " .
                                     $information_commande->verre->correction_droit->sphere;
                        $textarea .= " ( " .
                                     $information_commande->verre->correction_droit->cylindre .
                                     ")";
                        if ($information_commande->verre->correction_droit->axe !=
                            "0.00") {
                            $textarea .= "  " .
                                         $information_commande->verre->correction_droit->axe .
                                         "°";
                        }

                        if (isset($information_commande->verre->correction_droit->addition) &&
                            $information_commande->verre->correction_droit->addition !=
                            "0.00" &&
                            $commande->id_generation_verre !=
                            34) {
                            $textarea .= " ADD  " .
                                         $information_commande->verre->correction_droit->addition;
                        }

                        if (isset($information_commande->verre->correction_droit->addition) &&
                            $information_commande->verre->correction_droit->addition !=
                            "0.00" &&
                            $commande->id_generation_verre ==
                            34) {
                            $textarea .= " DEG  " .
                                         $information_commande->verre->correction_droit->addition;
                        }


                        if (isset($information_commande->verre->correction_droit->PrismeSphere) &&
                            !empty($information_commande->verre->correction_droit->PrismeSphere)) {

                            $textarea .= "  " .
                                         $information_commande->verre->correction_droit->PrismeSphere .
                                         "Δ";
                        }
                        if (isset($information_commande->verre->correction_droit->PrismeCylindre) &&
                            !empty($information_commande->verre->correction_droit->PrismeCylindre)) {

                            $textarea .= " base " .
                                         $information_commande->verre->correction_droit->PrismeCylindre .
                                         "°";
                        }

                        if (isset($information_commande->verre->correction_droit->galbe)) {
                            $textarea .= " Galbe: " .
                                         $information_commande->verre->correction_droit->galbe .
                                         " ";
                        }
                        if (isset($information_commande->verre->correction_droit->traitement) &&
                            !empty($information_commande->verre->correction_droit->traitement) &&
                            ($information_commande->verre->correction_droit->traitement !=
                             '700100' ||
                             (($information_commande->verre->correction_droit->traitement ==
                               '700100') &&
                              ((strpos($commande->lensname,
                                       '1.5') === false) ||
                               (strpos($commande->lensname,
                                       '1.53') !== false) ||
                               (strpos($commande->lensname,
                                       '1.56') !== false) ||
                               (strpos($commande->lensname,
                                       '1.59') !== false))
                             ))) {
                            if ($traitementD !=
                                "") {
                                $textarea .= "<br>Coating code: " .
                                             $information_commande->verre->correction_droit->traitement .
                                             "(" .
                                             $this->m_commande->getTraitementNameByCode($information_commande->verre->correction_droit->traitement) .
                                             ")";
                            }
                        }

                        if (isset($information_commande->verre->correction_droit->teinte)) {
                            if ($teinteD !=
                                "") {
                                $textarea .= "<br>Tint: " .
                                             $this->m_commande->getTeinteEnById($information_commande->verre->correction_droit->teinte);
                            } else {
                                if ($information_commande->verre->correction_droit->teinte !=
                                    "") {
                                    $textarea .= "<br>Custom Tint: " .
                                                 $information_commande->verre->correction_droit->teinte;
                                }
                            }
                        }

                        if (isset($information_commande->verre->correction_droit->diametre) &&
                            !empty($information_commande->verre->correction_droit->diametre) &&
                            $information_commande->verre->correction_droit->diametre !=
                            "precalibrage") {
                            $textarea .= "<br>Diameter physical: " .
                                         $information_commande->verre->correction_droit->diametre;
                        }


                    }

                    if (isset($information_commande->verre->correction_gauche)) {
                        $detail .= "<br><br><b>OG :</b>";
                        $detail .= " " .
                                   $information_commande->verre->correction_gauche->sphere .
                                   "";
                        $detail .= " (" .
                                   $information_commande->verre->correction_gauche->cylindre .
                                   ")";
                        if ($information_commande->verre->correction_gauche->axe !=
                            "0.00") {
                            $detail .= "  " .
                                       $information_commande->verre->correction_gauche->axe .
                                       "°";
                        }
                        if (isset($information_commande->verre->correction_gauche->addition) &&
                            $information_commande->verre->correction_gauche->addition !=
                            "0.00" &&
                            $commande->id_generation_verre !=
                            34) {
                            $detail .= " ADD  " .
                                       $information_commande->verre->correction_gauche->addition .
                                       "";
                        }

                        if (isset($information_commande->verre->correction_gauche->addition) &&
                            $information_commande->verre->correction_gauche->addition !=
                            "0.00" &&
                            $commande->id_generation_verre ==
                            34) {
                            $detail .= " DEG  " .
                                       $information_commande->verre->correction_gauche->addition .
                                       "";
                        }


                        if (isset($information_commande->verre->correction_gauche->PrismeSphere) &&
                            !empty($information_commande->verre->correction_gauche->PrismeSphere)) {
                            $detail .= " " .
                                       $information_commande->verre->correction_gauche->PrismeSphere .
                                       "Δ";
                        }
                        if (isset($information_commande->verre->correction_gauche->PrismeCylindre) &&
                            !empty($information_commande->verre->correction_gauche->PrismeCylindre)) {
                            $detail .= " base  " .
                                       $information_commande->verre->correction_gauche->PrismeCylindre .
                                       "°";
                        }

                        if (isset($information_commande->verre->correction_gauche->galbe)) {
                            $detail .= " Galbe: " .
                                       $information_commande->verre->correction_gauche->galbe .
                                       " ";
                        }
                        if (isset($information_commande->verre->correction_gauche->traitement) &&
                            !empty($information_commande->verre->correction_gauche->traitement)) {

                            $traitementG =
                                $this->m_commande->getTraitementByCode($information_commande->verre->correction_gauche->traitement);
                            $detail .= "<br>Traitement: " .
                                       $traitementG .
                                       "";
                        }

                        if (isset($information_commande->verre->correction_gauche->teinte)) {
                            $teinteG =
                                $this->m_commande->getTeinteEnById($information_commande->verre->correction_gauche->teinte);
                            if ($teinteG !=
                                "") {
                                $detail .= "<br>Teinte: <b>" .
                                           $teinteG .
                                           "</b>";
                            } else {
                                if ($information_commande->verre->correction_gauche->teinte !=
                                    "") {
                                    $detail .= "<br>Teinte personnalisée: <b>" .
                                               $information_commande->verre->correction_gauche->teinte .
                                               "</b>";
                                }
                            }
                        }
                        $detail .= "<br>Diametre: " .
                                   $information_commande->verre->correction_gauche->diametre .
                                   "";

                        $textarea .= "<br><br>OG:";
                        $textarea .= "  " .
                                     $information_commande->verre->correction_gauche->sphere;
                        $textarea .= " (" .
                                     $information_commande->verre->correction_gauche->cylindre .
                                     ")";
                        if ($information_commande->verre->correction_gauche->axe !=
                            "0.00") {
                            $textarea .= "  " .
                                         $information_commande->verre->correction_gauche->axe .
                                         "°";
                        }

                        if (isset($information_commande->verre->correction_gauche->addition) &&
                            $information_commande->verre->correction_gauche->addition !=
                            "0.00" &&
                            $commande->id_generation_verre !=
                            34) {
                            $textarea .= " ADD  " .
                                         $information_commande->verre->correction_gauche->addition;
                        }
                        if (isset($information_commande->verre->correction_gauche->addition) &&
                            $information_commande->verre->correction_gauche->addition !=
                            "0.00" &&
                            $commande->id_generation_verre ==
                            34) {
                            $textarea .= " DEG  " .
                                         $information_commande->verre->correction_gauche->addition;
                        }


                        if (isset($information_commande->verre->correction_gauche->PrismeSphere) &&
                            !empty($information_commande->verre->correction_gauche->PrismeSphere)) {
                            $textarea .= " " .
                                         $information_commande->verre->correction_gauche->PrismeSphere .
                                         "Δ";
                        }
                        if (isset($information_commande->verre->correction_gauche->PrismeSphere) &&
                            !empty($information_commande->verre->correction_gauche->PrismeSphere)) {
                            $textarea .= " base  " .
                                         $information_commande->verre->correction_gauche->PrismeSphere .
                                         "°";
                        }

                        if (isset($information_commande->verre->correction_gauche->galbe)) {
                            $textarea .= " Galbe: " .
                                         $information_commande->verre->correction_gauche->galbe .
                                         " ";
                        }
                        if (isset($information_commande->verre->correction_gauche->traitement) &&
                            !empty($information_commande->verre->correction_gauche->traitement) &&
                            ($information_commande->verre->correction_gauche->traitement !=
                             '700100' ||
                             (($information_commande->verre->correction_gauche->traitement ==
                               '700100') &&
                              ((strpos($commande->lensname,
                                       '1.5') === false) ||
                               (strpos($commande->lensname,
                                       '1.53') !== false) ||
                               (strpos($commande->lensname,
                                       '1.56') !== false) ||
                               (strpos($commande->lensname,
                                       '1.59') !== false))
                             ))) {
                            $textarea .= "<br>Coating code: " .
                                         $information_commande->verre->correction_gauche->traitement .
                                         "(" .
                                         $this->m_commande->getTraitementNameByCode($information_commande->verre->correction_gauche->traitement) .
                                         ")";
                        }
                        if (isset($information_commande->verre->correction_gauche->teinte)) {
                            if ($teinteG !=
                                "") {
                                $textarea .= "<br>Tint: " .
                                             $this->m_commande->getTeinteEnById($information_commande->verre->correction_gauche->teinte);
                            } else {
                                if ($information_commande->verre->correction_gauche->teinte !=
                                    "") {
                                    $textarea .= "<br>Custom Tint: " .
                                                 $information_commande->verre->correction_gauche->teinte;
                                }
                            }
                        }

                        if (isset($information_commande->verre->correction_gauche->diametre) &&
                            !empty($information_commande->verre->correction_gauche->diametre) &&
                            $information_commande->verre->correction_gauche->diametre !=
                            "precalibrage") {
                            $textarea .= "<br>Diameter physical: " .
                                         $information_commande->verre->correction_gauche->diametre;
                        }

                    }

                    $precal =
                        0;

                    if ((isset($information_commande->verre->correction_droit) &&
                         $information_commande->verre->correction_droit->diametre ==
                         'precalibrage') ||
                        (isset($information_commande->verre->correction_gauche) &&
                         $information_commande->verre->correction_gauche->diametre ==
                         'precalibrage')) {
                        $precal =
                            1;
                        $detail .= '<br><br><b>Précalibrage:</b> <br>';

                        if (isset($information_commande->precalibrage)) {
                            $detail .= '<br><img src="/static/img/calibre/' .
                                       $information_commande->precalibrage->calibre .
                                       '.jpg" width="150" heigth="70" /><br>';
                        }

                        $mesure_freeform_opt =
                            "";

                        $mesure_freeform_opt .= isset($information_commande->mesure_freeform->largeur_boxing) ?
                            'Largeur boxing : ' .
                            $information_commande->mesure_freeform->largeur_boxing .
                            ', ' :
                            '';
                        $mesure_freeform_opt .= isset($information_commande->mesure_freeform->hauteur_boxing) ?
                            'Hauteur boxing : ' .
                            $information_commande->mesure_freeform->hauteur_boxing .
                            ', ' :
                            '';
                        $mesure_freeform_opt .= isset($information_commande->mesure_freeform->taille_du_pont) ?
                            'Taille du pont : ' .
                            $information_commande->mesure_freeform->taille_du_pont .
                            ', ' :
                            '';
                        $mesure_freeform_opt .= isset($information_commande->mesure_freeform->diametre_utile) ?
                            'Diametre utile : ' .
                            $information_commande->mesure_freeform->diametre_utile .
                            '<br>' :
                            '';

                        if (!empty($mesure_freeform_opt)) {
                            $detail .= '<b>Mesure freeform:</b> <br> - ';
                            $detail .= $mesure_freeform_opt;
                        }

                        if (isset($information_commande->monture->type)) {
                            $detail .= 'Type monture: ' .
                                       $information_commande->monture->type .
                                       '<br>';
                        }

                        if (isset($information_commande->bord_verre->epaisseur) &&
                            !empty($information_commande->bord_verre->epaisseur)) {
                            $detail .= 'EP au bord minimum: ' .
                                       $information_commande->bord_verre->epaisseur .
                                       '<br>';
                        }

                        if (isset($information_commande->mesure_freeform->ecart_puppillaire_droit) &&
                            !empty($information_commande->mesure_freeform->ecart_puppillaire_droit)) {
                            $detail .= 'Ecart puppillaire droit: ' .
                                       $information_commande->mesure_freeform->ecart_puppillaire_droit .
                                       '<br>';
                        }

                        if (isset($information_commande->mesure_freeform->ecart_puppillaire_gauche) &&
                            !empty($information_commande->mesure_freeform->ecart_puppillaire_gauche)) {
                            $detail .= 'Ecart puppillaire gauche: ' .
                                       $information_commande->mesure_freeform->ecart_puppillaire_gauche .
                                       '<br>';
                        }

                        if (isset($information_commande->mesure_freeform->hauteur) &&
                            !empty($information_commande->mesure_freeform->hauteur)) {
                            $detail .= 'Hauteur de montage droit: ' .
                                       $information_commande->mesure_freeform->hauteur .
                                       '<br>';
                        }

                        if (isset($information_commande->mesure_freeform->hauteur_gauche) &&
                            !empty($information_commande->mesure_freeform->hauteur_gauche)) {
                            $detail .= 'Hauteur de montage gauche: ' .
                                       $information_commande->mesure_freeform->hauteur_gauche .
                                       '<br>';
                        }


                        $textarea .= "<br><br>Form Data:";

                        if (isset($information_commande->mesure_freeform->ecart_puppillaire_droit) &&
                            !empty($information_commande->mesure_freeform->ecart_puppillaire_droit)) {
                            $textarea .= "<br>PD right: " .
                                         $information_commande->mesure_freeform->ecart_puppillaire_droit;
                        }
                        if (isset($information_commande->mesure_freeform->hauteur) &&
                            !empty($information_commande->mesure_freeform->hauteur)) {
                            $textarea .= "<br>Height right: " .
                                         $information_commande->mesure_freeform->hauteur;
                        }

                        if (isset($information_commande->mesure_freeform->ecart_puppillaire_gauche) &&
                            !empty($information_commande->mesure_freeform->ecart_puppillaire_gauche)) {
                            $textarea .= "<br>PD left: " .
                                         $information_commande->mesure_freeform->ecart_puppillaire_gauche;
                        }
                        if (isset($information_commande->mesure_freeform->hauteur_gauche) &&
                            !empty($information_commande->mesure_freeform->hauteur_gauche)) {
                            $textarea .= "<br>Height left: " .
                                         $information_commande->mesure_freeform->hauteur_gauche;
                        }

                        if (isset($information_commande->bord_verre->epaisseur) &&
                            !empty($information_commande->bord_verre->epaisseur)) {
                            $textarea .= "<br>Minimal edge thickn.: " .
                                         $information_commande->bord_verre->epaisseur;
                        }

                        if (isset($information_commande->mesure_freeform->taille_du_pont) &&
                            !empty($information_commande->mesure_freeform->taille_du_pont)) {
                            $textarea .= "<br>DBL: " .
                                         $information_commande->mesure_freeform->taille_du_pont;
                        }

                        if (isset($information_commande->mesure_freeform->largeur_boxing) &&
                            !empty($information_commande->mesure_freeform->largeur_boxing)) {
                            $textarea .= "<br>Boxing width: " .
                                         $information_commande->mesure_freeform->largeur_boxing;
                        }

                        if (isset($information_commande->mesure_freeform->hauteur_boxing) &&
                            !empty($information_commande->mesure_freeform->hauteur_boxing)) {
                            $textarea .= "<br>Boxing height: " .
                                         $information_commande->mesure_freeform->hauteur_boxing;
                        }

                        if (isset($information_commande->mesure_freeform->diametre_utile) &&
                            !empty($information_commande->mesure_freeform->diametre_utile)) {
                            $textarea .= "<br>Diameter: " .
                                         $information_commande->mesure_freeform->diametre_utile;
                        }

                        if (isset($information_commande->monture->type) &&
                            !empty($information_commande->monture->type)) {
                            $textarea .= "<br>Frame Type: " .
                                         $information_commande->monture->type;
                        }

                        if (isset($information_commande->precalibrage->calibre) &&
                            !empty($information_commande->precalibrage->calibre)) {
                            $textarea .= "<br>Form: <img src='http://optieyescommande.com/static/img/calibre/" .
                                         $information_commande->precalibrage->calibre .
                                         ".jpg' width='150' heigth='70' /><br>";
                        }


                    }

                    $xml = '<?xml version="1.0" encoding="UTF-8" ?>
<b2bOptic>
   <header msgType="ORDER" msgState="NEW">
      <customersOrderId>48860</customersOrderId>
      <distributorsOrderId />
      <timeStamps>
         <dateTime step="CREATE">' .
                           date("Y-m-d\TH:i:sO") . '</dateTime> 
      </timeStamps>
      <orderParties role="ORIGINATOR">
         <id>48860</id>
      </orderParties>
      <software typeOf="ORIGINATOR">
         <name>OmegaDirect</name>
         <version>1.3</version>
      </software>
      <productCatalog>
      <name>sf6</name>
      <release />
      </productCatalog>
      <portalOrderId />
   </header>
   <items>
      <item>';

                    $remark =
                        '';

                    if (isset($information_commande->verre->correction_droit->teinte) &&
                        !empty($information_commande->verre->correction_droit->teinte)) {
                        if ($teinteD ==
                            "") {
                            $remark .= 'Right tint: ' .
                                       $information_commande->verre->correction_droit->teinte .
                                       '.';
                        }
                        if (strpos($information_commande->verre->correction_droit->teinte,
                                   'CUST_') !==
                            false) {
                            if ($information_commande->verre->correction_droit->teinte == 'CUST_24') {
                                $remark .= 'Right tint: Sample color send by mail.';
                            }
                            else  if (isset($teinteD)) {
                                $remark .= 'Right tint: ' . $teinteD . '.';
                            }
                        }
                    }
                    if (isset($information_commande->verre->correction_gauche->teinte) &&
                        !empty($information_commande->verre->correction_gauche->teinte)) {
                        if ($teinteG ==
                            "") {
                            $remark .= ' Left tint: ' .
                                       $information_commande->verre->correction_gauche->teinte .
                                       '.';
                        }
                        if (strpos($information_commande->verre->correction_gauche->teinte,
                                   'CUST_') !==
                            false) {
                            if ($information_commande->verre->correction_gauche->teinte == 'CUST_24') {
                                $remark .= ' Left tint: Sample color send by mail.';
                            }
                            else  if (isset($teinteG)) {
                                $remark .= ' Left tint: ' . $teinteG . '.';
                            }
                        }
                    }

                    $lenses_code =
                        $commande->lenscode;

//                    if ($lenses_code ==
//                        'PAI-1515') {
//                        $remark .= " Change to product INITIAL ";
//                    }
//                    if ($lenses_code ==
//                        'PAI-1615') {
//                        $remark .= " Change to product INITIAL ";
//                    }
//                    if ($lenses_code ==
//                        'PAI-1715') {
//                        $remark .= " Change to product INITIAL ";
//                    }
//                    if ($lenses_code ==
//                        'PAI-1815') {
//                        $remark .= " Change to product INITIAL ";
//                    }


//                    if ($lenses_code ==
//                        'PAI-15159') {
//                        $remark .= " Change to product INITIAL ";
//                    }
//                    if ($lenses_code ==
//                        'PAI-16159') {
//                        $remark .= " Change to product INITIAL ";
//                    }
//                    if ($lenses_code ==
//                        'PAI-17159') {
//                        $remark .= " Change to product INITIAL ";
//                    }
//                    if ($lenses_code ==
//                        'PAI-18159') {
//                        $remark .= " Change to product INITIAL ";
//                    }


//                    if ($lenses_code ==
//                        'PAI-1516') {
//                        $remark .= " Change to product INITIAL ";
//                    }
//                    if ($lenses_code ==
//                        'PAI-1616') {
//                        $remark .= " Change to product INITIAL ";
//                    }
//                    if ($lenses_code ==
//                        'PAI-1716') {
//                        $remark .= " Change to product INITIAL ";
//                    }
//                    if ($lenses_code ==
//                        'PAI-1816') {
//                        $remark .= " Change to product INITIAL ";
//                    }


//                    if ($lenses_code ==
//                        'PAI-15167') {
//                        $remark .= " Change to product INITIAL ";
//                    }
//                    if ($lenses_code ==
//                        'PAI-16167') {
//                        $remark .= " Change to product INITIAL ";
//                    }
//                    if ($lenses_code ==
//                        'PAI-17167') {
//                        $remark .= " Change to product INITIAL ";
//                    }
//                    if ($lenses_code ==
//                        'PAI-18167') {
//                        $remark .= " Change to product INITIAL ";
//                    }


//                    if ($lenses_code ==
//                        'PAI-15174') {
//                        $remark .= " Change to product INITIAL ";
//                    }
//                    if ($lenses_code ==
//                        'PAI-16174') {
//                        $remark .= " Change to product INITIAL ";
//                    }
//                    if ($lenses_code ==
//                        'PAI-17174') {
//                        $remark .= " Change to product INITIAL ";
//                    }
//                    if ($lenses_code ==
//                        'PAI-18174') {
//                        $remark .= " Change to product INITIAL ";
//                    }

                    if ($remark !=
                        '') {
                        $xml .= '
         <remark>' . $remark . '</remark>
         ';
                    }

                    $xml .= '
         <referenceNo>' .
                            $commande->id_commande .
                            '-' .
                            $commande->id_users . '</referenceNo>
         <manufacturer />';

                    if ($commande->premiere_commande !=
                        '0') {
                        $xml .= '
         <secondPair>true</secondPair>
		 <multiplePair>
			<referenceNo>' .
                                $commande->premiere_commande . "-" .
                                                             $commande->id_users . '</referenceNo>
		 </multiplePair>';
                    }

                    $lenses_code =
                        $commande->lenscode;

                    $paA = "";

                    if ($lenses_code ==
                        'PAU-15') {
                        $lenses_code =
                            '200010';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAU-159') {
                        $lenses_code =
                            '200051';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAU-16') {
                        $lenses_code =
                            '200005';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAU-167') {
                        $lenses_code =
                            '200003';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAU-174') {
                        $lenses_code =
                            '200464';
                        $paA =
                            "1";
                    }

                    if ($lenses_code ==
                        'PAD-15') {
                        $lenses_code =
                            '200076';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAD-159') {
                        $lenses_code =
                            '200086';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAD-16') {
                        $lenses_code =
                            '200078';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAD-167') {
                        $lenses_code =
                            '200913';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAD-174') {
                        $lenses_code =
                            '200853';
                        $paA =
                            "1";
                    }


                    if ($lenses_code ==
                        'PAO-15') {
                        $lenses_code =
                            '202954';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAO-159') {
                        $lenses_code =
                            '202980';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAO-16') {
                        $lenses_code =
                            '202955';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAO-167') {
                        $lenses_code =
                            '202956';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAO-174') {
                        $lenses_code =
                            '202981';
                        $paA =
                            "1";
                    }

                    if ($lenses_code ==
                        'PAI-1515') {
                        $lenses_code =
                            'S4UW50';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAI-1615') {
                        $lenses_code =
                            'S3UW50';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAI-1715') {
                        $lenses_code =
                            'S2UW50';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAI-1815') {
                        $lenses_code =
                            'S1UW50';
                        $paA =
                            "1";
                    }


                    if ($lenses_code ==
                        'PAI-15159') {
                        $lenses_code =
                            'S4UY59';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAI-16159') {
                        $lenses_code =
                            'S3UY59';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAI-17159') {
                        $lenses_code =
                            'S2UY59';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAI-18159') {
                        $lenses_code =
                            'S1UY59';
                        $paA =
                            "1";
                    }


                    if ($lenses_code ==
                        'PAI-1516') {
                        $lenses_code =
                            'S4UH60';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAI-1616') {
                        $lenses_code =
                            'S3UH60';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAI-1716') {
                        $lenses_code =
                            'S2UH60';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAI-1816') {
                        $lenses_code =
                            'S1UH60';
                        $paA =
                            "1";
                    }


                    if ($lenses_code ==
                        'PAI-15167') {
                        $lenses_code =
                            'S4UH67';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAI-16167') {
                        $lenses_code =
                            'S3UH67';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAI-17167') {
                        $lenses_code =
                            'S2UH67';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAI-18167') {
                        $lenses_code =
                            'S1UH67';
                        $paA =
                            "1";
                    }


                    if ($lenses_code ==
                        'PAI-15174') {
                        $lenses_code =
                            'S4UH74';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAI-16174') {
                        $lenses_code =
                            'S3UH74';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAI-17174') {
                        $lenses_code =
                            'S2UH74';
                        $paA =
                            "1";
                    }
                    if ($lenses_code ==
                        'PAI-18174') {
                        $lenses_code =
                            'S1UH74';
                        $paA =
                            "1";
                    }

                    $xml .= '
      	<pair>
         ';

                    if (isset($information_commande->verre->correction_droit)) {
                        $xml .= '<lens quantity="1" side="RIGHT">
               <commercialCode>' .
                                $lenses_code . '</commercialCode>
               <rxData>
                  <sphere>' .
                                $information_commande->verre->correction_droit->sphere . '</sphere>
                  <cylinder>
                      <power>' .
                                $information_commande->verre->correction_droit->cylindre . '</power>
                      <axis>' .
                                $information_commande->verre->correction_droit->axe . '</axis>
                  </cylinder>';
                        if (isset($information_commande->verre->correction_droit->addition)) {
                            $xml .= '<addition>' .
                                    $information_commande->verre->correction_droit->addition . '</addition>
						  ';
                        }
                        if (isset($information_commande->verre->correction_droit->PrismeSphere) &&
                            !empty($information_commande->verre->correction_droit->PrismeSphere)) {
                            $xml .= '<prism>
						 <power>' .
                                    $information_commande->verre->correction_droit->PrismeSphere . '</power>
						 <base>' .
                                    $information_commande->verre->correction_droit->PrismeCylindre . '</base>
					  </prism>';
                        }
                        $xml .= '</rxData>';

                        if ((isset($information_commande->verre->correction_droit->traitement) &&
                             !empty($information_commande->verre->correction_droit->traitement) &&
                             ($information_commande->verre->correction_droit->traitement !=
                              '700100' ||
                              (($information_commande->verre->correction_droit->traitement ==
                                '700100') &&
                               ((strpos($commande->lensname,
                                        '1.5') === false) ||
                                (strpos($commande->lensname,
                                        '1.53') !== false) ||
                                (strpos($commande->lensname,
                                        '1.56') !== false) ||
                                (strpos($commande->lensname,
                                        '1.59') !== false))
                              ))) ||
                            $paA ==
                            "1") {

                            if ($paA ==
                                "1") {
                                $information_commande->verre->correction_droit->traitement =
                                    "700102";
                            }

                            $xml .= '
					   <coating coatingType="ANTIREFLEX">
						  <commercialCode>' .
                                    $information_commande->verre->correction_droit->traitement . '</commercialCode>
					   </coating>';

                        }

                        if (isset($information_commande->verre->correction_droit->teinte) &&
                            !empty($information_commande->verre->correction_droit->teinte)) {
                            if ($teinteD !=
                                "" &&
                                strpos($information_commande->verre->correction_droit->teinte,
                                       'CUST_') ===
                                false) {
                                $xml .= '
						   <coating coatingType="COLOR">
							  <commercialCode>' .
                                        $information_commande->verre->correction_droit->teinte . '</commercialCode>
						   </coating>';
                            }
                        }

                        if ($commande->tarif_express !=
                            "0") {
                            $xml .= '<coating coatingType="OTHER">
					<commercialCode>EXP24</commercialCode>
					</coating>';
                        }

                        if (isset($information_commande->mesure_freeform->diametre_utile) &&
                            $information_commande->verre->correction_droit->diametre ==
                            'precalibrage') {
                            $information_commande->verre->correction_droit->diametre =
                                $information_commande->mesure_freeform->diametre_utile;
                        }

                        if (isset($information_commande->verre->hauteur) &&
                            !empty($information_commande->verre->hauteur)) {
                            $hauteurD =
                                $information_commande->verre->hauteur;
                        }

                        if (isset($information_commande->verre->hauteur_gauche) &&
                            !empty($information_commande->verre->hauteur_gauche)) {
                            $hauteurG =
                                $information_commande->verre->hauteur_gauche;
                        }


                        $xml .= '
               <centration>';

                        if (isset($information_commande->verre->ecart_puppillaire->droit) &&
                            !empty($information_commande->verre->ecart_puppillaire->droit)) {
                            $xml .= '
					  <monocularCentrationDistance reference="FAR">' .
                                    $information_commande->verre->ecart_puppillaire->droit .
                                    '</monocularCentrationDistance>';
                        }

                        if (isset($information_commande->verre->hauteur) &&
                            !empty($information_commande->verre->hauteur)) {
                            $xml .= '
					  <height reference="NEAR" referenceHeight="OVERBOX">' .
                                    $information_commande->verre->hauteur .
                                    '</height>';
                        }

                        $xml .= '
               </centration>';


                        if (strpos($information_commande->verre->correction_droit->diametre,
                                   "/") !==
                            false) {
                            $d1 =
                                explode("/",
                                        $information_commande->verre->correction_droit->diametre);
                            $xml .= '
               <geometry>
                  <diameter>
                     <physical>' .
                                    $d1[0] . '</physical>
                     <optical>' .
                                    $d1[1] . '</optical>
                     <elliptic>false</elliptic>
                  </diameter>';
                        } else {
                            $xml .= '
				   <geometry>';
                            if ($information_commande->verre->correction_droit->diametre !=
                                "precalibrage") {
                                $xml .= '
						  <diameter>
							 <physical>' .
                                        $information_commande->verre->correction_droit->diametre . '</physical>
							 <elliptic>false</elliptic>
						  </diameter>';
                            }
                        }

                        if (isset($information_commande->bord_verre->epaisseur) &&
                            !empty($information_commande->bord_verre->epaisseur)) {
                            $xml .= '
			    	<thickness reference="EDGE">' .
                                    $information_commande->bord_verre->epaisseur .
                                    '</thickness>';
                        }

                        if (isset($information_commande->verre->ecart_puppillaire->droit) &&
                            !empty($information_commande->verre->ecart_puppillaire->droit)) {
                            $xml .= '
                  <thicknessReduction>true</thicknessReduction>';
                        } else {
                            $xml .= '
                  <thicknessReduction>false</thicknessReduction>';
                        }
                        $xml .= '
               </geometry>
            </lens>
            ';
                    }

                    if (isset($information_commande->verre->correction_gauche)) {
                        $xml .= '<lens quantity="1" side="LEFT">
               <commercialCode>' .
                                $lenses_code . '</commercialCode>
               <rxData>
                  <sphere>' .
                                $information_commande->verre->correction_gauche->sphere . '</sphere>
                  <cylinder>
                      <power>' .
                                $information_commande->verre->correction_gauche->cylindre . '</power>
                      <axis>' .
                                $information_commande->verre->correction_gauche->axe . '</axis>
                  </cylinder>';
                        if (isset($information_commande->verre->correction_gauche->addition)) {
                            $xml .= '<addition>' .
                                    $information_commande->verre->correction_gauche->addition . '</addition>
						  ';
                        }

                        if (isset($information_commande->verre->correction_gauche->PrismeSphere) &&
                            !empty($information_commande->verre->correction_gauche->PrismeSphere)) {
                            $xml .= '<prism>
						 <power>' .
                                    $information_commande->verre->correction_gauche->PrismeSphere . '</power>
						 <base>' .
                                    $information_commande->verre->correction_gauche->PrismeCylindre . '</base>
					  </prism>';
                        }

                        $xml .= '</rxData>';

                        if ((isset($information_commande->verre->correction_gauche->traitement) &&
                             !empty($information_commande->verre->correction_gauche->traitement) &&
                             ($information_commande->verre->correction_gauche->traitement !=
                              '700100' ||
                              (($information_commande->verre->correction_gauche->traitement ==
                                '700100') &&
                               ((strpos($commande->lensname,
                                        '1.5') === false) ||
                                (strpos($commande->lensname,
                                        '1.53') !== false) ||
                                (strpos($commande->lensname,
                                        '1.56') !== false) ||
                                (strpos($commande->lensname,
                                        '1.59') !== false))
                              ))) ||
                            $paA ==
                            "1") {

                            if ($paA ==
                                "1") {
                                $information_commande->verre->correction_gauche->traitement =
                                    "700102";
                            }
                            $xml .= '
					   <coating coatingType="ANTIREFLEX">
						  <commercialCode>' .
                                    $information_commande->verre->correction_gauche->traitement . '</commercialCode>
					   </coating>';

                        }

                        if (isset($information_commande->verre->correction_gauche->teinte) &&
                            !empty($information_commande->verre->correction_gauche->teinte)) {
                            if ($teinteG !=
                                "" &&
                                strpos($information_commande->verre->correction_gauche->teinte,
                                       'CUST_') ===
                                false) {
                                $xml .= '
						   <coating coatingType="COLOR">
							  <commercialCode>' .
                                        $information_commande->verre->correction_gauche->teinte . '</commercialCode>
						   </coating>';
                            }
                        }

                        if ($commande->tarif_express !=
                            "0") {
                            $xml .= '<coating coatingType="OTHER">
					<commercialCode>EXP24</commercialCode>
					</coating>';
                        }


                        if (isset($information_commande->mesure_freeform->diametre_utile) &&
                            $information_commande->verre->correction_gauche->diametre ==
                            'precalibrage') {
                            $information_commande->verre->correction_gauche->diametre =
                                $information_commande->mesure_freeform->diametre_utile;
                        }


                        $xml .= '
               <centration>';

                        if (isset($information_commande->verre->ecart_puppillaire->gauche) &&
                            !empty($information_commande->verre->ecart_puppillaire->gauche)) {
                            $xml .= '
					  <monocularCentrationDistance reference="FAR">' .
                                    $information_commande->verre->ecart_puppillaire->gauche .
                                    '</monocularCentrationDistance>';
                        }

                        if (isset($information_commande->verre->hauteur_gauche) &&
                            !empty($information_commande->verre->hauteur_gauche)) {
                            $xml .= '
					  <height reference="NEAR" referenceHeight="OVERBOX">' .
                                    $information_commande->verre->hauteur_gauche .
                                    '</height>';
                        }

                        $xml .= '
               </centration>';


                        if (strpos($information_commande->verre->correction_gauche->diametre,
                                   "/") !==
                            false) {
                            $d1 =
                                explode("/",
                                        $information_commande->verre->correction_gauche->diametre);
                            $xml .= '
               <geometry>
                  <diameter>
                     <physical>' .
                                    $d1[0] . '</physical>
                     <optical>' .
                                    $d1[1] . '</optical>
                     <elliptic>false</elliptic>
                  </diameter>';
                        } else {
                            $xml .= '
				   <geometry>';
                            if ($information_commande->verre->correction_gauche->diametre !=
                                "precalibrage") {
                                $xml .= '
						  <diameter>
							 <physical>' .
                                        $information_commande->verre->correction_gauche->diametre . '</physical>
							 <elliptic>false</elliptic>
						  </diameter>';
                            }
                        }

                        if (isset($information_commande->bord_verre->epaisseur) &&
                            !empty($information_commande->bord_verre->epaisseur)) {
                            $xml .= '
			    	<thickness reference="EDGE">' .
                                    $information_commande->bord_verre->epaisseur .
                                    '</thickness>';
                        }

                        if (isset($information_commande->verre->ecart_puppillaire->gauche) &&
                            !empty($information_commande->verre->ecart_puppillaire->gauche)) {
                            $xml .= '
                  <thicknessReduction>true</thicknessReduction>';
                        } else {
                            $xml .= '
                  <thicknessReduction>false</thicknessReduction>';
                        }
                        $xml .= '
               </geometry>
            </lens>
            ';

                    }
                    $xml .= '
            	<frame quantity="1">';
                    if ((isset($information_commande->verre->correction_droit->galbe) &&
                         $information_commande->verre->correction_droit->galbe !=
                         "Standard") ||
                        (isset($information_commande->verre->correction_gauche->galbe) &&
                         $information_commande->verre->correction_gauche->galbe !=
                         "Standard")) {
                        if (isset($information_commande->verre->correction_droit->galbe) &&
                            $information_commande->verre->correction_droit->galbe !=
                            "Standard") {
                            $xml .= '
<frameBowAngle>' .
                                    $information_commande->verre->correction_droit->galbe .
                                    '</frameBowAngle>';
                        } else {
                            $xml .= '
<frameBowAngle>' .
                                    $information_commande->verre->correction_gauche->galbe .
                                    '</frameBowAngle>';
                        }
                    }

                    $edg = "";

                    if ($precal ==
                        '1') {

                        $calibre =
                        $DBL =
                        $boxWidth =
                        $monture_type =
                            "";

                        if (isset($information_commande->monture->type) &&
                            !empty($information_commande->monture->type)) {
                            if ($information_commande->monture->type ==
                                "Plastique") {
                                $monture_type =
                                    "PLASTIC";
                            }
                            if ($information_commande->monture->type ==
                                "Optyl") {
                                $monture_type =
                                    "OPTYL";
                            }
                            if ($information_commande->monture->type ==
                                "Metal") {
                                $monture_type =
                                    "METAL";
                            }
                            if ($information_commande->monture->type ==
                                "Nylor") {
                                $monture_type =
                                    "NYLOR";
                            }
                            if ($information_commande->monture->type ==
                                "Percee") {
                                $monture_type =
                                    "DRILLED";
                            }
                        }

                        if (isset($information_commande->mesure_freeform->largeur_boxing) &&
                            !empty($information_commande->mesure_freeform->largeur_boxing)) {
                            $boxWidth =
                                $information_commande->mesure_freeform->largeur_boxing;
                        }

                        if (isset($information_commande->mesure_freeform->hauteur_boxing) &&
                            !empty($information_commande->mesure_freeform->hauteur_boxing)) {
                            $boxHeight =
                                $information_commande->mesure_freeform->hauteur_boxing;
                        }

                        if (isset($information_commande->mesure_freeform->taille_du_pont) &&
                            !empty($information_commande->mesure_freeform->taille_du_pont)) {
                            $DBL =
                                $information_commande->mesure_freeform->taille_du_pont;
                        }

                        $calibre =
                            "";

                        if (isset($information_commande->precalibrage->calibre) &&
                            !empty($information_commande->precalibrage->calibre)) {

                            if ($information_commande->precalibrage->calibre ==
                                1) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">25302553257525982612261726202620261726122606260025842567255025272494246024272385234022952254222621982170214521262107209120972103210921142120212621402165219022152257230323482394244224902538257526092643267326892705271027052688267226552640262626122600260326062609261226152618262626432660267726892700271227202708268626642633258825432498244823962345230022692238220721842164214421302128212721252124212221212128214221562170219622222247227022902309232923362342234823482346234323402347235523642374239124082424244824762504</binaries>
						  </tracerData>
					   </shape>';
                            }
                            if ($information_commande->precalibrage->calibre ==
                                2) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">25612589261726452668268527022719271527072698269026732656263926252614260225912580256925582548254325372531253025302530253025302530253025332535253825422548255325592569258025912603261726312645266326832703272227362750276027572739272227052690267626622650264826472645264426422641264326522661266926802691270327112714271727182707270226962691268026692657264526312617260325912580256925582551254325352529252625232519251425082502249824962493249024872484248224772472246624602459245724562454245324512451246024682477249325152537</binaries>
						  </tracerData>
					   </shape>';
                            }

                            if ($information_commande->precalibrage->calibre ==
                                3) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">26002662272427862860295030403130319332533312335833813379336033243268321231563099304329872935289028452801276627352704267826712663265626492641263426352647265826692691271327362765280428432883292529673010304730693091311331203102308330653045302530062989298529802976297129672962296629802994300830253042305830723079308630863075306130463032300929842958292928902850281127692725268226382582252324632418238223462309228122532224220021812161214121402140214021402140214021432157217121852206223122572283232323632402244724972546</binaries>
						  </tracerData>
					   </shape>';
                            }

                            if ($information_commande->precalibrage->calibre ==
                                4) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">26682714276028062857291429713028304430353007297629032829275526902634257825222479243723952360233423092284227522692263225722522246224022522263227422912317234223672410245424992548260726662725279428672941300930563103314931303093305730202978293328882845281427832752272426992673264926322615259825812564254725302519250824972484247024562441242524082391237423572340232423102298228522732263225322442239223822362235223322322230223522412247225322582263226822762285229323032317233123452362238224022422245324842515255025882627</binaries>
						  </tracerData>
					   </shape>';
                            }

                            if ($information_commande->precalibrage->calibre ==
                                5) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">24502446244124352427240523822360233122972262222821922155211920852054202319921964193619081885187118571843183218221812180218041809181318181823182718361850186418781904193219591987201620442072210421382171220622432280231723392360238124012413242624382443244724502450244924462443243924252411239723782355233223102279224822172183214721102074204020061972194219201897187518591845183118201818181718151814181218111816182918411855187118881904192719531978200420342064209521262160219422282260229123222352237223922411242624362447</binaries>
						  </tracerData>
					   </shape>';
                            }

                            if ($information_commande->precalibrage->calibre ==
                                6) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">24772526257426232682275328242895295230083065310330983060302129602872278426952623255224812420237223242277224822222197217921762173217021672164216121742196221822412283232523672415247125272584264427052767281928502881291229122893287328532829280427792759275327472741273527292723272627402754276827822796281028202806278227572724267326232572251924662413236323302296226322362214219121702167216421612158215521522153216521762188219922102221223122372243224822592258225622552253225222502256226422722282230123212341236924032438</binaries>
						  </tracerData>
					   </shape>';
                            }

                            if ($information_commande->precalibrage->calibre ==
                                7) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">23722403243324642498253425712607262026302639261925742529248424292363229622292173211920652016197719381898187418551835182018221823182518261828182918401859187918981933196920062048210221562210227223362400245824942530256725772566255425432528251124942480247824772475247424722471247524862497250825192530254025402507247424402395233022662201215021022054200619691934190018761856183618201818181718151814181218111817183418501867189319221950198120172054209121132130214721612167217321782186219422032213223222522271229423192345</binaries>
						  </tracerData>
					   </shape>';
                            }

                            if ($information_commande->precalibrage->calibre ==
                                8) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">24942532257026092654270727612814283728082770273126782624257125212476243123862351231722832254223422152195219021902190219021902190219022012213222422342242225122592273228723012320235123822413244624802514254425642584260326162624263326412649265826662670266726602653264226292616260325972592258725832578257325732583259225982579255425292503246624272387235323312309228622692253223822222219221722162214221222112213221922252231223322362238224022402240224222452249225122532255225722592270228422982313233223512371239624282460</binaries>
						  </tracerData>
					   </shape>';
                            }

                            if ($information_commande->precalibrage->calibre ==
                                9) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3133382E3139303B3133382E3139300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35322E30363B35322E30360D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323530393B323531333B323531363B323531393B323532323B323532363B323533303B323533333B323533373B323534310D0A523D323534353B323534383B323535323B323535373B323536313B323536353B323537303B323537343B323537393B323538340D0A523D323538383B323539333B323539383B323630333B323630383B323631333B323631383B323632323B323632373B323633320D0A523D323633383B323634333B323634383B323635333B323635383B323636333B323636383B323637323B323637383B323638330D0A523D323638373B323639323B323639363B323639393B323730323B323730343B323730353B323730353B323730333B323730300D0A523D323639353B323639303B323638333B323637363B323636383B323635393B323635303B323634303B323633303B323632300D0A523D323630393B323539383B323538373B323537363B323536343B323535333B323534323B323533303B323531393B323530370D0A523D323439363B323438343B323437323B323436313B323434393B323433383B323432363B323431353B323430333B323339330D0A523D323338323B323337313B323335393B323334393B323333383B323332383B323331373B323330373B323239363B323238360D0A523D323237353B323236353B323235353B323234353B323233363B323232363B323231363B323230363B323139373B323138380D0A523D323137383B323136383B323135393B323135303B323134323B323133323B323132333B323131353B323130363B323039380D0A523D323039303B323038323B323037333B323036353B323035373B323035303B323034323B323033343B323032373B323031390D0A523D323031323B323030353B313939383B313939303B313938343B313937373B313937303B313936333B313935363B313934390D0A523D313934333B313933373B313933303B313932343B313931383B313931333B313930363B313930303B313839353B313838390D0A523D313838343B313837383B313837323B313836373B313836323B313835363B313835313B313834353B313834303B313833350D0A523D313833313B313832363B313832323B313831373B313831323B313830383B313830333B313739393B313739353B313739300D0A523D313738363B313738323B313737373B313737333B313736393B313736353B313736313B313735373B313735343B313735300D0A523D313734373B313734333B313734303B313733373B313733333B313733303B313732373B313732343B313732313B313731380D0A523D313731353B313731323B313730393B313730373B313730343B313730313B313639393B313639363B313639343B313639310D0A523D313638393B313638373B313638343B313638323B313638303B313637383B313637363B313637343B313637313B313636390D0A523D313636373B313636353B313636333B313636313B313636303B313635383B313635373B313635353B313635343B313635320D0A523D313635303B313634393B313634373B313634363B313634353B313634343B313634333B313634323B313634303B313633390D0A523D313633383B313633373B313633363B313633363B313633353B313633343B313633333B313633333B313633323B313633310D0A523D313633303B313633303B313632393B313632393B313632383B313632383B313632373B313632373B313632373B313632370D0A523D313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632360D0A523D313632363B313632363B313632363B313632373B313632373B313632373B313632373B313632383B313632383B313632390D0A523D313632393B313632393B313632393B313633303B313633313B313633323B313633323B313633333B313633343B313633350D0A523D313633353B313633373B313633383B313633393B313634303B313634313B313634323B313634333B313634353B313634360D0A523D313634373B313634393B313635303B313635323B313635333B313635353B313635363B313635383B313635393B313636310D0A523D313636333B313636353B313636373B313636383B313637303B313637323B313637343B313637363B313637383B313638300D0A523D313638323B313638353B313638373B313639303B313639323B313639353B313639373B313730303B313730323B313730340D0A523D313730373B313730393B313731313B313731343B313731373B313732303B313732333B313732363B313732393B313733320D0A523D313733363B313733393B313734323B313734353B313734383B313735323B313735353B313735393B313736333B313736370D0A523D313737303B313737333B313737363B313737393B313738333B313738373B313739303B313739353B313739393B313830340D0A523D313830383B313831323B313831373B313832323B313832363B313833313B313833353B313834303B313834353B313835300D0A523D313835353B313836303B313836353B313837313B313837373B313838333B313838393B313839353B313930323B313930380D0A523D313931343B313931393B313932353B313933313B313933373B313934343B313935303B313935373B313936333B313937300D0A523D313937373B313938333B313939303B313939383B323030353B323031323B323031393B323032363B323033343B323034320D0A523D323034393B323035373B323036353B323037333B323038313B323038393B323039363B323130343B323131333B323132320D0A523D323133303B323133383B323134373B323135363B323136343B323137333B323138333B323139313B323230303B323230390D0A523D323231383B323232383B323233383B323234383B323235383B323236383B323237383B323238393B323239393B323330390D0A523D323331393B323333303B323334313B323335323B323336323B323337333B323338343B323339353B323430363B323431370D0A523D323432383B323433393B323435303B323436323B323437343B323438363B323439393B323531303B323532323B323533340D0A523D323534363B323535373B323536393B323538303B323539313B323630323B323631333B323632343B323633353B323634340D0A523D323635323B323636313B323636383B323637343B323637383B323638323B323638353B323638373B323638393B323639310D0A523D323639323B323639333B323639333B323639323B323639303B323638383B323638353B323638323B323637393B323637360D0A523D323637333B323637303B323636373B323636353B323636333B323636313B323635383B323635353B323635333B323635300D0A523D323634383B323634353B323634333B323634313B323633383B323633353B323633323B323633303B323632373B323632350D0A523D323632323B323632303B323631373B323631353B323631333B323631313B323631303B323630373B323630353B323630330D0A523D323630303B323539383B323539363B323539353B323539333B323539313B323538383B323538363B323538343B323538330D0A523D323538313B323538303B323538303B323537393B323537383B323537373B323537373B323537363B323537353B323537340D0A523D323537333B323537323B323537323B323537313B323537313B323537303B323537303B323536393B323536393B323536380D0A523D323536373B323536363B323536363B323536353B323536343B323536333B323536313B323536303B323535383B323535360D0A523D323535343B323535323B323534393B323534373B323534353B323534313B323533373B323533333B323532373B323532310D0A523D323531353B323530383B323530313B323439343B323438363B323437383B323437313B323436343B323435363B323434380D0A523D323433393B323433313B323432323B323431343B323430353B323339363B323338383B323338303B323337313B323336320D0A523D323335343B323334353B323333363B323332383B323331393B323331303B323330313B323239323B323238323B323237330D0A523D323236353B323235363B323234373B323233383B323232393B323231393B323231303B323230303B323138393B323138300D0A523D323137323B323136333B323135353B323134373B323133393B323133303B323132303B323131323B323130333B323039350D0A523D323038373B323037393B323037323B323036343B323035373B323034393B323034323B323033353B323032383B323032310D0A523D323031343B323030373B323030303B313939343B313938383B313938323B313937363B313937303B313936343B313935380D0A523D313935323B313934363B313934303B313933353B313932393B313932333B313931383B313931323B313930373B313930320D0A523D313839373B313839313B313838363B313838313B313837363B313837313B313836363B313836323B313835373B313835330D0A523D313834383B313834333B313833383B313833333B313832393B313832353B313832313B313831373B313831333B313830390D0A523D313830353B313830303B313739363B313739323B313738393B313738353B313738313B313737373B313737343B313737300D0A523D313736363B313736333B313735393B313735363B313735323B313734393B313734363B313734333B313734303B313733370D0A523D313733333B313733303B313732373B313732353B313732323B313732303B313731373B313731353B313731333B313731300D0A523D313730383B313730353B313730333B313730313B313639393B313639373B313639343B313639323B313638393B313638370D0A523D313638363B313638343B313638323B313638303B313637383B313637363B313637343B313637333B313637313B313637300D0A523D313636383B313636373B313636353B313636343B313636323B313636303B313635393B313635373B313635363B313635340D0A523D313635333B313635323B313635313B313635303B313634393B313634383B313634373B313634363B313634353B313634340D0A523D313634333B313634323B313634313B313634313B313634303B313633393B313633383B313633383B313633373B313633360D0A523D313633353B313633353B313633343B313633343B313633333B313633333B313633323B313633323B313633313B313633310D0A523D313633303B313633303B313632393B313632393B313632383B313632383B313632383B313632383B313632373B313632370D0A523D313632373B313632373B313632373B313632373B313632363B313632363B313632363B313632363B313632363B313632360D0A523D313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632370D0A523D313632373B313632373B313632373B313632383B313632383B313632393B313632393B313633303B313633303B313633310D0A523D313633313B313633323B313633323B313633333B313633343B313633353B313633363B313633373B313633373B313633380D0A523D313633393B313634303B313634313B313634323B313634333B313634353B313634363B313634373B313634383B313634390D0A523D313635303B313635323B313635343B313635353B313635363B313635373B313635393B313636303B313636323B313636330D0A523D313636353B313636363B313636383B313637313B313637333B313637353B313637373B313637393B313638303B313638320D0A523D313638343B313638363B313638393B313639313B313639333B313639353B313639373B313730303B313730323B313730350D0A523D313730373B313731303B313731333B313731363B313731383B313732313B313732343B313732383B313733313B313733340D0A523D313733373B313734303B313734333B313734363B313735303B313735333B313735363B313736303B313736333B313736370D0A523D313737313B313737343B313737383B313738313B313738353B313738393B313739333B313739373B313830313B313830360D0A523D313831303B313831343B313831383B313832323B313832363B313833313B313833353B313833393B313834343B313834380D0A523D313835333B313835373B313836323B313836383B313837333B313837383B313838333B313838373B313839323B313839370D0A523D313930323B313930383B313931333B313931393B313932343B313932393B313933353B313934303B313934363B313935320D0A523D313935373B313936333B313936393B313937353B313938313B313938373B313939343B323030303B323030363B323031320D0A523D323031393B323032353B323033323B323033393B323034363B323035333B323036313B323036383B323037353B323038320D0A523D323038393B323039363B323130343B323131313B323131393B323132363B323133333B323134313B323134383B323135360D0A523D323136343B323137313B323137393B323138373B323139353B323230323B323231303B323231383B323232353B323233330D0A523D323234313B323234383B323235363B323236333B323237303B323237373B323238343B323239313B323239383B323330340D0A523D323331303B323331363B323332323B323332383B323333333B323333383B323334333B323334383B323335323B323335350D0A523D323335393B323336333B323336363B323337303B323337333B323337363B323337393B323338313B323338343B323338360D0A523D323338383B323339313B323339333B323339353B323339373B323339393B323430313B323430333B323430343B323430360D0A523D323430383B323431303B323431323B323431333B323431353B323431373B323431393B323432313B323432333B323432360D0A523D323432383B323433303B323433323B323433343B323433363B323433383B323434313B323434333B323434353B323434370D0A523D323435303B323435323B323435353B323435373B323436303B323436333B323436363B323436393B323437323B323437350D0A523D323437383B323438313B323438343B323438373B323439313B323439343B323439373B323530303B323530333B323530360D0A545243464D543D313B313030303B453B4C3B460D0A523D323538313B323538333B323538343B323538363B323538383B323539313B323539333B323539353B323539363B323539380D0A523D323630303B323630333B323630353B323630373B323631303B323631313B323631333B323631353B323631373B323632300D0A523D323632323B323632353B323632373B323633303B323633323B323633353B323633383B323634313B323634333B323634350D0A523D323634383B323635303B323635333B323635353B323635383B323636313B323636333B323636353B323636373B323637300D0A523D323637333B323637363B323637393B323638323B323638353B323638383B323639303B323639323B323639333B323639330D0A523D323639323B323639313B323638393B323638373B323638353B323638323B323637383B323637343B323636383B323636310D0A523D323635323B323634343B323633353B323632343B323631333B323630323B323539313B323538303B323536393B323535370D0A523D323534363B323533343B323532323B323531303B323439393B323438363B323437343B323436323B323435303B323433390D0A523D323432383B323431373B323430363B323339353B323338343B323337333B323336323B323335323B323334313B323333300D0A523D323331393B323330393B323239393B323238393B323237383B323236383B323235383B323234383B323233383B323232380D0A523D323231383B323230393B323230303B323139313B323138333B323137333B323136343B323135363B323134373B323133380D0A523D323133303B323132323B323131333B323130343B323039363B323038393B323038313B323037333B323036353B323035370D0A523D323034393B323034323B323033343B323032363B323031393B323031323B323030353B313939383B313939303B313938330D0A523D313937373B313937303B313936333B313935373B313935303B313934343B313933373B313933313B313932353B313931390D0A523D313931343B313930383B313930323B313839353B313838393B313838333B313837373B313837313B313836353B313836300D0A523D313835353B313835303B313834353B313834303B313833353B313833313B313832363B313832323B313831373B313831320D0A523D313830383B313830343B313739393B313739353B313739303B313738373B313738333B313737393B313737363B313737330D0A523D313737303B313736373B313736333B313735393B313735353B313735323B313734383B313734353B313734323B313733390D0A523D313733363B313733323B313732393B313732363B313732333B313732303B313731373B313731343B313731313B313730390D0A523D313730373B313730343B313730323B313730303B313639373B313639353B313639323B313639303B313638373B313638350D0A523D313638323B313638303B313637383B313637363B313637343B313637323B313637303B313636383B313636373B313636350D0A523D313636333B313636313B313635393B313635383B313635363B313635353B313635333B313635323B313635303B313634390D0A523D313634373B313634363B313634353B313634333B313634323B313634313B313634303B313633393B313633383B313633370D0A523D313633353B313633353B313633343B313633333B313633323B313633323B313633313B313633303B313632393B313632390D0A523D313632393B313632393B313632383B313632383B313632373B313632373B313632373B313632373B313632363B313632360D0A523D313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632360D0A523D313632363B313632373B313632373B313632373B313632373B313632383B313632383B313632393B313632393B313633300D0A523D313633303B313633313B313633323B313633333B313633333B313633343B313633353B313633363B313633363B313633370D0A523D313633383B313633393B313634303B313634323B313634333B313634343B313634353B313634363B313634373B313634390D0A523D313635303B313635323B313635343B313635353B313635373B313635383B313636303B313636313B313636333B313636350D0A523D313636373B313636393B313637313B313637343B313637363B313637383B313638303B313638323B313638343B313638370D0A523D313638393B313639313B313639343B313639363B313639393B313730313B313730343B313730373B313730393B313731320D0A523D313731353B313731383B313732313B313732343B313732373B313733303B313733333B313733373B313734303B313734330D0A523D313734373B313735303B313735343B313735373B313736313B313736353B313736393B313737333B313737373B313738320D0A523D313738363B313739303B313739353B313739393B313830333B313830383B313831323B313831373B313832323B313832360D0A523D313833313B313833353B313834303B313834353B313835313B313835363B313836323B313836373B313837323B313837380D0A523D313838343B313838393B313839353B313930303B313930363B313931333B313931383B313932343B313933303B313933370D0A523D313934333B313934393B313935363B313936333B313937303B313937373B313938343B313939303B313939383B323030350D0A523D323031323B323031393B323032373B323033343B323034323B323035303B323035373B323036353B323037333B323038320D0A523D323039303B323039383B323130363B323131353B323132333B323133323B323134323B323135303B323135393B323136380D0A523D323137383B323138383B323139373B323230363B323231363B323232363B323233363B323234353B323235353B323236350D0A523D323237353B323238363B323239363B323330373B323331373B323332383B323333383B323334393B323335393B323337310D0A523D323338323B323339333B323430333B323431353B323432363B323433383B323434393B323436313B323437323B323438340D0A523D323439363B323530373B323531393B323533303B323534323B323535333B323536343B323537363B323538373B323539380D0A523D323630393B323632303B323633303B323634303B323635303B323635393B323636383B323637363B323638333B323639300D0A523D323639353B323730303B323730333B323730353B323730353B323730343B323730323B323639393B323639363B323639320D0A523D323638373B323638333B323637383B323637323B323636383B323636333B323635383B323635333B323634383B323634330D0A523D323633383B323633323B323632373B323632323B323631383B323631333B323630383B323630333B323539383B323539330D0A523D323538383B323538343B323537393B323537343B323537303B323536353B323536313B323535373B323535323B323534380D0A523D323534353B323534313B323533373B323533333B323533303B323532363B323532323B323531393B323531363B323531330D0A523D323530393B323530363B323530333B323530303B323439373B323439343B323439313B323438373B323438343B323438310D0A523D323437383B323437353B323437323B323436393B323436363B323436333B323436303B323435373B323435353B323435320D0A523D323435303B323434373B323434353B323434333B323434313B323433383B323433363B323433343B323433323B323433300D0A523D323432383B323432363B323432333B323432313B323431393B323431373B323431353B323431333B323431323B323431300D0A523D323430383B323430363B323430343B323430333B323430313B323339393B323339373B323339353B323339333B323339310D0A523D323338383B323338363B323338343B323338313B323337393B323337363B323337333B323337303B323336363B323336330D0A523D323335393B323335353B323335323B323334383B323334333B323333383B323333333B323332383B323332323B323331360D0A523D323331303B323330343B323239383B323239313B323238343B323237373B323237303B323236333B323235363B323234380D0A523D323234313B323233333B323232353B323231383B323231303B323230323B323139353B323138373B323137393B323137310D0A523D323136343B323135363B323134383B323134313B323133333B323132363B323131393B323131313B323130343B323039360D0A523D323038393B323038323B323037353B323036383B323036313B323035333B323034363B323033393B323033323B323032350D0A523D323031393B323031323B323030363B323030303B313939343B313938373B313938313B313937353B313936393B313936330D0A523D313935373B313935323B313934363B313934303B313933353B313932393B313932343B313931393B313931333B313930380D0A523D313930323B313839373B313839323B313838373B313838333B313837383B313837333B313836383B313836323B313835370D0A523D313835333B313834383B313834343B313833393B313833353B313833313B313832363B313832323B313831383B313831340D0A523D313831303B313830363B313830313B313739373B313739333B313738393B313738353B313738313B313737383B313737340D0A523D313737313B313736373B313736333B313736303B313735363B313735333B313735303B313734363B313734333B313734300D0A523D313733373B313733343B313733313B313732383B313732343B313732313B313731383B313731363B313731333B313731300D0A523D313730373B313730353B313730323B313730303B313639373B313639353B313639333B313639313B313638393B313638360D0A523D313638343B313638323B313638303B313637393B313637373B313637353B313637333B313637313B313636383B313636360D0A523D313636353B313636333B313636323B313636303B313635393B313635373B313635363B313635353B313635343B313635320D0A523D313635303B313634393B313634383B313634373B313634363B313634353B313634333B313634323B313634313B313634300D0A523D313633393B313633383B313633373B313633373B313633363B313633353B313633343B313633333B313633323B313633320D0A523D313633313B313633313B313633303B313633303B313632393B313632393B313632383B313632383B313632373B313632370D0A523D313632373B313632373B313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632360D0A523D313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632373B313632373B313632370D0A523D313632373B313632373B313632373B313632383B313632383B313632383B313632383B313632393B313632393B313633300D0A523D313633303B313633313B313633313B313633323B313633323B313633333B313633333B313633343B313633343B313633350D0A523D313633353B313633363B313633373B313633383B313633383B313633393B313634303B313634313B313634313B313634320D0A523D313634333B313634343B313634353B313634363B313634373B313634383B313634393B313635303B313635313B313635320D0A523D313635333B313635343B313635363B313635373B313635393B313636303B313636323B313636343B313636353B313636370D0A523D313636383B313637303B313637313B313637333B313637343B313637363B313637383B313638303B313638323B313638340D0A523D313638363B313638373B313638393B313639323B313639343B313639373B313639393B313730313B313730333B313730350D0A523D313730383B313731303B313731333B313731353B313731373B313732303B313732323B313732353B313732373B313733300D0A523D313733333B313733373B313734303B313734333B313734363B313734393B313735323B313735363B313735393B313736330D0A523D313736363B313737303B313737343B313737373B313738313B313738353B313738393B313739323B313739363B313830300D0A523D313830353B313830393B313831333B313831373B313832313B313832353B313832393B313833333B313833383B313834330D0A523D313834383B313835333B313835373B313836323B313836363B313837313B313837363B313838313B313838363B313839310D0A523D313839373B313930323B313930373B313931323B313931383B313932333B313932393B313933353B313934303B313934360D0A523D313935323B313935383B313936343B313937303B313937363B313938323B313938383B313939343B323030303B323030370D0A523D323031343B323032313B323032383B323033353B323034323B323034393B323035373B323036343B323037323B323037390D0A523D323038373B323039353B323130333B323131323B323132303B323133303B323133393B323134373B323135353B323136330D0A523D323137323B323138303B323138393B323230303B323231303B323231393B323232393B323233383B323234373B323235360D0A523D323236353B323237333B323238323B323239323B323330313B323331303B323331393B323332383B323333363B323334350D0A523D323335343B323336323B323337313B323338303B323338383B323339363B323430353B323431343B323432323B323433310D0A523D323433393B323434383B323435363B323436343B323437313B323437383B323438363B323439343B323530313B323530380D0A523D323531353B323532313B323532373B323533333B323533373B323534313B323534353B323534373B323534393B323535320D0A523D323535343B323535363B323535383B323536303B323536313B323536333B323536343B323536353B323536363B323536360D0A523D323536373B323536383B323536393B323536393B323537303B323537303B323537313B323537313B323537323B323537320D0A523D323537333B323537343B323537353B323537363B323537373B323537373B323537383B323537393B323538303B323538300D0A56424F583D33322E35323B33322E35320D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35342E30393B35342E30390D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                            }

                            if ($information_commande->precalibrage->calibre ==
                                10) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3133362E3730303B3133362E3730300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D34392E31323B34392E31320D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323335353B323335383B323336313B323336343B323336373B323337303B323337343B323337373B323338313B323338340D0A523D323338383B323339323B323339363B323430303B323430343B323430383B323431333B323431373B323432313B323432360D0A523D323433303B323433353B323433393B323434343B323434393B323435333B323435383B323436333B323436393B323437340D0A523D323438303B323438353B323438393B323439343B323439393B323530343B323530393B323531343B323532303B323532350D0A523D323533303B323533363B323534313B323534363B323535313B323535363B323536323B323536373B323537323B323537370D0A523D323538333B323538383B323539333B323539383B323630333B323630383B323631333B323631383B323632323B323632370D0A523D323633313B323633343B323633373B323634303B323634313B323634313B323634303B323633373B323633333B323632350D0A523D323631373B323630363B323539353B323538313B323536373B323535323B323533363B323531393B323530333B323438350D0A523D323436373B323435303B323433333B323431353B323339373B323337393B323336323B323334353B323332383B323331310D0A523D323239343B323237383B323236323B323234353B323232393B323231333B323139383B323138333B323136383B323135330D0A523D323133383B323132343B323131303B323039353B323038313B323036373B323035343B323034313B323032383B323031360D0A523D323030333B313939313B313937393B313936363B313935353B313934343B313933323B313932313B313931313B313930300D0A523D313839303B313837393B313836393B313835393B313835303B313834303B313833313B313832323B313831323B313830330D0A523D313739343B313738363B313737383B313736393B313736313B313735333B313734353B313733373B313732393B313732310D0A523D313731343B313730363B313639393B313639323B313638363B313637393B313637313B313636353B313635383B313635310D0A523D313634353B313633383B313633323B313632363B313632303B313631343B313630383B313630333B313539373B313539320D0A523D313538363B313538313B313537363B313537303B313536353B313536303B313535353B313535303B313534363B313534310D0A523D313533373B313533323B313532373B313532333B313531393B313531353B313531313B313530373B313530333B313439390D0A523D313439363B313439323B313438393B313438353B313438323B313437383B313437353B313437323B313436383B313436350D0A523D313436323B313435383B313435353B313435333B313435303B313434373B313434343B313434323B313433393B313433370D0A523D313433343B313433313B313432393B313432363B313432343B313432323B313432303B313431383B313431363B313431340D0A523D313431323B313431303B313430383B313430373B313430353B313430343B313430323B313430303B313339383B313339370D0A523D313339353B313339343B313339333B313339323B313339313B313338393B313338383B313338373B313338363B313338350D0A523D313338343B313338333B313338323B313338313B313338303B313338303B313337393B313337383B313337373B313337370D0A523D313337373B313337373B313337363B313337363B313337353B313337353B313337343B313337343B313337343B313337340D0A523D313337343B313337343B313337343B313337343B313337343B313337353B313337353B313337363B313337363B313337370D0A523D313337373B313337383B313337383B313337393B313337393B313338303B313338313B313338323B313338333B313338340D0A523D313338353B313338373B313338383B313338393B313339303B313339313B313339323B313339333B313339353B313339360D0A523D313339373B313339393B313430303B313430323B313430333B313430353B313430363B313430383B313431303B313431320D0A523D313431343B313431363B313431383B313432303B313432323B313432343B313432373B313432393B313433313B313433330D0A523D313433363B313433393B313434313B313434343B313434363B313434393B313435313B313435343B313435363B313435390D0A523D313436323B313436363B313436393B313437333B313437373B313438313B313438343B313438373B313439313B313439350D0A523D313439393B313530333B313530373B313531313B313531343B313531373B313532303B313532343B313532383B313533320D0A523D313533373B313534313B313534363B313535303B313535353B313536303B313536353B313537303B313537363B313538310D0A523D313538373B313539323B313539373B313630333B313631303B313631363B313632323B313632383B313633343B313634310D0A523D313634373B313635343B313636303B313636373B313637333B313638303B313638373B313639343B313730313B313730380D0A523D313731343B313732323B313732393B313733373B313734343B313735313B313735393B313736373B313737343B313738320D0A523D313739303B313739383B313830373B313831363B313832353B313833343B313834343B313835333B313836333B313837330D0A523D313838333B313839323B313930333B313931333B313932343B313933363B313934363B313935373B313936383B313938300D0A523D313939323B323030333B323031353B323032373B323034303B323035333B323036363B323037393B323039313B323130340D0A523D323131383B323133313B323134343B323135383B323137323B323138363B323230303B323231343B323232393B323234330D0A523D323235383B323237333B323238373B323330333B323331383B323333333B323334393B323336343B323337393B323339350D0A523D323431313B323432373B323434333B323435393B323437353B323439323B323530393B323532353B323534313B323535360D0A523D323537303B323538333B323539343B323630343B323631313B323631353B323631383B323631393B323631393B323631370D0A523D323631343B323631303B323630373B323630333B323539393B323539343B323539303B323538363B323538313B323537360D0A523D323537313B323536363B323536323B323535383B323535343B323535303B323534363B323534323B323533393B323533350D0A523D323533313B323532383B323532353B323532333B323531383B323531353B323531313B323530383B323530353B323530320D0A523D323530303B323439373B323439333B323439303B323438363B323438333B323438303B323437373B323437353B323437330D0A523D323437323B323437303B323436383B323436363B323436343B323436323B323436303B323435383B323435363B323435350D0A523D323435323B323435313B323434393B323434383B323434373B323434363B323434343B323434333B323434323B323434310D0A523D323434303B323433393B323433383B323433373B323433373B323433363B323433363B323433363B323433363B323433350D0A523D323433353B323433353B323433353B323433353B323433353B323433363B323433363B323433373B323433373B323433380D0A523D323433393B323434313B323434323B323434333B323434343B323434353B323434363B323434373B323434393B323435300D0A523D323435313B323435333B323435343B323435363B323435383B323436303B323436313B323436333B323436353B323436370D0A523D323436393B323437313B323437343B323437363B323437393B323438313B323438343B323438373B323439303B323439340D0A523D323439373B323530303B323530333B323530373B323531303B323531333B323531363B323531393B323532333B323532360D0A523D323533303B323533333B323533363B323533393B323534323B323534343B323534373B323534393B323535303B323535310D0A523D323535313B323534373B323534313B323533323B323532303B323530373B323439323B323437383B323436333B323434370D0A523D323433313B323431343B323339383B323338303B323336333B323334363B323332393B323331323B323239353B323237390D0A523D323236333B323234373B323233313B323231363B323230303B323138353B323137303B323135353B323134303B323132350D0A523D323131303B323039363B323038323B323036393B323035363B323034333B323033303B323031373B323030353B313939320D0A523D313937393B313936363B313935343B313934313B313933303B313931393B313930383B313839373B313838373B313837360D0A523D313836363B313835363B313834353B313833353B313832343B313831343B313830353B313739373B313738383B313737390D0A523D313737303B313736323B313735343B313734353B313733373B313732393B313732323B313731343B313730363B313639390D0A523D313639313B313638353B313637383B313637313B313636353B313635383B313635313B313634353B313633383B313633310D0A523D313632353B313631383B313631323B313630363B313630313B313539353B313538393B313538343B313537383B313537330D0A523D313536383B313536333B313535383B313535323B313534373B313534333B313533383B313533333B313532393B313532340D0A523D313532303B313531363B313531313B313530373B313530333B313439393B313439353B313439323B313438383B313438340D0A523D313438303B313437363B313437333B313436393B313436363B313436333B313436303B313435373B313435333B313435300D0A523D313434373B313434343B313434313B313433393B313433363B313433343B313433313B313432393B313432363B313432340D0A523D313432313B313431393B313431373B313431343B313431323B313431303B313430383B313430363B313430343B313430320D0A523D313430303B313339393B313339373B313339363B313339343B313339323B313339303B313338393B313338383B313338370D0A523D313338353B313338343B313338333B313338323B313338313B313338303B313337393B313337383B313337373B313337360D0A523D313337343B313337343B313337333B313337333B313337323B313337323B313337313B313337313B313337313B313337310D0A523D313337303B313337303B313336393B313336393B313336393B313336393B313336393B313336393B313336393B313336390D0A523D313337303B313337303B313337303B313337313B313337313B313337323B313337323B313337333B313337333B313337340D0A523D313337353B313337363B313337363B313337373B313337383B313337393B313337393B313338303B313338323B313338330D0A523D313338343B313338363B313338373B313338383B313339303B313339313B313339333B313339343B313339363B313339380D0A523D313339393B313430313B313430333B313430353B313430373B313430393B313431313B313431333B313431353B313431370D0A523D313431393B313432313B313432343B313432363B313432393B313433313B313433343B313433363B313433393B313434310D0A523D313434343B313434373B313435303B313435333B313435363B313435393B313436323B313436353B313436393B313437320D0A523D313437353B313437393B313438323B313438363B313438393B313439333B313439373B313530313B313530353B313530390D0A523D313531333B313531373B313532313B313532353B313533303B313533343B313533383B313534333B313534373B313535320D0A523D313535373B313536323B313536373B313537323B313537373B313538323B313538373B313539323B313539383B313630330D0A523D313630393B313631353B313632303B313632363B313633333B313633393B313634353B313635313B313635373B313636330D0A523D313637303B313637363B313638333B313639303B313639373B313730353B313731323B313731393B313732363B313733330D0A523D313734313B313734393B313735373B313736353B313737333B313738313B313738393B313739373B313830363B313831340D0A523D313832323B313833313B313833393B313834383B313835373B313836363B313837353B313838343B313839343B313930330D0A523D313931323B313932313B313933313B313934313B313935313B313936313B313937323B313938323B313939323B323030330D0A523D323031333B323032343B323033353B323034363B323035363B323036373B323037393B323039303B323130323B323131340D0A523D323132353B323133373B323134383B323135393B323137313B323138313B323139313B323230313B323231303B323231380D0A523D323232353B323233303B323233343B323233393B323234333B323234353B323234373B323234393B323235303B323235310D0A523D323235323B323235333B323235343B323235353B323235353B323235353B323235353B323235353B323235353B323235350D0A523D323235353B323235353B323235353B323235343B323235343B323235343B323235343B323235343B323235343B323235340D0A523D323235343B323235343B323235343B323235353B323235353B323235353B323235363B323235373B323235373B323235380D0A523D323235393B323236303B323236303B323236313B323236323B323236333B323236343B323236363B323236373B323236380D0A523D323237303B323237313B323237333B323237343B323237363B323237373B323237393B323238303B323238323B323238330D0A523D323238353B323238373B323238393B323239313B323239323B323239343B323239363B323239383B323330303B323330320D0A523D323330343B323330363B323330383B323331303B323331323B323331353B323331373B323332303B323332323B323332340D0A523D323332373B323332393B323333323B323333343B323333383B323334303B323334333B323334363B323334393B323335320D0A545243464D543D313B313030303B453B4C3B460D0A523D323434303B323434313B323434323B323434333B323434343B323434363B323434373B323434383B323434393B323435310D0A523D323435323B323435353B323435363B323435383B323436303B323436323B323436343B323436363B323436383B323437300D0A523D323437323B323437333B323437353B323437373B323438303B323438333B323438363B323439303B323439333B323439370D0A523D323530303B323530323B323530353B323530383B323531313B323531353B323531383B323532333B323532353B323532380D0A523D323533313B323533353B323533393B323534323B323534363B323535303B323535343B323535383B323536323B323536360D0A523D323537313B323537363B323538313B323538363B323539303B323539343B323539393B323630333B323630373B323631300D0A523D323631343B323631373B323631393B323631393B323631383B323631353B323631313B323630343B323539343B323538330D0A523D323537303B323535363B323534313B323532353B323530393B323439323B323437353B323435393B323434333B323432370D0A523D323431313B323339353B323337393B323336343B323334393B323333333B323331383B323330333B323238373B323237330D0A523D323235383B323234333B323232393B323231343B323230303B323138363B323137323B323135383B323134343B323133310D0A523D323131383B323130343B323039313B323037393B323036363B323035333B323034303B323032373B323031353B323030330D0A523D313939323B313938303B313936383B313935373B313934363B313933363B313932343B313931333B313930333B313839320D0A523D313838333B313837333B313836333B313835333B313834343B313833343B313832353B313831363B313830373B313739380D0A523D313739303B313738323B313737343B313736373B313735393B313735313B313734343B313733373B313732393B313732320D0A523D313731343B313730383B313730313B313639343B313638373B313638303B313637333B313636373B313636303B313635340D0A523D313634373B313634313B313633343B313632383B313632323B313631363B313631303B313630333B313539373B313539320D0A523D313538373B313538313B313537363B313537303B313536353B313536303B313535353B313535303B313534363B313534310D0A523D313533373B313533323B313532383B313532343B313532303B313531373B313531343B313531313B313530373B313530330D0A523D313439393B313439353B313439313B313438373B313438343B313438313B313437373B313437333B313436393B313436360D0A523D313436323B313435393B313435363B313435343B313435313B313434393B313434363B313434343B313434313B313433390D0A523D313433363B313433333B313433313B313432393B313432373B313432343B313432323B313432303B313431383B313431360D0A523D313431343B313431323B313431303B313430383B313430363B313430353B313430333B313430323B313430303B313339390D0A523D313339373B313339363B313339353B313339333B313339323B313339313B313339303B313338393B313338383B313338370D0A523D313338353B313338343B313338333B313338323B313338313B313338303B313337393B313337393B313337383B313337380D0A523D313337373B313337373B313337363B313337363B313337353B313337353B313337343B313337343B313337343B313337340D0A523D313337343B313337343B313337343B313337343B313337343B313337353B313337353B313337363B313337363B313337370D0A523D313337373B313337373B313337373B313337383B313337393B313338303B313338303B313338313B313338323B313338330D0A523D313338343B313338353B313338363B313338373B313338383B313338393B313339313B313339323B313339333B313339340D0A523D313339353B313339373B313339383B313430303B313430323B313430343B313430353B313430373B313430383B313431300D0A523D313431323B313431343B313431363B313431383B313432303B313432323B313432343B313432363B313432393B313433310D0A523D313433343B313433373B313433393B313434323B313434343B313434373B313435303B313435333B313435353B313435380D0A523D313436323B313436353B313436383B313437323B313437353B313437383B313438323B313438353B313438393B313439320D0A523D313439363B313439393B313530333B313530373B313531313B313531353B313531393B313532333B313532373B313533320D0A523D313533373B313534313B313534363B313535303B313535353B313536303B313536353B313537303B313537363B313538310D0A523D313538363B313539323B313539373B313630333B313630383B313631343B313632303B313632363B313633323B313633380D0A523D313634353B313635313B313635383B313636353B313637313B313637393B313638363B313639323B313639393B313730360D0A523D313731343B313732313B313732393B313733373B313734353B313735333B313736313B313736393B313737383B313738360D0A523D313739343B313830333B313831323B313832323B313833313B313834303B313835303B313835393B313836393B313837390D0A523D313839303B313930303B313931313B313932313B313933323B313934343B313935353B313936363B313937393B313939310D0A523D323030333B323031363B323032383B323034313B323035343B323036373B323038313B323039353B323131303B323132340D0A523D323133383B323135333B323136383B323138333B323139383B323231333B323232393B323234353B323236323B323237380D0A523D323239343B323331313B323332383B323334353B323336323B323337393B323339373B323431353B323433333B323435300D0A523D323436373B323438353B323530333B323531393B323533363B323535323B323536373B323538313B323539353B323630360D0A523D323631373B323632353B323633333B323633373B323634303B323634313B323634313B323634303B323633373B323633340D0A523D323633313B323632373B323632323B323631383B323631333B323630383B323630333B323539383B323539333B323538380D0A523D323538333B323537373B323537323B323536373B323536323B323535363B323535313B323534363B323534313B323533360D0A523D323533303B323532353B323532303B323531343B323530393B323530343B323439393B323439343B323438393B323438350D0A523D323438303B323437343B323436393B323436333B323435383B323435333B323434393B323434343B323433393B323433350D0A523D323433303B323432363B323432313B323431373B323431333B323430383B323430343B323430303B323339363B323339320D0A523D323338383B323338343B323338313B323337373B323337343B323337303B323336373B323336343B323336313B323335380D0A523D323335353B323335323B323334393B323334363B323334333B323334303B323333383B323333343B323333323B323332390D0A523D323332373B323332343B323332323B323332303B323331373B323331353B323331323B323331303B323330383B323330360D0A523D323330343B323330323B323330303B323239383B323239363B323239343B323239323B323239313B323238393B323238370D0A523D323238353B323238333B323238323B323238303B323237393B323237373B323237363B323237343B323237333B323237310D0A523D323237303B323236383B323236373B323236363B323236343B323236333B323236323B323236313B323236303B323236300D0A523D323235393B323235383B323235373B323235373B323235363B323235353B323235353B323235353B323235343B323235340D0A523D323235343B323235343B323235343B323235343B323235343B323235343B323235343B323235343B323235353B323235350D0A523D323235353B323235353B323235353B323235353B323235353B323235353B323235353B323235353B323235343B323235330D0A523D323235323B323235313B323235303B323234393B323234373B323234353B323234333B323233393B323233343B323233300D0A523D323232353B323231383B323231303B323230313B323139313B323138313B323137313B323135393B323134383B323133370D0A523D323132353B323131343B323130323B323039303B323037393B323036373B323035363B323034363B323033353B323032340D0A523D323031333B323030333B313939323B313938323B313937323B313936313B313935313B313934313B313933313B313932310D0A523D313931323B313930333B313839343B313838343B313837353B313836363B313835373B313834383B313833393B313833310D0A523D313832323B313831343B313830363B313739373B313738393B313738313B313737333B313736353B313735373B313734390D0A523D313734313B313733333B313732363B313731393B313731323B313730353B313639373B313639303B313638333B313637360D0A523D313637303B313636333B313635373B313635313B313634353B313633393B313633333B313632363B313632303B313631350D0A523D313630393B313630333B313539383B313539323B313538373B313538323B313537373B313537323B313536373B313536320D0A523D313535373B313535323B313534373B313534333B313533383B313533343B313533303B313532353B313532313B313531370D0A523D313531333B313530393B313530353B313530313B313439373B313439333B313438393B313438363B313438323B313437390D0A523D313437353B313437323B313436393B313436353B313436323B313435393B313435363B313435333B313435303B313434370D0A523D313434343B313434313B313433393B313433363B313433343B313433313B313432393B313432363B313432343B313432310D0A523D313431393B313431373B313431353B313431333B313431313B313430393B313430373B313430353B313430333B313430310D0A523D313339393B313339383B313339363B313339343B313339333B313339313B313339303B313338383B313338373B313338360D0A523D313338343B313338333B313338323B313338303B313337393B313337393B313337383B313337373B313337363B313337360D0A523D313337353B313337343B313337333B313337333B313337323B313337323B313337313B313337313B313337303B313337300D0A523D313337303B313336393B313336393B313336393B313336393B313336393B313336393B313336393B313336393B313337300D0A523D313337303B313337313B313337313B313337313B313337313B313337323B313337323B313337333B313337333B313337340D0A523D313337343B313337363B313337373B313337383B313337393B313338303B313338313B313338323B313338333B313338340D0A523D313338353B313338373B313338383B313338393B313339303B313339323B313339343B313339363B313339373B313339390D0A523D313430303B313430323B313430343B313430363B313430383B313431303B313431323B313431343B313431373B313431390D0A523D313432313B313432343B313432363B313432393B313433313B313433343B313433363B313433393B313434313B313434340D0A523D313434373B313435303B313435333B313435373B313436303B313436333B313436363B313436393B313437333B313437360D0A523D313438303B313438343B313438383B313439323B313439353B313439393B313530333B313530373B313531313B313531360D0A523D313532303B313532343B313532393B313533333B313533383B313534333B313534373B313535323B313535383B313536330D0A523D313536383B313537333B313537383B313538343B313538393B313539353B313630313B313630363B313631323B313631380D0A523D313632353B313633313B313633383B313634353B313635313B313635383B313636353B313637313B313637383B313638350D0A523D313639313B313639393B313730363B313731343B313732323B313732393B313733373B313734353B313735343B313736320D0A523D313737303B313737393B313738383B313739373B313830353B313831343B313832343B313833353B313834353B313835360D0A523D313836363B313837363B313838373B313839373B313930383B313931393B313933303B313934313B313935343B313936360D0A523D313937393B313939323B323030353B323031373B323033303B323034333B323035363B323036393B323038323B323039360D0A523D323131303B323132353B323134303B323135353B323137303B323138353B323230303B323231363B323233313B323234370D0A523D323236333B323237393B323239353B323331323B323332393B323334363B323336333B323338303B323339383B323431340D0A523D323433313B323434373B323436333B323437383B323439323B323530373B323532303B323533323B323534313B323534370D0A523D323535313B323535313B323535303B323534393B323534373B323534343B323534323B323533393B323533363B323533330D0A523D323533303B323532363B323532333B323531393B323531363B323531333B323531303B323530373B323530333B323530300D0A523D323439373B323439343B323439303B323438373B323438343B323438313B323437393B323437363B323437343B323437310D0A523D323436393B323436373B323436353B323436333B323436313B323436303B323435383B323435363B323435343B323435330D0A523D323435313B323435303B323434393B323434373B323434363B323434353B323434343B323434333B323434323B323434310D0A523D323433393B323433383B323433373B323433373B323433363B323433363B323433353B323433353B323433353B323433350D0A523D323433353B323433353B323433363B323433363B323433363B323433363B323433373B323433373B323433383B323433390D0A56424F583D32372E34393B32372E34390D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35322E38313B35322E38310D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                            }

                            if ($information_commande->precalibrage->calibre ==
                                11) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3133362E3730303B3133362E3730300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D34392E31323B34392E31320D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323335353B323335383B323336313B323336343B323336373B323337303B323337343B323337373B323338313B323338340D0A523D323338383B323339323B323339363B323430303B323430343B323430383B323431333B323431373B323432313B323432360D0A523D323433303B323433353B323433393B323434343B323434393B323435333B323435383B323436333B323436393B323437340D0A523D323438303B323438353B323438393B323439343B323439393B323530343B323530393B323531343B323532303B323532350D0A523D323533303B323533363B323534313B323534363B323535313B323535363B323536323B323536373B323537323B323537370D0A523D323538333B323538383B323539333B323539383B323630333B323630383B323631333B323631383B323632323B323632370D0A523D323633313B323633343B323633373B323634303B323634313B323634313B323634303B323633373B323633333B323632350D0A523D323631373B323630363B323539353B323538313B323536373B323535323B323533363B323531393B323530333B323438350D0A523D323436373B323435303B323433333B323431353B323339373B323337393B323336323B323334353B323332383B323331310D0A523D323239343B323237383B323236323B323234353B323232393B323231333B323139383B323138333B323136383B323135330D0A523D323133383B323132343B323131303B323039353B323038313B323036373B323035343B323034313B323032383B323031360D0A523D323030333B313939313B313937393B313936363B313935353B313934343B313933323B313932313B313931313B313930300D0A523D313839303B313837393B313836393B313835393B313835303B313834303B313833313B313832323B313831323B313830330D0A523D313739343B313738363B313737383B313736393B313736313B313735333B313734353B313733373B313732393B313732310D0A523D313731343B313730363B313639393B313639323B313638363B313637393B313637313B313636353B313635383B313635310D0A523D313634353B313633383B313633323B313632363B313632303B313631343B313630383B313630333B313539373B313539320D0A523D313538363B313538313B313537363B313537303B313536353B313536303B313535353B313535303B313534363B313534310D0A523D313533373B313533323B313532373B313532333B313531393B313531353B313531313B313530373B313530333B313439390D0A523D313439363B313439323B313438393B313438353B313438323B313437383B313437353B313437323B313436383B313436350D0A523D313436323B313435383B313435353B313435333B313435303B313434373B313434343B313434323B313433393B313433370D0A523D313433343B313433313B313432393B313432363B313432343B313432323B313432303B313431383B313431363B313431340D0A523D313431323B313431303B313430383B313430373B313430353B313430343B313430323B313430303B313339383B313339370D0A523D313339353B313339343B313339333B313339323B313339313B313338393B313338383B313338373B313338363B313338350D0A523D313338343B313338333B313338323B313338313B313338303B313338303B313337393B313337383B313337373B313337370D0A523D313337373B313337373B313337363B313337363B313337353B313337353B313337343B313337343B313337343B313337340D0A523D313337343B313337343B313337343B313337343B313337343B313337353B313337353B313337363B313337363B313337370D0A523D313337373B313337383B313337383B313337393B313337393B313338303B313338313B313338323B313338333B313338340D0A523D313338353B313338373B313338383B313338393B313339303B313339313B313339323B313339333B313339353B313339360D0A523D313339373B313339393B313430303B313430323B313430333B313430353B313430363B313430383B313431303B313431320D0A523D313431343B313431363B313431383B313432303B313432323B313432343B313432373B313432393B313433313B313433330D0A523D313433363B313433393B313434313B313434343B313434363B313434393B313435313B313435343B313435363B313435390D0A523D313436323B313436363B313436393B313437333B313437373B313438313B313438343B313438373B313439313B313439350D0A523D313439393B313530333B313530373B313531313B313531343B313531373B313532303B313532343B313532383B313533320D0A523D313533373B313534313B313534363B313535303B313535353B313536303B313536353B313537303B313537363B313538310D0A523D313538373B313539323B313539373B313630333B313631303B313631363B313632323B313632383B313633343B313634310D0A523D313634373B313635343B313636303B313636373B313637333B313638303B313638373B313639343B313730313B313730380D0A523D313731343B313732323B313732393B313733373B313734343B313735313B313735393B313736373B313737343B313738320D0A523D313739303B313739383B313830373B313831363B313832353B313833343B313834343B313835333B313836333B313837330D0A523D313838333B313839323B313930333B313931333B313932343B313933363B313934363B313935373B313936383B313938300D0A523D313939323B323030333B323031353B323032373B323034303B323035333B323036363B323037393B323039313B323130340D0A523D323131383B323133313B323134343B323135383B323137323B323138363B323230303B323231343B323232393B323234330D0A523D323235383B323237333B323238373B323330333B323331383B323333333B323334393B323336343B323337393B323339350D0A523D323431313B323432373B323434333B323435393B323437353B323439323B323530393B323532353B323534313B323535360D0A523D323537303B323538333B323539343B323630343B323631313B323631353B323631383B323631393B323631393B323631370D0A523D323631343B323631303B323630373B323630333B323539393B323539343B323539303B323538363B323538313B323537360D0A523D323537313B323536363B323536323B323535383B323535343B323535303B323534363B323534323B323533393B323533350D0A523D323533313B323532383B323532353B323532333B323531383B323531353B323531313B323530383B323530353B323530320D0A523D323530303B323439373B323439333B323439303B323438363B323438333B323438303B323437373B323437353B323437330D0A523D323437323B323437303B323436383B323436363B323436343B323436323B323436303B323435383B323435363B323435350D0A523D323435323B323435313B323434393B323434383B323434373B323434363B323434343B323434333B323434323B323434310D0A523D323434303B323433393B323433383B323433373B323433373B323433363B323433363B323433363B323433363B323433350D0A523D323433353B323433353B323433353B323433353B323433353B323433363B323433363B323433373B323433373B323433380D0A523D323433393B323434313B323434323B323434333B323434343B323434353B323434363B323434373B323434393B323435300D0A523D323435313B323435333B323435343B323435363B323435383B323436303B323436313B323436333B323436353B323436370D0A523D323436393B323437313B323437343B323437363B323437393B323438313B323438343B323438373B323439303B323439340D0A523D323439373B323530303B323530333B323530373B323531303B323531333B323531363B323531393B323532333B323532360D0A523D323533303B323533333B323533363B323533393B323534323B323534343B323534373B323534393B323535303B323535310D0A523D323535313B323534373B323534313B323533323B323532303B323530373B323439323B323437383B323436333B323434370D0A523D323433313B323431343B323339383B323338303B323336333B323334363B323332393B323331323B323239353B323237390D0A523D323236333B323234373B323233313B323231363B323230303B323138353B323137303B323135353B323134303B323132350D0A523D323131303B323039363B323038323B323036393B323035363B323034333B323033303B323031373B323030353B313939320D0A523D313937393B313936363B313935343B313934313B313933303B313931393B313930383B313839373B313838373B313837360D0A523D313836363B313835363B313834353B313833353B313832343B313831343B313830353B313739373B313738383B313737390D0A523D313737303B313736323B313735343B313734353B313733373B313732393B313732323B313731343B313730363B313639390D0A523D313639313B313638353B313637383B313637313B313636353B313635383B313635313B313634353B313633383B313633310D0A523D313632353B313631383B313631323B313630363B313630313B313539353B313538393B313538343B313537383B313537330D0A523D313536383B313536333B313535383B313535323B313534373B313534333B313533383B313533333B313532393B313532340D0A523D313532303B313531363B313531313B313530373B313530333B313439393B313439353B313439323B313438383B313438340D0A523D313438303B313437363B313437333B313436393B313436363B313436333B313436303B313435373B313435333B313435300D0A523D313434373B313434343B313434313B313433393B313433363B313433343B313433313B313432393B313432363B313432340D0A523D313432313B313431393B313431373B313431343B313431323B313431303B313430383B313430363B313430343B313430320D0A523D313430303B313339393B313339373B313339363B313339343B313339323B313339303B313338393B313338383B313338370D0A523D313338353B313338343B313338333B313338323B313338313B313338303B313337393B313337383B313337373B313337360D0A523D313337343B313337343B313337333B313337333B313337323B313337323B313337313B313337313B313337313B313337310D0A523D313337303B313337303B313336393B313336393B313336393B313336393B313336393B313336393B313336393B313336390D0A523D313337303B313337303B313337303B313337313B313337313B313337323B313337323B313337333B313337333B313337340D0A523D313337353B313337363B313337363B313337373B313337383B313337393B313337393B313338303B313338323B313338330D0A523D313338343B313338363B313338373B313338383B313339303B313339313B313339333B313339343B313339363B313339380D0A523D313339393B313430313B313430333B313430353B313430373B313430393B313431313B313431333B313431353B313431370D0A523D313431393B313432313B313432343B313432363B313432393B313433313B313433343B313433363B313433393B313434310D0A523D313434343B313434373B313435303B313435333B313435363B313435393B313436323B313436353B313436393B313437320D0A523D313437353B313437393B313438323B313438363B313438393B313439333B313439373B313530313B313530353B313530390D0A523D313531333B313531373B313532313B313532353B313533303B313533343B313533383B313534333B313534373B313535320D0A523D313535373B313536323B313536373B313537323B313537373B313538323B313538373B313539323B313539383B313630330D0A523D313630393B313631353B313632303B313632363B313633333B313633393B313634353B313635313B313635373B313636330D0A523D313637303B313637363B313638333B313639303B313639373B313730353B313731323B313731393B313732363B313733330D0A523D313734313B313734393B313735373B313736353B313737333B313738313B313738393B313739373B313830363B313831340D0A523D313832323B313833313B313833393B313834383B313835373B313836363B313837353B313838343B313839343B313930330D0A523D313931323B313932313B313933313B313934313B313935313B313936313B313937323B313938323B313939323B323030330D0A523D323031333B323032343B323033353B323034363B323035363B323036373B323037393B323039303B323130323B323131340D0A523D323132353B323133373B323134383B323135393B323137313B323138313B323139313B323230313B323231303B323231380D0A523D323232353B323233303B323233343B323233393B323234333B323234353B323234373B323234393B323235303B323235310D0A523D323235323B323235333B323235343B323235353B323235353B323235353B323235353B323235353B323235353B323235350D0A523D323235353B323235353B323235353B323235343B323235343B323235343B323235343B323235343B323235343B323235340D0A523D323235343B323235343B323235343B323235353B323235353B323235353B323235363B323235373B323235373B323235380D0A523D323235393B323236303B323236303B323236313B323236323B323236333B323236343B323236363B323236373B323236380D0A523D323237303B323237313B323237333B323237343B323237363B323237373B323237393B323238303B323238323B323238330D0A523D323238353B323238373B323238393B323239313B323239323B323239343B323239363B323239383B323330303B323330320D0A523D323330343B323330363B323330383B323331303B323331323B323331353B323331373B323332303B323332323B323332340D0A523D323332373B323332393B323333323B323333343B323333383B323334303B323334333B323334363B323334393B323335320D0A545243464D543D313B313030303B453B4C3B460D0A523D323434303B323434313B323434323B323434333B323434343B323434363B323434373B323434383B323434393B323435310D0A523D323435323B323435353B323435363B323435383B323436303B323436323B323436343B323436363B323436383B323437300D0A523D323437323B323437333B323437353B323437373B323438303B323438333B323438363B323439303B323439333B323439370D0A523D323530303B323530323B323530353B323530383B323531313B323531353B323531383B323532333B323532353B323532380D0A523D323533313B323533353B323533393B323534323B323534363B323535303B323535343B323535383B323536323B323536360D0A523D323537313B323537363B323538313B323538363B323539303B323539343B323539393B323630333B323630373B323631300D0A523D323631343B323631373B323631393B323631393B323631383B323631353B323631313B323630343B323539343B323538330D0A523D323537303B323535363B323534313B323532353B323530393B323439323B323437353B323435393B323434333B323432370D0A523D323431313B323339353B323337393B323336343B323334393B323333333B323331383B323330333B323238373B323237330D0A523D323235383B323234333B323232393B323231343B323230303B323138363B323137323B323135383B323134343B323133310D0A523D323131383B323130343B323039313B323037393B323036363B323035333B323034303B323032373B323031353B323030330D0A523D313939323B313938303B313936383B313935373B313934363B313933363B313932343B313931333B313930333B313839320D0A523D313838333B313837333B313836333B313835333B313834343B313833343B313832353B313831363B313830373B313739380D0A523D313739303B313738323B313737343B313736373B313735393B313735313B313734343B313733373B313732393B313732320D0A523D313731343B313730383B313730313B313639343B313638373B313638303B313637333B313636373B313636303B313635340D0A523D313634373B313634313B313633343B313632383B313632323B313631363B313631303B313630333B313539373B313539320D0A523D313538373B313538313B313537363B313537303B313536353B313536303B313535353B313535303B313534363B313534310D0A523D313533373B313533323B313532383B313532343B313532303B313531373B313531343B313531313B313530373B313530330D0A523D313439393B313439353B313439313B313438373B313438343B313438313B313437373B313437333B313436393B313436360D0A523D313436323B313435393B313435363B313435343B313435313B313434393B313434363B313434343B313434313B313433390D0A523D313433363B313433333B313433313B313432393B313432373B313432343B313432323B313432303B313431383B313431360D0A523D313431343B313431323B313431303B313430383B313430363B313430353B313430333B313430323B313430303B313339390D0A523D313339373B313339363B313339353B313339333B313339323B313339313B313339303B313338393B313338383B313338370D0A523D313338353B313338343B313338333B313338323B313338313B313338303B313337393B313337393B313337383B313337380D0A523D313337373B313337373B313337363B313337363B313337353B313337353B313337343B313337343B313337343B313337340D0A523D313337343B313337343B313337343B313337343B313337343B313337353B313337353B313337363B313337363B313337370D0A523D313337373B313337373B313337373B313337383B313337393B313338303B313338303B313338313B313338323B313338330D0A523D313338343B313338353B313338363B313338373B313338383B313338393B313339313B313339323B313339333B313339340D0A523D313339353B313339373B313339383B313430303B313430323B313430343B313430353B313430373B313430383B313431300D0A523D313431323B313431343B313431363B313431383B313432303B313432323B313432343B313432363B313432393B313433310D0A523D313433343B313433373B313433393B313434323B313434343B313434373B313435303B313435333B313435353B313435380D0A523D313436323B313436353B313436383B313437323B313437353B313437383B313438323B313438353B313438393B313439320D0A523D313439363B313439393B313530333B313530373B313531313B313531353B313531393B313532333B313532373B313533320D0A523D313533373B313534313B313534363B313535303B313535353B313536303B313536353B313537303B313537363B313538310D0A523D313538363B313539323B313539373B313630333B313630383B313631343B313632303B313632363B313633323B313633380D0A523D313634353B313635313B313635383B313636353B313637313B313637393B313638363B313639323B313639393B313730360D0A523D313731343B313732313B313732393B313733373B313734353B313735333B313736313B313736393B313737383B313738360D0A523D313739343B313830333B313831323B313832323B313833313B313834303B313835303B313835393B313836393B313837390D0A523D313839303B313930303B313931313B313932313B313933323B313934343B313935353B313936363B313937393B313939310D0A523D323030333B323031363B323032383B323034313B323035343B323036373B323038313B323039353B323131303B323132340D0A523D323133383B323135333B323136383B323138333B323139383B323231333B323232393B323234353B323236323B323237380D0A523D323239343B323331313B323332383B323334353B323336323B323337393B323339373B323431353B323433333B323435300D0A523D323436373B323438353B323530333B323531393B323533363B323535323B323536373B323538313B323539353B323630360D0A523D323631373B323632353B323633333B323633373B323634303B323634313B323634313B323634303B323633373B323633340D0A523D323633313B323632373B323632323B323631383B323631333B323630383B323630333B323539383B323539333B323538380D0A523D323538333B323537373B323537323B323536373B323536323B323535363B323535313B323534363B323534313B323533360D0A523D323533303B323532353B323532303B323531343B323530393B323530343B323439393B323439343B323438393B323438350D0A523D323438303B323437343B323436393B323436333B323435383B323435333B323434393B323434343B323433393B323433350D0A523D323433303B323432363B323432313B323431373B323431333B323430383B323430343B323430303B323339363B323339320D0A523D323338383B323338343B323338313B323337373B323337343B323337303B323336373B323336343B323336313B323335380D0A523D323335353B323335323B323334393B323334363B323334333B323334303B323333383B323333343B323333323B323332390D0A523D323332373B323332343B323332323B323332303B323331373B323331353B323331323B323331303B323330383B323330360D0A523D323330343B323330323B323330303B323239383B323239363B323239343B323239323B323239313B323238393B323238370D0A523D323238353B323238333B323238323B323238303B323237393B323237373B323237363B323237343B323237333B323237310D0A523D323237303B323236383B323236373B323236363B323236343B323236333B323236323B323236313B323236303B323236300D0A523D323235393B323235383B323235373B323235373B323235363B323235353B323235353B323235353B323235343B323235340D0A523D323235343B323235343B323235343B323235343B323235343B323235343B323235343B323235343B323235353B323235350D0A523D323235353B323235353B323235353B323235353B323235353B323235353B323235353B323235353B323235343B323235330D0A523D323235323B323235313B323235303B323234393B323234373B323234353B323234333B323233393B323233343B323233300D0A523D323232353B323231383B323231303B323230313B323139313B323138313B323137313B323135393B323134383B323133370D0A523D323132353B323131343B323130323B323039303B323037393B323036373B323035363B323034363B323033353B323032340D0A523D323031333B323030333B313939323B313938323B313937323B313936313B313935313B313934313B313933313B313932310D0A523D313931323B313930333B313839343B313838343B313837353B313836363B313835373B313834383B313833393B313833310D0A523D313832323B313831343B313830363B313739373B313738393B313738313B313737333B313736353B313735373B313734390D0A523D313734313B313733333B313732363B313731393B313731323B313730353B313639373B313639303B313638333B313637360D0A523D313637303B313636333B313635373B313635313B313634353B313633393B313633333B313632363B313632303B313631350D0A523D313630393B313630333B313539383B313539323B313538373B313538323B313537373B313537323B313536373B313536320D0A523D313535373B313535323B313534373B313534333B313533383B313533343B313533303B313532353B313532313B313531370D0A523D313531333B313530393B313530353B313530313B313439373B313439333B313438393B313438363B313438323B313437390D0A523D313437353B313437323B313436393B313436353B313436323B313435393B313435363B313435333B313435303B313434370D0A523D313434343B313434313B313433393B313433363B313433343B313433313B313432393B313432363B313432343B313432310D0A523D313431393B313431373B313431353B313431333B313431313B313430393B313430373B313430353B313430333B313430310D0A523D313339393B313339383B313339363B313339343B313339333B313339313B313339303B313338383B313338373B313338360D0A523D313338343B313338333B313338323B313338303B313337393B313337393B313337383B313337373B313337363B313337360D0A523D313337353B313337343B313337333B313337333B313337323B313337323B313337313B313337313B313337303B313337300D0A523D313337303B313336393B313336393B313336393B313336393B313336393B313336393B313336393B313336393B313337300D0A523D313337303B313337313B313337313B313337313B313337313B313337323B313337323B313337333B313337333B313337340D0A523D313337343B313337363B313337373B313337383B313337393B313338303B313338313B313338323B313338333B313338340D0A523D313338353B313338373B313338383B313338393B313339303B313339323B313339343B313339363B313339373B313339390D0A523D313430303B313430323B313430343B313430363B313430383B313431303B313431323B313431343B313431373B313431390D0A523D313432313B313432343B313432363B313432393B313433313B313433343B313433363B313433393B313434313B313434340D0A523D313434373B313435303B313435333B313435373B313436303B313436333B313436363B313436393B313437333B313437360D0A523D313438303B313438343B313438383B313439323B313439353B313439393B313530333B313530373B313531313B313531360D0A523D313532303B313532343B313532393B313533333B313533383B313534333B313534373B313535323B313535383B313536330D0A523D313536383B313537333B313537383B313538343B313538393B313539353B313630313B313630363B313631323B313631380D0A523D313632353B313633313B313633383B313634353B313635313B313635383B313636353B313637313B313637383B313638350D0A523D313639313B313639393B313730363B313731343B313732323B313732393B313733373B313734353B313735343B313736320D0A523D313737303B313737393B313738383B313739373B313830353B313831343B313832343B313833353B313834353B313835360D0A523D313836363B313837363B313838373B313839373B313930383B313931393B313933303B313934313B313935343B313936360D0A523D313937393B313939323B323030353B323031373B323033303B323034333B323035363B323036393B323038323B323039360D0A523D323131303B323132353B323134303B323135353B323137303B323138353B323230303B323231363B323233313B323234370D0A523D323236333B323237393B323239353B323331323B323332393B323334363B323336333B323338303B323339383B323431340D0A523D323433313B323434373B323436333B323437383B323439323B323530373B323532303B323533323B323534313B323534370D0A523D323535313B323535313B323535303B323534393B323534373B323534343B323534323B323533393B323533363B323533330D0A523D323533303B323532363B323532333B323531393B323531363B323531333B323531303B323530373B323530333B323530300D0A523D323439373B323439343B323439303B323438373B323438343B323438313B323437393B323437363B323437343B323437310D0A523D323436393B323436373B323436353B323436333B323436313B323436303B323435383B323435363B323435343B323435330D0A523D323435313B323435303B323434393B323434373B323434363B323434353B323434343B323434333B323434323B323434310D0A523D323433393B323433383B323433373B323433373B323433363B323433363B323433353B323433353B323433353B323433350D0A523D323433353B323433353B323433363B323433363B323433363B323433363B323433373B323433373B323433383B323433390D0A56424F583D32372E34393B32372E34390D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35322E38313B35322E38310D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                            }

                            if ($information_commande->precalibrage->calibre ==
                                12) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3135322E3930303B3135322E3930300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35332E30363B35332E30360D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323434333B323434393B323435343B323436303B323436373B323437333B323437393B323438363B323439323B323439380D0A523D323530353B323531313B323531383B323532353B323533313B323533383B323534343B323535313B323535383B323536350D0A523D323537323B323537393B323538353B323539323B323539393B323630353B323631323B323631393B323632363B323633330D0A523D323634303B323634373B323635343B323636313B323636383B323637363B323638333B323639303B323639373B323730350D0A523D323731323B323732303B323732383B323733353B323734333B323735313B323735383B323736353B323737323B323737390D0A523D323738363B323739333B323830303B323830373B323831333B323832303B323832353B323833313B323833373B323834320D0A523D323834373B323835323B323835373B323836313B323836353B323836393B323837333B323837373B323838313B323838340D0A523D323838383B323839313B323839343B323839373B323839393B323930313B323930333B323930333B323930343B323930340D0A523D323930343B323930343B323930333B323930313B323839393B323839363B323839343B323839303B323838363B323838310D0A523D323837363B323837303B323836343B323835363B323834393B323834313B323833343B323832353B323831373B323830380D0A523D323739393B323739303B323738313B323737313B323736313B323735323B323734323B323733323B323732323B323731310D0A523D323730313B323639303B323638303B323637303B323636303B323634393B323633393B323632383B323631383B323630370D0A523D323539373B323538373B323537373B323536373B323535373B323534373B323533373B323532383B323531383B323530390D0A523D323530303B323439313B323438313B323437323B323436343B323435353B323434363B323433383B323432393B323432300D0A523D323431323B323430343B323339363B323338383B323338303B323337323B323336343B323335363B323334393B323334320D0A523D323333343B323332373B323331393B323331323B323330353B323239383B323239313B323238343B323237373B323237310D0A523D323236343B323235373B323235313B323234343B323233373B323233313B323232353B323231393B323231333B323230370D0A523D323230313B323139353B323138393B323138343B323137383B323137323B323136373B323136323B323135373B323135320D0A523D323134373B323134323B323133373B323133333B323132383B323132343B323131393B323131353B323131313B323130370D0A523D323130333B323039393B323039353B323039303B323038373B323038333B323038303B323037363B323037333B323037300D0A523D323036373B323036343B323036303B323035373B323035353B323035323B323034393B323034363B323034343B323034310D0A523D323033393B323033373B323033343B323033323B323033303B323032383B323032363B323032343B323032323B323032310D0A523D323031393B323031383B323031363B323031353B323031343B323031323B323031313B323031303B323030393B323030380D0A523D323030363B323030363B323030353B323030353B323030343B323030333B323030323B323030323B323030313B323030310D0A523D323030313B323030313B323030303B323030303B323030303B323030303B323030303B323030303B323030303B323030300D0A523D323030303B323030313B323030313B323030313B323030313B323030323B323030333B323030343B323030343B323030350D0A523D323030353B323030363B323030363B323030373B323030383B323030393B323031313B323031323B323031333B323031340D0A523D323031363B323031373B323031393B323032303B323032323B323032343B323032363B323032383B323033303B323033320D0A523D323033343B323033363B323033393B323034323B323034353B323034383B323035303B323035333B323035363B323035390D0A523D323036323B323036353B323036383B323037313B323037343B323037373B323038313B323038353B323038393B323039330D0A523D323039373B323130313B323130343B323130383B323131323B323131363B323132303B323132343B323132393B323133330D0A523D323133373B323134313B323134353B323134393B323135333B323135383B323136323B323136373B323137323B323137370D0A523D323138323B323138383B323139343B323139383B323230333B323230383B323231333B323231383B323232333B323232390D0A523D323233363B323234323B323234383B323235343B323236313B323236383B323237343B323238323B323238393B323239360D0A523D323330333B323331313B323331393B323332363B323333343B323334323B323334393B323335383B323336363B323337330D0A523D323338313B323338393B323339383B323430363B323431343B323432323B323433303B323433393B323434373B323435360D0A523D323436343B323437333B323438323B323439313B323530303B323530393B323531383B323532373B323533373B323534370D0A523D323535363B323536363B323537353B323538353B323539343B323630343B323631333B323632323B323633323B323634310D0A523D323635303B323635383B323636383B323637373B323638353B323639343B323730323B323731303B323731383B323732350D0A523D323733333B323733393B323734363B323735333B323735393B323736353B323737303B323737363B323738323B323738370D0A523D323739313B323739363B323830303B323830343B323830383B323831313B323831333B323831363B323831383B323831380D0A523D323831393B323831393B323831393B323831393B323831393B323831393B323831383B323831373B323831363B323831340D0A523D323831333B323831313B323831303B323830383B323830373B323830353B323830343B323830323B323830303B323739380D0A523D323739363B323739343B323739323B323739313B323738393B323738373B323738353B323738333B323738313B323737390D0A523D323737373B323737353B323737323B323737303B323736373B323736343B323736313B323735393B323735363B323735340D0A523D323735313B323734383B323734353B323734323B323734303B323733373B323733343B323733313B323732393B323732360D0A523D323732333B323732313B323731383B323731363B323731333B323730393B323730363B323730323B323639393B323639350D0A523D323639333B323639323B323639303B323638383B323638363B323638343B323638313B323637393B323637373B323637350D0A523D323637343B323637323B323637303B323636383B323636353B323636333B323636323B323636313B323635393B323635370D0A523D323635343B323635313B323634393B323634383B323634373B323634363B323634353B323634343B323634323B323634310D0A523D323634303B323633383B323633373B323633363B323633353B323633343B323633333B323633313B323633303B323632390D0A523D323632383B323632373B323632373B323632353B323632343B323632333B323632333B323632323B323632313B323632300D0A523D323632303B323631383B323631373B323631363B323631363B323631353B323631353B323631343B323631333B323631320D0A523D323631323B323631313B323631313B323631303B323630393B323630383B323630383B323630373B323630373B323630360D0A523D323630353B323630343B323630333B323630333B323630323B323630323B323630323B323630323B323630313B323630310D0A523D323630303B323630303B323539393B323539393B323539393B323539393B323539383B323539373B323539363B323539350D0A523D323539343B323539333B323539323B323539303B323538393B323538373B323538353B323538333B323538313B323537380D0A523D323537363B323537343B323537323B323536393B323536373B323536353B323536323B323536303B323535373B323535350D0A523D323535323B323535303B323534373B323534353B323534323B323533393B323533373B323533343B323533323B323532390D0A523D323532373B323532343B323532313B323531393B323531363B323531343B323531313B323530383B323530353B323530320D0A523D323439393B323439363B323439333B323439303B323438373B323438333B323438303B323437373B323437333B323437300D0A523D323436373B323436343B323436313B323435373B323435343B323435313B323434373B323434343B323434303B323433360D0A523D323433313B323432373B323432333B323431393B323431353B323431303B323430353B323430313B323339373B323339330D0A523D323338383B323338333B323337383B323337333B323336393B323336343B323335393B323335343B323334393B323334340D0A523D323333393B323333343B323332393B323332343B323331393B323331343B323330383B323330333B323239383B323239330D0A523D323238383B323238333B323237383B323237333B323236383B323236323B323235373B323235333B323234383B323234330D0A523D323233393B323233343B323232393B323232343B323231393B323231353B323231313B323230373B323230333B323139390D0A523D323139353B323139313B323138363B323138323B323137383B323137343B323136393B323136353B323136313B323135370D0A523D323135343B323135303B323134363B323134323B323133393B323133353B323133313B323132383B323132343B323132310D0A523D323131373B323131343B323131313B323130373B323130343B323130313B323039383B323039353B323039323B323038390D0A523D323038363B323038333B323038303B323037373B323037343B323037313B323036393B323036363B323036343B323036310D0A523D323035383B323035363B323035333B323035313B323034393B323034373B323034353B323034323B323034303B323033370D0A523D323033353B323033333B323033313B323032393B323032383B323032363B323032343B323032323B323032303B323031380D0A523D323031373B323031353B323031333B323031313B323031303B323030383B323030373B323030353B323030333B323030310D0A523D323030303B313939393B313939373B313939363B313939343B313939333B313939323B313939313B313938393B313938380D0A523D313938373B313938363B313938353B313938343B313938333B313938323B313938323B313938313B313938303B313937390D0A523D313937383B313937373B313937373B313937363B313937363B313937353B313937353B313937343B313937333B313937320D0A523D313937323B313937313B313937313B313937303B313937303B313936393B313936393B313936383B313936383B313936380D0A523D313936383B313936373B313936373B313936373B313936373B313936363B313936363B313936363B313936363B313936350D0A523D313936353B313936353B313936353B313936353B313936343B313936343B313936343B313936343B313936343B313936340D0A523D313936343B313936343B313936343B313936343B313936343B313936343B313936343B313936343B313936343B313936340D0A523D313936353B313936353B313936353B313936353B313936363B313936363B313936363B313936363B313936373B313936370D0A523D313936383B313936383B313936393B313936393B313937303B313937303B313937313B313937313B313937323B313937320D0A523D313937333B313937333B313937343B313937343B313937353B313937363B313937363B313937373B313937373B313937380D0A523D313937383B313937393B313937393B313938303B313938313B313938323B313938323B313938333B313938343B313938350D0A523D313938353B313938363B313938373B313938383B313938393B313939313B313939323B313939333B313939343B313939350D0A523D313939363B313939373B313939383B313939393B323030303B323030313B323030323B323030333B323030343B323030350D0A523D323030363B323030373B323030383B323031303B323031313B323031333B323031343B323031353B323031373B323031380D0A523D323032303B323032313B323032333B323032343B323032363B323032373B323033303B323033313B323033333B323033350D0A523D323033373B323033393B323034313B323034333B323034353B323034373B323034393B323035313B323035333B323035350D0A523D323035373B323036303B323036323B323036343B323036363B323036383B323037303B323037333B323037353B323037380D0A523D323038303B323038323B323038353B323038373B323038393B323039313B323039343B323039373B323039393B323130320D0A523D323130343B323130373B323130393B323131323B323131343B323131373B323132303B323132333B323132363B323132390D0A523D323133323B323133343B323133373B323134303B323134333B323134363B323134393B323135323B323135363B323135390D0A523D323136323B323136353B323136383B323137313B323137343B323137373B323138303B323138343B323138383B323139310D0A523D323139353B323139383B323230323B323230363B323231303B323231343B323231373B323232313B323232353B323233300D0A523D323233343B323233383B323234333B323234383B323235323B323235373B323236313B323236363B323237313B323237350D0A523D323238303B323238353B323239303B323239353B323330303B323330353B323331303B323331353B323332303B323332360D0A523D323333313B323333373B323334323B323334373B323335333B323335383B323336333B323336393B323337343B323338300D0A523D323338363B323339313B323339373B323430333B323430383B323431343B323431393B323432363B323433323B323433370D0A545243464D543D313B313030303B453B4C3B460D0A523D323634303B323634313B323634323B323634343B323634353B323634363B323634373B323634383B323634393B323635310D0A523D323635343B323635373B323635393B323636313B323636323B323636333B323636353B323636383B323637303B323637320D0A523D323637343B323637353B323637373B323637393B323638313B323638343B323638363B323638383B323639303B323639320D0A523D323639333B323639353B323639393B323730323B323730363B323730393B323731333B323731363B323731383B323732310D0A523D323732333B323732363B323732393B323733313B323733343B323733373B323734303B323734323B323734353B323734380D0A523D323735313B323735343B323735363B323735393B323736313B323736343B323736373B323737303B323737323B323737350D0A523D323737373B323737393B323738313B323738333B323738353B323738373B323738393B323739313B323739323B323739340D0A523D323739363B323739383B323830303B323830323B323830343B323830353B323830373B323830383B323831303B323831310D0A523D323831333B323831343B323831363B323831373B323831383B323831393B323831393B323831393B323831393B323831390D0A523D323831393B323831383B323831383B323831363B323831333B323831313B323830383B323830343B323830303B323739360D0A523D323739313B323738373B323738323B323737363B323737303B323736353B323735393B323735333B323734363B323733390D0A523D323733333B323732353B323731383B323731303B323730323B323639343B323638353B323637373B323636383B323635380D0A523D323635303B323634313B323633323B323632323B323631333B323630343B323539343B323538353B323537353B323536360D0A523D323535363B323534373B323533373B323532373B323531383B323530393B323530303B323439313B323438323B323437330D0A523D323436343B323435363B323434373B323433393B323433303B323432323B323431343B323430363B323339383B323338390D0A523D323338313B323337333B323336363B323335383B323334393B323334323B323333343B323332363B323331393B323331310D0A523D323330333B323239363B323238393B323238323B323237343B323236383B323236313B323235343B323234383B323234320D0A523D323233363B323232393B323232333B323231383B323231333B323230383B323230333B323139383B323139343B323138380D0A523D323138323B323137373B323137323B323136373B323136323B323135383B323135333B323134393B323134353B323134310D0A523D323133373B323133333B323132393B323132343B323132303B323131363B323131323B323130383B323130343B323130310D0A523D323039373B323039333B323038393B323038353B323038313B323037373B323037343B323037313B323036383B323036350D0A523D323036323B323035393B323035363B323035333B323035303B323034383B323034353B323034323B323033393B323033360D0A523D323033343B323033323B323033303B323032383B323032363B323032343B323032323B323032303B323031393B323031370D0A523D323031363B323031343B323031333B323031323B323031313B323030393B323030383B323030373B323030363B323030360D0A523D323030353B323030353B323030343B323030343B323030333B323030323B323030313B323030313B323030313B323030310D0A523D323030303B323030303B323030303B323030303B323030303B323030303B323030303B323030303B323030303B323030310D0A523D323030313B323030313B323030313B323030323B323030323B323030333B323030343B323030353B323030353B323030360D0A523D323030363B323030383B323030393B323031303B323031313B323031323B323031343B323031353B323031363B323031380D0A523D323031393B323032313B323032323B323032343B323032363B323032383B323033303B323033323B323033343B323033370D0A523D323033393B323034313B323034343B323034363B323034393B323035323B323035353B323035373B323036303B323036340D0A523D323036373B323037303B323037333B323037363B323038303B323038333B323038373B323039303B323039353B323039390D0A523D323130333B323130373B323131313B323131353B323131393B323132343B323132383B323133333B323133373B323134320D0A523D323134373B323135323B323135373B323136323B323136373B323137323B323137383B323138343B323138393B323139350D0A523D323230313B323230373B323231333B323231393B323232353B323233313B323233373B323234343B323235313B323235370D0A523D323236343B323237313B323237373B323238343B323239313B323239383B323330353B323331323B323331393B323332370D0A523D323333343B323334323B323334393B323335363B323336343B323337323B323338303B323338383B323339363B323430340D0A523D323431323B323432303B323432393B323433383B323434363B323435353B323436343B323437323B323438313B323439310D0A523D323530303B323530393B323531383B323532383B323533373B323534373B323535373B323536373B323537373B323538370D0A523D323539373B323630373B323631383B323632383B323633393B323634393B323636303B323637303B323638303B323639300D0A523D323730313B323731313B323732323B323733323B323734323B323735323B323736313B323737313B323738313B323739300D0A523D323739393B323830383B323831373B323832353B323833343B323834313B323834393B323835363B323836343B323837300D0A523D323837363B323838313B323838363B323839303B323839343B323839363B323839393B323930313B323930333B323930340D0A523D323930343B323930343B323930343B323930333B323930333B323930313B323839393B323839373B323839343B323839310D0A523D323838383B323838343B323838313B323837373B323837333B323836393B323836353B323836313B323835373B323835320D0A523D323834373B323834323B323833373B323833313B323832353B323832303B323831333B323830373B323830303B323739330D0A523D323738363B323737393B323737323B323736353B323735383B323735313B323734333B323733353B323732383B323732300D0A523D323731323B323730353B323639373B323639303B323638333B323637363B323636383B323636313B323635343B323634370D0A523D323634303B323633333B323632363B323631393B323631323B323630353B323539393B323539323B323538353B323537390D0A523D323537323B323536353B323535383B323535313B323534343B323533383B323533313B323532353B323531383B323531310D0A523D323530353B323439383B323439323B323438363B323437393B323437333B323436373B323436303B323435343B323434390D0A523D323434333B323433373B323433323B323432363B323431393B323431343B323430383B323430333B323339373B323339310D0A523D323338363B323338303B323337343B323336393B323336333B323335383B323335333B323334373B323334323B323333370D0A523D323333313B323332363B323332303B323331353B323331303B323330353B323330303B323239353B323239303B323238350D0A523D323238303B323237353B323237313B323236363B323236313B323235373B323235323B323234383B323234333B323233380D0A523D323233343B323233303B323232353B323232313B323231373B323231343B323231303B323230363B323230323B323139380D0A523D323139353B323139313B323138383B323138343B323138303B323137373B323137343B323137313B323136383B323136350D0A523D323136323B323135393B323135363B323135323B323134393B323134363B323134333B323134303B323133373B323133340D0A523D323133323B323132393B323132363B323132333B323132303B323131373B323131343B323131323B323130393B323130370D0A523D323130343B323130323B323039393B323039373B323039343B323039313B323038393B323038373B323038353B323038320D0A523D323038303B323037383B323037353B323037333B323037303B323036383B323036363B323036343B323036323B323036300D0A523D323035373B323035353B323035333B323035313B323034393B323034373B323034353B323034333B323034313B323033390D0A523D323033373B323033353B323033333B323033313B323033303B323032373B323032363B323032343B323032333B323032310D0A523D323032303B323031383B323031373B323031353B323031343B323031333B323031313B323031303B323030383B323030370D0A523D323030363B323030353B323030343B323030333B323030323B323030313B323030303B313939393B313939383B313939370D0A523D313939363B313939353B313939343B313939333B313939323B313939313B313938393B313938383B313938373B313938360D0A523D313938353B313938353B313938343B313938333B313938323B313938323B313938313B313938303B313937393B313937390D0A523D313937383B313937383B313937373B313937373B313937363B313937363B313937353B313937343B313937343B313937330D0A523D313937333B313937323B313937323B313937313B313937313B313937303B313937303B313936393B313936393B313936380D0A523D313936383B313936373B313936373B313936363B313936363B313936363B313936363B313936353B313936353B313936350D0A523D313936353B313936343B313936343B313936343B313936343B313936343B313936343B313936343B313936343B313936340D0A523D313936343B313936343B313936343B313936343B313936343B313936343B313936343B313936353B313936353B313936350D0A523D313936353B313936353B313936363B313936363B313936363B313936363B313936373B313936373B313936373B313936370D0A523D313936383B313936383B313936383B313936383B313936393B313936393B313937303B313937303B313937313B313937310D0A523D313937323B313937323B313937333B313937343B313937353B313937353B313937363B313937363B313937373B313937370D0A523D313937383B313937393B313938303B313938313B313938323B313938323B313938333B313938343B313938353B313938360D0A523D313938373B313938383B313938393B313939313B313939323B313939333B313939343B313939363B313939373B313939390D0A523D323030303B323030313B323030333B323030353B323030373B323030383B323031303B323031313B323031333B323031350D0A523D323031373B323031383B323032303B323032323B323032343B323032363B323032383B323032393B323033313B323033330D0A523D323033353B323033373B323034303B323034323B323034353B323034373B323034393B323035313B323035333B323035360D0A523D323035383B323036313B323036343B323036363B323036393B323037313B323037343B323037373B323038303B323038330D0A523D323038363B323038393B323039323B323039353B323039383B323130313B323130343B323130373B323131313B323131340D0A523D323131373B323132313B323132343B323132383B323133313B323133353B323133393B323134323B323134363B323135300D0A523D323135343B323135373B323136313B323136353B323136393B323137343B323137383B323138323B323138363B323139310D0A523D323139353B323139393B323230333B323230373B323231313B323231353B323231393B323232343B323232393B323233340D0A523D323233393B323234333B323234383B323235333B323235373B323236323B323236383B323237333B323237383B323238330D0A523D323238383B323239333B323239383B323330333B323330383B323331343B323331393B323332343B323332393B323333340D0A523D323333393B323334343B323334393B323335343B323335393B323336343B323336393B323337333B323337383B323338330D0A523D323338383B323339333B323339373B323430313B323430353B323431303B323431353B323431393B323432333B323432370D0A523D323433313B323433363B323434303B323434343B323434373B323435313B323435343B323435373B323436313B323436340D0A523D323436373B323437303B323437333B323437373B323438303B323438333B323438373B323439303B323439333B323439360D0A523D323439393B323530323B323530353B323530383B323531313B323531343B323531363B323531393B323532313B323532340D0A523D323532373B323532393B323533323B323533343B323533373B323533393B323534323B323534353B323534373B323535300D0A523D323535323B323535353B323535373B323536303B323536323B323536353B323536373B323536393B323537323B323537340D0A523D323537363B323537383B323538313B323538333B323538353B323538373B323538393B323539303B323539323B323539330D0A523D323539343B323539353B323539363B323539373B323539383B323539393B323539393B323539393B323539393B323630300D0A523D323630303B323630313B323630313B323630323B323630323B323630323B323630323B323630333B323630333B323630340D0A523D323630353B323630363B323630373B323630373B323630383B323630383B323630393B323631303B323631313B323631310D0A523D323631323B323631323B323631333B323631343B323631353B323631353B323631363B323631363B323631373B323631380D0A523D323632303B323632303B323632313B323632323B323632333B323632333B323632343B323632353B323632373B323632370D0A523D323632383B323632393B323633303B323633313B323633333B323633343B323633353B323633363B323633373B323633380D0A56424F583D34302E30333B34302E30330D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35382E30383B35382E30380D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                            }

                            if ($information_commande->precalibrage->calibre ==
                                13) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3134372E3732303B3134372E3732300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35312E33303B35312E33300D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323430343B323430393B323431343B323432303B323432353B323433313B323433363B323434313B323434373B323435330D0A523D323435393B323436353B323437313B323437383B323438343B323439303B323439363B323530333B323531303B323531370D0A523D323532343B323533313B323533373B323534343B323535313B323535373B323536343B323537303B323537363B323538320D0A523D323538383B323539343B323539393B323630353B323631303B323631363B323632313B323632353B323633313B323633360D0A523D323634313B323634363B323635313B323635363B323636313B323636363B323637323B323637383B323638333B323638390D0A523D323639353B323730303B323730363B323731333B323731393B323732353B323733323B323733383B323734353B323735320D0A523D323735383B323736353B323737323B323737383B323738343B323739303B323739363B323830303B323830353B323830370D0A523D323830393B323830373B323830343B323739353B323738353B323737303B323735343B323733353B323731353B323639350D0A523D323637353B323635333B323633323B323631303B323538393B323536383B323534373B323532373B323530383B323438380D0A523D323436393B323435303B323433313B323431333B323339353B323337373B323335393B323334323B323332353B323330380D0A523D323239323B323237363B323236303B323234343B323232393B323231333B323139383B323138333B323136393B323135340D0A523D323134303B323132373B323131333B323039393B323038353B323037323B323035393B323034363B323033343B323032320D0A523D323031303B313939383B313938373B313937363B313936343B313935333B313934323B313933323B313932313B313931310D0A523D313930313B313839323B313838323B313837323B313836333B313835343B313834353B313833363B313832383B313831390D0A523D313831313B313830333B313739353B313738373B313737393B313737313B313736343B313735363B313734393B313734320D0A523D313733363B313732393B313732313B313731353B313730393B313730323B313639363B313638393B313638333B313637370D0A523D313637313B313636353B313636303B313635343B313634383B313634333B313633373B313633323B313632373B313632320D0A523D313631373B313631313B313630363B313630323B313539373B313539333B313538383B313538343B313538303B313537350D0A523D313537313B313536373B313536333B313535393B313535353B313535313B313534373B313534343B313534303B313533370D0A523D313533333B313533303B313532373B313532333B313532303B313531383B313531353B313531323B313530393B313530370D0A523D313530343B313530313B313439383B313439353B313439333B313439313B313438393B313438363B313438343B313438320D0A523D313438303B313437383B313437363B313437343B313437323B313437303B313436383B313436373B313436353B313436340D0A523D313436323B313436313B313436303B313435393B313435383B313435373B313435363B313435353B313435343B313435330D0A523D313435323B313435323B313435313B313435313B313435303B313435303B313434393B313434393B313434383B313434380D0A523D313434383B313434383B313434383B313434383B313434383B313434383B313434383B313434383B313434383B313434380D0A523D313434383B313434383B313434383B313434393B313434393B313435303B313435303B313435313B313435313B313435320D0A523D313435323B313435333B313435333B313435343B313435363B313435373B313435383B313435393B313436303B313436310D0A523D313436323B313436343B313436353B313436363B313436383B313436393B313437313B313437333B313437353B313437370D0A523D313437383B313438303B313438333B313438353B313438373B313438393B313439313B313439343B313439363B313439380D0A523D313530303B313530323B313530343B313530363B313530383B313531303B313531333B313531353B313531383B313532320D0A523D313532353B313532393B313533323B313533353B313533383B313534313B313534343B313534373B313535303B313535330D0A523D313535373B313536313B313536353B313536393B313537333B313537383B313538323B313538373B313539313B313539360D0A523D313630313B313630363B313631313B313631363B313632313B313632363B313633323B313633383B313634333B313634390D0A523D313635363B313636313B313636373B313637323B313637383B313638353B313639313B313639383B313730343B313731300D0A523D313731373B313732343B313733303B313733383B313734353B313735323B313735393B313736373B313737343B313738320D0A523D313738393B313739373B313830353B313831333B313832313B313832393B313833383B313834363B313835353B313836340D0A523D313837333B313838333B313839323B313930313B313931313B313932323B313933323B313934333B313935343B313936340D0A523D313937363B313938373B313939383B323030393B323032313B323033333B323034363B323035393B323037313B323038340D0A523D323039383B323131313B323132353B323133393B323135333B323136373B323138323B323139373B323231323B323232370D0A523D323234343B323236303B323237373B323239343B323331313B323332383B323334363B323336343B323338323B323430300D0A523D323431393B323433383B323435373B323437373B323439383B323531383B323533393B323536313B323538333B323630350D0A523D323632383B323635313B323637343B323639363B323731373B323733343B323735313B323736323B323737333B323737390D0A523D323738353B323738393B323739323B323739333B323739343B323739323B323738393B323738353B323738313B323737360D0A523D323737303B323736343B323735383B323735323B323734363B323733393B323733333B323732373B323732313B323731350D0A523D323730393B323730333B323639383B323639323B323638373B323638323B323637363B323637313B323636363B323636310D0A523D323635363B323635323B323634373B323634333B323633383B323633323B323632383B323632343B323632303B323631350D0A523D323631313B323630373B323630343B323630313B323539383B323539353B323539323B323538383B323538353B323538320D0A523D323537393B323537363B323537343B323537323B323537303B323536383B323536363B323536353B323536343B323536330D0A523D323536313B323536303B323535393B323535393B323535383B323535383B323535373B323535373B323535363B323535360D0A523D323535353B323535353B323535353B323535353B323535353B323535353B323535353B323535353B323535353B323535350D0A523D323535363B323535373B323535373B323535383B323535383B323535393B323535393B323536303B323536313B323536330D0A523D323536343B323536363B323536373B323536383B323537303B323537313B323537333B323537353B323537373B323537390D0A523D323538313B323538343B323538363B323538393B323539313B323539333B323539363B323539383B323630313B323630340D0A523D323630373B323631303B323631343B323631373B323632313B323632353B323632393B323633333B323633373B323634320D0A523D323634363B323635313B323635363B323636303B323636353B323636393B323637353B323638303B323638353B323639300D0A523D323639363B323730313B323730373B323731333B323731393B323732353B323733323B323733383B323734353B323735320D0A523D323735383B323736353B323737323B323737393B323738363B323739323B323739393B323830343B323831303B323831340D0A523D323831383B323832303B323832323B323832303B323831383B323831323B323830353B323739323B323737383B323735390D0A523D323733393B323731363B323639343B323637323B323635303B323632383B323630363B323538353B323536353B323534350D0A523D323532353B323530363B323438363B323436373B323434373B323432393B323431313B323339323B323337343B323335370D0A523D323333393B323332323B323330353B323238393B323237343B323235383B323234333B323232373B323231313B323139370D0A523D323138323B323136383B323135333B323133393B323132353B323131323B323039393B323038353B323037333B323036300D0A523D323034373B323033353B323032333B323031323B323030303B313938393B313937383B313936363B313935363B313934350D0A523D313933343B313932333B313931323B313930323B313839333B313838343B313837353B313836353B313835363B313834360D0A523D313833363B313832373B313831383B313831303B313830313B313739333B313738363B313737383B313737303B313736330D0A523D313735363B313734393B313734313B313733353B313732383B313732323B313731363B313730393B313730333B313639380D0A523D313639323B313638363B313638303B313637343B313636383B313636333B313635373B313635323B313634373B313634320D0A523D313633373B313633313B313632363B313632313B313631363B313631323B313630373B313630323B313539383B313539340D0A523D313539303B313538363B313538313B313537373B313537333B313536393B313536353B313536313B313535373B313535340D0A523D313535303B313534373B313534343B313534303B313533373B313533343B313533313B313532383B313532353B313532320D0A523D313531393B313531363B313531323B313530393B313530373B313530343B313530323B313530303B313439383B313439350D0A523D313439323B313439303B313438383B313438373B313438353B313438333B313438313B313437393B313437373B313437360D0A523D313437343B313437333B313437313B313436393B313436383B313436373B313436363B313436353B313436343B313436330D0A523D313436313B313436313B313436303B313435393B313435383B313435383B313435373B313435373B313435363B313435360D0A523D313435353B313435353B313435353B313435353B313435343B313435343B313435343B313435343B313435333B313435330D0A523D313435333B313435333B313435333B313435333B313435333B313435333B313435333B313435343B313435343B313435350D0A523D313435353B313435353B313435353B313435363B313435363B313435373B313435383B313435393B313435393B313436300D0A523D313436303B313436323B313436333B313436343B313436353B313436363B313436373B313436383B313437303B313437320D0A523D313437333B313437353B313437363B313437383B313437393B313438313B313438333B313438353B313438373B313438390D0A523D313439313B313439333B313439363B313439383B313530303B313530323B313530353B313530373B313531303B313531340D0A523D313531373B313532303B313532333B313532363B313532393B313533323B313533363B313533393B313534333B313534360D0A523D313535303B313535343B313535383B313536323B313536363B313537303B313537343B313537383B313538333B313538370D0A523D313539323B313539363B313630313B313630353B313631303B313631353B313632303B313632353B313633303B313633360D0A523D313634323B313634373B313635333B313635383B313636343B313637303B313637353B313638323B313638383B313639340D0A523D313730303B313730363B313731323B313731393B313732363B313733323B313733393B313734363B313735333B313736310D0A523D313736383B313737353B313738323B313739303B313739383B313830353B313831333B313832323B313833303B313833380D0A523D313834363B313835353B313836343B313837333B313838333B313839323B313930313B313931303B313932303B313933300D0A523D313933393B313934393B313936303B313937303B313938313B313939323B323030333B323031343B323032353B323033360D0A523D323034383B323036303B323037323B323038343B323039373B323130393B323132323B323133353B323134373B323136300D0A523D323137343B323138373B323230303B323231343B323232373B323234303B323235333B323236353B323237373B323238380D0A523D323239393B323330383B323331363B323332333B323332393B323333333B323333363B323333383B323333393B323333390D0A523D323333383B323333373B323333363B323333353B323333333B323333313B323332393B323332373B323332353B323332330D0A523D323332313B323331383B323331363B323331333B323331313B323330383B323330363B323330343B323330313B323239390D0A523D323239383B323239363B323239353B323239343B323239333B323239323B323239313B323239303B323239303B323238390D0A523D323238383B323238373B323238373B323238363B323238363B323238363B323238363B323238353B323238353B323238350D0A523D323238353B323238353B323238353B323238353B323238353B323238363B323238363B323238373B323238373B323238380D0A523D323238393B323239303B323239313B323239323B323239343B323239353B323239373B323239383B323330303B323330310D0A523D323330333B323330353B323330373B323331303B323331323B323331343B323331373B323331393B323332323B323332340D0A523D323332373B323333303B323333333B323333363B323333393B323334323B323334363B323334393B323335333B323335370D0A523D323336313B323336353B323336393B323337333B323337373B323338323B323338363B323339303B323339353B323339390D0A545243464D543D313B313030303B453B4C3B460D0A523D323535363B323535353B323535353B323535353B323535353B323535353B323535353B323535353B323535353B323535350D0A523D323535353B323535363B323535363B323535373B323535373B323535383B323535383B323535393B323535393B323536300D0A523D323536313B323536333B323536343B323536353B323536363B323536383B323537303B323537323B323537343B323537360D0A523D323537393B323538323B323538353B323538383B323539323B323539353B323539383B323630313B323630343B323630370D0A523D323631313B323631353B323632303B323632343B323632383B323633323B323633383B323634333B323634373B323635320D0A523D323635363B323636313B323636363B323637313B323637363B323638323B323638373B323639323B323639383B323730330D0A523D323730393B323731353B323732313B323732373B323733333B323733393B323734363B323735323B323735383B323736340D0A523D323737303B323737363B323738313B323738353B323738393B323739323B323739343B323739333B323739323B323738390D0A523D323738353B323737393B323737333B323736323B323735313B323733343B323731373B323639363B323637343B323635310D0A523D323632383B323630353B323538333B323536313B323533393B323531383B323439383B323437373B323435373B323433380D0A523D323431393B323430303B323338323B323336343B323334363B323332383B323331313B323239343B323237373B323236300D0A523D323234343B323232373B323231323B323139373B323138323B323136373B323135333B323133393B323132353B323131310D0A523D323039383B323038343B323037313B323035393B323034363B323033333B323032313B323030393B313939383B313938370D0A523D313937363B313936343B313935343B313934333B313933323B313932323B313931313B313930313B313839323B313838330D0A523D313837333B313836343B313835353B313834363B313833383B313832393B313832313B313831333B313830353B313739370D0A523D313738393B313738323B313737343B313736373B313735393B313735323B313734353B313733383B313733303B313732340D0A523D313731373B313731303B313730343B313639383B313639313B313638353B313637383B313637323B313636373B313636310D0A523D313635363B313634393B313634333B313633383B313633323B313632363B313632313B313631363B313631313B313630360D0A523D313630313B313539363B313539313B313538373B313538323B313537383B313537333B313536393B313536353B313536310D0A523D313535373B313535333B313535303B313534373B313534343B313534313B313533383B313533353B313533323B313532390D0A523D313532353B313532323B313531383B313531353B313531333B313531303B313530383B313530363B313530343B313530320D0A523D313530303B313439383B313439363B313439343B313439313B313438393B313438373B313438353B313438333B313438300D0A523D313437383B313437373B313437353B313437333B313437313B313436393B313436383B313436363B313436353B313436340D0A523D313436323B313436313B313436303B313435393B313435383B313435373B313435363B313435343B313435333B313435330D0A523D313435323B313435323B313435313B313435313B313435303B313435303B313434393B313434393B313434383B313434380D0A523D313434383B313434383B313434383B313434383B313434383B313434383B313434383B313434383B313434383B313434380D0A523D313434383B313434383B313434383B313434393B313434393B313435303B313435303B313435313B313435313B313435320D0A523D313435323B313435333B313435343B313435353B313435363B313435373B313435383B313435393B313436303B313436310D0A523D313436323B313436343B313436353B313436373B313436383B313437303B313437323B313437343B313437363B313437380D0A523D313438303B313438323B313438343B313438363B313438393B313439313B313439333B313439353B313439383B313530310D0A523D313530343B313530373B313530393B313531323B313531353B313531383B313532303B313532333B313532373B313533300D0A523D313533333B313533373B313534303B313534343B313534373B313535313B313535353B313535393B313536333B313536370D0A523D313537313B313537353B313538303B313538343B313538383B313539333B313539373B313630323B313630363B313631310D0A523D313631373B313632323B313632373B313633323B313633373B313634333B313634383B313635343B313636303B313636350D0A523D313637313B313637373B313638333B313638393B313639363B313730323B313730393B313731353B313732313B313732390D0A523D313733363B313734323B313734393B313735363B313736343B313737313B313737393B313738373B313739353B313830330D0A523D313831313B313831393B313832383B313833363B313834353B313835343B313836333B313837323B313838323B313839320D0A523D313930313B313931313B313932313B313933323B313934323B313935333B313936343B313937363B313938373B313939380D0A523D323031303B323032323B323033343B323034363B323035393B323037323B323038353B323039393B323131333B323132370D0A523D323134303B323135343B323136393B323138333B323139383B323231333B323232393B323234343B323236303B323237360D0A523D323239323B323330383B323332353B323334323B323335393B323337373B323339353B323431333B323433313B323435300D0A523D323436393B323438383B323530383B323532373B323534373B323536383B323538393B323631303B323633323B323635330D0A523D323637353B323639353B323731353B323733353B323735343B323737303B323738353B323739353B323830343B323830370D0A523D323830393B323830373B323830353B323830303B323739363B323739303B323738343B323737383B323737323B323736350D0A523D323735383B323735323B323734353B323733383B323733323B323732353B323731393B323731333B323730363B323730300D0A523D323639353B323638393B323638333B323637383B323637323B323636363B323636313B323635363B323635313B323634360D0A523D323634313B323633363B323633313B323632353B323632313B323631363B323631303B323630353B323539393B323539340D0A523D323538383B323538323B323537363B323537303B323536343B323535373B323535313B323534343B323533373B323533310D0A523D323532343B323531373B323531303B323530333B323439363B323439303B323438343B323437383B323437313B323436350D0A523D323435393B323435333B323434373B323434313B323433363B323433313B323432353B323432303B323431343B323430390D0A523D323430343B323339393B323339353B323339303B323338363B323338323B323337373B323337333B323336393B323336350D0A523D323336313B323335373B323335333B323334393B323334363B323334323B323333393B323333363B323333333B323333300D0A523D323332373B323332343B323332323B323331393B323331373B323331343B323331323B323331303B323330373B323330350D0A523D323330333B323330313B323330303B323239383B323239373B323239353B323239343B323239323B323239313B323239300D0A523D323238393B323238383B323238373B323238373B323238363B323238363B323238353B323238353B323238353B323238350D0A523D323238353B323238353B323238353B323238353B323238363B323238363B323238363B323238363B323238373B323238370D0A523D323238383B323238393B323239303B323239303B323239313B323239323B323239333B323239343B323239353B323239360D0A523D323239383B323239393B323330313B323330343B323330363B323330383B323331313B323331333B323331363B323331380D0A523D323332313B323332333B323332353B323332373B323332393B323333313B323333333B323333353B323333363B323333370D0A523D323333383B323333393B323333393B323333383B323333363B323333333B323332393B323332333B323331363B323330380D0A523D323239393B323238383B323237373B323236353B323235333B323234303B323232373B323231343B323230303B323138370D0A523D323137343B323136303B323134373B323133353B323132323B323130393B323039373B323038343B323037323B323036300D0A523D323034383B323033363B323032353B323031343B323030333B313939323B313938313B313937303B313936303B313934390D0A523D313933393B313933303B313932303B313931303B313930313B313839323B313838333B313837333B313836343B313835350D0A523D313834363B313833383B313833303B313832323B313831333B313830353B313739383B313739303B313738323B313737350D0A523D313736383B313736313B313735333B313734363B313733393B313733323B313732363B313731393B313731323B313730360D0A523D313730303B313639343B313638383B313638323B313637353B313637303B313636343B313635383B313635333B313634370D0A523D313634323B313633363B313633303B313632353B313632303B313631353B313631303B313630353B313630313B313539360D0A523D313539323B313538373B313538333B313537383B313537343B313537303B313536363B313536323B313535383B313535340D0A523D313535303B313534363B313534333B313533393B313533363B313533323B313532393B313532363B313532333B313532300D0A523D313531373B313531343B313531303B313530373B313530353B313530323B313530303B313439383B313439363B313439330D0A523D313439313B313438393B313438373B313438353B313438333B313438313B313437393B313437383B313437363B313437350D0A523D313437333B313437323B313437303B313436383B313436373B313436363B313436353B313436343B313436333B313436320D0A523D313436303B313436303B313435393B313435393B313435383B313435373B313435363B313435363B313435353B313435350D0A523D313435353B313435353B313435343B313435343B313435333B313435333B313435333B313435333B313435333B313435330D0A523D313435333B313435333B313435333B313435343B313435343B313435343B313435343B313435353B313435353B313435350D0A523D313435353B313435363B313435363B313435373B313435373B313435383B313435383B313435393B313436303B313436310D0A523D313436313B313436333B313436343B313436353B313436363B313436373B313436383B313436393B313437313B313437330D0A523D313437343B313437363B313437373B313437393B313438313B313438333B313438353B313438373B313438383B313439300D0A523D313439323B313439353B313439383B313530303B313530323B313530343B313530373B313530393B313531323B313531360D0A523D313531393B313532323B313532353B313532383B313533313B313533343B313533373B313534303B313534343B313534370D0A523D313535303B313535343B313535373B313536313B313536353B313536393B313537333B313537373B313538313B313538360D0A523D313539303B313539343B313539383B313630323B313630373B313631323B313631363B313632313B313632363B313633310D0A523D313633373B313634323B313634373B313635323B313635373B313636333B313636383B313637343B313638303B313638360D0A523D313639323B313639383B313730333B313730393B313731363B313732323B313732383B313733353B313734313B313734390D0A523D313735363B313736333B313737303B313737383B313738363B313739333B313830313B313831303B313831383B313832370D0A523D313833363B313834363B313835363B313836353B313837353B313838343B313839333B313930323B313931323B313932330D0A523D313933343B313934353B313935363B313936363B313937383B313938393B323030303B323031323B323032333B323033350D0A523D323034373B323036303B323037333B323038353B323039393B323131323B323132353B323133393B323135333B323136380D0A523D323138323B323139373B323231313B323232373B323234333B323235383B323237343B323238393B323330353B323332320D0A523D323333393B323335373B323337343B323339323B323431313B323432393B323434373B323436373B323438363B323530360D0A523D323532353B323534353B323536353B323538353B323630363B323632383B323635303B323637323B323639343B323731360D0A523D323733393B323735393B323737383B323739323B323830353B323831323B323831383B323832303B323832323B323832300D0A523D323831383B323831343B323831303B323830343B323739393B323739323B323738363B323737393B323737323B323736350D0A523D323735383B323735323B323734353B323733383B323733323B323732353B323731393B323731333B323730373B323730310D0A523D323639363B323639303B323638353B323638303B323637353B323636393B323636353B323636303B323635363B323635310D0A523D323634363B323634323B323633373B323633333B323632393B323632353B323632313B323631373B323631343B323631300D0A523D323630373B323630343B323630313B323539383B323539363B323539333B323539313B323538393B323538363B323538340D0A523D323538313B323537393B323537373B323537353B323537333B323537313B323537303B323536383B323536373B323536360D0A523D323536343B323536333B323536313B323536303B323535393B323535393B323535383B323535383B323535373B323535370D0A56424F583D32392E30373B32392E30370D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35362E34343B35362E34340D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                            }

                            if ($information_commande->precalibrage->calibre ==
                                14) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3134332E3336303B3134332E3336300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35312E30333B35312E30330D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323531303B323531323B323531343B323531373B323531393B323532313B323532333B323532363B323532393B323533320D0A523D323533353B323533373B323534303B323534333B323534363B323534393B323535323B323535353B323535373B323536300D0A523D323536333B323536373B323537303B323537333B323537373B323538303B323538333B323538373B323539303B323539330D0A523D323539373B323630303B323630343B323630373B323631313B323631343B323631383B323632323B323632363B323633300D0A523D323633343B323633383B323634323B323634353B323634393B323635323B323635363B323636303B323636333B323636360D0A523D323636393B323637323B323637353B323637383B323638303B323638333B323638353B323638373B323638383B323639300D0A523D323639313B323639323B323639333B323639333B323639343B323639343B323639343B323639333B323639323B323639310D0A523D323638393B323638383B323638363B323638333B323638303B323637363B323637323B323636373B323636323B323635340D0A523D323634373B323633383B323632383B323631383B323630373B323539353B323538333B323537313B323535393B323534350D0A523D323533323B323531393B323530353B323439323B323437393B323436353B323435323B323433393B323432353B323431320D0A523D323339393B323338353B323337323B323336303B323334373B323333343B323332313B323330393B323239373B323238340D0A523D323237313B323235393B323234373B323233353B323232343B323231323B323230303B323138383B323137373B323136360D0A523D323135343B323134333B323133323B323132323B323131313B323130313B323039313B323038313B323037313B323036310D0A523D323035313B323034323B323033323B323032323B323031343B323030353B313939363B313938373B313937383B313936390D0A523D313936303B313935323B313934343B313933363B313932373B313931393B313931323B313930343B313839363B313838390D0A523D313838313B313837343B313836363B313836303B313835333B313834363B313833393B313833323B313832363B313832300D0A523D313831333B313830373B313830313B313739353B313738383B313738333B313737373B313737313B313736363B313736300D0A523D313735353B313734393B313734333B313733383B313733333B313732383B313732333B313731383B313731333B313730380D0A523D313730333B313639383B313639343B313638393B313638353B313638313B313637363B313637323B313636383B313636350D0A523D313636313B313635373B313635333B313634393B313634363B313634323B313633393B313633353B313633323B313632390D0A523D313632363B313632333B313631393B313631363B313631343B313631313B313630393B313630363B313630343B313630310D0A523D313539383B313539363B313539343B313539323B313539303B313538383B313538353B313538333B313538313B313537390D0A523D313537373B313537363B313537343B313537323B313537313B313536393B313536383B313536373B313536363B313536340D0A523D313536333B313536313B313536303B313535393B313535383B313535383B313535373B313535363B313535353B313535350D0A523D313535343B313535343B313535333B313535333B313535323B313535323B313535313B313535313B313535313B313535310D0A523D313535313B313535313B313535313B313535313B313535313B313535323B313535323B313535333B313535333B313535340D0A523D313535343B313535353B313535353B313535363B313535363B313535373B313535383B313535393B313535393B313536300D0A523D313536323B313536333B313536353B313536363B313536373B313536383B313537303B313537313B313537333B313537340D0A523D313537353B313537363B313537373B313537393B313538303B313538323B313538343B313538363B313538383B313539300D0A523D313539323B313539343B313539363B313539383B313630303B313630323B313630343B313630363B313630383B313631310D0A523D313631343B313631373B313632303B313632333B313632363B313632393B313633323B313633353B313633393B313634320D0A523D313634363B313635303B313635333B313635373B313636313B313636353B313636393B313637343B313637383B313638330D0A523D313638383B313639323B313639373B313730313B313730363B313731313B313731363B313732313B313732353B313733300D0A523D313733363B313734313B313734373B313735323B313735383B313736343B313736393B313737353B313738313B313738360D0A523D313739323B313739383B313830343B313831313B313831383B313832343B313833313B313833373B313834333B313835310D0A523D313835383B313836343B313837313B313837383B313838363B313839333B313930313B313930393B313931363B313932340D0A523D313933323B313934313B313935303B313935383B313936363B313937353B313938343B313939333B323030323B323031320D0A523D323032313B323033303B323034303B323035303B323035393B323036393B323037393B323038393B323130303B323131300D0A523D323132313B323133323B323134323B323135333B323136343B323137363B323138373B323139383B323231313B323232330D0A523D323233353B323234383B323236303B323237333B323238363B323239393B323331333B323332363B323334303B323335340D0A523D323336383B323338313B323339353B323430393B323432343B323433383B323435323B323436373B323438313B323439350D0A523D323531303B323532343B323533373B323535313B323536343B323537363B323538383B323539383B323630383B323631370D0A523D323632363B323633323B323633393B323634353B323635313B323635353B323635393B323636323B323636353B323636370D0A523D323637303B323637323B323637343B323637353B323637373B323637383B323637393B323638303B323638303B323638310D0A523D323638303B323637393B323637383B323637373B323637343B323637323B323636393B323636373B323636343B323636310D0A523D323635383B323635353B323635313B323634383B323634353B323634313B323633393B323633363B323633333B323632390D0A523D323632353B323632323B323631383B323631353B323631323B323630393B323630353B323630323B323630303B323539370D0A523D323539353B323539323B323539303B323538373B323538353B323538333B323538303B323537383B323537353B323537330D0A523D323537303B323536383B323536373B323536353B323536333B323536313B323536303B323535383B323535363B323535350D0A523D323535343B323535333B323535313B323535303B323534393B323534383B323534373B323534373B323534363B323534360D0A523D323534353B323534343B323534343B323534333B323534323B323534313B323534313B323534303B323534303B323533390D0A523D323533383B323533383B323533383B323533373B323533373B323533363B323533363B323533363B323533363B323533350D0A523D323533353B323533353B323533353B323533353B323533353B323533353B323533353B323533353B323533353B323533360D0A523D323533363B323533373B323533373B323533373B323533373B323533383B323533383B323533393B323533393B323534300D0A523D323534303B323534313B323534323B323534333B323534343B323534353B323534363B323534363B323534373B323534380D0A523D323534393B323535303B323535313B323535313B323535323B323535323B323535333B323535333B323535343B323535340D0A523D323535353B323535353B323535353B323535353B323535353B323535353B323535343B323535343B323535333B323535330D0A523D323535323B323535313B323534393B323534383B323534363B323534343B323534313B323533383B323533353B323533320D0A523D323532393B323532343B323531393B323531343B323530383B323530313B323439333B323438353B323437373B323436380D0A523D323436303B323435303B323434313B323433323B323432333B323431333B323430333B323339333B323338333B323337330D0A523D323336323B323335323B323334313B323333313B323332303B323330393B323239383B323238383B323237373B323236370D0A523D323235373B323234363B323233353B323232343B323231343B323230333B323139323B323138313B323137313B323136300D0A523D323135303B323134303B323133303B323131393B323130393B323039393B323038393B323038303B323036393B323035390D0A523D323035303B323034313B323033313B323032313B323031323B323030333B313939343B313938353B313937363B313936370D0A523D313935383B313935303B313934313B313933323B313932343B313931353B313930363B313839383B313839303B313838330D0A523D313837373B313837303B313836323B313835353B313834363B313833393B313833323B313832353B313831383B313831320D0A523D313830353B313739393B313739333B313738373B313738303B313737353B313736393B313736333B313735383B313735320D0A523D313734373B313734323B313733373B313733323B313732373B313732333B313731383B313731333B313730393B313730350D0A523D313730313B313639363B313639313B313638373B313638323B313637383B313637333B313636393B313636353B313636310D0A523D313635373B313635333B313635303B313634363B313634333B313634303B313633373B313633333B313633303B313632370D0A523D313632343B313632313B313631383B313631353B313631323B313630393B313630373B313630343B313630323B313539390D0A523D313539363B313539343B313539323B313539303B313538383B313538363B313538343B313538323B313538303B313537380D0A523D313537363B313537343B313537323B313537303B313536393B313536383B313536373B313536363B313536353B313536330D0A523D313536323B313536303B313535393B313535393B313535383B313535373B313535363B313535363B313535353B313535350D0A523D313535343B313535343B313535333B313535333B313535323B313535323B313535313B313535313B313535313B313535310D0A523D313535313B313535313B313535313B313535313B313535313B313535313B313535313B313535323B313535323B313535330D0A523D313535333B313535343B313535343B313535353B313535353B313535363B313535363B313535373B313535383B313535390D0A523D313536303B313536323B313536333B313536343B313536353B313536363B313536383B313536393B313537313B313537330D0A523D313537343B313537363B313537383B313538303B313538323B313538343B313538363B313538383B313539303B313539330D0A523D313539353B313539383B313630303B313630323B313630353B313630383B313631313B313631333B313631363B313631390D0A523D313632323B313632353B313632383B313633313B313633343B313633373B313634313B313634343B313634373B313635300D0A523D313635343B313635383B313636323B313636363B313637303B313637343B313637383B313638323B313638373B313639310D0A523D313639353B313639393B313730343B313730383B313731333B313731383B313732323B313732373B313733323B313733370D0A523D313734333B313734383B313735333B313735383B313736333B313736393B313737343B313738303B313738363B313739310D0A523D313739373B313830333B313830393B313831353B313832323B313832383B313833353B313834313B313834373B313835340D0A523D313836313B313836383B313837353B313838323B313838393B313839373B313930343B313931313B313931383B313932360D0A523D313933343B313934313B313935303B313935383B313936363B313937343B313938333B313939313B323030303B323030380D0A523D323031363B323032353B323033343B323034333B323035323B323036313B323037303B323037383B323038383B323039370D0A523D323130363B323131353B323132353B323133343B323134333B323135323B323136323B323137323B323138313B323139300D0A523D323139393B323230373B323231373B323232363B323233343B323234333B323235313B323235393B323236383B323237360D0A523D323238343B323239313B323239393B323330353B323331323B323331383B323332343B323332393B323333353B323334300D0A523D323334343B323334383B323335333B323335373B323336313B323336343B323336373B323337303B323337333B323337360D0A523D323337383B323338313B323338333B323338353B323338373B323338393B323339313B323339333B323339363B323339380D0A523D323339393B323430313B323430333B323430353B323430373B323430383B323431303B323431323B323431343B323431350D0A523D323431373B323431393B323432313B323432323B323432333B323432353B323432363B323432383B323432393B323433300D0A523D323433313B323433333B323433343B323433353B323433363B323433383B323433393B323434303B323434313B323434330D0A523D323434343B323434353B323434373B323434383B323434393B323435303B323435323B323435333B323435343B323435350D0A523D323435373B323435383B323435393B323436313B323436323B323436343B323436353B323436373B323436383B323437300D0A523D323437313B323437333B323437353B323437373B323437383B323438303B323438323B323438343B323438363B323438380D0A523D323439303B323439323B323439343B323439363B323439393B323530303B323530323B323530343B323530363B323530380D0A545243464D543D313B313030303B453B4C3B460D0A523D323534353B323534363B323534363B323534373B323534373B323534383B323534393B323535303B323535313B323535330D0A523D323535343B323535353B323535363B323535383B323536303B323536313B323536333B323536353B323536373B323536380D0A523D323537303B323537333B323537353B323537383B323538303B323538333B323538353B323538373B323539303B323539320D0A523D323539353B323539373B323630303B323630323B323630353B323630393B323631323B323631353B323631383B323632320D0A523D323632353B323632393B323633333B323633363B323633393B323634313B323634353B323634383B323635313B323635350D0A523D323635383B323636313B323636343B323636373B323636393B323637323B323637343B323637373B323637383B323637390D0A523D323638303B323638313B323638303B323638303B323637393B323637383B323637373B323637353B323637343B323637320D0A523D323637303B323636373B323636353B323636323B323635393B323635353B323635313B323634353B323633393B323633320D0A523D323632363B323631373B323630383B323539383B323538383B323537363B323536343B323535313B323533373B323532340D0A523D323531303B323439353B323438313B323436373B323435323B323433383B323432343B323430393B323339353B323338310D0A523D323336383B323335343B323334303B323332363B323331333B323239393B323238363B323237333B323236303B323234380D0A523D323233353B323232333B323231313B323139383B323138373B323137363B323136343B323135333B323134323B323133320D0A523D323132313B323131303B323130303B323038393B323037393B323036393B323035393B323035303B323034303B323033300D0A523D323032313B323031323B323030323B313939333B313938343B313937353B313936363B313935383B313935303B313934310D0A523D313933323B313932343B313931363B313930393B313930313B313839333B313838363B313837383B313837313B313836340D0A523D313835383B313835313B313834333B313833373B313833313B313832343B313831383B313831313B313830343B313739380D0A523D313739323B313738363B313738313B313737353B313736393B313736343B313735383B313735323B313734373B313734310D0A523D313733363B313733303B313732353B313732313B313731363B313731313B313730363B313730313B313639373B313639320D0A523D313638383B313638333B313637383B313637343B313636393B313636353B313636313B313635373B313635333B313635300D0A523D313634363B313634323B313633393B313633353B313633323B313632393B313632363B313632333B313632303B313631370D0A523D313631343B313631313B313630383B313630363B313630343B313630323B313630303B313539383B313539363B313539340D0A523D313539323B313539303B313538383B313538363B313538343B313538323B313538303B313537393B313537373B313537360D0A523D313537353B313537343B313537333B313537313B313537303B313536383B313536373B313536363B313536353B313536330D0A523D313536323B313536303B313535393B313535393B313535383B313535373B313535363B313535363B313535353B313535350D0A523D313535343B313535343B313535333B313535333B313535323B313535323B313535313B313535313B313535313B313535310D0A523D313535313B313535313B313535313B313535313B313535313B313535323B313535323B313535333B313535333B313535340D0A523D313535343B313535353B313535353B313535363B313535373B313535383B313535383B313535393B313536303B313536310D0A523D313536333B313536343B313536363B313536373B313536383B313536393B313537313B313537323B313537343B313537360D0A523D313537373B313537393B313538313B313538333B313538353B313538383B313539303B313539323B313539343B313539360D0A523D313539383B313630313B313630343B313630363B313630393B313631313B313631343B313631363B313631393B313632330D0A523D313632363B313632393B313633323B313633353B313633393B313634323B313634363B313634393B313635333B313635370D0A523D313636313B313636353B313636383B313637323B313637363B313638313B313638353B313638393B313639343B313639380D0A523D313730333B313730383B313731333B313731383B313732333B313732383B313733333B313733383B313734333B313734390D0A523D313735353B313736303B313736363B313737313B313737373B313738333B313738383B313739353B313830313B313830370D0A523D313831333B313832303B313832363B313833323B313833393B313834363B313835333B313836303B313836363B313837340D0A523D313838313B313838393B313839363B313930343B313931323B313931393B313932373B313933363B313934343B313935320D0A523D313936303B313936393B313937383B313938373B313939363B323030353B323031343B323032323B323033323B323034320D0A523D323035313B323036313B323037313B323038313B323039313B323130313B323131313B323132323B323133323B323134330D0A523D323135343B323136363B323137373B323138383B323230303B323231323B323232343B323233353B323234373B323235390D0A523D323237313B323238343B323239373B323330393B323332313B323333343B323334373B323336303B323337323B323338350D0A523D323339393B323431323B323432353B323433393B323435323B323436353B323437393B323439323B323530353B323531390D0A523D323533323B323534353B323535393B323537313B323538333B323539353B323630373B323631383B323632383B323633380D0A523D323634373B323635343B323636323B323636373B323637323B323637363B323638303B323638333B323638363B323638380D0A523D323638393B323639313B323639323B323639333B323639343B323639343B323639343B323639333B323639333B323639320D0A523D323639313B323639303B323638383B323638373B323638353B323638333B323638303B323637383B323637353B323637320D0A523D323636393B323636363B323636333B323636303B323635363B323635323B323634393B323634353B323634323B323633380D0A523D323633343B323633303B323632363B323632323B323631383B323631343B323631313B323630373B323630343B323630300D0A523D323539373B323539333B323539303B323538373B323538333B323538303B323537373B323537333B323537303B323536370D0A523D323536333B323536303B323535373B323535353B323535323B323534393B323534363B323534333B323534303B323533370D0A523D323533353B323533323B323532393B323532363B323532333B323532313B323531393B323531373B323531343B323531320D0A523D323531303B323530383B323530363B323530343B323530323B323530303B323439393B323439363B323439343B323439320D0A523D323439303B323438383B323438363B323438343B323438323B323438303B323437383B323437373B323437353B323437330D0A523D323437313B323437303B323436383B323436373B323436353B323436343B323436323B323436313B323435393B323435380D0A523D323435373B323435353B323435343B323435333B323435323B323435303B323434393B323434383B323434373B323434350D0A523D323434343B323434333B323434313B323434303B323433393B323433383B323433363B323433353B323433343B323433330D0A523D323433313B323433303B323432393B323432383B323432363B323432353B323432333B323432323B323432313B323431390D0A523D323431373B323431353B323431343B323431323B323431303B323430383B323430373B323430353B323430333B323430310D0A523D323339393B323339383B323339363B323339333B323339313B323338393B323338373B323338353B323338333B323338310D0A523D323337383B323337363B323337333B323337303B323336373B323336343B323336313B323335373B323335333B323334380D0A523D323334343B323334303B323333353B323332393B323332343B323331383B323331323B323330353B323239393B323239310D0A523D323238343B323237363B323236383B323235393B323235313B323234333B323233343B323232363B323231373B323230370D0A523D323139393B323139303B323138313B323137323B323136323B323135323B323134333B323133343B323132353B323131350D0A523D323130363B323039373B323038383B323037383B323037303B323036313B323035323B323034333B323033343B323032350D0A523D323031363B323030383B323030303B313939313B313938333B313937343B313936363B313935383B313935303B313934310D0A523D313933343B313932363B313931383B313931313B313930343B313839373B313838393B313838323B313837353B313836380D0A523D313836313B313835343B313834373B313834313B313833353B313832383B313832323B313831353B313830393B313830330D0A523D313739373B313739313B313738363B313738303B313737343B313736393B313736333B313735383B313735333B313734380D0A523D313734333B313733373B313733323B313732373B313732323B313731383B313731333B313730383B313730343B313639390D0A523D313639353B313639313B313638373B313638323B313637383B313637343B313637303B313636363B313636323B313635380D0A523D313635343B313635303B313634373B313634343B313634313B313633373B313633343B313633313B313632383B313632350D0A523D313632323B313631393B313631363B313631333B313631313B313630383B313630353B313630323B313630303B313539380D0A523D313539353B313539333B313539303B313538383B313538363B313538343B313538323B313538303B313537383B313537360D0A523D313537343B313537333B313537313B313536393B313536383B313536363B313536353B313536343B313536333B313536320D0A523D313536303B313535393B313535383B313535373B313535363B313535363B313535353B313535353B313535343B313535340D0A523D313535333B313535333B313535323B313535323B313535313B313535313B313535313B313535313B313535313B313535310D0A523D313535313B313535313B313535313B313535313B313535313B313535323B313535323B313535333B313535333B313535340D0A523D313535343B313535353B313535353B313535363B313535363B313535373B313535383B313535393B313535393B313536300D0A523D313536323B313536333B313536353B313536363B313536373B313536383B313536393B313537303B313537323B313537340D0A523D313537363B313537383B313538303B313538323B313538343B313538363B313538383B313539303B313539323B313539340D0A523D313539363B313539393B313630323B313630343B313630373B313630393B313631323B313631353B313631383B313632310D0A523D313632343B313632373B313633303B313633333B313633373B313634303B313634333B313634363B313635303B313635330D0A523D313635373B313636313B313636353B313636393B313637333B313637383B313638323B313638373B313639313B313639360D0A523D313730313B313730353B313730393B313731333B313731383B313732333B313732373B313733323B313733373B313734320D0A523D313734373B313735323B313735383B313736333B313736393B313737353B313738303B313738373B313739333B313739390D0A523D313830353B313831323B313831383B313832353B313833323B313833393B313834363B313835353B313836323B313837300D0A523D313837373B313838333B313839303B313839383B313930363B313931353B313932343B313933323B313934313B313935300D0A523D313935383B313936373B313937363B313938353B313939343B323030333B323031323B323032313B323033313B323034310D0A523D323035303B323035393B323036393B323038303B323038393B323039393B323130393B323131393B323133303B323134300D0A523D323135303B323136303B323137313B323138313B323139323B323230333B323231343B323232343B323233353B323234360D0A523D323235373B323236373B323237373B323238383B323239383B323330393B323332303B323333313B323334313B323335320D0A523D323336323B323337333B323338333B323339333B323430333B323431333B323432333B323433323B323434313B323435300D0A523D323436303B323436383B323437373B323438353B323439333B323530313B323530383B323531343B323531393B323532340D0A523D323532393B323533323B323533353B323533383B323534313B323534343B323534363B323534383B323534393B323535310D0A523D323535323B323535333B323535333B323535343B323535343B323535353B323535353B323535353B323535353B323535350D0A523D323535353B323535343B323535343B323535333B323535333B323535323B323535323B323535313B323535313B323535300D0A523D323534393B323534383B323534373B323534363B323534363B323534353B323534343B323534333B323534323B323534310D0A523D323534303B323534303B323533393B323533393B323533383B323533383B323533373B323533373B323533373B323533370D0A523D323533363B323533363B323533353B323533353B323533353B323533353B323533353B323533353B323533353B323533350D0A523D323533353B323533353B323533363B323533363B323533363B323533363B323533373B323533373B323533383B323533380D0A523D323533383B323533393B323534303B323534303B323534313B323534313B323534323B323534333B323534343B323534340D0A56424F583D33312E30333B33312E30330D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35332E38373B35332E38370D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                            }

                            if ($information_commande->precalibrage->calibre ==
                                15) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3132382E3239303B3132382E3239300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D34382E30363B34382E30360D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323337333B323337363B323337383B323338313B323338343B323338363B323338383B323339303B323339313B323339330D0A523D323339363B323339383B323430313B323430343B323430373B323430393B323431313B323431323B323431343B323431370D0A523D323431393B323432323B323432353B323432383B323433303B323433323B323433343B323433353B323433373B323433380D0A523D323433393B323434313B323434313B323434323B323434313B323434303B323433393B323433383B323433383B323433370D0A523D323433373B323433363B323433353B323433353B323433343B323433343B323433333B323433323B323433313B323433300D0A523D323432383B323432353B323432323B323431393B323431363B323431333B323430383B323430333B323339373B323339310D0A523D323338343B323337373B323337303B323336323B323335353B323334383B323334303B323333333B323332363B323331380D0A523D323331303B323330323B323239343B323238363B323237373B323236393B323236303B323235323B323234333B323233350D0A523D323232373B323231393B323231313B323230333B323139353B323138373B323137383B323137303B323136323B323135340D0A523D323134373B323133393B323133313B323132343B323131363B323130393B323130323B323039353B323038383B323038310D0A523D323037353B323036383B323036323B323035363B323035303B323034343B323033383B323033323B323032363B323032300D0A523D323031343B323030393B323030333B313939373B313939313B313938353B313938303B313937343B313936383B313936320D0A523D313935363B313935303B313934343B313933383B313933333B313932373B313932313B313931363B313931303B313930340D0A523D313839393B313839333B313838383B313838333B313837373B313837323B313836363B313836313B313835353B313835300D0A523D313834353B313834303B313833353B313833303B313832353B313832313B313831363B313831323B313830373B313830330D0A523D313739393B313739343B313739303B313738353B313738313B313737373B313737343B313737303B313736363B313736320D0A523D313735393B313735353B313735313B313734383B313734353B313734323B313733383B313733353B313733323B313732380D0A523D313732353B313732323B313731393B313731363B313731323B313730393B313730363B313730333B313730303B313639370D0A523D313639343B313639323B313638393B313638373B313638343B313638313B313637393B313637363B313637333B313637300D0A523D313636383B313636363B313636333B313636313B313635393B313635373B313635353B313635333B313635313B313634390D0A523D313634383B313634373B313634363B313634353B313634343B313634333B313634313B313633393B313633383B313633360D0A523D313633343B313633333B313633313B313633303B313632393B313632383B313632363B313632353B313632333B313632320D0A523D313632303B313631393B313631383B313631373B313631363B313631353B313631343B313631343B313631333B313631330D0A523D313631313B313631313B313631303B313630393B313630383B313630383B313630373B313630363B313630353B313630350D0A523D313630343B313630343B313630343B313630343B313630333B313630333B313630323B313630323B313630323B313630320D0A523D313630323B313630323B313630323B313630323B313630323B313630323B313630323B313630333B313630333B313630330D0A523D313630333B313630343B313630343B313630353B313630353B313630363B313630373B313630383B313630383B313630390D0A523D313630393B313631313B313631323B313631333B313631343B313631353B313631363B313631373B313631393B313632300D0A523D313632313B313632333B313632343B313632363B313632373B313632393B313633303B313633323B313633333B313633350D0A523D313633363B313633383B313634303B313634323B313634343B313634353B313634373B313634393B313635313B313635330D0A523D313635353B313635383B313636303B313636333B313636353B313636373B313636393B313637313B313637333B313637360D0A523D313637383B313638303B313638333B313638353B313638383B313639313B313639343B313639373B313730303B313730330D0A523D313730363B313730393B313731323B313731353B313731383B313732323B313732353B313732393B313733333B313733360D0A523D313734303B313734333B313734373B313735313B313735353B313735393B313736323B313736363B313737303B313737350D0A523D313737393B313738333B313738373B313739323B313739363B313830313B313830353B313831303B313831353B313831390D0A523D313832343B313832383B313833333B313833383B313834343B313834393B313835353B313836303B313836353B313837310D0A523D313837373B313838323B313838383B313839343B313930303B313930363B313931323B313931383B313932343B313933300D0A523D313933373B313934333B313935303B313935363B313936323B313936393B313937363B313938323B313938393B313939360D0A523D323030323B323030393B323031363B323032333B323033303B323033373B323034343B323035313B323035383B323036350D0A523D323037333B323038303B323038383B323039353B323130323B323130393B323131373B323132343B323133323B323133390D0A523D323134363B323135343B323136313B323136393B323137373B323138343B323139323B323230303B323230373B323231350D0A523D323232333B323233303B323233383B323234363B323235343B323236323B323237303B323237383B323238353B323239330D0A523D323330313B323330383B323331353B323332333B323333303B323333373B323334343B323335313B323335383B323336340D0A523D323337313B323337383B323338343B323339303B323339373B323430333B323431303B323431363B323432323B323432370D0A523D323433333B323433393B323434343B323434383B323435333B323435373B323436303B323436343B323436373B323436390D0A523D323437313B323437333B323437333B323437343B323437343B323437333B323437323B323437313B323436393B323436370D0A523D323436353B323436343B323436313B323435393B323435363B323435343B323435323B323435303B323434383B323434350D0A523D323434333B323434313B323433393B323433363B323433343B323433323B323433303B323432383B323432363B323432340D0A523D323432323B323432303B323431383B323431363B323431333B323431313B323430393B323430363B323430343B323430310D0A523D323339383B323339353B323339323B323338393B323338363B323338323B323337393B323337373B323337343B323337310D0A523D323336383B323336353B323336323B323335393B323335363B323335333B323335303B323334363B323334333B323334300D0A523D323333373B323333343B323333303B323332373B323332343B323332303B323331373B323331343B323331303B323330360D0A523D323330323B323239393B323239353B323239313B323238373B323238333B323237393B323237343B323237303B323236350D0A523D323236313B323235373B323235333B323234393B323234343B323234303B323233353B323233313B323232363B323232310D0A523D323231373B323231323B323230373B323230333B323139383B323139333B323138373B323138323B323137373B323137320D0A523D323136373B323136323B323135373B323135323B323134363B323134303B323133353B323132393B323132333B323131380D0A523D323131323B323130363B323130313B323039353B323039303B323038343B323037373B323037323B323036363B323036310D0A523D323035363B323035303B323034343B323033393B323033333B323032383B323032323B323031363B323031313B323030350D0A523D313939393B313939343B313938393B313938343B313937393B313937343B313936393B313936343B313935383B313935330D0A523D313934373B313934333B313933383B313933333B313932383B313932333B313931383B313931333B313930383B313930340D0A523D313839393B313839353B313839303B313838363B313838323B313837373B313837333B313836393B313836353B313836310D0A523D313835363B313835323B313834393B313834353B313834313B313833373B313833333B313832393B313832353B313832320D0A523D313831373B313831333B313830393B313830353B313830323B313739383B313739343B313739313B313738373B313738340D0A523D313738303B313737373B313737333B313737303B313736373B313736333B313736303B313735373B313735343B313735310D0A523D313734383B313734353B313734323B313733393B313733363B313733333B313733303B313732383B313732353B313732320D0A523D313731393B313731363B313731343B313731313B313730393B313730363B313730343B313730313B313639393B313639360D0A523D313639343B313639323B313638393B313638373B313638353B313638333B313638303B313637383B313637363B313637340D0A523D313637323B313637303B313636383B313636363B313636353B313636333B313636313B313635393B313635363B313635340D0A523D313635333B313635313B313634393B313634383B313634363B313634353B313634333B313634313B313633393B313633380D0A523D313633363B313633353B313633333B313633323B313633303B313632383B313632373B313632353B313632343B313632330D0A523D313632323B313632303B313631393B313631383B313631373B313631363B313631353B313631343B313631333B313631320D0A523D313631313B313631303B313630393B313630393B313630383B313630373B313630363B313630363B313630353B313630350D0A523D313630343B313630343B313630343B313630343B313630333B313630333B313630323B313630323B313630313B313630310D0A523D313630303B313630303B313630303B313630303B313630303B313630303B313630303B313630303B313630303B313630300D0A523D313539393B313539393B313539393B313539393B313630303B313630303B313630303B313630303B313630313B313630310D0A523D313630313B313630323B313630323B313630323B313630323B313630333B313630333B313630343B313630343B313630350D0A523D313630353B313630353B313630353B313630363B313630363B313630373B313630383B313630393B313630393B313631300D0A523D313631313B313631323B313631333B313631343B313631353B313631363B313631373B313631383B313631393B313632300D0A523D313632313B313632323B313632333B313632353B313632363B313632373B313632383B313633303B313633313B313633330D0A523D313633343B313633363B313633383B313633393B313634313B313634323B313634343B313634363B313634383B313634390D0A523D313635313B313635333B313635353B313635373B313635393B313636313B313636333B313636353B313636373B313636390D0A523D313637313B313637333B313637353B313637373B313637393B313638313B313638343B313638363B313638383B313639310D0A523D313639333B313639353B313639373B313730303B313730323B313730353B313730383B313731313B313731343B313731360D0A523D313731383B313732303B313732333B313732353B313732383B313733313B313733333B313733363B313733383B313734310D0A523D313734333B313734363B313734393B313735323B313735353B313735373B313736303B313736323B313736353B313736370D0A523D313737303B313737333B313737363B313737393B313738313B313738353B313738383B313739313B313739343B313739370D0A523D313830303B313830333B313830363B313830393B313831323B313831343B313831383B313832313B313832343B313832380D0A523D313833313B313833353B313833383B313834313B313834343B313834383B313835323B313835353B313835393B313836320D0A523D313836353B313836393B313837333B313837373B313838303B313838343B313838373B313839313B313839353B313839390D0A523D313930333B313930373B313931313B313931353B313931393B313932333B313932373B313933313B313933353B313933390D0A523D313934333B313934383B313935323B313935373B313936323B313936363B313937303B313937343B313937393B313938330D0A523D313938373B313939313B313939363B323030303B323030353B323030393B323031333B323031383B323032323B323032370D0A523D323033313B323033353B323034303B323034343B323034383B323035323B323035363B323036313B323036353B323036390D0A523D323037333B323037373B323038313B323038363B323039303B323039343B323130303B323130353B323131313B323131360D0A523D323132313B323132363B323133303B323133353B323133393B323134333B323134383B323135333B323135393B323136350D0A523D323137313B323137373B323138323B323138373B323139323B323139383B323230333B323230383B323231333B323231380D0A523D323232333B323232373B323233323B323233383B323234333B323234383B323235333B323235383B323236333B323236380D0A523D323237333B323237383B323238333B323238383B323239333B323239383B323330333B323330383B323331333B323331370D0A523D323332313B323332353B323332393B323333333B323333363B323333383B323334303B323334333B323334353B323334380D0A523D323335303B323335333B323335363B323335393B323336323B323336343B323336363B323336373B323336383B323337300D0A545243464D543D313B313030303B453B4C3B460D0A523D323336383B323337313B323337343B323337373B323337393B323338323B323338363B323338393B323339323B323339350D0A523D323339383B323430313B323430343B323430363B323430393B323431313B323431333B323431363B323431383B323432300D0A523D323432323B323432343B323432363B323432383B323433303B323433323B323433343B323433363B323433393B323434310D0A523D323434333B323434353B323434383B323435303B323435323B323435343B323435363B323435393B323436313B323436340D0A523D323436353B323436373B323436393B323437313B323437323B323437333B323437343B323437343B323437333B323437330D0A523D323437313B323436393B323436373B323436343B323436303B323435373B323435333B323434383B323434343B323433390D0A523D323433333B323432373B323432323B323431363B323431303B323430333B323339373B323339303B323338343B323337380D0A523D323337313B323336343B323335383B323335313B323334343B323333373B323333303B323332333B323331353B323330380D0A523D323330313B323239333B323238353B323237383B323237303B323236323B323235343B323234363B323233383B323233300D0A523D323232333B323231353B323230373B323230303B323139323B323138343B323137373B323136393B323136313B323135340D0A523D323134363B323133393B323133323B323132343B323131373B323130393B323130323B323039353B323038383B323038300D0A523D323037333B323036353B323035383B323035313B323034343B323033373B323033303B323032333B323031363B323030390D0A523D323030323B313939363B313938393B313938323B313937363B313936393B313936323B313935363B313935303B313934330D0A523D313933373B313933303B313932343B313931383B313931323B313930363B313930303B313839343B313838383B313838320D0A523D313837373B313837313B313836353B313836303B313835353B313834393B313834343B313833383B313833333B313832380D0A523D313832343B313831393B313831353B313831303B313830353B313830313B313739363B313739323B313738373B313738330D0A523D313737393B313737353B313737303B313736363B313736323B313735393B313735353B313735313B313734373B313734330D0A523D313734303B313733363B313733333B313732393B313732353B313732323B313731383B313731353B313731323B313730390D0A523D313730363B313730333B313730303B313639373B313639343B313639313B313638383B313638353B313638333B313638300D0A523D313637383B313637363B313637333B313637313B313636393B313636373B313636353B313636333B313636303B313635380D0A523D313635353B313635333B313635313B313634393B313634373B313634353B313634343B313634323B313634303B313633380D0A523D313633363B313633353B313633333B313633323B313633303B313632393B313632373B313632363B313632343B313632330D0A523D313632313B313632303B313631393B313631373B313631363B313631353B313631343B313631333B313631323B313631310D0A523D313630393B313630393B313630383B313630383B313630373B313630363B313630353B313630353B313630343B313630340D0A523D313630333B313630333B313630333B313630333B313630323B313630323B313630323B313630323B313630323B313630320D0A523D313630323B313630323B313630323B313630323B313630323B313630333B313630333B313630343B313630343B313630340D0A523D313630343B313630353B313630353B313630363B313630373B313630383B313630383B313630393B313631303B313631310D0A523D313631313B313631333B313631333B313631343B313631343B313631353B313631363B313631373B313631383B313631390D0A523D313632303B313632323B313632333B313632353B313632363B313632383B313632393B313633303B313633313B313633330D0A523D313633343B313633363B313633383B313633393B313634313B313634333B313634343B313634353B313634363B313634370D0A523D313634383B313634393B313635313B313635333B313635353B313635373B313635393B313636313B313636333B313636360D0A523D313636383B313637303B313637333B313637363B313637393B313638313B313638343B313638373B313638393B313639320D0A523D313639343B313639373B313730303B313730333B313730363B313730393B313731323B313731363B313731393B313732320D0A523D313732353B313732383B313733323B313733353B313733383B313734323B313734353B313734383B313735313B313735350D0A523D313735393B313736323B313736363B313737303B313737343B313737373B313738313B313738353B313739303B313739340D0A523D313739393B313830333B313830373B313831323B313831363B313832313B313832353B313833303B313833353B313834300D0A523D313834353B313835303B313835353B313836313B313836363B313837323B313837373B313838333B313838383B313839330D0A523D313839393B313930343B313931303B313931363B313932313B313932373B313933333B313933383B313934343B313935300D0A523D313935363B313936323B313936383B313937343B313938303B313938353B313939313B313939373B323030333B323030390D0A523D323031343B323032303B323032363B323033323B323033383B323034343B323035303B323035363B323036323B323036380D0A523D323037353B323038313B323038383B323039353B323130323B323130393B323131363B323132343B323133313B323133390D0A523D323134373B323135343B323136323B323137303B323137383B323138373B323139353B323230333B323231313B323231390D0A523D323232373B323233353B323234333B323235323B323236303B323236393B323237373B323238363B323239343B323330320D0A523D323331303B323331383B323332363B323333333B323334303B323334383B323335353B323336323B323337303B323337370D0A523D323338343B323339313B323339373B323430333B323430383B323431333B323431363B323431393B323432323B323432350D0A523D323432383B323433303B323433313B323433323B323433333B323433343B323433343B323433353B323433353B323433360D0A523D323433373B323433373B323433383B323433383B323433393B323434303B323434313B323434323B323434313B323434310D0A523D323433393B323433383B323433373B323433353B323433343B323433323B323433303B323432383B323432353B323432320D0A523D323431393B323431373B323431343B323431323B323431313B323430393B323430373B323430343B323430313B323339380D0A523D323339363B323339333B323339313B323339303B323338383B323338363B323338343B323338313B323337383B323337360D0A523D323337333B323337303B323336383B323336373B323336363B323336343B323336323B323335393B323335363B323335330D0A523D323335303B323334383B323334353B323334333B323334303B323333383B323333363B323333333B323332393B323332350D0A523D323332313B323331373B323331333B323330383B323330333B323239383B323239333B323238383B323238333B323237380D0A523D323237333B323236383B323236333B323235383B323235333B323234383B323234333B323233383B323233323B323232370D0A523D323232333B323231383B323231333B323230383B323230333B323139383B323139323B323138373B323138323B323137370D0A523D323137313B323136353B323135393B323135333B323134383B323134333B323133393B323133353B323133303B323132360D0A523D323132313B323131363B323131313B323130353B323130303B323039343B323039303B323038363B323038313B323037370D0A523D323037333B323036393B323036353B323036313B323035363B323035323B323034383B323034343B323034303B323033350D0A523D323033313B323032373B323032323B323031383B323031333B323030393B323030353B323030303B313939363B313939310D0A523D313938373B313938333B313937393B313937343B313937303B313936363B313936323B313935373B313935323B313934380D0A523D313934333B313933393B313933353B313933313B313932373B313932333B313931393B313931353B313931313B313930370D0A523D313930333B313839393B313839353B313839313B313838373B313838343B313838303B313837373B313837333B313836390D0A523D313836353B313836323B313835393B313835353B313835323B313834383B313834343B313834313B313833383B313833350D0A523D313833313B313832383B313832343B313832313B313831383B313831343B313831323B313830393B313830363B313830330D0A523D313830303B313739373B313739343B313739313B313738383B313738353B313738313B313737393B313737363B313737330D0A523D313737303B313736373B313736353B313736323B313736303B313735373B313735353B313735323B313734393B313734360D0A523D313734333B313734313B313733383B313733363B313733333B313733313B313732383B313732353B313732333B313732300D0A523D313731383B313731363B313731343B313731313B313730383B313730353B313730323B313730303B313639373B313639350D0A523D313639333B313639313B313638383B313638363B313638343B313638313B313637393B313637373B313637353B313637330D0A523D313637313B313636393B313636373B313636353B313636333B313636313B313635393B313635373B313635353B313635330D0A523D313635313B313634393B313634383B313634363B313634343B313634323B313634313B313633393B313633383B313633360D0A523D313633343B313633333B313633313B313633303B313632383B313632373B313632363B313632353B313632333B313632320D0A523D313632313B313632303B313631393B313631383B313631373B313631363B313631353B313631343B313631333B313631320D0A523D313631313B313631303B313630393B313630393B313630383B313630373B313630363B313630363B313630353B313630350D0A523D313630353B313630353B313630343B313630343B313630333B313630333B313630323B313630323B313630323B313630320D0A523D313630313B313630313B313630313B313630303B313630303B313630303B313630303B313539393B313539393B313539390D0A523D313539393B313630303B313630303B313630303B313630303B313630303B313630303B313630303B313630303B313630300D0A523D313630303B313630313B313630313B313630323B313630323B313630333B313630333B313630343B313630343B313630340D0A523D313630343B313630353B313630353B313630363B313630363B313630373B313630383B313630393B313630393B313631300D0A523D313631313B313631323B313631333B313631343B313631353B313631363B313631373B313631383B313631393B313632300D0A523D313632323B313632333B313632343B313632353B313632373B313632383B313633303B313633323B313633333B313633350D0A523D313633363B313633383B313633393B313634313B313634333B313634353B313634363B313634383B313634393B313635310D0A523D313635333B313635343B313635363B313635393B313636313B313636333B313636353B313636363B313636383B313637300D0A523D313637323B313637343B313637363B313637383B313638303B313638333B313638353B313638373B313638393B313639320D0A523D313639343B313639363B313639393B313730313B313730343B313730363B313730393B313731313B313731343B313731360D0A523D313731393B313732323B313732353B313732383B313733303B313733333B313733363B313733393B313734323B313734350D0A523D313734383B313735313B313735343B313735373B313736303B313736333B313736373B313737303B313737333B313737370D0A523D313738303B313738343B313738373B313739313B313739343B313739383B313830323B313830353B313830393B313831330D0A523D313831373B313832323B313832353B313832393B313833333B313833373B313834313B313834353B313834393B313835320D0A523D313835363B313836313B313836353B313836393B313837333B313837373B313838323B313838363B313839303B313839350D0A523D313839393B313930343B313930383B313931333B313931383B313932333B313932383B313933333B313933383B313934330D0A523D313934373B313935333B313935383B313936343B313936393B313937343B313937393B313938343B313938393B313939340D0A523D313939393B323030353B323031313B323031363B323032323B323032383B323033333B323033393B323034343B323035300D0A523D323035363B323036313B323036363B323037323B323037373B323038343B323039303B323039353B323130313B323130360D0A523D323131323B323131383B323132333B323132393B323133353B323134303B323134363B323135323B323135373B323136320D0A523D323136373B323137323B323137373B323138323B323138373B323139333B323139383B323230333B323230373B323231320D0A523D323231373B323232313B323232363B323233313B323233353B323234303B323234343B323234393B323235333B323235370D0A523D323236313B323236353B323237303B323237343B323237393B323238333B323238373B323239313B323239353B323239390D0A523D323330323B323330363B323331303B323331343B323331373B323332303B323332343B323332373B323333303B323333340D0A523D323333373B323334303B323334333B323334363B323335303B323335333B323335363B323335393B323336323B323336350D0A56424F583D33322E30343B33322E30340D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D34392E34383B34392E34380D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                            }

                            if ($information_commande->precalibrage->calibre ==
                                16) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3134322E3036303B3134322E3036300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35322E31393B35322E31390D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323535323B323535363B323536303B323536353B323536393B323537333B323537383B323538323B323538363B323538390D0A523D323539333B323539363B323630303B323630333B323630363B323630393B323631323B323631353B323631383B323632310D0A523D323632343B323632383B323633313B323633343B323633373B323634303B323634333B323634363B323634393B323635320D0A523D323635363B323635393B323636333B323636363B323637303B323637333B323637373B323638323B323638363B323639300D0A523D323639343B323639383B323730333B323730373B323731323B323731363B323732313B323732363B323733313B323733360D0A523D323734313B323734363B323735323B323735373B323736333B323736393B323737343B323738303B323738363B323739330D0A523D323739393B323830363B323831333B323832303B323832363B323833323B323833383B323834303B323834303B323833320D0A523D323831393B323830333B323738353B323736353B323734353B323732353B323730343B323638333B323636333B323634320D0A523D323632313B323630313B323538313B323536313B323534313B323532323B323530333B323438343B323436353B323434370D0A523D323432383B323431303B323339333B323337363B323335393B323334323B323332353B323330393B323239333B323237370D0A523D323236323B323234373B323233313B323231363B323230313B323138373B323137333B323135393B323134353B323133310D0A523D323131373B323130343B323039303B323037383B323036353B323035323B323034303B323032373B323031353B323030330D0A523D313939313B313937393B313936383B313935373B313934353B313933343B313932333B313931333B313930323B313839320D0A523D313838323B313837333B313836333B313835333B313834343B313833353B313832363B313831383B313830393B313830300D0A523D313739313B313738333B313737353B313736373B313735393B313735313B313734343B313733363B313732383B313732310D0A523D313731343B313730373B313639393B313639333B313638363B313637393B313637333B313636363B313635393B313635330D0A523D313634373B313634313B313633353B313632393B313632323B313631373B313631313B313630363B313630313B313539350D0A523D313539303B313538343B313537393B313537353B313537303B313536353B313536303B313535353B313535303B313534360D0A523D313534323B313533373B313533333B313532383B313532343B313532303B313531363B313531333B313530393B313530360D0A523D313530323B313439383B313439353B313439313B313438383B313438353B313438323B313437393B313437363B313437330D0A523D313437303B313436373B313436333B313436303B313435383B313435353B313435333B313435303B313434373B313434340D0A523D313434323B313434303B313433373B313433353B313433333B313433313B313432393B313432373B313432353B313432330D0A523D313432313B313431393B313431373B313431353B313431343B313431333B313431323B313431303B313430393B313430370D0A523D313430363B313430343B313430333B313430323B313430313B313430303B313339393B313339383B313339373B313339360D0A523D313339353B313339343B313339333B313339333B313339323B313339323B313339313B313339313B313339303B313339300D0A523D313338393B313338393B313338393B313338383B313338383B313338383B313338383B313338383B313338383B313338370D0A523D313338373B313338373B313338373B313338373B313338373B313338373B313338373B313338383B313338383B313338390D0A523D313338393B313338393B313339303B313339313B313339313B313339323B313339333B313339343B313339343B313339350D0A523D313339363B313339373B313339383B313339393B313430303B313430313B313430323B313430333B313430333B313430340D0A523D313430343B313430353B313430363B313430373B313430393B313431303B313431323B313431343B313431373B313431390D0A523D313432323B313432343B313432363B313432383B313433303B313433323B313433343B313433363B313433373B313433390D0A523D313434323B313434343B313434373B313435303B313435333B313435353B313435383B313436313B313436343B313436370D0A523D313437303B313437333B313437373B313438303B313438333B313438373B313439303B313439343B313439383B313530320D0A523D313530363B313531303B313531343B313531383B313532323B313532373B313533313B313533353B313534303B313534340D0A523D313534393B313535333B313535383B313536333B313536373B313537323B313537363B313538313B313538363B313539310D0A523D313539363B313630313B313630363B313631323B313631373B313632333B313632383B313633343B313633393B313634350D0A523D313635313B313635363B313636323B313636393B313637353B313638313B313638373B313639343B313730303B313730370D0A523D313731333B313731393B313732363B313733343B313734313B313734383B313735353B313736323B313737313B313737390D0A523D313738363B313739343B313830323B313831313B313831393B313832373B313833353B313834343B313835333B313836320D0A523D313837313B313837393B313838393B313839383B313930383B313931383B313932373B313933373B313934373B313935370D0A523D313936373B313937383B313938383B313939393B323031313B323032323B323033333B323034353B323035373B323036390D0A523D323038313B323039333B323130363B323131393B323133323B323134353B323135383B323137323B323138353B323139390D0A523D323231333B323232373B323234323B323235373B323237323B323238373B323330323B323331383B323333333B323334390D0A523D323336353B323338313B323339373B323431333B323433303B323434363B323436333B323438303B323439383B323531350D0A523D323533333B323535303B323536383B323538363B323630333B323632313B323633383B323635353B323637303B323638360D0A523D323639353B323730323B323730313B323639393B323639373B323639343B323639313B323638373B323638343B323638310D0A523D323637383B323637353B323637323B323636393B323636363B323636333B323636303B323635373B323635343B323635310D0A523D323634383B323634353B323634323B323633393B323633373B323633353B323633333B323633313B323633303B323632380D0A523D323632353B323632333B323632313B323631393B323631383B323631373B323631363B323631353B323631343B323631330D0A523D323631313B323631303B323630393B323630393B323630383B323630383B323630393B323630393B323630393B323630390D0A523D323630393B323631303B323631303B323631303B323631303B323631313B323631313B323631323B323631323B323631330D0A523D323631343B323631353B323631363B323631373B323631393B323632303B323632323B323632333B323632353B323632360D0A523D323632383B323633303B323633323B323633343B323633363B323633393B323634323B323634343B323634373B323634390D0A523D323635323B323635343B323635383B323636313B323636343B323636383B323637313B323637353B323637383B323638320D0A523D323638353B323638393B323639333B323639373B323730313B323730353B323730393B323731343B323731383B323732330D0A523D323732373B323733323B323733363B323734303B323734343B323734373B323734353B323733393B323732353B323730390D0A523D323639323B323637343B323635353B323633373B323631393B323630313B323538323B323536333B323534353B323532370D0A523D323530393B323439313B323437343B323435363B323433393B323432323B323430363B323338393B323337333B323335370D0A523D323334313B323332363B323331303B323239363B323238313B323236363B323235313B323233363B323232313B323230370D0A523D323139333B323138303B323136363B323135333B323134303B323132363B323131333B323130313B323038393B323037370D0A523D323036353B323035343B323034323B323033303B323031393B323030383B313939373B313938363B313937353B313936350D0A523D313935353B313934343B313933343B313932353B313931353B313930343B313839353B313838373B313837383B313836380D0A523D313836303B313835313B313834323B313833323B313832333B313831333B313830343B313739363B313738383B313738300D0A523D313737333B313736363B313735393B313735323B313734343B313733373B313733303B313732333B313731373B313731310D0A523D313730333B313639363B313638383B313638313B313637353B313636393B313636333B313635373B313635313B313634360D0A523D313634303B313633353B313633303B313632343B313631393B313631333B313630383B313630343B313539393B313539340D0A523D313539303B313538353B313538313B313537363B313537323B313536383B313536333B313535393B313535353B313535310D0A523D313534383B313534343B313534303B313533363B313533323B313532393B313532353B313532323B313531383B313531340D0A523D313531313B313530373B313530343B313530313B313439383B313439343B313439313B313438383B313438343B313438310D0A523D313437393B313437363B313437333B313437303B313436373B313436353B313436323B313436303B313435373B313435350D0A523D313435323B313434393B313434373B313434353B313434333B313434313B313433393B313433373B313433353B313433330D0A523D313433313B313433303B313432383B313432363B313432343B313432333B313432313B313432303B313431383B313431370D0A523D313431363B313431353B313431333B313431323B313431313B313431303B313430393B313430383B313430373B313430370D0A523D313430353B313430353B313430343B313430333B313430323B313430323B313430313B313430313B313430303B313430300D0A523D313339393B313339393B313339393B313339393B313339383B313339383B313339383B313339383B313339383B313339380D0A523D313339373B313339373B313339373B313339383B313339383B313339383B313339383B313339393B313339393B313339390D0A523D313339393B313430303B313430303B313430313B313430313B313430323B313430333B313430343B313430343B313430350D0A523D313430363B313430383B313430393B313431303B313431313B313431323B313431333B313431343B313431363B313431380D0A523D313431393B313432313B313432323B313432343B313432353B313432373B313432393B313433313B313433323B313433340D0A523D313433363B313433383B313434313B313434333B313434353B313434373B313435303B313435323B313435343B313435360D0A523D313435393B313436323B313436353B313436383B313437303B313437333B313437363B313437393B313438323B313438350D0A523D313438383B313439323B313439353B313439393B313530323B313530363B313531303B313531333B313531373B313532310D0A523D313532353B313532393B313533333B313533373B313534313B313534353B313534393B313535333B313535373B313536320D0A523D313536373B313537313B313537363B313538313B313538363B313539313B313539363B313630313B313630373B313631320D0A523D313631373B313632333B313632383B313633343B313633393B313634353B313635313B313635373B313636333B313636390D0A523D313637353B313638323B313638383B313639353B313730313B313730383B313731353B313732323B313732393B313733360D0A523D313734343B313735313B313735393B313736373B313737353B313738323B313739303B313739383B313830373B313831360D0A523D313832343B313833333B313834323B313835323B313836313B313837303B313837393B313838383B313839383B313930380D0A523D313931383B313932373B313933383B313934383B313935393B313937303B313938303B313939313B323030323B323031340D0A523D323032353B323033363B323034383B323036303B323037323B323038353B323039373B323131303B323132323B323133350D0A523D323134383B323136313B323137343B323138373B323230303B323231333B323232363B323233393B323235323B323236360D0A523D323237393B323239323B323330353B323331363B323332383B323333393B323335303B323335383B323336353B323336390D0A523D323337323B323337343B323337353B323337363B323337363B323337363B323337363B323337363B323337363B323337360D0A523D323337363B323337353B323337353B323337363B323337363B323337373B323337373B323337373B323337373B323337380D0A523D323337383B323337393B323337393B323338303B323338313B323338323B323338333B323338343B323338353B323338360D0A523D323338373B323338393B323339303B323339323B323339333B323339353B323339363B323339383B323430303B323430320D0A523D323430343B323430363B323430383B323431303B323431333B323431353B323431373B323432303B323432333B323432360D0A523D323432383B323433313B323433343B323433373B323434303B323434333B323434373B323435313B323435353B323435390D0A523D323436323B323436363B323437303B323437343B323437383B323438333B323438373B323439313B323439363B323530300D0A523D323530343B323530393B323531333B323531383B323532333B323532383B323533333B323533373B323534323B323534370D0A545243464D543D313B313030303B453B4C3B460D0A523D323630393B323630393B323630393B323630393B323630393B323630383B323630383B323630393B323630393B323631300D0A523D323631313B323631333B323631343B323631353B323631363B323631373B323631383B323631393B323632313B323632330D0A523D323632353B323632383B323633303B323633313B323633333B323633353B323633373B323633393B323634323B323634350D0A523D323634383B323635313B323635343B323635373B323636303B323636333B323636363B323636393B323637323B323637350D0A523D323637383B323638313B323638343B323638373B323639313B323639343B323639373B323639393B323730313B323730320D0A523D323639353B323638363B323637303B323635353B323633383B323632313B323630333B323538363B323536383B323535300D0A523D323533333B323531353B323439383B323438303B323436333B323434363B323433303B323431333B323339373B323338310D0A523D323336353B323334393B323333333B323331383B323330323B323238373B323237323B323235373B323234323B323232370D0A523D323231333B323139393B323138353B323137323B323135383B323134353B323133323B323131393B323130363B323039330D0A523D323038313B323036393B323035373B323034353B323033333B323032323B323031313B313939393B313938383B313937380D0A523D313936373B313935373B313934373B313933373B313932373B313931383B313930383B313839383B313838393B313837390D0A523D313837313B313836323B313835333B313834343B313833353B313832373B313831393B313831313B313830323B313739340D0A523D313738363B313737393B313737313B313736323B313735353B313734383B313734313B313733343B313732363B313731390D0A523D313731333B313730373B313730303B313639343B313638373B313638313B313637353B313636393B313636323B313635360D0A523D313635313B313634353B313633393B313633343B313632383B313632333B313631373B313631323B313630363B313630310D0A523D313539363B313539313B313538363B313538313B313537363B313537323B313536373B313536333B313535383B313535330D0A523D313534393B313534343B313534303B313533353B313533313B313532373B313532323B313531383B313531343B313531300D0A523D313530363B313530323B313439383B313439343B313439303B313438373B313438333B313438303B313437373B313437330D0A523D313437303B313436373B313436343B313436313B313435383B313435353B313435333B313435303B313434373B313434340D0A523D313434323B313433393B313433373B313433363B313433343B313433323B313433303B313432383B313432363B313432340D0A523D313432323B313431393B313431373B313431343B313431323B313431303B313430393B313430373B313430363B313430350D0A523D313430343B313430343B313430333B313430333B313430323B313430313B313430303B313339393B313339383B313339370D0A523D313339363B313339353B313339343B313339343B313339333B313339323B313339313B313339313B313339303B313338390D0A523D313338393B313338393B313338383B313338383B313338373B313338373B313338373B313338373B313338373B313338370D0A523D313338373B313338373B313338383B313338383B313338383B313338383B313338383B313338383B313338393B313338390D0A523D313338393B313339303B313339303B313339313B313339313B313339323B313339323B313339333B313339333B313339340D0A523D313339353B313339363B313339373B313339383B313339393B313430303B313430313B313430323B313430333B313430340D0A523D313430363B313430373B313430393B313431303B313431323B313431333B313431343B313431353B313431373B313431390D0A523D313432313B313432333B313432353B313432373B313432393B313433313B313433333B313433353B313433373B313434300D0A523D313434323B313434343B313434373B313435303B313435333B313435353B313435383B313436303B313436333B313436370D0A523D313437303B313437333B313437363B313437393B313438323B313438353B313438383B313439313B313439353B313439380D0A523D313530323B313530363B313530393B313531333B313531363B313532303B313532343B313532383B313533333B313533370D0A523D313534323B313534363B313535303B313535353B313536303B313536353B313537303B313537353B313537393B313538340D0A523D313539303B313539353B313630313B313630363B313631313B313631373B313632323B313632393B313633353B313634310D0A523D313634373B313635333B313635393B313636363B313637333B313637393B313638363B313639333B313639393B313730370D0A523D313731343B313732313B313732383B313733363B313734343B313735313B313735393B313736373B313737353B313738330D0A523D313739313B313830303B313830393B313831383B313832363B313833353B313834343B313835333B313836333B313837330D0A523D313838323B313839323B313930323B313931333B313932333B313933343B313934353B313935373B313936383B313937390D0A523D313939313B323030333B323031353B323032373B323034303B323035323B323036353B323037383B323039303B323130340D0A523D323131373B323133313B323134353B323135393B323137333B323138373B323230313B323231363B323233313B323234370D0A523D323236323B323237373B323239333B323330393B323332353B323334323B323335393B323337363B323339333B323431300D0A523D323432383B323434373B323436353B323438343B323530333B323532323B323534313B323536313B323538313B323630310D0A523D323632313B323634323B323636333B323638333B323730343B323732353B323734353B323736353B323738353B323830330D0A523D323831393B323833323B323834303B323834303B323833383B323833323B323832363B323832303B323831333B323830360D0A523D323739393B323739333B323738363B323738303B323737343B323736393B323736333B323735373B323735323B323734360D0A523D323734313B323733363B323733313B323732363B323732313B323731363B323731323B323730373B323730333B323639380D0A523D323639343B323639303B323638363B323638323B323637373B323637333B323637303B323636363B323636333B323635390D0A523D323635363B323635323B323634393B323634363B323634333B323634303B323633373B323633343B323633313B323632380D0A523D323632343B323632313B323631383B323631353B323631323B323630393B323630363B323630333B323630303B323539360D0A523D323539333B323538393B323538363B323538323B323537383B323537333B323536393B323536353B323536303B323535360D0A523D323535323B323534373B323534323B323533373B323533333B323532383B323532333B323531383B323531333B323530390D0A523D323530343B323530303B323439363B323439313B323438373B323438333B323437383B323437343B323437303B323436360D0A523D323436323B323435393B323435353B323435313B323434373B323434333B323434303B323433373B323433343B323433310D0A523D323432383B323432363B323432333B323432303B323431373B323431353B323431333B323431303B323430383B323430360D0A523D323430343B323430323B323430303B323339383B323339363B323339353B323339333B323339323B323339303B323338390D0A523D323338373B323338363B323338353B323338343B323338333B323338323B323338313B323338303B323337393B323337390D0A523D323337383B323337383B323337373B323337373B323337373B323337373B323337363B323337363B323337353B323337350D0A523D323337363B323337363B323337363B323337363B323337363B323337363B323337363B323337363B323337353B323337340D0A523D323337323B323336393B323336353B323335383B323335303B323333393B323332383B323331363B323330353B323239320D0A523D323237393B323236363B323235323B323233393B323232363B323231333B323230303B323138373B323137343B323136310D0A523D323134383B323133353B323132323B323131303B323039373B323038353B323037323B323036303B323034383B323033360D0A523D323032353B323031343B323030323B313939313B313938303B313937303B313935393B313934383B313933383B313932370D0A523D313931383B313930383B313839383B313838383B313837393B313837303B313836313B313835323B313834323B313833330D0A523D313832343B313831363B313830373B313739383B313739303B313738323B313737353B313736373B313735393B313735310D0A523D313734343B313733363B313732393B313732323B313731353B313730383B313730313B313639353B313638383B313638320D0A523D313637353B313636393B313636333B313635373B313635313B313634353B313633393B313633343B313632383B313632330D0A523D313631373B313631323B313630373B313630313B313539363B313539313B313538363B313538313B313537363B313537310D0A523D313536373B313536323B313535373B313535333B313534393B313534353B313534313B313533373B313533333B313532390D0A523D313532353B313532313B313531373B313531333B313531303B313530363B313530323B313439393B313439353B313439320D0A523D313438383B313438353B313438323B313437393B313437363B313437333B313437303B313436383B313436353B313436320D0A523D313435393B313435363B313435343B313435323B313435303B313434373B313434353B313434333B313434313B313433380D0A523D313433363B313433343B313433323B313433313B313432393B313432373B313432353B313432343B313432323B313432310D0A523D313431393B313431383B313431363B313431343B313431333B313431323B313431313B313431303B313430393B313430380D0A523D313430363B313430353B313430343B313430343B313430333B313430323B313430313B313430313B313430303B313430300D0A523D313339393B313339393B313339393B313339393B313339383B313339383B313339383B313339383B313339373B313339370D0A523D313339373B313339383B313339383B313339383B313339383B313339383B313339383B313339393B313339393B313339390D0A523D313339393B313430303B313430303B313430313B313430313B313430323B313430323B313430333B313430343B313430350D0A523D313430353B313430373B313430373B313430383B313430393B313431303B313431313B313431323B313431333B313431350D0A523D313431363B313431373B313431383B313432303B313432313B313432333B313432343B313432363B313432383B313433300D0A523D313433313B313433333B313433353B313433373B313433393B313434313B313434333B313434353B313434373B313434390D0A523D313435323B313435353B313435373B313436303B313436323B313436353B313436373B313437303B313437333B313437360D0A523D313437393B313438313B313438343B313438383B313439313B313439343B313439383B313530313B313530343B313530370D0A523D313531313B313531343B313531383B313532323B313532353B313532393B313533323B313533363B313534303B313534340D0A523D313534383B313535313B313535353B313535393B313536333B313536383B313537323B313537363B313538313B313538350D0A523D313539303B313539343B313539393B313630343B313630383B313631333B313631393B313632343B313633303B313633350D0A523D313634303B313634363B313635313B313635373B313636333B313636393B313637353B313638313B313638383B313639360D0A523D313730333B313731313B313731373B313732333B313733303B313733373B313734343B313735323B313735393B313736360D0A523D313737333B313738303B313738383B313739363B313830343B313831333B313832333B313833323B313834323B313835310D0A523D313836303B313836383B313837383B313838373B313839353B313930343B313931353B313932353B313933343B313934340D0A523D313935353B313936353B313937353B313938363B313939373B323030383B323031393B323033303B323034323B323035340D0A523D323036353B323037373B323038393B323130313B323131333B323132363B323134303B323135333B323136363B323138300D0A523D323139333B323230373B323232313B323233363B323235313B323236363B323238313B323239363B323331303B323332360D0A523D323334313B323335373B323337333B323338393B323430363B323432323B323433393B323435363B323437343B323439310D0A523D323530393B323532373B323534353B323536333B323538323B323630313B323631393B323633373B323635353B323637340D0A523D323639323B323730393B323732353B323733393B323734353B323734373B323734343B323734303B323733363B323733320D0A523D323732373B323732333B323731383B323731343B323730393B323730353B323730313B323639373B323639333B323638390D0A523D323638353B323638323B323637383B323637353B323637313B323636383B323636343B323636313B323635383B323635340D0A523D323635323B323634393B323634373B323634343B323634323B323633393B323633363B323633343B323633323B323633300D0A523D323632383B323632363B323632353B323632333B323632323B323632303B323631393B323631373B323631363B323631350D0A523D323631343B323631333B323631323B323631323B323631313B323631313B323631303B323631303B323631303B323631300D0A56424F583D32372E39353B32372E39350D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35362E38303B35362E38300D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                            }

                            if ($information_commande->precalibrage->calibre ==
                                17) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3133382E3537303B3133382E3537300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35302E31323B35302E31320D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323434343B323434373B323434393B323435323B323435353B323435383B323436303B323436343B323436373B323437300D0A523D323437333B323437363B323437393B323438323B323438353B323438383B323439313B323439343B323439373B323530300D0A523D323530343B323530373B323531313B323531343B323531383B323532323B323532353B323533303B323533333B323533370D0A523D323534313B323534363B323535303B323535343B323535393B323536333B323536373B323537323B323537363B323538310D0A523D323538353B323539303B323539353B323630303B323630353B323630393B323631343B323631393B323632333B323632380D0A523D323633323B323633373B323634313B323634353B323634393B323635333B323635373B323636303B323636323B323636330D0A523D323636343B323636353B323636353B323636333B323636303B323635363B323635303B323634333B323633343B323632340D0A523D323631333B323630313B323538383B323537353B323536313B323534363B323533323B323531373B323530323B323438370D0A523D323437313B323435363B323434303B323432363B323431313B323339363B323338313B323336363B323335313B323333370D0A523D323332333B323330393B323239353B323238313B323236383B323235343B323234313B323232383B323231363B323230330D0A523D323139313B323137393B323136373B323135343B323134323B323133313B323131393B323130373B323039353B323038340D0A523D323037333B323036333B323035323B323034313B323033303B323032303B323031303B323030303B313939303B313938300D0A523D313937313B313936323B313935333B313934343B313933363B313932373B313931383B313931303B313930313B313839330D0A523D313838353B313837373B313836393B313836323B313835343B313834363B313833393B313833313B313832343B313831360D0A523D313830393B313830313B313739343B313738373B313738313B313737343B313736373B313736313B313735343B313734380D0A523D313734313B313733353B313732393B313732333B313731373B313731313B313730353B313730303B313639343B313638390D0A523D313638333B313637373B313637323B313636363B313636313B313635363B313635303B313634353B313634303B313633350D0A523D313633313B313632353B313632303B313631363B313631323B313630383B313630333B313539383B313539343B313539300D0A523D313538363B313538323B313537383B313537333B313537303B313536363B313536323B313535393B313535353B313535320D0A523D313534393B313534353B313534323B313533393B313533363B313533333B313533303B313532373B313532343B313532310D0A523D313531383B313531353B313531323B313530393B313530373B313530343B313530323B313439393B313439373B313439350D0A523D313439323B313439303B313438383B313438363B313438343B313438333B313438313B313437393B313437373B313437360D0A523D313437343B313437333B313437313B313437303B313436393B313436373B313436363B313436353B313436343B313436330D0A523D313436313B313436303B313435393B313435393B313435383B313435373B313435363B313435363B313435353B313435350D0A523D313435343B313435333B313435323B313435323B313435313B313435313B313435303B313435303B313435303B313435300D0A523D313434393B313434393B313434393B313434393B313434393B313434393B313434393B313434393B313434393B313435300D0A523D313435303B313435303B313435303B313435303B313435303B313435313B313435313B313435323B313435333B313435340D0A523D313435343B313435363B313435363B313435373B313435383B313435393B313436303B313436313B313436323B313436340D0A523D313436353B313436373B313436383B313436393B313437303B313437323B313437333B313437343B313437353B313437360D0A523D313437373B313437393B313438313B313438333B313438363B313438383B313439303B313439323B313439343B313439360D0A523D313439383B313530303B313530333B313530363B313530393B313531323B313531363B313531393B313532313B313532330D0A523D313532363B313532383B313533313B313533333B313533363B313533393B313534323B313534353B313534383B313535310D0A523D313535353B313535383B313536323B313536363B313537303B313537343B313537373B313538313B313538353B313539300D0A523D313539343B313539383B313630323B313630363B313631313B313631363B313632303B313632353B313633303B313633350D0A523D313634303B313634353B313635303B313635363B313636313B313636363B313637323B313637373B313638333B313638390D0A523D313639343B313639393B313730353B313731313B313731373B313732333B313732393B313733353B313734313B313734370D0A523D313735333B313736303B313736363B313737323B313737393B313738363B313739333B313830303B313830373B313831340D0A523D313832323B313832393B313833373B313834353B313835333B313836313B313836393B313837373B313838363B313839350D0A523D313930333B313931313B313932313B313933303B313933383B313934373B313935363B313936363B313937353B313938350D0A523D313939363B323030363B323031363B323032363B323033363B323034363B323035363B323036363B323037373B323038370D0A523D323039383B323130393B323132303B323133323B323134343B323135353B323136373B323137393B323139323B323230340D0A523D323231373B323233303B323234333B323235363B323237303B323238333B323239373B323331313B323332353B323334300D0A523D323335353B323336393B323338343B323339393B323431343B323432383B323434333B323435393B323437343B323438390D0A523D323530353B323532303B323533353B323534393B323536323B323537353B323538373B323539373B323630353B323631320D0A523D323631353B323631353B323631353B323631343B323631333B323631323B323631313B323630393B323630373B323630350D0A523D323630323B323539393B323539353B323539323B323538393B323538363B323538333B323537393B323537373B323537340D0A523D323537313B323536383B323536353B323536323B323535383B323535343B323535313B323534373B323534353B323534320D0A523D323534303B323533373B323533353B323533333B323533313B323532393B323532373B323532353B323532343B323532330D0A523D323532313B323532303B323531393B323531383B323531373B323531363B323531353B323531333B323531323B323531320D0A523D323531313B323531303B323530393B323530383B323530373B323530373B323530363B323530363B323530353B323530350D0A523D323530343B323530343B323530343B323530343B323530343B323530333B323530333B323530343B323530343B323530350D0A523D323530353B323530353B323530353B323530363B323530373B323530383B323530393B323531303B323531313B323531320D0A523D323531333B323531353B323531363B323531373B323531393B323532303B323532323B323532333B323532353B323532370D0A523D323532393B323533313B323533343B323533363B323533383B323534303B323534323B323534343B323534363B323534380D0A523D323535303B323535333B323535363B323535393B323536323B323536343B323536373B323537303B323537333B323537370D0A523D323538303B323538333B323538363B323538393B323539333B323539363B323539393B323630323B323630353B323630380D0A523D323631313B323631343B323631373B323631393B323632313B323632333B323632343B323632353B323632353B323632340D0A523D323632333B323632313B323631373B323631303B323630333B323539333B323538323B323536393B323535363B323534310D0A523D323532373B323531333B323439383B323438343B323436393B323435343B323433393B323432343B323430393B323339340D0A523D323337393B323336343B323334393B323333353B323332313B323330373B323239333B323237393B323236363B323235330D0A523D323234303B323232363B323231333B323230313B323138383B323137363B323136333B323135303B323133383B323132360D0A523D323131353B323130333B323039313B323037393B323036383B323035373B323034363B323033353B323032343B323031330D0A523D323030323B313939323B313938323B313937313B313936323B313935323B313934323B313933333B313932333B313931340D0A523D313930343B313839353B313838343B313837343B313836343B313835353B313834363B313833383B313833303B313832330D0A523D313831353B313830383B313830313B313739333B313738353B313737363B313736393B313736313B313735343B313734370D0A523D313734313B313733343B313732373B313732313B313731343B313730383B313730323B313639373B313639313B313638350D0A523D313637393B313637343B313636393B313636333B313635383B313635333B313634383B313634333B313633383B313633330D0A523D313632393B313632333B313631383B313631343B313630393B313630353B313630313B313539363B313539323B313538380D0A523D313538343B313538303B313537363B313537313B313536383B313536343B313536303B313535373B313535333B313535300D0A523D313534363B313534323B313533393B313533363B313533333B313533303B313532373B313532343B313532313B313531380D0A523D313531353B313531323B313530393B313530363B313530343B313530313B313439393B313439373B313439353B313439320D0A523D313439303B313438383B313438363B313438343B313438323B313438313B313437393B313437373B313437353B313437340D0A523D313437323B313437313B313437303B313436383B313436373B313436353B313436343B313436333B313436323B313436310D0A523D313436303B313435393B313435383B313435373B313435363B313435363B313435353B313435343B313435333B313435330D0A523D313435323B313435323B313435323B313435323B313435313B313435313B313435303B313435303B313435303B313435300D0A523D313435313B313435313B313435313B313435313B313435313B313435313B313435313B313435323B313435323B313435330D0A523D313435333B313435343B313435343B313435353B313435363B313435373B313435373B313435383B313435393B313436300D0A523D313436313B313436333B313436343B313436353B313436363B313436373B313436393B313437303B313437313B313437330D0A523D313437343B313437363B313437383B313438303B313438313B313438333B313438353B313438373B313438393B313439310D0A523D313439333B313439353B313439383B313530303B313530323B313530343B313530373B313530393B313531323B313531350D0A523D313531383B313532313B313532343B313532373B313533303B313533333B313533363B313533393B313534323B313534350D0A523D313534383B313535323B313535353B313535393B313536323B313536363B313537303B313537343B313537383B313538320D0A523D313538363B313539303B313539353B313539393B313630333B313630383B313631323B313631363B313632303B313632350D0A523D313633303B313633353B313634303B313634343B313634393B313635343B313635393B313636343B313637303B313637350D0A523D313638313B313638363B313639313B313639373B313730323B313730383B313731343B313732303B313732363B313733320D0A523D313733393B313734353B313735323B313735393B313736353B313737323B313737393B313738363B313739333B313830300D0A523D313830363B313831343B313832313B313832393B313833363B313834333B313835313B313835393B313836373B313837350D0A523D313838333B313839303B313839383B313930373B313931353B313932333B313933313B313933393B313934383B313935370D0A523D313936363B313937343B313938333B313939323B323030313B323031303B323031393B323032383B323033373B323034360D0A523D323035363B323036353B323037353B323038343B323039343B323130343B323131333B323132333B323133333B323134320D0A523D323135313B323136313B323137303B323137393B323138373B323139363B323230343B323231323B323231393B323232360D0A523D323233323B323233373B323234313B323234353B323234393B323235313B323235343B323235373B323235393B323236310D0A523D323236323B323236343B323236363B323236373B323236383B323237303B323237313B323237323B323237333B323237350D0A523D323237363B323237373B323237393B323238303B323238313B323238323B323238343B323238353B323238373B323238380D0A523D323239303B323239313B323239333B323239343B323239363B323239383B323330303B323330323B323330343B323330360D0A523D323330383B323331303B323331323B323331343B323331363B323331393B323332313B323332343B323332363B323332390D0A523D323333323B323333343B323333373B323333393B323334323B323334353B323334383B323335313B323335343B323335370D0A523D323335393B323336323B323336353B323336383B323337313B323337343B323337373B323337393B323338323B323338350D0A523D323338383B323339313B323339343B323339373B323430303B323430333B323430363B323430393B323431313B323431340D0A523D323431373B323432303B323432333B323432353B323432383B323433313B323433343B323433363B323433393B323434310D0A545243464D543D313B313030303B453B4C3B460D0A523D323530343B323530353B323530353B323530363B323530363B323530373B323530373B323530383B323530393B323531300D0A523D323531313B323531323B323531323B323531333B323531353B323531363B323531373B323531383B323531393B323532300D0A523D323532313B323532333B323532343B323532353B323532373B323532393B323533313B323533333B323533353B323533370D0A523D323534303B323534323B323534353B323534373B323535313B323535343B323535383B323536323B323536353B323536380D0A523D323537313B323537343B323537373B323537393B323538333B323538363B323538393B323539323B323539353B323539390D0A523D323630323B323630353B323630373B323630393B323631313B323631323B323631333B323631343B323631353B323631350D0A523D323631353B323631323B323630353B323539373B323538373B323537353B323536323B323534393B323533353B323532300D0A523D323530353B323438393B323437343B323435393B323434333B323432383B323431343B323339393B323338343B323336390D0A523D323335353B323334303B323332353B323331313B323239373B323238333B323237303B323235363B323234333B323233300D0A523D323231373B323230343B323139323B323137393B323136373B323135353B323134343B323133323B323132303B323130390D0A523D323039383B323038373B323037373B323036363B323035363B323034363B323033363B323032363B323031363B323030360D0A523D313939363B313938353B313937353B313936363B313935363B313934373B313933383B313933303B313932313B313931310D0A523D313930333B313839353B313838363B313837373B313836393B313836313B313835333B313834353B313833373B313832390D0A523D313832323B313831343B313830373B313830303B313739333B313738363B313737393B313737323B313736363B313736300D0A523D313735333B313734373B313734313B313733353B313732393B313732333B313731373B313731313B313730353B313639390D0A523D313639343B313638393B313638333B313637373B313637323B313636363B313636313B313635363B313635303B313634350D0A523D313634303B313633353B313633303B313632353B313632303B313631363B313631313B313630363B313630323B313539380D0A523D313539343B313539303B313538353B313538313B313537373B313537343B313537303B313536363B313536323B313535380D0A523D313535353B313535313B313534383B313534353B313534323B313533393B313533363B313533333B313533313B313532380D0A523D313532363B313532333B313532313B313531393B313531363B313531323B313530393B313530363B313530333B313530300D0A523D313439383B313439363B313439343B313439323B313439303B313438383B313438363B313438333B313438313B313437390D0A523D313437373B313437363B313437353B313437343B313437333B313437323B313437303B313436393B313436383B313436370D0A523D313436353B313436343B313436323B313436313B313436303B313435393B313435383B313435373B313435363B313435360D0A523D313435343B313435343B313435333B313435323B313435313B313435313B313435303B313435303B313435303B313435300D0A523D313435303B313435303B313434393B313434393B313434393B313434393B313434393B313434393B313434393B313434390D0A523D313434393B313435303B313435303B313435303B313435303B313435313B313435313B313435323B313435323B313435330D0A523D313435343B313435353B313435353B313435363B313435363B313435373B313435383B313435393B313435393B313436300D0A523D313436313B313436333B313436343B313436353B313436363B313436373B313436393B313437303B313437313B313437330D0A523D313437343B313437363B313437373B313437393B313438313B313438333B313438343B313438363B313438383B313439300D0A523D313439323B313439353B313439373B313439393B313530323B313530343B313530373B313530393B313531323B313531350D0A523D313531383B313532313B313532343B313532373B313533303B313533333B313533363B313533393B313534323B313534350D0A523D313534393B313535323B313535353B313535393B313536323B313536363B313537303B313537333B313537383B313538320D0A523D313538363B313539303B313539343B313539383B313630333B313630383B313631323B313631363B313632303B313632350D0A523D313633313B313633353B313634303B313634353B313635303B313635363B313636313B313636363B313637323B313637370D0A523D313638333B313638393B313639343B313730303B313730353B313731313B313731373B313732333B313732393B313733350D0A523D313734313B313734383B313735343B313736313B313736373B313737343B313738313B313738373B313739343B313830310D0A523D313830393B313831363B313832343B313833313B313833393B313834363B313835343B313836323B313836393B313837370D0A523D313838353B313839333B313930313B313931303B313931383B313932373B313933363B313934343B313935333B313936320D0A523D313937313B313938303B313939303B323030303B323031303B323032303B323033303B323034313B323035323B323036330D0A523D323037333B323038343B323039353B323130373B323131393B323133313B323134323B323135343B323136373B323137390D0A523D323139313B323230333B323231363B323232383B323234313B323235343B323236383B323238313B323239353B323330390D0A523D323332333B323333373B323335313B323336363B323338313B323339363B323431313B323432363B323434303B323435360D0A523D323437313B323438373B323530323B323531373B323533323B323534363B323536313B323537353B323538383B323630310D0A523D323631333B323632343B323633343B323634333B323635303B323635363B323636303B323636333B323636353B323636350D0A523D323636343B323636333B323636323B323636303B323635373B323635333B323634393B323634353B323634313B323633370D0A523D323633323B323632383B323632333B323631393B323631343B323630393B323630353B323630303B323539353B323539300D0A523D323538353B323538313B323537363B323537323B323536373B323536333B323535393B323535343B323535303B323534360D0A523D323534313B323533373B323533333B323533303B323532353B323532323B323531383B323531343B323531313B323530370D0A523D323530343B323530303B323439373B323439343B323439313B323438383B323438353B323438323B323437393B323437360D0A523D323437333B323437303B323436373B323436343B323436303B323435383B323435353B323435323B323434393B323434370D0A523D323434343B323434313B323433393B323433363B323433343B323433313B323432383B323432353B323432333B323432300D0A523D323431373B323431343B323431313B323430393B323430363B323430333B323430303B323339373B323339343B323339310D0A523D323338383B323338353B323338323B323337393B323337373B323337343B323337313B323336383B323336353B323336320D0A523D323335393B323335373B323335343B323335313B323334383B323334353B323334323B323333393B323333373B323333340D0A523D323333323B323332393B323332363B323332343B323332313B323331393B323331363B323331343B323331323B323331300D0A523D323330383B323330363B323330343B323330323B323330303B323239383B323239363B323239343B323239333B323239310D0A523D323239303B323238383B323238373B323238353B323238343B323238323B323238313B323238303B323237393B323237370D0A523D323237363B323237353B323237333B323237323B323237313B323237303B323236383B323236373B323236363B323236340D0A523D323236323B323236313B323235393B323235373B323235343B323235313B323234393B323234353B323234313B323233370D0A523D323233323B323232363B323231393B323231323B323230343B323139363B323138373B323137393B323137303B323136310D0A523D323135313B323134323B323133333B323132333B323131333B323130343B323039343B323038343B323037353B323036350D0A523D323035363B323034363B323033373B323032383B323031393B323031303B323030313B313939323B313938333B313937340D0A523D313936363B313935373B313934383B313933393B313933313B313932333B313931353B313930373B313839383B313839300D0A523D313838333B313837353B313836373B313835393B313835313B313834333B313833363B313832393B313832313B313831340D0A523D313830363B313830303B313739333B313738363B313737393B313737323B313736353B313735393B313735323B313734350D0A523D313733393B313733323B313732363B313732303B313731343B313730383B313730323B313639373B313639313B313638360D0A523D313638313B313637353B313637303B313636343B313635393B313635343B313634393B313634343B313634303B313633350D0A523D313633303B313632353B313632303B313631363B313631323B313630383B313630333B313539393B313539353B313539300D0A523D313538363B313538323B313537383B313537343B313537303B313536363B313536323B313535393B313535353B313535320D0A523D313534383B313534353B313534323B313533393B313533363B313533333B313533303B313532373B313532343B313532310D0A523D313531383B313531353B313531323B313530393B313530373B313530343B313530323B313530303B313439383B313439350D0A523D313439333B313439313B313438393B313438373B313438353B313438333B313438313B313438303B313437383B313437360D0A523D313437343B313437333B313437313B313437303B313436393B313436373B313436363B313436353B313436343B313436330D0A523D313436313B313436303B313435393B313435383B313435373B313435373B313435363B313435353B313435343B313435340D0A523D313435333B313435333B313435323B313435323B313435313B313435313B313435313B313435313B313435313B313435310D0A523D313435313B313435303B313435303B313435303B313435303B313435313B313435313B313435323B313435323B313435320D0A523D313435323B313435333B313435333B313435343B313435353B313435363B313435363B313435373B313435383B313435390D0A523D313436303B313436313B313436323B313436333B313436343B313436353B313436373B313436383B313437303B313437310D0A523D313437323B313437343B313437353B313437373B313437393B313438313B313438323B313438343B313438363B313438380D0A523D313439303B313439323B313439353B313439373B313439393B313530313B313530343B313530363B313530393B313531320D0A523D313531353B313531383B313532313B313532343B313532373B313533303B313533333B313533363B313533393B313534320D0A523D313534363B313535303B313535333B313535373B313536303B313536343B313536383B313537313B313537363B313538300D0A523D313538343B313538383B313539323B313539363B313630313B313630353B313630393B313631343B313631383B313632330D0A523D313632393B313633333B313633383B313634333B313634383B313635333B313635383B313636333B313636393B313637340D0A523D313637393B313638353B313639313B313639373B313730323B313730383B313731343B313732313B313732373B313733340D0A523D313734313B313734373B313735343B313736313B313736393B313737363B313738353B313739333B313830313B313830380D0A523D313831353B313832333B313833303B313833383B313834363B313835353B313836343B313837343B313838343B313839350D0A523D313930343B313931343B313932333B313933333B313934323B313935323B313936323B313937313B313938323B313939320D0A523D323030323B323031333B323032343B323033353B323034363B323035373B323036383B323037393B323039313B323130330D0A523D323131353B323132363B323133383B323135303B323136333B323137363B323138383B323230313B323231333B323232360D0A523D323234303B323235333B323236363B323237393B323239333B323330373B323332313B323333353B323334393B323336340D0A523D323337393B323339343B323430393B323432343B323433393B323435343B323436393B323438343B323439383B323531330D0A523D323532373B323534313B323535363B323536393B323538323B323539333B323630333B323631303B323631373B323632310D0A523D323632333B323632343B323632353B323632353B323632343B323632333B323632313B323631393B323631373B323631340D0A523D323631313B323630383B323630353B323630323B323539393B323539363B323539333B323538393B323538363B323538330D0A523D323538303B323537373B323537333B323537303B323536373B323536343B323536323B323535393B323535363B323535330D0A523D323535303B323534383B323534363B323534343B323534323B323534303B323533383B323533363B323533343B323533310D0A523D323532393B323532373B323532353B323532333B323532323B323532303B323531393B323531373B323531363B323531350D0A523D323531333B323531323B323531313B323531303B323530393B323530383B323530373B323530363B323530353B323530350D0A523D323530353B323530353B323530343B323530343B323530333B323530333B323530343B323530343B323530343B323530340D0A56424F583D32392E30323B32392E30320D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35332E33303B35332E33300D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                            }

                            if ($information_commande->precalibrage->calibre ==
                                18) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3133342E3132303B3133342E3132300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D34392E30363B34392E30360D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323434373B323434393B323435303B323435313B323435323B323435333B323435343B323435353B323435363B323435370D0A523D323435373B323435383B323435383B323435383B323435383B323435383B323435383B323435383B323435383B323435370D0A523D323435373B323435353B323435353B323435343B323435343B323435333B323435323B323435313B323435303B323434390D0A523D323434383B323434373B323434363B323434353B323434343B323434323B323434313B323434303B323433393B323433380D0A523D323433373B323433363B323433353B323433343B323433333B323433323B323433313B323433303B323432383B323432370D0A523D323432353B323432343B323432323B323431393B323431373B323431343B323431323B323431303B323430383B323430350D0A523D323430323B323339393B323339363B323339333B323339303B323338363B323338333B323338303B323337363B323337330D0A523D323336393B323336363B323336323B323335383B323335353B323335313B323334373B323334333B323333393B323333350D0A523D323333313B323332373B323332333B323331393B323331353B323331313B323330373B323330323B323239373B323239330D0A523D323238383B323238343B323237393B323237343B323237303B323236353B323236303B323235353B323235303B323234360D0A523D323234313B323233363B323233313B323232363B323232313B323231353B323231303B323230353B323230303B323139350D0A523D323139303B323138353B323138303B323137343B323137303B323136353B323136303B323135353B323135303B323134350D0A523D323134303B323133343B323132393B323132343B323131393B323131343B323130393B323130353B323130303B323039350D0A523D323038393B323038343B323038303B323037353B323037313B323036363B323036313B323035363B323035303B323034350D0A523D323034313B323033363B323033323B323032373B323032323B323031383B323031333B323030393B323030343B313939390D0A523D313939353B313939313B313938363B313938323B313937373B313937333B313936393B313936353B313936313B313935370D0A523D313935333B313934393B313934343B313934303B313933363B313933333B313932393B313932353B313932313B313931370D0A523D313931343B313931303B313930373B313930333B313839393B313839353B313839313B313838383B313838353B313838310D0A523D313837383B313837343B313837313B313836373B313836343B313836313B313835383B313835353B313835313B313834380D0A523D313834353B313834323B313833393B313833373B313833343B313833323B313832393B313832373B313832343B313832320D0A523D313831393B313831363B313831343B313831313B313830393B313830373B313830353B313830323B313830303B313739380D0A523D313739363B313739343B313739323B313739303B313738383B313738373B313738353B313738333B313738313B313738300D0A523D313737383B313737373B313737353B313737343B313737333B313737313B313737303B313736393B313736383B313736360D0A523D313736353B313736333B313736323B313736323B313736313B313736303B313735393B313735383B313735373B313735370D0A523D313735363B313735353B313735343B313735343B313735333B313735333B313735323B313735323B313735323B313735320D0A523D313735313B313735313B313735313B313735313B313735313B313735313B313735313B313735313B313735313B313735310D0A523D313735313B313735323B313735323B313735323B313735323B313735333B313735333B313735343B313735343B313735340D0A523D313735343B313735353B313735353B313735363B313735363B313735373B313735373B313735383B313735393B313736300D0A523D313736313B313736323B313736333B313736343B313736353B313736363B313736373B313736393B313737303B313737310D0A523D313737323B313737343B313737363B313737373B313737383B313737393B313738313B313738323B313738343B313738360D0A523D313738383B313738393B313739313B313739333B313739353B313739363B313739383B313830303B313830323B313830350D0A523D313830373B313830393B313831303B313831323B313831343B313831363B313831383B313832303B313832323B313832340D0A523D313832363B313832393B313833313B313833343B313833373B313834303B313834333B313834373B313835303B313835320D0A523D313835353B313835383B313836313B313836343B313836373B313837303B313837333B313837363B313837393B313838320D0A523D313838353B313838383B313839313B313839343B313839373B313930303B313930333B313930373B313931303B313931350D0A523D313931383B313932323B313932363B313933303B313933343B313933373B313934313B313934343B313934383B313935320D0A523D313935373B313936313B313936353B313936393B313937333B313937373B313938313B313938353B313939303B313939340D0A523D313939393B323030333B323030373B323031313B323031353B323032303B323032353B323032393B323033343B323033380D0A523D323034323B323034373B323035323B323035373B323036313B323036353B323037303B323037353B323038303B323038350D0A523D323039303B323039363B323130313B323130363B323131313B323131363B323132323B323132373B323133323B323133370D0A523D323134323B323134373B323135323B323135373B323136323B323136373B323137323B323137373B323138323B323138370D0A523D323139323B323139383B323230333B323230393B323231343B323231393B323232343B323232393B323233343B323233390D0A523D323234333B323234393B323235353B323236303B323236353B323236393B323237343B323237393B323238343B323238390D0A523D323239343B323239393B323330333B323330383B323331323B323331363B323332313B323332363B323333303B323333350D0A523D323333393B323334333B323334373B323335323B323335363B323336303B323336343B323336383B323337323B323337350D0A523D323337393B323338333B323338373B323339303B323339333B323339363B323339393B323430323B323430353B323430380D0A523D323431313B323431333B323431363B323431393B323432323B323432343B323432373B323433303B323433333B323433360D0A523D323433383B323434303B323434313B323434323B323434333B323434333B323434343B323434353B323434363B323434370D0A523D323434383B323434383B323434373B323434373B323434383B323434393B323435303B323435313B323435323B323435320D0A523D323435323B323435323B323435313B323435313B323435313B323435323B323435333B323435333B323435333B323435320D0A523D323435313B323435313B323435313B323435313B323435313B323435313B323435313B323435303B323435303B323434390D0A523D323434383B323434373B323434373B323434363B323434343B323434333B323434323B323434313B323433393B323433380D0A523D323433363B323433353B323433333B323433313B323432393B323432373B323432353B323432343B323432323B323432300D0A523D323431383B323431363B323431343B323431323B323431303B323430363B323430333B323339393B323339373B323339340D0A523D323339323B323339303B323338383B323338373B323338343B323338313B323337383B323337363B323337343B323337320D0A523D323337303B323336373B323336353B323336323B323335383B323335353B323335313B323334363B323334313B323333370D0A523D323333333B323333303B323332373B323332333B323332303B323331363B323331323B323330383B323330343B323330310D0A523D323239383B323239353B323239323B323238383B323238343B323238303B323237373B323237333B323236393B323236340D0A523D323236303B323235363B323235313B323234373B323234333B323233383B323233333B323232383B323232343B323231390D0A523D323231353B323231313B323230373B323230323B323139373B323139323B323138383B323138333B323137393B323137350D0A523D323137313B323136373B323136323B323135363B323135313B323134353B323134313B323133363B323133313B323132370D0A523D323132323B323131383B323131333B323130383B323130343B323039393B323039343B323039303B323038353B323038310D0A523D323037363B323037323B323036383B323036333B323035393B323035353B323035303B323034363B323034323B323033380D0A523D323033343B323032393B323032353B323032313B323031373B323031323B323030393B323030353B323030313B313939380D0A523D313939343B313939303B313938363B313938323B313937393B313937353B313937313B313936373B313936343B313936300D0A523D313935363B313935333B313934393B313934353B313934313B313933383B313933353B313933313B313932383B313932340D0A523D313932313B313931373B313931343B313931313B313930373B313930343B313930313B313839383B313839353B313839320D0A523D313838393B313838363B313838333B313838303B313837363B313837333B313837303B313836383B313836353B313836330D0A523D313836303B313835373B313835343B313835323B313834393B313834363B313834343B313834313B313833393B313833360D0A523D313833343B313833313B313832383B313832363B313832333B313832313B313831393B313831373B313831343B313831320D0A523D313831303B313830373B313830353B313830333B313830313B313739393B313739373B313739353B313739343B313739320D0A523D313739303B313738393B313738373B313738363B313738343B313738323B313738303B313737393B313737373B313737360D0A523D313737343B313737333B313737323B313737303B313736393B313736383B313736373B313736363B313736353B313736340D0A523D313736323B313736323B313736313B313736303B313735393B313735393B313735383B313735373B313735363B313735360D0A523D313735353B313735353B313735343B313735343B313735333B313735333B313735333B313735333B313735323B313735320D0A523D313735323B313735313B313735313B313735313B313735313B313735303B313735303B313735303B313735303B313735310D0A523D313735313B313735313B313735313B313735313B313735313B313735323B313735323B313735333B313735333B313735330D0A523D313735333B313735343B313735353B313735363B313735363B313735373B313735373B313735383B313735393B313736300D0A523D313736313B313736323B313736323B313736333B313736343B313736353B313736363B313736373B313736383B313736390D0A523D313737303B313737323B313737333B313737343B313737353B313737363B313737383B313737393B313738313B313738320D0A523D313738343B313738353B313738373B313738383B313739303B313739323B313739343B313739363B313739383B313830300D0A523D313830313B313830333B313830353B313830373B313830393B313831313B313831333B313831353B313831373B313831390D0A523D313832313B313832343B313832363B313832393B313833313B313833343B313833373B313833393B313834323B313834340D0A523D313834373B313834393B313835323B313835343B313835373B313836303B313836333B313836363B313836393B313837320D0A523D313837343B313837383B313838313B313838343B313838373B313839303B313839343B313839373B313930303B313930340D0A523D313930373B313931313B313931353B313931383B313932323B313932353B313932393B313933323B313933353B313933390D0A523D313934323B313934353B313934383B313935323B313935353B313935383B313936323B313936353B313936383B313937320D0A523D313937353B313937393B313938323B313938363B313938393B313939323B313939363B323030303B323030343B323030370D0A523D323031313B323031353B323031383B323032323B323032363B323033303B323033333B323033373B323034313B323034350D0A523D323034393B323035333B323035373B323036313B323036353B323036393B323037333B323037373B323038303B323038340D0A523D323038383B323039323B323039373B323130313B323130353B323130393B323131333B323131373B323132313B323132350D0A523D323132393B323133333B323133383B323134323B323134363B323135303B323135343B323135383B323136323B323136360D0A523D323137303B323137343B323137393B323138333B323138373B323139313B323139353B323139393B323230333B323230380D0A523D323231323B323231363B323232303B323232353B323232393B323233333B323233373B323234313B323234353B323234390D0A523D323235333B323235373B323236313B323236363B323237303B323237343B323237383B323238323B323238363B323239300D0A523D323239343B323239383B323330323B323330363B323331313B323331353B323331393B323332333B323332363B323333300D0A523D323333343B323333383B323334323B323334353B323335303B323335343B323335373B323336313B323336343B323336380D0A523D323337313B323337353B323337393B323338323B323338363B323338393B323339323B323339353B323339383B323430310D0A523D323430343B323430373B323431303B323431323B323431353B323431383B323432303B323432323B323432343B323432370D0A523D323432393B323433323B323433343B323433353B323433373B323433393B323434313B323434323B323434343B323434350D0A545243464D543D313B313030303B453B4C3B460D0A523D323435313B323435323B323435333B323435333B323435333B323435323B323435313B323435313B323435313B323435320D0A523D323435323B323435323B323435323B323435313B323435303B323434393B323434383B323434373B323434373B323434380D0A523D323434383B323434373B323434363B323434353B323434343B323434333B323434333B323434323B323434313B323434300D0A523D323433383B323433363B323433333B323433303B323432373B323432343B323432323B323431393B323431363B323431330D0A523D323431313B323430383B323430353B323430323B323339393B323339363B323339333B323339303B323338373B323338330D0A523D323337393B323337353B323337323B323336383B323336343B323336303B323335363B323335323B323334373B323334330D0A523D323333393B323333353B323333303B323332363B323332313B323331363B323331323B323330383B323330333B323239390D0A523D323239343B323238393B323238343B323237393B323237343B323236393B323236353B323236303B323235353B323234390D0A523D323234333B323233393B323233343B323232393B323232343B323231393B323231343B323230393B323230333B323139380D0A523D323139323B323138373B323138323B323137373B323137323B323136373B323136323B323135373B323135323B323134370D0A523D323134323B323133373B323133323B323132373B323132323B323131363B323131313B323130363B323130313B323039360D0A523D323039303B323038353B323038303B323037353B323037303B323036353B323036313B323035373B323035323B323034370D0A523D323034323B323033383B323033343B323032393B323032353B323032303B323031353B323031313B323030373B323030330D0A523D313939393B313939343B313939303B313938353B313938313B313937373B313937333B313936393B313936353B313936310D0A523D313935373B313935323B313934383B313934343B313934313B313933373B313933343B313933303B313932363B313932320D0A523D313931383B313931353B313931303B313930373B313930333B313930303B313839373B313839343B313839313B313838380D0A523D313838353B313838323B313837393B313837363B313837333B313837303B313836373B313836343B313836313B313835380D0A523D313835353B313835323B313835303B313834373B313834333B313834303B313833373B313833343B313833313B313832390D0A523D313832363B313832343B313832323B313832303B313831383B313831363B313831343B313831323B313831303B313830390D0A523D313830373B313830353B313830323B313830303B313739383B313739363B313739353B313739333B313739313B313738390D0A523D313738383B313738363B313738343B313738323B313738313B313737393B313737383B313737373B313737363B313737340D0A523D313737323B313737313B313737303B313736393B313736373B313736363B313736353B313736343B313736333B313736320D0A523D313736313B313736303B313735393B313735383B313735373B313735373B313735363B313735363B313735353B313735350D0A523D313735343B313735343B313735343B313735343B313735333B313735333B313735323B313735323B313735323B313735320D0A523D313735313B313735313B313735313B313735313B313735313B313735313B313735313B313735313B313735313B313735310D0A523D313735313B313735323B313735323B313735323B313735323B313735333B313735333B313735343B313735343B313735350D0A523D313735363B313735373B313735373B313735383B313735393B313736303B313736313B313736323B313736323B313736330D0A523D313736353B313736363B313736383B313736393B313737303B313737313B313737333B313737343B313737353B313737370D0A523D313737383B313738303B313738313B313738333B313738353B313738373B313738383B313739303B313739323B313739340D0A523D313739363B313739383B313830303B313830323B313830353B313830373B313830393B313831313B313831343B313831360D0A523D313831393B313832323B313832343B313832373B313832393B313833323B313833343B313833373B313833393B313834320D0A523D313834353B313834383B313835313B313835353B313835383B313836313B313836343B313836373B313837313B313837340D0A523D313837383B313838313B313838353B313838383B313839313B313839353B313839393B313930333B313930373B313931300D0A523D313931343B313931373B313932313B313932353B313932393B313933333B313933363B313934303B313934343B313934390D0A523D313935333B313935373B313936313B313936353B313936393B313937333B313937373B313938323B313938363B313939310D0A523D313939353B313939393B323030343B323030393B323031333B323031383B323032323B323032373B323033323B323033360D0A523D323034313B323034353B323035303B323035363B323036313B323036363B323037313B323037353B323038303B323038340D0A523D323038393B323039353B323130303B323130353B323130393B323131343B323131393B323132343B323132393B323133340D0A523D323134303B323134353B323135303B323135353B323136303B323136353B323137303B323137343B323138303B323138350D0A523D323139303B323139353B323230303B323230353B323231303B323231353B323232313B323232363B323233313B323233360D0A523D323234313B323234363B323235303B323235353B323236303B323236353B323237303B323237343B323237393B323238340D0A523D323238383B323239333B323239373B323330323B323330373B323331313B323331353B323331393B323332333B323332370D0A523D323333313B323333353B323333393B323334333B323334373B323335313B323335353B323335383B323336323B323336360D0A523D323336393B323337333B323337363B323338303B323338333B323338363B323339303B323339333B323339363B323339390D0A523D323430323B323430353B323430383B323431303B323431323B323431343B323431373B323431393B323432323B323432340D0A523D323432353B323432373B323432383B323433303B323433313B323433323B323433333B323433343B323433353B323433360D0A523D323433373B323433383B323433393B323434303B323434313B323434323B323434343B323434353B323434363B323434370D0A523D323434383B323434393B323435303B323435313B323435323B323435333B323435343B323435343B323435353B323435350D0A523D323435373B323435373B323435383B323435383B323435383B323435383B323435383B323435383B323435383B323435380D0A523D323435373B323435373B323435363B323435353B323435343B323435333B323435323B323435313B323435303B323434390D0A523D323434373B323434353B323434343B323434323B323434313B323433393B323433373B323433353B323433343B323433320D0A523D323432393B323432373B323432343B323432323B323432303B323431383B323431353B323431323B323431303B323430370D0A523D323430343B323430313B323339383B323339353B323339323B323338393B323338363B323338323B323337393B323337350D0A523D323337313B323336383B323336343B323336313B323335373B323335343B323335303B323334353B323334323B323333380D0A523D323333343B323333303B323332363B323332333B323331393B323331353B323331313B323330363B323330323B323239380D0A523D323239343B323239303B323238363B323238323B323237383B323237343B323237303B323236363B323236313B323235370D0A523D323235333B323234393B323234353B323234313B323233373B323233333B323232393B323232353B323232303B323231360D0A523D323231323B323230383B323230333B323139393B323139353B323139313B323138373B323138333B323137393B323137340D0A523D323137303B323136363B323136323B323135383B323135343B323135303B323134363B323134323B323133383B323133330D0A523D323132393B323132353B323132313B323131373B323131333B323130393B323130353B323130313B323039373B323039320D0A523D323038383B323038343B323038303B323037373B323037333B323036393B323036353B323036313B323035373B323035330D0A523D323034393B323034353B323034313B323033373B323033333B323033303B323032363B323032323B323031383B323031350D0A523D323031313B323030373B323030343B323030303B313939363B313939323B313938393B313938363B313938323B313937390D0A523D313937353B313937323B313936383B313936353B313936323B313935383B313935353B313935323B313934383B313934350D0A523D313934323B313933393B313933353B313933323B313932393B313932353B313932323B313931383B313931353B313931310D0A523D313930373B313930343B313930303B313839373B313839343B313839303B313838373B313838343B313838313B313837380D0A523D313837343B313837323B313836393B313836363B313836333B313836303B313835373B313835343B313835323B313834390D0A523D313834373B313834343B313834323B313833393B313833373B313833343B313833313B313832393B313832363B313832340D0A523D313832313B313831393B313831373B313831353B313831333B313831313B313830393B313830373B313830353B313830330D0A523D313830313B313830303B313739383B313739363B313739343B313739323B313739303B313738383B313738373B313738350D0A523D313738343B313738323B313738313B313737393B313737383B313737363B313737353B313737343B313737333B313737320D0A523D313737303B313736393B313736383B313736373B313736363B313736353B313736343B313736333B313736323B313736320D0A523D313736313B313736303B313735393B313735383B313735373B313735373B313735363B313735363B313735353B313735340D0A523D313735333B313735333B313735333B313735333B313735323B313735323B313735313B313735313B313735313B313735310D0A523D313735313B313735313B313735303B313735303B313735303B313735303B313735313B313735313B313735313B313735310D0A523D313735323B313735323B313735323B313735333B313735333B313735333B313735333B313735343B313735343B313735350D0A523D313735353B313735363B313735363B313735373B313735383B313735393B313735393B313736303B313736313B313736320D0A523D313736323B313736343B313736353B313736363B313736373B313736383B313736393B313737303B313737323B313737330D0A523D313737343B313737363B313737373B313737393B313738303B313738323B313738343B313738363B313738373B313738390D0A523D313739303B313739323B313739343B313739353B313739373B313739393B313830313B313830333B313830353B313830370D0A523D313831303B313831323B313831343B313831373B313831393B313832313B313832333B313832363B313832383B313833310D0A523D313833343B313833363B313833393B313834313B313834343B313834363B313834393B313835323B313835343B313835370D0A523D313836303B313836333B313836353B313836383B313837303B313837333B313837363B313838303B313838333B313838360D0A523D313838393B313839323B313839353B313839383B313930313B313930343B313930373B313931313B313931343B313931370D0A523D313932313B313932343B313932383B313933313B313933353B313933383B313934313B313934353B313934393B313935330D0A523D313935363B313936303B313936343B313936373B313937313B313937353B313937393B313938323B313938363B313939300D0A523D313939343B313939383B323030313B323030353B323030393B323031323B323031373B323032313B323032353B323032390D0A523D323033343B323033383B323034323B323034363B323035303B323035353B323035393B323036333B323036383B323037320D0A523D323037363B323038313B323038353B323039303B323039343B323039393B323130343B323130383B323131333B323131380D0A523D323132323B323132373B323133313B323133363B323134313B323134353B323135313B323135363B323136323B323136370D0A523D323137313B323137353B323137393B323138333B323138383B323139323B323139373B323230323B323230373B323231310D0A523D323231353B323231393B323232343B323232383B323233333B323233383B323234333B323234373B323235313B323235360D0A523D323236303B323236343B323236393B323237333B323237373B323238303B323238343B323238383B323239323B323239350D0A523D323239383B323330313B323330343B323330383B323331323B323331363B323332303B323332333B323332373B323333300D0A523D323333333B323333373B323334313B323334363B323335313B323335353B323335383B323336323B323336353B323336370D0A523D323337303B323337323B323337343B323337363B323337383B323338313B323338343B323338373B323338383B323339300D0A523D323339323B323339343B323339373B323339393B323430333B323430363B323431303B323431323B323431343B323431360D0A523D323431383B323432303B323432323B323432343B323432353B323432373B323432393B323433313B323433333B323433350D0A523D323433363B323433383B323433393B323434313B323434323B323434333B323434343B323434363B323434373B323434370D0A523D323434383B323434393B323435303B323435303B323435313B323435313B323435313B323435313B323435313B323435310D0A56424F583D33352E30353B33352E30350D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D34392E31363B34392E31360D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                            }

                            if ($information_commande->precalibrage->calibre ==
                                19) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3135322E3535303B3135322E3535300D0A44424C3D32302E30300D0A455459503D330D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D330D0A4744455054483D302E35303B302E35300D0A4757494454483D302E36303B302E36300D0A48424F583D35332E31343B35332E31340D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323538313B323538343B323538373B323539303B323539333B323539373B323630303B323630343B323630373B323631300D0A523D323631343B323631373B323632313B323632353B323632383B323633323B323633363B323634303B323634343B323634380D0A523D323635323B323635353B323635393B323636333B323636383B323637323B323637363B323638313B323638353B323639300D0A523D323639343B323639393B323730333B323730383B323731333B323731373B323732323B323732373B323733323B323733370D0A523D323734313B323734363B323735313B323735363B323736323B323736373B323737333B323737383B323738333B323738380D0A523D323739343B323739393B323830353B323831303B323831353B323832313B323832363B323833323B323833363B323834310D0A523D323834353B323835303B323835343B323835383B323836323B323836363B323836393B323837323B323837343B323837360D0A523D323837383B323837393B323838313B323838313B323838323B323838313B323837393B323837373B323837343B323837300D0A523D323836353B323835393B323835333B323834363B323833383B323832393B323831393B323830393B323739393B323738380D0A523D323737363B323736343B323735333B323734303B323732383B323731353B323730323B323638393B323637363B323636330D0A523D323635303B323633363B323632333B323631303B323539373B323538343B323537313B323535383B323534343B323533310D0A523D323531383B323530353B323439323B323438303B323436373B323435353B323434333B323433313B323431393B323430370D0A523D323339353B323338343B323337333B323336323B323335303B323333393B323332383B323331373B323330373B323239360D0A523D323238353B323237353B323236343B323235343B323234343B323233353B323232353B323231353B323230363B323139370D0A523D323138383B323137393B323136393B323136303B323135323B323134333B323133353B323132373B323131393B323131300D0A523D323130323B323039343B323038363B323037383B323037313B323036343B323035363B323034393B323034323B323033360D0A523D323032393B323032323B323031363B323031303B323030333B313939373B313939313B313938353B313938303B313937340D0A523D313936393B313936333B313935373B313935323B313934363B313934313B313933363B313933313B313932373B313932320D0A523D313931373B313931323B313930373B313930333B313839383B313839343B313839303B313838353B313838313B313837370D0A523D313837333B313836393B313836353B313836303B313835373B313835333B313834393B313834353B313834323B313833390D0A523D313833353B313833323B313832383B313832353B313832323B313831393B313831363B313831333B313831313B313830380D0A523D313830353B313830333B313830303B313739383B313739353B313739333B313739313B313738383B313738363B313738330D0A523D313738313B313738303B313737383B313737363B313737343B313737323B313737313B313736393B313736383B313736360D0A523D313736353B313736333B313736323B313736313B313736303B313735393B313735383B313735373B313735363B313735350D0A523D313735343B313735333B313735323B313735323B313735313B313735313B313735303B313735303B313735303B313735300D0A523D313734393B313734393B313734393B313734383B313734383B313734383B313734383B313734383B313734383B313734370D0A523D313734373B313734373B313734373B313734383B313734383B313734383B313734383B313734393B313735303B313735310D0A523D313735323B313735333B313735343B313735353B313735353B313735363B313735373B313735383B313735393B313736300D0A523D313736303B313736313B313736323B313736343B313736353B313736373B313736393B313737313B313737333B313737350D0A523D313737373B313737393B313738323B313738343B313738373B313738393B313739323B313739343B313739373B313830300D0A523D313830333B313830363B313830393B313831323B313831353B313831383B313832303B313832333B313832373B313833300D0A523D313833333B313833363B313833393B313834333B313834363B313835303B313835343B313835373B313836323B313836360D0A523D313837303B313837343B313837383B313838323B313838363B313839313B313839353B313839393B313930333B313930380D0A523D313931333B313931373B313932323B313932373B313933323B313933373B313934313B313934363B313935323B313935370D0A523D313936333B313936393B313937343B313938303B313938353B313939313B313939373B323030333B323030393B323031360D0A523D323032333B323032393B323033363B323034333B323034393B323035363B323036333B323037313B323037383B323038350D0A523D323039323B323130303B323130383B323131363B323132343B323133323B323134303B323134383B323135373B323136350D0A523D323137333B323138323B323139313B323230303B323230393B323231393B323232383B323233373B323234373B323235370D0A523D323236373B323237373B323238373B323239373B323330373B323331373B323332383B323333383B323334393B323336300D0A523D323337303B323338313B323339323B323430343B323431353B323432373B323433383B323435303B323436323B323437340D0A523D323438353B323439373B323531303B323532323B323533343B323534353B323535373B323536393B323538313B323539330D0A523D323630353B323631373B323632383B323633393B323635313B323636323B323637333B323638343B323639343B323730350D0A523D323731353B323732343B323733333B323734323B323735303B323735383B323736353B323737323B323737383B323738340D0A523D323738393B323739333B323739363B323739383B323739393B323739393B323739393B323739383B323739373B323739360D0A523D323739353B323739333B323739313B323738393B323738373B323738353B323738323B323737393B323737363B323737330D0A523D323736393B323736363B323736323B323735393B323735363B323735323B323734393B323734353B323734323B323733390D0A523D323733353B323733323B323732393B323732363B323732333B323731393B323731363B323731323B323731303B323730370D0A523D323730343B323730313B323639393B323639363B323639333B323639303B323638373B323638353B323638323B323638300D0A523D323637373B323637353B323637323B323637303B323636383B323636363B323636343B323636323B323636303B323635380D0A523D323635353B323635333B323635313B323635303B323634383B323634373B323634363B323634363B323634353B323634350D0A523D323634353B323634343B323634333B323634323B323634323B323634313B323634313B323634313B323634313B323634310D0A523D323634313B323634303B323634303B323633393B323633393B323633383B323633373B323633373B323633373B323633380D0A523D323633393B323634313B323634313B323634323B323634323B323634333B323634343B323634353B323634363B323634370D0A523D323634383B323635303B323635313B323635323B323635333B323635353B323635363B323635383B323636303B323636320D0A523D323636343B323636363B323636383B323637303B323637333B323637353B323637373B323637393B323638313B323638330D0A523D323638363B323638393B323639313B323639343B323639363B323639393B323730313B323730343B323730363B323730390D0A523D323731323B323731353B323731383B323732313B323732343B323732363B323732393B323733313B323733323B323733340D0A523D323733363B323733373B323733383B323733393B323734303B323734303B323734303B323734303B323734303B323734300D0A523D323733393B323733383B323733363B323733333B323732393B323732343B323731393B323731323B323730363B323639380D0A523D323639303B323638323B323637333B323636343B323635343B323634343B323633343B323632343B323631333B323630330D0A523D323539323B323538313B323537303B323535393B323534383B323533363B323532353B323531343B323530323B323439310D0A523D323438303B323436393B323435373B323434353B323433343B323432343B323431323B323430313B323339313B323338300D0A523D323337303B323336303B323335303B323333393B323332393B323331383B323330383B323239383B323238383B323237380D0A523D323236383B323235393B323234393B323233393B323233303B323232313B323231323B323230343B323139353B323138360D0A523D323137373B323136393B323136313B323135333B323134343B323133363B323132383B323132303B323131323B323130350D0A523D323039373B323038393B323038323B323037343B323036373B323036303B323035333B323034363B323033383B323033320D0A523D323032353B323031383B323031323B323030363B313939393B313939333B313938373B313938303B313937343B313936370D0A523D313936313B313935353B313934393B313934343B313933383B313933333B313932383B313932333B313931383B313931320D0A523D313930363B313930313B313839363B313839313B313838363B313838323B313837373B313837333B313836393B313836350D0A523D313836313B313835373B313835343B313835303B313834373B313834333B313834303B313833363B313833333B313833300D0A523D313832373B313832343B313832313B313831383B313831353B313831323B313831303B313830373B313830353B313830330D0A523D313830303B313739383B313739353B313739333B313739313B313738393B313738373B313738353B313738333B313738300D0A523D313737383B313737373B313737353B313737333B313737313B313736393B313736383B313736373B313736363B313736340D0A523D313736333B313736313B313736303B313735393B313735383B313735383B313735373B313735373B313735363B313735350D0A523D313735343B313735343B313735333B313735333B313735323B313735323B313735323B313735323B313735313B313735310D0A523D313735313B313735313B313735313B313735303B313735303B313735303B313735303B313735303B313735303B313735310D0A523D313735313B313735323B313735323B313735333B313735333B313735343B313735343B313735353B313735353B313735360D0A523D313735373B313735393B313736303B313736313B313736323B313736333B313736353B313736363B313736373B313736390D0A523D313737313B313737333B313737343B313737363B313737383B313738303B313738313B313738333B313738353B313738380D0A523D313739303B313739323B313739353B313739373B313739393B313830313B313830343B313830373B313831303B313831340D0A523D313831373B313832303B313832323B313832353B313832383B313833313B313833343B313833373B313834313B313834340D0A523D313834383B313835323B313835353B313835393B313836333B313836373B313837313B313837353B313837393B313838330D0A523D313838383B313839323B313839363B313930303B313930353B313930393B313931333B313931383B313932323B313932370D0A523D313933333B313933373B313934323B313934373B313935323B313935373B313936323B313936373B313937333B313937380D0A523D313938343B313939303B313939353B323030313B323030363B323031323B323031383B323032343B323033303B323033360D0A523D323034323B323034393B323035353B323036313B323036373B323037343B323038313B323038373B323039343B323130310D0A523D323130383B323131363B323132323B323132393B323133373B323134343B323135323B323136303B323136373B323137350D0A523D323138333B323139303B323139383B323230373B323231353B323232333B323233313B323233383B323234373B323235350D0A523D323236333B323237313B323237393B323238383B323239363B323330343B323331323B323332303B323332383B323333360D0A523D323334333B323335313B323335393B323336363B323337343B323338313B323338393B323339353B323430323B323430390D0A523D323431353B323432323B323432383B323433333B323433383B323434343B323435303B323435343B323435393B323436340D0A523D323436383B323437323B323437363B323437393B323438333B323438353B323438373B323438393B323439313B323439320D0A523D323439333B323439343B323439353B323439363B323439373B323439373B323439373B323439383B323439383B323439380D0A523D323439383B323439393B323439393B323439393B323439393B323439393B323439393B323439393B323439393B323439390D0A523D323439393B323439393B323439393B323530303B323530303B323530303B323530303B323530303B323530303B323530310D0A523D323530313B323530323B323530323B323530333B323530333B323530343B323530343B323530353B323530353B323530360D0A523D323530373B323530383B323530393B323530393B323531303B323531313B323531323B323531333B323531353B323531360D0A523D323531373B323531383B323532303B323532323B323532333B323532353B323532363B323532383B323532393B323533310D0A523D323533323B323533343B323533363B323533383B323533393B323534323B323534343B323534363B323534383B323535310D0A523D323535333B323535363B323535393B323536313B323536343B323536363B323536393B323537323B323537353B323537380D0A545243464D543D313B313030303B453B4C3B460D0A523D323634353B323634353B323634353B323634363B323634363B323634373B323634383B323635303B323635313B323635330D0A523D323635353B323635383B323636303B323636323B323636343B323636363B323636383B323637303B323637323B323637350D0A523D323637373B323638303B323638323B323638353B323638373B323639303B323639333B323639363B323639393B323730310D0A523D323730343B323730373B323731303B323731323B323731363B323731393B323732333B323732363B323732393B323733320D0A523D323733353B323733393B323734323B323734353B323734393B323735323B323735363B323735393B323736323B323736360D0A523D323736393B323737333B323737363B323737393B323738323B323738353B323738373B323738393B323739313B323739330D0A523D323739353B323739363B323739373B323739383B323739393B323739393B323739393B323739383B323739363B323739330D0A523D323738393B323738343B323737383B323737323B323736353B323735383B323735303B323734323B323733333B323732340D0A523D323731353B323730353B323639343B323638343B323637333B323636323B323635313B323633393B323632383B323631370D0A523D323630353B323539333B323538313B323536393B323535373B323534353B323533343B323532323B323531303B323439370D0A523D323438353B323437343B323436323B323435303B323433383B323432373B323431353B323430343B323339323B323338310D0A523D323337303B323336303B323334393B323333383B323332383B323331373B323330373B323239373B323238373B323237370D0A523D323236373B323235373B323234373B323233373B323232383B323231393B323230393B323230303B323139313B323138320D0A523D323137333B323136353B323135373B323134383B323134303B323133323B323132343B323131363B323130383B323130300D0A523D323039323B323038353B323037383B323037313B323036333B323035363B323034393B323034333B323033363B323032390D0A523D323032333B323031363B323030393B323030333B313939373B313939313B313938353B313938303B313937343B313936390D0A523D313936333B313935373B313935323B313934363B313934313B313933373B313933323B313932373B313932323B313931370D0A523D313931333B313930383B313930333B313839393B313839353B313839313B313838363B313838323B313837383B313837340D0A523D313837303B313836363B313836323B313835373B313835343B313835303B313834363B313834333B313833393B313833360D0A523D313833333B313833303B313832373B313832333B313832303B313831383B313831353B313831323B313830393B313830360D0A523D313830333B313830303B313739373B313739343B313739323B313738393B313738373B313738343B313738323B313737390D0A523D313737373B313737353B313737333B313737313B313736393B313736373B313736353B313736343B313736323B313736310D0A523D313736303B313736303B313735393B313735383B313735373B313735363B313735353B313735353B313735343B313735330D0A523D313735323B313735313B313735303B313734393B313734383B313734383B313734383B313734383B313734373B313734370D0A523D313734373B313734373B313734383B313734383B313734383B313734383B313734383B313734383B313734393B313734390D0A523D313734393B313735303B313735303B313735303B313735303B313735313B313735313B313735323B313735323B313735330D0A523D313735343B313735353B313735363B313735373B313735383B313735393B313736303B313736313B313736323B313736330D0A523D313736353B313736363B313736383B313736393B313737313B313737323B313737343B313737363B313737383B313738300D0A523D313738313B313738333B313738363B313738383B313739313B313739333B313739353B313739383B313830303B313830330D0A523D313830353B313830383B313831313B313831333B313831363B313831393B313832323B313832353B313832383B313833320D0A523D313833353B313833393B313834323B313834353B313834393B313835333B313835373B313836303B313836353B313836390D0A523D313837333B313837373B313838313B313838353B313839303B313839343B313839383B313930333B313930373B313931320D0A523D313931373B313932323B313932373B313933313B313933363B313934313B313934363B313935323B313935373B313936330D0A523D313936393B313937343B313938303B313938353B313939313B313939373B323030333B323031303B323031363B323032320D0A523D323032393B323033363B323034323B323034393B323035363B323036343B323037313B323037383B323038363B323039340D0A523D323130323B323131303B323131393B323132373B323133353B323134333B323135323B323136303B323136393B323137390D0A523D323138383B323139373B323230363B323231353B323232353B323233353B323234343B323235343B323236343B323237350D0A523D323238353B323239363B323330373B323331373B323332383B323333393B323335303B323336323B323337333B323338340D0A523D323339353B323430373B323431393B323433313B323434333B323435353B323436373B323438303B323439323B323530350D0A523D323531383B323533313B323534343B323535383B323537313B323538343B323539373B323631303B323632333B323633360D0A523D323635303B323636333B323637363B323638393B323730323B323731353B323732383B323734303B323735333B323736340D0A523D323737363B323738383B323739393B323830393B323831393B323832393B323833383B323834363B323835333B323835390D0A523D323836353B323837303B323837343B323837373B323837393B323838313B323838323B323838313B323838313B323837390D0A523D323837383B323837363B323837343B323837323B323836393B323836363B323836323B323835383B323835343B323835300D0A523D323834353B323834313B323833363B323833323B323832363B323832313B323831353B323831303B323830353B323739390D0A523D323739343B323738383B323738333B323737383B323737333B323736373B323736323B323735363B323735313B323734360D0A523D323734313B323733373B323733323B323732373B323732323B323731373B323731333B323730383B323730333B323639390D0A523D323639343B323639303B323638353B323638313B323637363B323637323B323636383B323636333B323635393B323635350D0A523D323635323B323634383B323634343B323634303B323633363B323633323B323632383B323632353B323632313B323631370D0A523D323631343B323631303B323630373B323630343B323630303B323539373B323539333B323539303B323538373B323538340D0A523D323538313B323537383B323537353B323537323B323536393B323536363B323536343B323536313B323535393B323535360D0A523D323535333B323535313B323534383B323534363B323534343B323534323B323533393B323533383B323533363B323533340D0A523D323533323B323533313B323532393B323532383B323532363B323532353B323532333B323532323B323532303B323531380D0A523D323531373B323531363B323531353B323531333B323531323B323531313B323531303B323530393B323530393B323530380D0A523D323530373B323530363B323530353B323530353B323530343B323530343B323530333B323530333B323530323B323530320D0A523D323530313B323530313B323530303B323530303B323530303B323530303B323530303B323530303B323439393B323439390D0A523D323439393B323439393B323439393B323439393B323439393B323439393B323439393B323439393B323439393B323439390D0A523D323439383B323439383B323439383B323439383B323439373B323439373B323439373B323439363B323439353B323439340D0A523D323439333B323439323B323439313B323438393B323438373B323438353B323438333B323437393B323437363B323437320D0A523D323436383B323436343B323435393B323435343B323435303B323434343B323433383B323433333B323432383B323432320D0A523D323431353B323430393B323430323B323339353B323338393B323338313B323337343B323336363B323335393B323335310D0A523D323334333B323333363B323332383B323332303B323331323B323330343B323239363B323238383B323237393B323237310D0A523D323236333B323235353B323234373B323233383B323233313B323232333B323231353B323230373B323139383B323139300D0A523D323138333B323137353B323136373B323136303B323135323B323134343B323133373B323132393B323132323B323131360D0A523D323130383B323130313B323039343B323038373B323038313B323037343B323036373B323036313B323035353B323034390D0A523D323034323B323033363B323033303B323032343B323031383B323031323B323030363B323030313B313939353B313939300D0A523D313938343B313937383B313937333B313936373B313936323B313935373B313935323B313934373B313934323B313933370D0A523D313933333B313932373B313932323B313931383B313931333B313930393B313930353B313930303B313839363B313839320D0A523D313838383B313838333B313837393B313837353B313837313B313836373B313836333B313835393B313835353B313835320D0A523D313834383B313834343B313834313B313833373B313833343B313833313B313832383B313832353B313832323B313832300D0A523D313831373B313831343B313831303B313830373B313830343B313830313B313739393B313739373B313739353B313739320D0A523D313739303B313738383B313738353B313738333B313738313B313738303B313737383B313737363B313737343B313737330D0A523D313737313B313736393B313736373B313736363B313736353B313736333B313736323B313736313B313736303B313735390D0A523D313735373B313735363B313735353B313735353B313735343B313735343B313735333B313735333B313735323B313735320D0A523D313735313B313735313B313735303B313735303B313735303B313735303B313735303B313735303B313735313B313735310D0A523D313735313B313735313B313735313B313735323B313735323B313735323B313735323B313735333B313735333B313735340D0A523D313735343B313735353B313735363B313735373B313735373B313735383B313735383B313735393B313736303B313736310D0A523D313736333B313736343B313736363B313736373B313736383B313736393B313737313B313737333B313737353B313737370D0A523D313737383B313738303B313738333B313738353B313738373B313738393B313739313B313739333B313739353B313739380D0A523D313830303B313830333B313830353B313830373B313831303B313831323B313831353B313831383B313832313B313832340D0A523D313832373B313833303B313833333B313833363B313834303B313834333B313834373B313835303B313835343B313835370D0A523D313836313B313836353B313836393B313837333B313837373B313838323B313838363B313839313B313839363B313930310D0A523D313930363B313931323B313931383B313932333B313932383B313933333B313933383B313934343B313934393B313935350D0A523D313936313B313936373B313937343B313938303B313938373B313939333B313939393B323030363B323031323B323031380D0A523D323032353B323033323B323033383B323034363B323035333B323036303B323036373B323037343B323038323B323038390D0A523D323039373B323130353B323131323B323132303B323132383B323133363B323134343B323135333B323136313B323136390D0A523D323137373B323138363B323139353B323230343B323231323B323232313B323233303B323233393B323234393B323235390D0A523D323236383B323237383B323238383B323239383B323330383B323331383B323332393B323333393B323335303B323336300D0A523D323337303B323338303B323339313B323430313B323431323B323432343B323433343B323434353B323435373B323436390D0A523D323438303B323439313B323530323B323531343B323532353B323533363B323534383B323535393B323537303B323538310D0A523D323539323B323630333B323631333B323632343B323633343B323634343B323635343B323636343B323637333B323638320D0A523D323639303B323639383B323730363B323731323B323731393B323732343B323732393B323733333B323733363B323733380D0A523D323733393B323734303B323734303B323734303B323734303B323734303B323734303B323733393B323733383B323733370D0A523D323733363B323733343B323733323B323733313B323732393B323732363B323732343B323732313B323731383B323731350D0A523D323731323B323730393B323730363B323730343B323730313B323639393B323639363B323639343B323639313B323638390D0A523D323638363B323638333B323638313B323637393B323637373B323637353B323637333B323637303B323636383B323636360D0A523D323636343B323636323B323636303B323635383B323635363B323635353B323635333B323635323B323635313B323635300D0A523D323634383B323634373B323634363B323634353B323634343B323634333B323634323B323634323B323634313B323634310D0A523D323633393B323633383B323633373B323633373B323633373B323633383B323633393B323633393B323634303B323634300D0A523D323634313B323634313B323634313B323634313B323634313B323634313B323634323B323634323B323634333B323634340D0A56424F583D33352E30323B33352E30320D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A5A54494C543D31303B31300D0A4645443D35372E36323B35372E36320D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                            }

                            if ($information_commande->precalibrage->calibre ==
                                20) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3134342E3934303B3134342E3934300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35332E31303B35332E31300D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323437313B323437383B323438343B323439313B323439383B323530343B323531313B323531383B323532343B323533320D0A523D323533393B323534353B323535323B323535393B323536353B323537323B323537393B323538363B323539333B323539390D0A523D323630363B323631343B323632303B323632373B323633343B323634313B323634383B323635363B323636333B323637300D0A523D323637373B323638333B323639303B323639373B323730333B323730393B323731353B323732313B323732373B323733340D0A523D323733393B323734353B323735303B323735353B323736303B323736343B323737303B323737353B323737393B323738330D0A523D323738373B323739313B323739343B323739383B323830323B323830353B323830383B323831313B323831333B323831360D0A523D323831383B323832303B323832313B323832323B323832333B323832333B323832343B323832343B323832333B323832320D0A523D323832313B323832303B323831383B323831363B323831343B323831323B323831303B323830383B323830353B323830320D0A523D323739393B323739363B323739333B323738393B323738353B323738313B323737373B323737333B323736383B323736330D0A523D323735383B323735323B323734373B323734313B323733343B323732383B323732313B323731333B323730353B323639380D0A523D323639303B323638323B323637333B323636343B323635363B323634363B323633373B323632373B323631373B323630360D0A523D323539363B323538353B323537343B323536333B323535323B323534313B323533303B323531393B323530383B323439370D0A523D323438363B323437353B323436343B323435343B323434333B323433323B323432323B323431313B323430313B323339300D0A523D323337393B323336393B323335383B323334383B323333383B323332383B323331373B323330373B323239383B323238390D0A523D323237393B323236393B323236303B323235303B323234313B323233323B323232333B323231353B323230363B323139370D0A523D323138383B323138303B323137323B323136343B323135353B323134383B323134303B323133323B323132353B323131370D0A523D323130393B323130323B323039353B323038383B323038303B323037343B323036373B323036303B323035343B323034370D0A523D323034313B323033343B323032383B323032323B323031363B323031303B323030343B313939383B313939323B313938360D0A523D313938303B313937353B313936393B313936343B313935393B313935343B313934393B313934343B313933383B313933330D0A523D313932383B313932343B313931393B313931353B313931303B313930353B313930313B313839373B313839333B313838390D0A523D313838353B313838313B313837373B313837333B313836393B313836353B313836323B313835383B313835353B313835310D0A523D313834373B313834343B313834313B313833383B313833353B313833323B313832393B313832363B313832333B313832300D0A523D313831383B313831353B313831333B313831303B313830383B313830353B313830333B313830313B313739383B313739360D0A523D313739343B313739323B313739313B313738393B313738373B313738353B313738343B313738323B313738303B313737390D0A523D313737383B313737373B313737353B313737343B313737323B313737313B313737303B313736393B313736383B313736370D0A523D313736363B313736353B313736353B313736343B313736333B313736323B313736323B313736313B313736303B313735390D0A523D313735393B313735393B313735393B313735393B313735393B313735383B313735383B313735383B313735383B313735390D0A523D313735393B313735393B313735393B313736303B313736303B313736313B313736313B313736323B313736323B313736330D0A523D313736343B313736353B313736353B313736363B313736373B313736383B313736393B313737313B313737323B313737330D0A523D313737343B313737363B313737383B313737393B313738313B313738323B313738343B313738353B313738373B313738390D0A523D313739313B313739323B313739343B313739373B313739393B313830313B313830333B313830363B313830383B313831300D0A523D313831333B313831353B313831383B313832303B313832333B313832363B313832393B313833313B313833333B313833360D0A523D313833383B313834303B313834323B313834353B313834383B313835313B313835343B313835383B313836323B313836370D0A523D313837313B313837353B313837393B313838323B313838363B313838393B313839323B313839363B313839393B313930330D0A523D313930373B313931313B313931353B313932303B313932343B313932393B313933333B313933383B313934333B313934380D0A523D313935333B313935383B313936333B313936393B313937353B313938303B313938363B313939323B313939393B323030350D0A523D323031313B323031363B323032323B323032383B323033343B323034313B323034373B323035333B323035393B323036360D0A523D323037333B323037393B323038363B323039333B323130303B323130373B323131343B323132313B323132393B323133360D0A523D323134333B323135313B323135393B323136373B323137353B323138333B323139303B323139383B323230363B323231350D0A523D323232333B323233313B323233393B323234373B323235363B323236343B323237323B323238303B323238383B323239370D0A523D323330353B323331333B323332313B323332393B323333383B323334363B323335353B323336343B323337323B323338310D0A523D323339303B323339383B323430363B323431343B323432323B323433303B323433383B323434363B323435333B323436310D0A523D323437303B323437373B323438353B323439333B323530303B323530383B323531363B323532333B323533313B323533380D0A523D323534353B323535323B323535383B323536353B323537313B323537383B323538343B323538393B323539353B323630300D0A523D323630363B323631303B323631353B323631393B323632343B323632383B323633313B323633353B323633393B323634320D0A523D323634353B323634373B323634383B323634393B323634393B323635303B323635313B323635323B323635333B323635340D0A523D323635353B323635363B323635373B323635383B323635393B323635393B323636303B323636303B323636313B323636310D0A523D323636313B323636313B323636313B323636313B323636323B323636323B323636333B323636333B323636323B323636320D0A523D323636323B323636323B323636313B323636313B323636303B323636303B323635393B323635393B323635393B323635390D0A523D323635383B323635383B323635373B323635373B323635373B323635363B323635353B323635343B323635333B323635330D0A523D323635333B323635333B323635333B323635323B323635323B323635313B323635313B323635303B323635303B323635300D0A523D323635303B323635303B323635303B323634393B323634393B323634393B323634393B323634393B323634393B323634380D0A523D323634373B323634363B323634363B323634353B323634353B323634343B323634333B323634323B323634313B323633390D0A523D323633393B323633383B323633383B323633373B323633353B323633333B323633323B323633303B323632393B323632370D0A523D323632363B323632353B323632323B323632303B323631373B323631353B323631333B323631313B323630393B323630360D0A523D323630333B323630303B323539373B323539333B323539313B323538383B323538353B323538323B323537383B323537350D0A523D323537313B323536373B323536323B323535383B323535333B323534383B323534333B323533383B323533343B323532390D0A523D323532343B323531393B323531343B323530383B323530323B323439363B323439303B323438343B323437393B323437340D0A523D323436383B323436333B323435383B323435333B323434373B323434313B323433363B323433313B323432353B323431390D0A523D323431333B323430383B323430333B323339373B323339303B323338343B323337383B323337333B323336373B323336310D0A523D323335343B323334383B323334313B323333353B323333303B323332353B323332303B323331343B323330383B323330310D0A523D323239353B323238393B323238333B323237383B323237323B323236353B323236303B323235343B323234383B323234320D0A523D323233363B323233313B323232353B323232303B323231353B323230393B323230333B323139383B323139323B323138360D0A523D323138313B323137353B323137303B323136353B323135393B323135343B323134393B323134333B323133383B323133320D0A523D323132373B323132323B323131373B323131323B323130373B323130333B323039373B323039333B323038383B323038330D0A523D323037383B323037333B323036383B323036333B323035383B323035333B323034383B323034333B323033383B323033330D0A523D323032393B323032343B323032303B323031353B323031303B323030363B323030313B313939363B313939323B313938380D0A523D313938343B313937393B313937343B313937303B313936363B313936323B313935373B313935343B313935303B313934360D0A523D313934323B313933383B313933353B313933313B313932383B313932343B313932303B313931363B313931323B313930390D0A523D313930353B313930313B313839383B313839353B313839323B313838383B313838353B313838323B313837393B313837360D0A523D313837333B313837303B313836373B313836343B313836323B313835393B313835373B313835353B313835333B313835300D0A523D313834373B313834353B313834323B313834303B313833383B313833363B313833333B313833313B313832393B313832360D0A523D313832343B313832323B313832303B313831383B313831373B313831353B313831343B313831323B313831313B313830390D0A523D313830383B313830363B313830353B313830333B313830323B313830313B313830303B313739393B313739383B313739370D0A523D313739363B313739363B313739353B313739343B313739333B313739333B313739323B313739323B313739313B313739300D0A523D313738393B313738383B313738383B313738373B313738373B313738363B313738363B313738353B313738353B313738340D0A523D313738343B313738343B313738343B313738333B313738333B313738333B313738333B313738333B313738333B313738320D0A523D313738323B313738333B313738333B313738333B313738333B313738333B313738333B313738333B313738333B313738340D0A523D313738343B313738343B313738343B313738353B313738353B313738363B313738363B313738373B313738373B313738380D0A523D313738393B313739303B313739313B313739313B313739323B313739333B313739343B313739353B313739363B313739370D0A523D313739383B313739393B313830303B313830313B313830333B313830343B313830353B313830373B313830383B313831300D0A523D313831313B313831333B313831343B313831363B313831373B313831393B313832303B313832323B313832333B313832350D0A523D313832373B313832393B313833313B313833333B313833353B313833373B313833393B313834313B313834333B313834350D0A523D313834373B313834393B313835313B313835333B313835353B313835383B313836303B313836323B313836343B313836370D0A523D313836393B313837323B313837353B313837373B313838303B313838323B313838353B313838383B313839313B313839330D0A523D313839363B313839393B313930323B313930353B313930383B313931323B313931353B313931383B313932313B313932340D0A523D313932373B313933303B313933333B313933363B313933393B313934323B313934363B313934393B313935323B313935360D0A523D313935393B313936333B313936363B313937303B313937333B313937373B313938303B313938333B313938373B313939300D0A523D313939343B313939383B323030313B323030353B323030383B323031323B323031353B323031393B323032333B323032360D0A523D323033303B323033333B323033373B323034303B323034333B323034363B323035303B323035333B323035363B323035390D0A523D323036323B323036353B323036383B323037313B323037353B323037383B323038313B323038343B323038373B323039300D0A523D323039343B323039373B323130303B323130333B323130363B323130383B323131313B323131343B323131373B323132300D0A523D323132333B323132363B323132393B323133323B323133353B323133383B323134313B323134343B323134373B323135300D0A523D323135333B323135373B323136303B323136333B323136363B323136393B323137333B323137363B323138303B323138330D0A523D323138363B323138393B323139323B323139363B323139393B323230323B323230353B323230393B323231333B323231360D0A523D323232303B323232343B323232383B323233323B323233353B323233393B323234333B323234373B323235313B323235360D0A523D323236303B323236343B323236383B323237333B323237373B323238323B323238363B323239313B323239363B323330300D0A523D323330353B323331303B323331353B323332303B323332343B323332393B323333343B323333393B323334343B323334390D0A523D323335353B323336303B323336353B323337303B323337363B323338313B323338363B323339323B323339373B323430330D0A523D323431303B323431353B323432313B323432373B323433333B323433393B323434353B323435323B323435393B323436350D0A545243464D543D313B313030303B453B4C3B460D0A523D323635333B323635333B323635333B323635343B323635353B323635363B323635373B323635373B323635373B323635380D0A523D323635383B323635393B323635393B323635393B323635393B323636303B323636303B323636313B323636313B323636320D0A523D323636323B323636323B323636323B323636333B323636333B323636323B323636323B323636313B323636313B323636310D0A523D323636313B323636313B323636313B323636303B323636303B323635393B323635393B323635383B323635373B323635360D0A523D323635353B323635343B323635333B323635323B323635313B323635303B323634393B323634393B323634383B323634370D0A523D323634353B323634323B323633393B323633353B323633313B323632383B323632343B323631393B323631353B323631300D0A523D323630363B323630303B323539353B323538393B323538343B323537383B323537313B323536353B323535383B323535320D0A523D323534353B323533383B323533313B323532333B323531363B323530383B323530303B323439333B323438353B323437370D0A523D323437303B323436313B323435333B323434363B323433383B323433303B323432323B323431343B323430363B323339380D0A523D323339303B323338313B323337323B323336343B323335353B323334363B323333383B323332393B323332313B323331330D0A523D323330353B323239373B323238383B323238303B323237323B323236343B323235363B323234373B323233393B323233310D0A523D323232333B323231353B323230363B323139383B323139303B323138333B323137353B323136373B323135393B323135310D0A523D323134333B323133363B323132393B323132313B323131343B323130373B323130303B323039333B323038363B323037390D0A523D323037333B323036363B323035393B323035333B323034373B323034313B323033343B323032383B323032323B323031360D0A523D323031313B323030353B313939393B313939323B313938363B313938303B313937353B313936393B313936333B313935380D0A523D313935333B313934383B313934333B313933383B313933333B313932393B313932343B313932303B313931353B313931310D0A523D313930373B313930333B313839393B313839363B313839323B313838393B313838363B313838323B313837393B313837350D0A523D313837313B313836373B313836323B313835383B313835343B313835313B313834383B313834353B313834323B313834300D0A523D313833383B313833363B313833333B313833313B313832393B313832363B313832333B313832303B313831383B313831350D0A523D313831333B313831303B313830383B313830363B313830333B313830313B313739393B313739373B313739343B313739320D0A523D313739313B313738393B313738373B313738353B313738343B313738323B313738313B313737393B313737383B313737360D0A523D313737343B313737333B313737323B313737313B313736393B313736383B313736373B313736363B313736353B313736350D0A523D313736343B313736333B313736323B313736323B313736313B313736313B313736303B313736303B313735393B313735390D0A523D313735393B313735393B313735383B313735383B313735383B313735383B313735393B313735393B313735393B313735390D0A523D313735393B313735393B313736303B313736313B313736323B313736323B313736333B313736343B313736353B313736350D0A523D313736363B313736373B313736383B313736393B313737303B313737313B313737323B313737343B313737353B313737370D0A523D313737383B313737393B313738303B313738323B313738343B313738353B313738373B313738393B313739313B313739320D0A523D313739343B313739363B313739383B313830313B313830333B313830353B313830383B313831303B313831333B313831350D0A523D313831383B313832303B313832333B313832363B313832393B313833323B313833353B313833383B313834313B313834340D0A523D313834373B313835313B313835353B313835383B313836323B313836353B313836393B313837333B313837373B313838310D0A523D313838353B313838393B313839333B313839373B313930313B313930353B313931303B313931353B313931393B313932340D0A523D313932383B313933333B313933383B313934343B313934393B313935343B313935393B313936343B313936393B313937350D0A523D313938303B313938363B313939323B313939383B323030343B323031303B323031363B323032323B323032383B323033340D0A523D323034313B323034373B323035343B323036303B323036373B323037343B323038303B323038383B323039353B323130320D0A523D323130393B323131373B323132353B323133323B323134303B323134383B323135353B323136343B323137323B323138300D0A523D323138383B323139373B323230363B323231353B323232333B323233323B323234313B323235303B323236303B323236390D0A523D323237393B323238393B323239383B323330373B323331373B323332383B323333383B323334383B323335383B323336390D0A523D323337393B323339303B323430313B323431313B323432323B323433323B323434333B323435343B323436343B323437350D0A523D323438363B323439373B323530383B323531393B323533303B323534313B323535323B323536333B323537343B323538350D0A523D323539363B323630363B323631373B323632373B323633373B323634363B323635363B323636343B323637333B323638320D0A523D323639303B323639383B323730353B323731333B323732313B323732383B323733343B323734313B323734373B323735320D0A523D323735383B323736333B323736383B323737333B323737373B323738313B323738353B323738393B323739333B323739360D0A523D323739393B323830323B323830353B323830383B323831303B323831323B323831343B323831363B323831383B323832300D0A523D323832313B323832323B323832333B323832343B323832343B323832333B323832333B323832323B323832313B323832300D0A523D323831383B323831363B323831333B323831313B323830383B323830353B323830323B323739383B323739343B323739310D0A523D323738373B323738333B323737393B323737353B323737303B323736343B323736303B323735353B323735303B323734350D0A523D323733393B323733343B323732373B323732313B323731353B323730393B323730333B323639373B323639303B323638330D0A523D323637373B323637303B323636333B323635363B323634383B323634313B323633343B323632373B323632303B323631340D0A523D323630363B323539393B323539333B323538363B323537393B323537323B323536353B323535393B323535323B323534350D0A523D323533393B323533323B323532343B323531383B323531313B323530343B323439383B323439313B323438343B323437380D0A523D323437313B323436353B323435393B323435323B323434353B323433393B323433333B323432373B323432313B323431350D0A523D323431303B323430333B323339373B323339323B323338363B323338313B323337363B323337303B323336353B323336300D0A523D323335353B323334393B323334343B323333393B323333343B323332393B323332343B323332303B323331353B323331300D0A523D323330353B323330303B323239363B323239313B323238363B323238323B323237373B323237333B323236383B323236340D0A523D323236303B323235363B323235313B323234373B323234333B323233393B323233353B323233323B323232383B323232340D0A523D323232303B323231363B323231333B323230393B323230353B323230323B323139393B323139363B323139323B323138390D0A523D323138363B323138333B323138303B323137363B323137333B323136393B323136363B323136333B323136303B323135370D0A523D323135333B323135303B323134373B323134343B323134313B323133383B323133353B323133323B323132393B323132360D0A523D323132333B323132303B323131373B323131343B323131313B323130383B323130363B323130333B323130303B323039370D0A523D323039343B323039303B323038373B323038343B323038313B323037383B323037353B323037313B323036383B323036350D0A523D323036323B323035393B323035363B323035333B323035303B323034363B323034333B323034303B323033373B323033330D0A523D323033303B323032363B323032333B323031393B323031353B323031323B323030383B323030353B323030313B313939380D0A523D313939343B313939303B313938373B313938333B313938303B313937373B313937333B313937303B313936363B313936330D0A523D313935393B313935363B313935323B313934393B313934363B313934323B313933393B313933363B313933333B313933300D0A523D313932373B313932343B313932313B313931383B313931353B313931323B313930383B313930353B313930323B313839390D0A523D313839363B313839333B313839313B313838383B313838353B313838323B313838303B313837373B313837353B313837320D0A523D313836393B313836373B313836343B313836323B313836303B313835383B313835353B313835333B313835313B313834390D0A523D313834373B313834353B313834333B313834313B313833393B313833373B313833353B313833333B313833313B313832390D0A523D313832373B313832353B313832333B313832323B313832303B313831393B313831373B313831363B313831343B313831330D0A523D313831313B313831303B313830383B313830373B313830353B313830343B313830333B313830313B313830303B313739390D0A523D313739383B313739373B313739363B313739353B313739343B313739333B313739323B313739313B313739313B313739300D0A523D313738393B313738383B313738373B313738373B313738363B313738363B313738353B313738353B313738343B313738340D0A523D313738343B313738343B313738333B313738333B313738333B313738333B313738333B313738333B313738333B313738330D0A523D313738323B313738323B313738333B313738333B313738333B313738333B313738333B313738333B313738343B313738340D0A523D313738343B313738343B313738353B313738353B313738363B313738363B313738373B313738373B313738383B313738380D0A523D313738393B313739303B313739313B313739323B313739323B313739333B313739333B313739343B313739353B313739360D0A523D313739363B313739373B313739383B313739393B313830303B313830313B313830323B313830333B313830353B313830360D0A523D313830383B313830393B313831313B313831323B313831343B313831353B313831373B313831383B313832303B313832320D0A523D313832343B313832363B313832393B313833313B313833333B313833363B313833383B313834303B313834323B313834350D0A523D313834373B313835303B313835333B313835353B313835373B313835393B313836323B313836343B313836373B313837300D0A523D313837333B313837363B313837393B313838323B313838353B313838383B313839323B313839353B313839383B313930310D0A523D313930353B313930393B313931323B313931363B313932303B313932343B313932383B313933313B313933353B313933380D0A523D313934323B313934363B313935303B313935343B313935373B313936323B313936363B313937303B313937343B313937390D0A523D313938343B313938383B313939323B313939363B323030313B323030363B323031303B323031353B323032303B323032340D0A523D323032393B323033333B323033383B323034333B323034383B323035333B323035383B323036333B323036383B323037330D0A523D323037383B323038333B323038383B323039333B323039373B323130333B323130373B323131323B323131373B323132320D0A523D323132373B323133323B323133383B323134333B323134393B323135343B323135393B323136353B323137303B323137350D0A523D323138313B323138363B323139323B323139383B323230333B323230393B323231353B323232303B323232353B323233310D0A523D323233363B323234323B323234383B323235343B323236303B323236353B323237323B323237383B323238333B323238390D0A523D323239353B323330313B323330383B323331343B323332303B323332353B323333303B323333353B323334313B323334380D0A523D323335343B323336313B323336373B323337333B323337383B323338343B323339303B323339373B323430333B323430380D0A523D323431333B323431393B323432353B323433313B323433363B323434313B323434373B323435333B323435383B323436330D0A523D323436383B323437343B323437393B323438343B323439303B323439363B323530323B323530383B323531343B323531390D0A523D323532343B323532393B323533343B323533383B323534333B323534383B323535333B323535383B323536323B323536370D0A523D323537313B323537353B323537383B323538323B323538353B323538383B323539313B323539333B323539373B323630300D0A523D323630333B323630363B323630393B323631313B323631333B323631353B323631373B323632303B323632323B323632350D0A523D323632363B323632373B323632393B323633303B323633323B323633333B323633353B323633373B323633383B323633380D0A523D323633393B323633393B323634313B323634323B323634333B323634343B323634353B323634353B323634363B323634360D0A523D323634373B323634383B323634393B323634393B323634393B323634393B323634393B323634393B323635303B323635300D0A523D323635303B323635303B323635303B323635303B323635313B323635313B323635323B323635323B323635333B323635330D0A56424F583D33352E38373B33352E38370D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35362E34383B35362E34380D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                            }

                            if ($information_commande->precalibrage->calibre ==
                                21) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3135312E3036303B3135312E3036300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35332E30363B35332E30360D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323535363B323536303B323536333B323536373B323537303B323537343B323537383B323538323B323538363B323538390D0A523D323539333B323539373B323630313B323630353B323630393B323631333B323631383B323632323B323632373B323633310D0A523D323633353B323634303B323634343B323634393B323635343B323635383B323636333B323636373B323637323B323637370D0A523D323638323B323638373B323639323B323639383B323730333B323730383B323731333B323731383B323732343B323732390D0A523D323733343B323733393B323734353B323735303B323735353B323736303B323736363B323737323B323737373B323738330D0A523D323738393B323739353B323830313B323830373B323831333B323831393B323832353B323833313B323833373B323834330D0A523D323835303B323835363B323836323B323836383B323837343B323838303B323838363B323839313B323839353B323930300D0A523D323930353B323930393B323931323B323931353B323931373B323931383B323931393B323931383B323931363B323931320D0A523D323930383B323930333B323839373B323838393B323838313B323837313B323836313B323835303B323833393B323832360D0A523D323831333B323739393B323738353B323737313B323735363B323734313B323732363B323731313B323639363B323638300D0A523D323636343B323634393B323633343B323631393B323630343B323538383B323537333B323535383B323534343B323532390D0A523D323531353B323530313B323438363B323437313B323435373B323434333B323432393B323431363B323430323B323338390D0A523D323337363B323336323B323334393B323333373B323332343B323331313B323239393B323238363B323237343B323236320D0A523D323235303B323233383B323232373B323231363B323230353B323139333B323138333B323137323B323136313B323135310D0A523D323134303B323133303B323132313B323131313B323130303B323039313B323038313B323037323B323036323B323035330D0A523D323034343B323033353B323032363B323031383B323030393B323030313B313939333B313938353B313937383B313937300D0A523D313936323B313935353B313934383B313934313B313933333B313932363B313931393B313931323B313930353B313839380D0A523D313839323B313838353B313837393B313837333B313836373B313836313B313835353B313834393B313834333B313833370D0A523D313833313B313832363B313832303B313831353B313831303B313830353B313830303B313739353B313739303B313738350D0A523D313738303B313737363B313737313B313736373B313736323B313735373B313735333B313734393B313734353B313734310D0A523D313733373B313733343B313733303B313732363B313732333B313732303B313731373B313731333B313730393B313730350D0A523D313730313B313639383B313639343B313639303B313638363B313638333B313637393B313637373B313637353B313637320D0A523D313637303B313636383B313636363B313636333B313636313B313635383B313635353B313635323B313635303B313634380D0A523D313634363B313634343B313634333B313634313B313634303B313633383B313633373B313633353B313633343B313633330D0A523D313633313B313633303B313632393B313632393B313632383B313632373B313632363B313632363B313632353B313632350D0A523D313632343B313632333B313632333B313632323B313632323B313632323B313632323B313632313B313632313B313632310D0A523D313632313B313632303B313632303B313632313B313632313B313632313B313632313B313632313B313632313B313632320D0A523D313632323B313632323B313632323B313632333B313632343B313632353B313632353B313632363B313632373B313632380D0A523D313632393B313633303B313633313B313633323B313633333B313633353B313633363B313633373B313633393B313634310D0A523D313634323B313634343B313634363B313634383B313635303B313635323B313635343B313635363B313635383B313636300D0A523D313636333B313636363B313636383B313637313B313637333B313637353B313637383B313638313B313638333B313638360D0A523D313638393B313639323B313639353B313639393B313730323B313730353B313730393B313731323B313731363B313731390D0A523D313732333B313732363B313733303B313733343B313733383B313734323B313734363B313735303B313735343B313735390D0A523D313736333B313736373B313737323B313737373B313738323B313738373B313739313B313739363B313830323B313830370D0A523D313831323B313831373B313832323B313832383B313833333B313833393B313834353B313835303B313835363B313836320D0A523D313836393B313837353B313838323B313838383B313839343B313930313B313930383B313931353B313932323B313932390D0A523D313933373B313934343B313935323B313936303B313936383B313937363B313938343B313939323B323030313B323030390D0A523D323031383B323032373B323033363B323034353B323035343B323036333B323037333B323038323B323039333B323130330D0A523D323131333B323132333B323133343B323134343B323135353B323136363B323137373B323138383B323230303B323231320D0A523D323232343B323233363B323234383B323236313B323237343B323238373B323330303B323331333B323332373B323334310D0A523D323335353B323336393B323338333B323339373B323431323B323432363B323434313B323435363B323437313B323438360D0A523D323530323B323531373B323533333B323534393B323536353B323538313B323539383B323631343B323633313B323634370D0A523D323636343B323638313B323639373B323731333B323733303B323734363B323736313B323737353B323738393B323830310D0A523D323831323B323832303B323832383B323833333B323833363B323833373B323833383B323833373B323833353B323833320D0A523D323832393B323832353B323832323B323831373B323831343B323831303B323830363B323830313B323739373B323739320D0A523D323738373B323738333B323737383B323737333B323736383B323736323B323735373B323735323B323734383B323734330D0A523D323733383B323733343B323733303B323732353B323732313B323731363B323731323B323730383B323730353B323730310D0A523D323639383B323639343B323639303B323638373B323638343B323638313B323637383B323637353B323637323B323637300D0A523D323636363B323636343B323636313B323635393B323635363B323635343B323635323B323634393B323634373B323634350D0A523D323634323B323634303B323633383B323633373B323633353B323633343B323633323B323633313B323632393B323632380D0A523D323632363B323632353B323632343B323632323B323632313B323632303B323631393B323631383B323631383B323631370D0A523D323631373B323631373B323631373B323631373B323631373B323631373B323631373B323631383B323631383B323631380D0A523D323631383B323632303B323632303B323632313B323632313B323632323B323632333B323632343B323632353B323632360D0A523D323632373B323632393B323633303B323633313B323633323B323633343B323633363B323633383B323633393B323634310D0A523D323634333B323634353B323634373B323634393B323635313B323635333B323635363B323635383B323636303B323636320D0A523D323636353B323636383B323637303B323637333B323637353B323637383B323638313B323638343B323638373B323639300D0A523D323639333B323639363B323639393B323730333B323730363B323730383B323731303B323731323B323731343B323731360D0A523D323731373B323731373B323731383B323731373B323731363B323731343B323731323B323730393B323730353B323730310D0A523D323639363B323639303B323638333B323637353B323636373B323635373B323634373B323633373B323632373B323631350D0A523D323630333B323539313B323537393B323536363B323535343B323534323B323532393B323531373B323530353B323439320D0A523D323437393B323436383B323435363B323434333B323433313B323431393B323430373B323339363B323338343B323337320D0A523D323336313B323335303B323333383B323332373B323331363B323330353B323239343B323238333B323237323B323236320D0A523D323235313B323234313B323233313B323232303B323231303B323230303B323139303B323138313B323137313B323136310D0A523D323135323B323134333B323133333B323132343B323131353B323130363B323039373B323038393B323038303B323037310D0A523D323036323B323035343B323034363B323033383B323033303B323032323B323031343B323030363B313939393B313939320D0A523D313938353B313937383B313937303B313936333B313935363B313935303B313934343B313933373B313933303B313932340D0A523D313931383B313931323B313930363B313930303B313839343B313838383B313838323B313837373B313837323B313836360D0A523D313836313B313835353B313834393B313834343B313833393B313833353B313833303B313832353B313832303B313831350D0A523D313831313B313830373B313830333B313739383B313739343B313739303B313738353B313738323B313737383B313737340D0A523D313737303B313736363B313736333B313735393B313735363B313735323B313734393B313734363B313734333B313734300D0A523D313733373B313733343B313733303B313732373B313732343B313732313B313731393B313731363B313731333B313731300D0A523D313730373B313730353B313730323B313639393B313639373B313639353B313639333B313639313B313638393B313638370D0A523D313638353B313638343B313638323B313638303B313637383B313637363B313637353B313637333B313637313B313636390D0A523D313636383B313636363B313636353B313636343B313636333B313636323B313636313B313636303B313635393B313635390D0A523D313635383B313635383B313635383B313635383B313635373B313635373B313635373B313635373B313635373B313635370D0A523D313635373B313635383B313635383B313635393B313635393B313635393B313635393B313636303B313636303B313636310D0A523D313636313B313636323B313636323B313636333B313636333B313636343B313636353B313636363B313636363B313636370D0A523D313636383B313637303B313637313B313637323B313637343B313637353B313637363B313637373B313637393B313638310D0A523D313638333B313638353B313638363B313638383B313639303B313639323B313639343B313639363B313639383B313730300D0A523D313730323B313730353B313730373B313730393B313731323B313731343B313731373B313732303B313732333B313732360D0A523D313732393B313733323B313733353B313733383B313734313B313734343B313734373B313735303B313735353B313735380D0A523D313736313B313736353B313736393B313737333B313737363B313738303B313738343B313738383B313739333B313739370D0A523D313830313B313830363B313831313B313831353B313832303B313832353B313832393B313833343B313833383B313834340D0A523D313835303B313835353B313836303B313836353B313837303B313837363B313838313B313838373B313839333B313839390D0A523D313930353B313931313B313931373B313932333B313933303B313933363B313934323B313934393B313935353B313936330D0A523D313937303B313937363B313938333B313939303B313939383B323030353B323031333B323032313B323032383B323033360D0A523D323034343B323035313B323035393B323036373B323037353B323038333B323039313B323039393B323130373B323131360D0A523D323132343B323133323B323134303B323134393B323135373B323136363B323137343B323138323B323139313B323230300D0A523D323230383B323231363B323232343B323233313B323233393B323234373B323235343B323236323B323236393B323237360D0A523D323238343B323239303B323239373B323330343B323331303B323331373B323332343B323333303B323333363B323334310D0A523D323334383B323335333B323335383B323336333B323336383B323337333B323337383B323338323B323338373B323339310D0A523D323339353B323339393B323430333B323430363B323430393B323431323B323431363B323431393B323432323B323432350D0A523D323432383B323433303B323433323B323433343B323433353B323433373B323433383B323434303B323434313B323434320D0A523D323434333B323434353B323434363B323434373B323434373B323434383B323434383B323434393B323435303B323435310D0A523D323435313B323435323B323435323B323435333B323435333B323435343B323435343B323435353B323435353B323435360D0A523D323435363B323435373B323435383B323435393B323435393B323436303B323436313B323436323B323436323B323436330D0A523D323436343B323436353B323436363B323436373B323436383B323436393B323437313B323437323B323437343B323437360D0A523D323437383B323437393B323438313B323438333B323438353B323438373B323438393B323439313B323439333B323439350D0A523D323439383B323530303B323530333B323530353B323530383B323531313B323531343B323531373B323531393B323532320D0A523D323532353B323532383B323533313B323533343B323533373B323534313B323534343B323534373B323535303B323535330D0A545243464D543D313B313030303B453B4C3B460D0A523D323632363B323632383B323632393B323633313B323633323B323633343B323633353B323633373B323633383B323634300D0A523D323634323B323634353B323634373B323634393B323635323B323635343B323635363B323635393B323636313B323636340D0A523D323636363B323637303B323637323B323637353B323637383B323638313B323638343B323638373B323639303B323639340D0A523D323639383B323730313B323730353B323730383B323731323B323731363B323732313B323732353B323733303B323733340D0A523D323733383B323734333B323734383B323735323B323735373B323736323B323736383B323737333B323737383B323738330D0A523D323738373B323739323B323739373B323830313B323830363B323831303B323831343B323831373B323832323B323832350D0A523D323832393B323833323B323833353B323833373B323833383B323833373B323833363B323833333B323832383B323832300D0A523D323831323B323830313B323738393B323737353B323736313B323734363B323733303B323731333B323639373B323638310D0A523D323636343B323634373B323633313B323631343B323539383B323538313B323536353B323534393B323533333B323531370D0A523D323530323B323438363B323437313B323435363B323434313B323432363B323431323B323339373B323338333B323336390D0A523D323335353B323334313B323332373B323331333B323330303B323238373B323237343B323236313B323234383B323233360D0A523D323232343B323231323B323230303B323138383B323137373B323136363B323135353B323134343B323133343B323132330D0A523D323131333B323130333B323039333B323038323B323037333B323036333B323035343B323034353B323033363B323032370D0A523D323031383B323030393B323030313B313939323B313938343B313937363B313936383B313936303B313935323B313934340D0A523D313933373B313932393B313932323B313931353B313930383B313930313B313839343B313838383B313838323B313837350D0A523D313836393B313836323B313835363B313835303B313834353B313833393B313833333B313832383B313832323B313831370D0A523D313831323B313830373B313830323B313739363B313739313B313738373B313738323B313737373B313737323B313736370D0A523D313736333B313735393B313735343B313735303B313734363B313734323B313733383B313733343B313733303B313732360D0A523D313732333B313731393B313731363B313731323B313730393B313730353B313730323B313639393B313639353B313639320D0A523D313638393B313638363B313638333B313638313B313637383B313637353B313637333B313637313B313636383B313636360D0A523D313636333B313636303B313635383B313635363B313635343B313635323B313635303B313634383B313634363B313634340D0A523D313634323B313634313B313633393B313633373B313633363B313633353B313633333B313633323B313633313B313633300D0A523D313632393B313632383B313632373B313632363B313632353B313632353B313632343B313632333B313632323B313632320D0A523D313632323B313632323B313632313B313632313B313632313B313632313B313632313B313632313B313632303B313632300D0A523D313632313B313632313B313632313B313632313B313632323B313632323B313632323B313632323B313632333B313632330D0A523D313632343B313632353B313632353B313632363B313632363B313632373B313632383B313632393B313632393B313633300D0A523D313633313B313633333B313633343B313633353B313633373B313633383B313634303B313634313B313634333B313634340D0A523D313634363B313634383B313635303B313635323B313635353B313635383B313636313B313636333B313636363B313636380D0A523D313637303B313637323B313637353B313637373B313637393B313638333B313638363B313639303B313639343B313639380D0A523D313730313B313730353B313730393B313731333B313731373B313732303B313732333B313732363B313733303B313733340D0A523D313733373B313734313B313734353B313734393B313735333B313735373B313736323B313736373B313737313B313737360D0A523D313738303B313738353B313739303B313739353B313830303B313830353B313831303B313831353B313832303B313832360D0A523D313833313B313833373B313834333B313834393B313835353B313836313B313836373B313837333B313837393B313838350D0A523D313839323B313839383B313930353B313931323B313931393B313932363B313933333B313934313B313934383B313935350D0A523D313936323B313937303B313937383B313938353B313939333B323030313B323030393B323031383B323032363B323033350D0A523D323034343B323035333B323036323B323037323B323038313B323039313B323130303B323131313B323132313B323133300D0A523D323134303B323135313B323136313B323137323B323138333B323139333B323230353B323231363B323232373B323233380D0A523D323235303B323236323B323237343B323238363B323239393B323331313B323332343B323333373B323334393B323336320D0A523D323337363B323338393B323430323B323431363B323432393B323434333B323435373B323437313B323438363B323530310D0A523D323531353B323532393B323534343B323535383B323537333B323538383B323630343B323631393B323633343B323634390D0A523D323636343B323638303B323639363B323731313B323732363B323734313B323735363B323737313B323738353B323739390D0A523D323831333B323832363B323833393B323835303B323836313B323837313B323838313B323838393B323839373B323930330D0A523D323930383B323931323B323931363B323931383B323931393B323931383B323931373B323931353B323931323B323930390D0A523D323930353B323930303B323839353B323839313B323838363B323838303B323837343B323836383B323836323B323835360D0A523D323835303B323834333B323833373B323833313B323832353B323831393B323831333B323830373B323830313B323739350D0A523D323738393B323738333B323737373B323737323B323736363B323736303B323735353B323735303B323734353B323733390D0A523D323733343B323732393B323732343B323731383B323731333B323730383B323730333B323639383B323639323B323638370D0A523D323638323B323637373B323637323B323636373B323636333B323635383B323635343B323634393B323634343B323634300D0A523D323633353B323633313B323632373B323632323B323631383B323631333B323630393B323630353B323630313B323539370D0A523D323539333B323538393B323538363B323538323B323537383B323537343B323537303B323536373B323536333B323536300D0A523D323535363B323535333B323535303B323534373B323534343B323534313B323533373B323533343B323533313B323532380D0A523D323532353B323532323B323531393B323531373B323531343B323531313B323530383B323530353B323530333B323530300D0A523D323439383B323439353B323439333B323439313B323438393B323438373B323438353B323438333B323438313B323437390D0A523D323437383B323437363B323437343B323437323B323437313B323436393B323436383B323436373B323436363B323436350D0A523D323436343B323436333B323436323B323436323B323436313B323436303B323435393B323435393B323435383B323435370D0A523D323435363B323435363B323435353B323435353B323435343B323435343B323435333B323435333B323435323B323435320D0A523D323435313B323435313B323435303B323434393B323434383B323434383B323434373B323434373B323434363B323434350D0A523D323434333B323434323B323434313B323434303B323433383B323433373B323433353B323433343B323433323B323433300D0A523D323432383B323432353B323432323B323431393B323431363B323431323B323430393B323430363B323430333B323339390D0A523D323339353B323339313B323338373B323338323B323337383B323337333B323336383B323336333B323335383B323335330D0A523D323334383B323334313B323333363B323333303B323332343B323331373B323331303B323330343B323239373B323239300D0A523D323238343B323237363B323236393B323236323B323235343B323234373B323233393B323233313B323232343B323231360D0A523D323230383B323230303B323139313B323138323B323137343B323136363B323135373B323134393B323134303B323133320D0A523D323132343B323131363B323130373B323039393B323039313B323038333B323037353B323036373B323035393B323035310D0A523D323034343B323033363B323032383B323032313B323031333B323030353B313939383B313939303B313938333B313937360D0A523D313937303B313936333B313935353B313934393B313934323B313933363B313933303B313932333B313931373B313931310D0A523D313930353B313839393B313839333B313838373B313838313B313837363B313837303B313836353B313836303B313835350D0A523D313835303B313834343B313833383B313833343B313832393B313832353B313832303B313831353B313831313B313830360D0A523D313830313B313739373B313739333B313738383B313738343B313738303B313737363B313737333B313736393B313736350D0A523D313736313B313735383B313735353B313735303B313734373B313734343B313734313B313733383B313733353B313733320D0A523D313732393B313732363B313732333B313732303B313731373B313731343B313731323B313730393B313730373B313730350D0A523D313730323B313730303B313639383B313639363B313639343B313639323B313639303B313638383B313638363B313638350D0A523D313638333B313638313B313637393B313637373B313637363B313637353B313637343B313637323B313637313B313637300D0A523D313636383B313636373B313636363B313636363B313636353B313636343B313636333B313636333B313636323B313636320D0A523D313636313B313636313B313636303B313636303B313635393B313635393B313635393B313635393B313635383B313635380D0A523D313635373B313635373B313635373B313635373B313635373B313635373B313635373B313635383B313635383B313635380D0A523D313635383B313635393B313635393B313636303B313636313B313636323B313636333B313636343B313636353B313636360D0A523D313636383B313636393B313637313B313637333B313637353B313637363B313637383B313638303B313638323B313638340D0A523D313638353B313638373B313638393B313639313B313639333B313639353B313639373B313639393B313730323B313730350D0A523D313730373B313731303B313731333B313731363B313731393B313732313B313732343B313732373B313733303B313733340D0A523D313733373B313734303B313734333B313734363B313734393B313735323B313735363B313735393B313736333B313736360D0A523D313737303B313737343B313737383B313738323B313738353B313739303B313739343B313739383B313830333B313830370D0A523D313831313B313831353B313832303B313832353B313833303B313833353B313833393B313834343B313834393B313835350D0A523D313836313B313836363B313837323B313837373B313838323B313838383B313839343B313930303B313930363B313931320D0A523D313931383B313932343B313933303B313933373B313934343B313935303B313935363B313936333B313937303B313937380D0A523D313938353B313939323B313939393B323030363B323031343B323032323B323033303B323033383B323034363B323035340D0A523D323036323B323037313B323038303B323038393B323039373B323130363B323131353B323132343B323133333B323134330D0A523D323135323B323136313B323137313B323138313B323139303B323230303B323231303B323232303B323233313B323234310D0A523D323235313B323236323B323237323B323238333B323239343B323330353B323331363B323332373B323333383B323335300D0A523D323336313B323337323B323338343B323339363B323430373B323431393B323433313B323434333B323435363B323436380D0A523D323437393B323439323B323530353B323531373B323532393B323534323B323535343B323536363B323537393B323539310D0A523D323630333B323631353B323632373B323633373B323634373B323635373B323636373B323637353B323638333B323639300D0A523D323639363B323730313B323730353B323730393B323731323B323731343B323731363B323731373B323731383B323731370D0A523D323731373B323731363B323731343B323731323B323731303B323730383B323730363B323730333B323639393B323639360D0A523D323639333B323639303B323638373B323638343B323638313B323637383B323637353B323637333B323637303B323636380D0A523D323636353B323636323B323636303B323635383B323635363B323635333B323635313B323634393B323634373B323634350D0A523D323634333B323634313B323633393B323633383B323633363B323633343B323633323B323633313B323633303B323632390D0A523D323632373B323632363B323632353B323632343B323632333B323632323B323632313B323632313B323632303B323632300D0A523D323631383B323631383B323631383B323631383B323631373B323631373B323631373B323631373B323631373B323631370D0A523D323631373B323631373B323631383B323631383B323631393B323632303B323632313B323632323B323632343B323632350D0A56424F583D33332E31363B33332E31360D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35382E33373B35382E33370D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                            }

                            if ($information_commande->precalibrage->calibre ==
                                22) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3135372E3838303B3135372E3838300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35362E31383B35362E31380D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323732303B323732343B323732373B323733313B323733353B323733393B323734343B323734383B323735323B323735360D0A523D323736303B323736343B323736383B323737323B323737373B323738313B323738363B323739303B323739353B323830300D0A523D323830343B323830393B323831333B323831383B323832333B323832383B323833333B323833373B323834323B323834370D0A523D323835323B323835373B323836323B323836373B323837323B323837363B323838313B323838363B323839313B323839360D0A523D323930303B323930353B323930393B323931333B323931373B323932313B323932353B323932383B323933323B323933360D0A523D323933393B323934333B323934363B323934393B323935313B323935333B323935353B323935363B323935373B323935370D0A523D323935373B323935373B323935363B323935343B323935333B323935313B323934383B323934353B323934313B323933370D0A523D323933323B323932373B323932323B323931373B323931313B323930353B323839383B323839313B323838333B323837350D0A523D323836383B323835393B323835313B323834323B323833333B323832343B323831353B323830363B323739363B323738360D0A523D323737363B323736373B323735373B323734373B323733363B323732363B323731363B323730363B323639353B323638350D0A523D323637353B323636343B323635333B323634333B323633323B323632313B323631303B323630303B323538393B323537380D0A523D323536373B323535373B323534363B323533353B323532343B323531343B323530333B323439323B323438313B323437310D0A523D323436303B323435303B323434303B323432393B323431393B323430393B323339393B323338393B323337393B323336390D0A523D323335393B323335303B323334303B323333313B323332323B323331333B323330343B323239343B323238353B323237360D0A523D323236373B323235393B323235303B323234323B323233333B323232353B323231373B323230393B323230313B323139330D0A523D323138353B323137373B323137303B323136323B323135353B323134383B323134313B323133343B323132373B323132310D0A523D323131343B323130373B323130313B323039353B323038383B323038323B323037363B323037303B323036343B323035380D0A523D323035333B323034373B323034313B323033363B323033303B323032353B323032303B323031353B323031303B323030350D0A523D323030303B313939353B313939303B313938363B313938313B313937373B313937323B313936383B313936343B313935390D0A523D313935353B313935313B313934373B313934333B313934303B313933363B313933333B313932393B313932363B313932330D0A523D313931393B313931363B313931323B313930393B313930363B313930333B313930313B313839383B313839363B313839330D0A523D313839313B313838393B313838363B313838343B313838323B313838303B313837383B313837363B313837343B313837320D0A523D313837303B313836393B313836373B313836353B313836343B313836323B313836313B313836303B313835393B313835380D0A523D313835363B313835353B313835343B313835333B313835323B313835323B313835313B313835313B313835303B313835300D0A523D313834393B313834393B313834383B313834383B313834383B313834383B313834383B313834383B313834383B313834380D0A523D313834393B313834393B313834393B313835303B313835303B313835313B313835313B313835323B313835323B313835330D0A523D313835333B313835343B313835353B313835363B313835373B313835383B313836303B313836313B313836323B313836330D0A523D313836353B313836363B313836383B313837303B313837323B313837343B313837363B313837373B313837393B313838310D0A523D313838323B313838343B313838363B313838383B313839303B313839333B313839353B313839383B313930303B313930330D0A523D313930353B313930373B313931303B313931323B313931353B313931373B313932313B313932343B313932383B313933320D0A523D313933353B313933393B313934323B313934363B313935303B313935343B313935383B313936333B313936373B313937320D0A523D313937373B313938323B313938373B313939323B313939373B323030323B323030373B323031323B323031373B323032320D0A523D323032373B323033333B323033393B323034343B323035303B323035353B323036313B323036373B323037323B323037380D0A523D323038353B323039313B323039373B323130333B323131303B323131373B323132333B323133313B323133383B323134340D0A523D323135313B323135393B323136363B323137343B323138313B323138393B323139373B323230363B323231343B323232320D0A523D323233303B323233393B323234383B323235373B323236353B323237343B323238333B323239333B323330333B323331320D0A523D323332323B323333313B323334313B323335313B323336313B323337313B323338313B323339323B323430323B323431330D0A523D323432333B323433343B323434353B323435353B323436363B323437373B323438383B323530303B323531313B323532330D0A523D323533343B323534363B323535373B323536393B323538313B323539333B323630343B323631353B323632373B323633390D0A523D323635303B323636313B323637323B323638343B323639343B323730353B323731363B323732363B323733373B323734360D0A523D323735363B323736363B323737363B323738363B323739363B323830353B323831353B323832343B323833323B323834300D0A523D323834373B323835343B323836313B323836373B323837343B323837393B323838343B323838393B323839333B323839370D0A523D323930313B323930343B323930373B323931303B323931323B323931343B323931353B323931373B323931383B323931390D0A523D323931393B323931383B323931383B323931383B323931383B323931373B323931363B323931353B323931343B323931330D0A523D323931323B323931313B323930393B323930373B323930353B323930333B323930313B323839393B323839363B323839340D0A523D323839313B323838383B323838363B323838333B323838313B323837383B323837363B323837333B323837313B323836390D0A523D323836373B323836363B323836343B323836323B323836303B323835383B323835363B323835353B323835333B323835300D0A523D323834383B323834363B323834343B323834323B323834303B323833383B323833363B323833343B323833333B323833310D0A523D323832393B323832373B323832363B323832343B323832333B323832313B323832303B323831383B323831373B323831360D0A523D323831343B323831333B323831323B323831313B323831303B323830393B323830383B323830383B323830373B323830360D0A523D323830353B323830353B323830353B323830343B323830343B323830333B323830333B323830323B323830323B323830320D0A523D323830323B323830323B323830323B323830333B323830333B323830333B323830333B323830343B323830343B323830350D0A523D323830353B323830363B323830363B323830373B323830383B323830393B323830393B323831303B323831313B323831320D0A523D323831333B323831343B323831353B323831363B323831363B323831373B323831383B323831393B323832303B323832310D0A523D323832323B323832333B323832343B323832353B323832363B323832373B323832383B323832383B323832393B323833300D0A523D323833313B323833313B323833323B323833323B323833323B323833323B323833323B323833323B323833313B323833310D0A523D323833303B323833303B323832393B323832383B323832373B323832363B323832353B323832343B323832333B323832310D0A523D323831393B323831383B323831363B323831343B323831323B323831303B323830373B323830353B323830323B323739390D0A523D323739363B323739333B323738393B323738353B323738313B323737373B323737333B323736383B323736333B323735380D0A523D323735333B323734373B323734323B323733363B323733303B323732343B323731383B323731323B323730363B323639390D0A523D323639323B323638353B323637373B323636393B323636313B323635323B323634333B323633353B323632363B323631370D0A523D323630393B323630303B323539313B323538323B323537333B323536333B323535343B323534343B323533343B323532340D0A523D323531353B323530353B323439353B323438353B323437363B323436363B323435363B323434373B323433373B323432370D0A523D323431383B323430393B323339393B323338393B323338303B323337313B323336303B323335303B323334313B323333320D0A523D323332333B323331343B323330353B323239363B323238373B323237383B323236393B323236313B323235333B323234340D0A523D323233363B323232383B323232303B323231313B323230333B323139343B323138363B323137383B323137313B323136330D0A523D323135353B323134383B323134313B323133343B323132363B323132303B323131333B323130363B323130303B323039340D0A523D323038383B323038323B323037363B323037303B323036343B323035383B323035333B323034383B323034333B323033380D0A523D323033323B323032373B323032323B323031373B323031323B323030373B323030323B313939373B313939333B313938380D0A523D313938333B313937393B313937353B313937303B313936363B313936323B313935383B313935343B313935303B313934370D0A523D313934333B313934303B313933363B313933323B313932393B313932353B313932323B313931383B313931353B313931320D0A523D313930393B313930373B313930343B313930313B313839383B313839363B313839333B313839313B313838393B313838360D0A523D313838343B313838323B313838303B313837373B313837353B313837333B313837323B313837303B313836393B313836370D0A523D313836363B313836343B313836333B313836313B313836303B313835383B313835373B313835363B313835343B313835340D0A523D313835333B313835323B313835313B313835313B313835303B313835303B313834393B313834393B313834383B313834380D0A523D313834383B313834373B313834373B313834373B313834373B313834373B313834373B313834373B313834373B313834370D0A523D313834373B313834383B313834383B313834383B313834383B313834393B313834393B313835303B313835303B313835310D0A523D313835323B313835333B313835343B313835353B313835363B313835373B313835383B313835393B313836313B313836330D0A523D313836343B313836353B313836363B313836383B313837303B313837323B313837343B313837363B313837373B313837390D0A523D313838313B313838333B313838363B313838383B313839313B313839333B313839363B313839383B313930313B313930330D0A523D313930363B313930393B313931313B313931343B313931363B313931393B313932323B313932353B313932373B313933300D0A523D313933343B313933373B313934303B313934343B313934373B313935313B313935343B313935373B313936313B313936340D0A523D313936383B313937313B313937353B313937393B313938323B313938363B313939303B313939343B313939383B323030320D0A523D323030363B323031303B323031343B323031383B323032323B323032363B323033303B323033353B323034303B323034340D0A523D323034393B323035333B323035373B323036323B323036363B323037313B323037353B323038303B323038353B323038390D0A523D323039343B323039383B323130333B323130383B323131333B323131383B323132333B323132383B323133333B323133380D0A523D323134333B323134383B323135333B323135393B323136343B323136393B323137343B323137393B323138343B323138390D0A523D323139353B323230303B323230363B323231313B323231363B323232323B323232373B323233323B323233373B323234320D0A523D323234383B323235333B323235383B323236343B323236393B323237343B323237393B323238343B323239303B323239350D0A523D323330303B323330353B323331303B323331353B323332303B323332353B323333313B323333363B323334313B323334360D0A523D323335303B323335353B323336303B323336353B323337303B323337343B323337393B323338333B323338383B323339330D0A523D323339383B323430333B323430373B323431323B323431373B323432313B323432363B323433303B323433343B323433390D0A523D323434333B323434373B323435323B323435363B323436303B323436343B323436383B323437323B323437363B323438300D0A523D323438343B323438383B323439313B323439353B323439383B323530323B323530363B323530393B323531333B323531360D0A523D323532303B323532343B323532373B323533303B323533333B323533373B323534303B323534333B323534373B323535300D0A523D323535333B323535363B323536303B323536343B323536373B323537303B323537333B323537373B323538303B323538330D0A523D323538373B323539303B323539333B323539363B323539393B323630333B323630363B323631303B323631333B323631360D0A523D323631393B323632323B323632353B323632383B323633313B323633343B323633383B323634313B323634343B323634370D0A523D323635313B323635343B323635373B323636303B323636343B323636373B323637313B323637343B323637373B323638300D0A523D323638333B323638373B323639303B323639343B323639373B323730313B323730353B323730383B323731323B323731360D0A545243464D543D313B313030303B453B4C3B460D0A523D323830353B323830363B323830373B323830383B323830383B323830393B323831303B323831313B323831323B323831330D0A523D323831343B323831363B323831373B323831383B323832303B323832313B323832333B323832343B323832363B323832370D0A523D323832393B323833313B323833333B323833343B323833363B323833383B323834303B323834323B323834343B323834360D0A523D323834383B323835303B323835333B323835353B323835363B323835383B323836303B323836323B323836343B323836360D0A523D323836373B323836393B323837313B323837333B323837363B323837383B323838313B323838333B323838363B323838380D0A523D323839313B323839343B323839363B323839393B323930313B323930333B323930353B323930373B323930393B323931310D0A523D323931323B323931333B323931343B323931353B323931363B323931373B323931383B323931383B323931383B323931380D0A523D323931393B323931393B323931383B323931373B323931353B323931343B323931323B323931303B323930373B323930340D0A523D323930313B323839373B323839333B323838393B323838343B323837393B323837343B323836373B323836313B323835340D0A523D323834373B323834303B323833323B323832343B323831353B323830353B323739363B323738363B323737363B323736360D0A523D323735363B323734363B323733373B323732363B323731363B323730353B323639343B323638343B323637323B323636310D0A523D323635303B323633393B323632373B323631353B323630343B323539333B323538313B323536393B323535373B323534360D0A523D323533343B323532333B323531313B323530303B323438383B323437373B323436363B323435353B323434353B323433340D0A523D323432333B323431333B323430323B323339323B323338313B323337313B323336313B323335313B323334313B323333310D0A523D323332323B323331323B323330333B323239333B323238333B323237343B323236353B323235373B323234383B323233390D0A523D323233303B323232323B323231343B323230363B323139373B323138393B323138313B323137343B323136363B323135390D0A523D323135313B323134343B323133383B323133313B323132333B323131373B323131303B323130333B323039373B323039310D0A523D323038353B323037383B323037323B323036373B323036313B323035353B323035303B323034343B323033393B323033330D0A523D323032373B323032323B323031373B323031323B323030373B323030323B313939373B313939323B313938373B313938320D0A523D313937373B313937323B313936373B313936333B313935383B313935343B313935303B313934363B313934323B313933390D0A523D313933353B313933323B313932383B313932343B313932313B313931373B313931353B313931323B313931303B313930370D0A523D313930353B313930333B313930303B313839383B313839353B313839333B313839303B313838383B313838363B313838340D0A523D313838323B313838313B313837393B313837373B313837363B313837343B313837323B313837303B313836383B313836360D0A523D313836353B313836333B313836323B313836313B313836303B313835383B313835373B313835363B313835353B313835340D0A523D313835333B313835333B313835323B313835323B313835313B313835313B313835303B313835303B313834393B313834390D0A523D313834393B313834383B313834383B313834383B313834383B313834383B313834383B313834383B313834383B313834390D0A523D313834393B313835303B313835303B313835313B313835313B313835323B313835323B313835333B313835343B313835350D0A523D313835363B313835383B313835393B313836303B313836313B313836323B313836343B313836353B313836373B313836390D0A523D313837303B313837323B313837343B313837363B313837383B313838303B313838323B313838343B313838363B313838390D0A523D313839313B313839333B313839363B313839383B313930313B313930333B313930363B313930393B313931323B313931360D0A523D313931393B313932333B313932363B313932393B313933333B313933363B313934303B313934333B313934373B313935310D0A523D313935353B313935393B313936343B313936383B313937323B313937373B313938313B313938363B313939303B313939350D0A523D323030303B323030353B323031303B323031353B323032303B323032353B323033303B323033363B323034313B323034370D0A523D323035333B323035383B323036343B323037303B323037363B323038323B323038383B323039353B323130313B323130370D0A523D323131343B323132313B323132373B323133343B323134313B323134383B323135353B323136323B323137303B323137370D0A523D323138353B323139333B323230313B323230393B323231373B323232353B323233333B323234323B323235303B323235390D0A523D323236373B323237363B323238353B323239343B323330343B323331333B323332323B323333313B323334303B323335300D0A523D323335393B323336393B323337393B323338393B323339393B323430393B323431393B323432393B323434303B323435300D0A523D323436303B323437313B323438313B323439323B323530333B323531343B323532343B323533353B323534363B323535370D0A523D323536373B323537383B323538393B323630303B323631303B323632313B323633323B323634333B323635333B323636340D0A523D323637353B323638353B323639353B323730363B323731363B323732363B323733363B323734373B323735373B323736370D0A523D323737363B323738363B323739363B323830363B323831353B323832343B323833333B323834323B323835313B323835390D0A523D323836383B323837353B323838333B323839313B323839383B323930353B323931313B323931373B323932323B323932370D0A523D323933323B323933373B323934313B323934353B323934383B323935313B323935333B323935343B323935363B323935370D0A523D323935373B323935373B323935373B323935363B323935353B323935333B323935313B323934393B323934363B323934330D0A523D323933393B323933363B323933323B323932383B323932353B323932313B323931373B323931333B323930393B323930350D0A523D323930303B323839363B323839313B323838363B323838313B323837363B323837323B323836373B323836323B323835370D0A523D323835323B323834373B323834323B323833373B323833333B323832383B323832333B323831383B323831333B323830390D0A523D323830343B323830303B323739353B323739303B323738363B323738313B323737373B323737323B323736383B323736340D0A523D323736303B323735363B323735323B323734383B323734343B323733393B323733353B323733313B323732373B323732340D0A523D323732303B323731363B323731323B323730383B323730353B323730313B323639373B323639343B323639303B323638370D0A523D323638333B323638303B323637373B323637343B323637313B323636373B323636343B323636303B323635373B323635340D0A523D323635313B323634373B323634343B323634313B323633383B323633343B323633313B323632383B323632353B323632320D0A523D323631393B323631363B323631333B323631303B323630363B323630333B323539393B323539363B323539333B323539300D0A523D323538373B323538333B323538303B323537373B323537333B323537303B323536373B323536343B323536303B323535360D0A523D323535333B323535303B323534373B323534333B323534303B323533373B323533333B323533303B323532373B323532340D0A523D323532303B323531363B323531333B323530393B323530363B323530323B323439383B323439353B323439313B323438380D0A523D323438343B323438303B323437363B323437323B323436383B323436343B323436303B323435363B323435323B323434370D0A523D323434333B323433393B323433343B323433303B323432363B323432313B323431373B323431323B323430373B323430330D0A523D323339383B323339333B323338383B323338333B323337393B323337343B323337303B323336353B323336303B323335350D0A523D323335303B323334363B323334313B323333363B323333313B323332353B323332303B323331353B323331303B323330350D0A523D323330303B323239353B323239303B323238343B323237393B323237343B323236393B323236343B323235383B323235330D0A523D323234383B323234323B323233373B323233323B323232373B323232323B323231363B323231313B323230363B323230300D0A523D323139353B323138393B323138343B323137393B323137343B323136393B323136343B323135393B323135333B323134380D0A523D323134333B323133383B323133333B323132383B323132333B323131383B323131333B323130383B323130333B323039380D0A523D323039343B323038393B323038353B323038303B323037353B323037313B323036363B323036323B323035373B323035330D0A523D323034393B323034343B323034303B323033353B323033303B323032363B323032323B323031383B323031343B323031300D0A523D323030363B323030323B313939383B313939343B313939303B313938363B313938323B313937393B313937353B313937310D0A523D313936383B313936343B313936313B313935373B313935343B313935313B313934373B313934343B313934303B313933370D0A523D313933343B313933303B313932373B313932353B313932323B313931393B313931363B313931343B313931313B313930390D0A523D313930363B313930333B313930313B313839383B313839363B313839333B313839313B313838383B313838363B313838330D0A523D313838313B313837393B313837373B313837363B313837343B313837323B313837303B313836383B313836363B313836350D0A523D313836343B313836333B313836313B313835393B313835383B313835373B313835363B313835353B313835343B313835330D0A523D313835323B313835313B313835303B313835303B313834393B313834393B313834383B313834383B313834383B313834380D0A523D313834373B313834373B313834373B313834373B313834373B313834373B313834373B313834373B313834373B313834370D0A523D313834383B313834383B313834383B313834393B313834393B313835303B313835303B313835313B313835313B313835320D0A523D313835333B313835343B313835343B313835363B313835373B313835383B313836303B313836313B313836333B313836340D0A523D313836363B313836373B313836393B313837303B313837323B313837333B313837353B313837373B313838303B313838320D0A523D313838343B313838363B313838393B313839313B313839333B313839363B313839383B313930313B313930343B313930370D0A523D313930393B313931323B313931353B313931383B313932323B313932353B313932393B313933323B313933363B313934300D0A523D313934333B313934373B313935303B313935343B313935383B313936323B313936363B313937303B313937353B313937390D0A523D313938333B313938383B313939333B313939373B323030323B323030373B323031323B323031373B323032323B323032370D0A523D323033323B323033383B323034333B323034383B323035333B323035383B323036343B323037303B323037363B323038320D0A523D323038383B323039343B323130303B323130363B323131333B323132303B323132363B323133343B323134313B323134380D0A523D323135353B323136333B323137313B323137383B323138363B323139343B323230333B323231313B323232303B323232380D0A523D323233363B323234343B323235333B323236313B323236393B323237383B323238373B323239363B323330353B323331340D0A523D323332333B323333323B323334313B323335303B323336303B323337313B323338303B323338393B323339393B323430390D0A523D323431383B323432373B323433373B323434373B323435363B323436363B323437363B323438353B323439353B323530350D0A523D323531353B323532343B323533343B323534343B323535343B323536333B323537333B323538323B323539313B323630300D0A523D323630393B323631373B323632363B323633353B323634333B323635323B323636313B323636393B323637373B323638350D0A523D323639323B323639393B323730363B323731323B323731383B323732343B323733303B323733363B323734323B323734370D0A523D323735333B323735383B323736333B323736383B323737333B323737373B323738313B323738353B323738393B323739330D0A523D323739363B323739393B323830323B323830353B323830373B323831303B323831323B323831343B323831363B323831380D0A523D323831393B323832313B323832333B323832343B323832353B323832363B323832373B323832383B323832393B323833300D0A523D323833303B323833313B323833313B323833323B323833323B323833323B323833323B323833323B323833323B323833310D0A523D323833313B323833303B323832393B323832383B323832383B323832373B323832363B323832353B323832343B323832330D0A523D323832323B323832313B323832303B323831393B323831383B323831373B323831363B323831363B323831353B323831340D0A523D323831333B323831323B323831313B323831303B323830393B323830393B323830383B323830373B323830363B323830360D0A523D323830353B323830353B323830343B323830343B323830333B323830333B323830333B323830333B323830323B323830320D0A523D323830323B323830323B323830323B323830323B323830333B323830333B323830343B323830343B323830353B323830350D0A56424F583D33372E30313B33372E30310D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35392E31343B35392E31340D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                            }

                            if ($information_commande->precalibrage->calibre ==
                                23) {
                                $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3134302E3939303B3134302E3939300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35302E30333B35302E30330D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323431333B323431373B323432303B323432343B323432383B323433323B323433373B323434313B323434353B323434380D0A523D323435323B323435363B323436303B323436353B323436393B323437333B323437383B323438323B323438373B323439310D0A523D323439353B323439393B323530333B323530383B323531333B323531373B323532313B323532363B323533303B323533350D0A523D323533393B323534343B323534383B323535333B323535373B323536313B323536363B323537303B323537353B323537390D0A523D323538323B323538363B323539303B323539333B323539363B323539393B323630323B323630343B323630363B323630380D0A523D323631303B323631323B323631333B323631343B323631343B323631343B323631343B323631343B323631333B323631310D0A523D323630393B323630373B323630343B323630313B323539383B323539353B323539323B323538393B323538343B323538300D0A523D323537363B323537323B323536373B323536333B323535383B323535333B323534383B323534323B323533373B323533310D0A523D323532353B323531393B323531333B323530383B323530323B323439363B323439303B323438333B323437363B323437300D0A523D323436343B323435373B323435313B323434343B323433373B323433313B323432343B323431373B323431313B323430340D0A523D323339373B323339313B323338343B323337373B323337313B323336333B323335363B323335303B323334333B323333360D0A523D323333303B323332333B323331363B323330393B323330323B323239363B323238393B323238333B323237373B323237300D0A523D323236343B323235383B323235313B323234353B323233393B323233333B323232373B323232313B323231353B323230390D0A523D323230343B323139383B323139333B323138373B323138313B323137363B323137303B323136353B323135393B323135340D0A523D323134393B323134343B323133393B323133343B323132393B323132343B323131383B323131343B323130393B323130340D0A523D323039393B323039343B323039303B323038353B323038303B323037363B323037323B323036383B323036333B323035390D0A523D323035353B323035313B323034363B323034323B323033383B323033353B323033313B323032373B323032343B323032300D0A523D323031373B323031333B323031303B323030363B323030323B313939393B313939363B313939333B313938393B313938360D0A523D313938333B313938303B313937373B313937353B313937323B313936393B313936363B313936333B313936313B313935380D0A523D313935363B313935343B313935313B313934393B313934373B313934353B313934323B313934303B313933373B313933350D0A523D313933343B313933323B313933303B313932383B313932373B313932353B313932343B313932323B313932313B313931390D0A523D313931373B313931363B313931353B313931343B313931323B313931313B313931303B313930393B313930383B313930370D0A523D313930363B313930363B313930353B313930343B313930333B313930323B313930313B313930313B313930303B313930300D0A523D313839393B313839393B313839383B313839383B313839373B313839373B313839373B313839373B313839373B313839370D0A523D313839363B313839363B313839363B313839363B313839363B313839363B313839373B313839373B313839373B313839370D0A523D313839383B313839393B313839393B313930303B313930303B313930313B313930313B313930323B313930333B313930340D0A523D313930343B313930353B313930363B313930373B313930393B313931303B313931313B313931323B313931333B313931340D0A523D313931363B313931373B313931393B313932303B313932323B313932333B313932353B313932373B313932393B313933310D0A523D313933323B313933343B313933373B313933393B313934313B313934333B313934353B313934383B313935303B313935320D0A523D313935343B313935373B313936303B313936323B313936343B313936363B313936393B313937313B313937343B313937370D0A523D313938303B313938333B313938363B313938393B313939333B313939363B323030303B323030333B323030363B323030390D0A523D323031333B323031373B323032303B323032343B323032383B323033323B323033363B323034303B323034343B323034370D0A523D323035313B323035343B323035383B323036323B323036363B323037303B323037343B323037393B323038343B323038390D0A523D323039343B323039383B323130333B323130373B323131323B323131373B323132323B323132373B323133333B323133380D0A523D323134333B323134383B323135333B323135393B323136343B323137303B323137363B323138313B323138373B323139330D0A523D323139383B323230343B323230393B323231353B323232313B323232373B323233333B323233393B323234363B323235320D0A523D323235383B323236343B323237303B323237363B323238333B323238393B323239363B323330323B323330383B323331350D0A523D323332313B323332373B323333343B323334313B323334373B323335333B323336303B323336363B323337323B323337390D0A523D323338353B323339313B323339383B323430343B323431303B323431353B323432323B323432383B323433333B323433390D0A523D323434353B323435313B323435373B323436323B323436383B323437333B323437393B323438343B323438393B323439340D0A523D323439393B323530343B323530383B323531333B323531383B323532333B323532383B323533323B323533373B323534320D0A523D323534373B323535323B323535363B323536303B323536343B323536373B323537313B323537343B323537373B323538300D0A523D323538323B323538353B323538373B323538393B323539313B323539333B323539353B323539373B323539393B323630300D0A523D323630313B323630323B323630323B323630333B323630333B323630343B323630343B323630343B323630343B323630340D0A523D323630343B323630343B323630333B323630323B323630323B323630313B323630303B323539393B323539383B323539370D0A523D323539353B323539333B323539323B323539313B323538393B323538373B323538353B323538333B323538313B323537390D0A523D323537363B323537333B323537303B323536383B323536353B323536323B323535383B323535353B323535323B323534390D0A523D323534373B323534343B323534313B323533383B323533353B323533323B323532393B323532363B323532333B323532300D0A523D323531373B323531343B323531313B323530393B323530363B323530333B323530303B323439373B323439353B323439320D0A523D323438393B323438363B323438333B323438313B323437373B323437353B323437323B323437303B323436373B323436340D0A523D323436313B323435383B323435363B323435333B323435313B323434383B323434363B323434333B323434303B323433370D0A523D323433343B323433323B323432393B323432373B323432343B323432323B323431393B323431363B323431343B323431320D0A523D323431303B323430373B323430353B323430323B323430303B323339373B323339343B323339323B323338393B323338370D0A523D323338343B323338323B323337393B323337373B323337343B323337313B323336383B323336343B323336313B323335370D0A523D323335353B323335323B323335303B323334383B323334363B323334353B323334323B323333393B323333363B323333340D0A523D323333323B323333303B323332383B323332363B323332343B323332313B323331393B323331363B323331353B323331330D0A523D323331303B323330383B323330353B323330333B323330323B323330303B323239393B323239363B323239333B323239300D0A523D323238383B323238363B323238343B323238323B323238313B323237393B323237363B323237333B323237303B323236390D0A523D323236373B323236363B323236343B323236313B323235383B323235353B323235323B323235303B323234383B323234360D0A523D323234343B323234323B323234303B323233383B323233353B323233333B323233323B323233303B323232383B323232360D0A523D323232333B323232313B323231393B323231373B323231353B323231333B323231313B323230393B323230373B323230340D0A523D323230313B323139393B323139373B323139353B323139323B323139303B323138373B323138353B323138333B323138310D0A523D323137393B323137363B323137343B323137313B323136393B323136363B323136333B323136313B323135383B323135360D0A523D323135333B323135313B323134383B323134363B323134333B323134313B323133383B323133363B323133343B323133310D0A523D323132393B323132363B323132333B323132313B323131383B323131363B323131333B323131313B323130383B323130360D0A523D323130333B323130313B323039393B323039363B323039343B323039323B323039303B323038373B323038353B323038320D0A523D323037393B323037373B323037343B323037323B323036393B323036373B323036343B323036313B323035393B323035360D0A523D323035343B323035313B323034393B323034363B323034343B323034323B323033393B323033373B323033343B323033320D0A523D323032393B323032373B323032353B323032333B323032303B323031383B323031363B323031333B323031313B323030390D0A523D323030373B323030343B323030313B313939383B313939363B313939343B313939313B313938393B313938363B313938340D0A523D313938313B313937383B313937363B313937343B313937323B313936393B313936373B313936343B313936323B313936300D0A523D313935373B313935353B313935323B313935303B313934383B313934363B313934343B313934313B313933393B313933360D0A523D313933343B313933333B313933313B313932393B313932373B313932353B313932333B313932313B313931383B313931360D0A523D313931353B313931333B313931313B313930393B313930373B313930353B313930343B313930323B313930303B313839390D0A523D313839373B313839363B313839343B313839333B313839313B313838393B313838373B313838363B313838353B313838340D0A523D313838323B313838313B313838303B313837383B313837373B313837363B313837353B313837343B313837333B313837320D0A523D313837323B313837313B313837303B313836393B313836383B313836373B313836373B313836363B313836363B313836350D0A523D313836343B313836333B313836333B313836323B313836323B313836323B313836323B313836313B313836313B313836310D0A523D313836313B313836303B313836303B313836303B313836303B313836303B313836303B313836303B313836303B313836300D0A523D313836303B313836303B313836303B313836303B313836303B313836303B313836313B313836313B313836313B313836310D0A523D313836323B313836323B313836333B313836333B313836343B313836343B313836353B313836353B313836363B313836360D0A523D313836373B313836373B313836383B313836393B313837303B313837313B313837323B313837333B313837343B313837350D0A523D313837363B313837373B313837383B313837393B313838303B313838313B313838323B313838333B313838353B313838360D0A523D313838373B313838383B313839303B313839313B313839333B313839343B313839353B313839373B313839393B313930310D0A523D313930323B313930343B313930353B313930373B313930383B313931303B313931323B313931343B313931363B313931370D0A523D313931393B313932313B313932333B313932353B313932373B313932393B313933313B313933333B313933353B313933370D0A523D313933393B313934313B313934343B313934363B313934383B313935313B313935333B313935353B313935373B313936300D0A523D313936323B313936353B313936373B313936393B313937313B313937343B313937373B313937393B313938323B313938340D0A523D313938373B313938393B313939323B313939343B313939373B323030303B323030323B323030353B323030383B323031310D0A523D323031333B323031363B323031393B323032323B323032353B323032383B323033313B323033343B323033373B323034300D0A523D323034333B323034363B323034393B323035323B323035353B323035383B323036313B323036343B323036373B323037300D0A523D323037343B323037373B323038313B323038343B323038373B323039303B323039333B323039373B323130303B323130330D0A523D323130363B323131303B323131333B323131363B323132303B323132333B323132373B323133303B323133343B323133380D0A523D323134313B323134353B323134383B323135333B323135363B323136303B323136343B323136373B323137313B323137340D0A523D323137383B323138323B323138353B323139303B323139333B323139373B323230303B323230343B323230383B323231310D0A523D323231353B323231393B323232333B323232373B323233313B323233353B323233383B323234323B323234363B323235300D0A523D323235343B323235383B323236323B323236353B323237303B323237343B323237373B323238313B323238353B323238390D0A523D323239323B323239363B323330303B323330343B323330393B323331333B323331373B323332313B323332343B323332380D0A523D323333323B323333363B323334303B323334343B323334383B323335333B323335373B323336303B323336343B323336380D0A523D323337323B323337363B323338303B323338343B323338383B323339333B323339373B323430313B323430353B323430390D0A545243464D543D313B313030303B453B4C3B460D0A523D323436313B323436343B323436373B323437303B323437323B323437353B323437373B323438313B323438333B323438360D0A523D323438393B323439323B323439353B323439373B323530303B323530333B323530363B323530393B323531313B323531340D0A523D323531373B323532303B323532333B323532363B323532393B323533323B323533353B323533383B323534313B323534340D0A523D323534373B323534393B323535323B323535353B323535383B323536323B323536353B323536383B323537303B323537330D0A523D323537363B323537393B323538313B323538333B323538353B323538373B323538393B323539313B323539323B323539330D0A523D323539353B323539373B323539383B323539393B323630303B323630313B323630323B323630323B323630333B323630340D0A523D323630343B323630343B323630343B323630343B323630343B323630343B323630333B323630333B323630323B323630320D0A523D323630313B323630303B323539393B323539373B323539353B323539333B323539313B323538393B323538373B323538350D0A523D323538323B323538303B323537373B323537343B323537313B323536373B323536343B323536303B323535363B323535320D0A523D323534373B323534323B323533373B323533323B323532383B323532333B323531383B323531333B323530383B323530340D0A523D323439393B323439343B323438393B323438343B323437393B323437333B323436383B323436323B323435373B323435310D0A523D323434353B323433393B323433333B323432383B323432323B323431353B323431303B323430343B323339383B323339310D0A523D323338353B323337393B323337323B323336363B323336303B323335333B323334373B323334313B323333343B323332370D0A523D323332313B323331353B323330383B323330323B323239363B323238393B323238333B323237363B323237303B323236340D0A523D323235383B323235323B323234363B323233393B323233333B323232373B323232313B323231353B323230393B323230340D0A523D323139383B323139333B323138373B323138313B323137363B323137303B323136343B323135393B323135333B323134380D0A523D323134333B323133383B323133333B323132373B323132323B323131373B323131323B323130373B323130333B323039380D0A523D323039343B323038393B323038343B323037393B323037343B323037303B323036363B323036323B323035383B323035340D0A523D323035313B323034373B323034343B323034303B323033363B323033323B323032383B323032343B323032303B323031370D0A523D323031333B323030393B323030363B323030333B323030303B313939363B313939333B313938393B313938363B313938330D0A523D313938303B313937373B313937343B313937313B313936393B313936363B313936343B313936323B313936303B313935370D0A523D313935343B313935323B313935303B313934383B313934353B313934333B313934313B313933393B313933373B313933340D0A523D313933323B313933313B313932393B313932373B313932353B313932333B313932323B313932303B313931393B313931370D0A523D313931363B313931343B313931333B313931323B313931313B313931303B313930393B313930373B313930363B313930350D0A523D313930343B313930343B313930333B313930323B313930313B313930313B313930303B313930303B313839393B313839390D0A523D313839383B313839373B313839373B313839373B313839373B313839363B313839363B313839363B313839363B313839360D0A523D313839363B313839373B313839373B313839373B313839373B313839373B313839373B313839383B313839383B313839390D0A523D313839393B313930303B313930303B313930313B313930313B313930323B313930333B313930343B313930353B313930360D0A523D313930363B313930373B313930383B313930393B313931303B313931313B313931323B313931343B313931353B313931360D0A523D313931373B313931393B313932313B313932323B313932343B313932353B313932373B313932383B313933303B313933320D0A523D313933343B313933353B313933373B313934303B313934323B313934353B313934373B313934393B313935313B313935340D0A523D313935363B313935383B313936313B313936333B313936363B313936393B313937323B313937353B313937373B313938300D0A523D313938333B313938363B313938393B313939333B313939363B313939393B323030323B323030363B323031303B323031330D0A523D323031373B323032303B323032343B323032373B323033313B323033353B323033383B323034323B323034363B323035310D0A523D323035353B323035393B323036333B323036383B323037323B323037363B323038303B323038353B323039303B323039340D0A523D323039393B323130343B323130393B323131343B323131383B323132343B323132393B323133343B323133393B323134340D0A523D323134393B323135343B323135393B323136353B323137303B323137363B323138313B323138373B323139333B323139380D0A523D323230343B323230393B323231353B323232313B323232373B323233333B323233393B323234353B323235313B323235380D0A523D323236343B323237303B323237373B323238333B323238393B323239363B323330323B323330393B323331363B323332330D0A523D323333303B323333363B323334333B323335303B323335363B323336333B323337313B323337373B323338343B323339310D0A523D323339373B323430343B323431313B323431373B323432343B323433313B323433373B323434343B323435313B323435370D0A523D323436343B323437303B323437363B323438333B323439303B323439363B323530323B323530383B323531333B323531390D0A523D323532353B323533313B323533373B323534323B323534383B323535333B323535383B323536333B323536373B323537320D0A523D323537363B323538303B323538343B323538393B323539323B323539353B323539383B323630313B323630343B323630370D0A523D323630393B323631313B323631333B323631343B323631343B323631343B323631343B323631343B323631333B323631320D0A523D323631303B323630383B323630363B323630343B323630323B323539393B323539363B323539333B323539303B323538360D0A523D323538323B323537393B323537353B323537303B323536363B323536313B323535373B323535333B323534383B323534340D0A523D323533393B323533353B323533303B323532363B323532313B323531373B323531333B323530383B323530333B323439390D0A523D323439353B323439313B323438373B323438323B323437383B323437333B323436393B323436353B323436303B323435360D0A523D323435323B323434383B323434353B323434313B323433373B323433323B323432383B323432343B323432303B323431370D0A523D323431333B323430393B323430353B323430313B323339373B323339333B323338383B323338343B323338303B323337360D0A523D323337323B323336383B323336343B323336303B323335373B323335333B323334383B323334343B323334303B323333360D0A523D323333323B323332383B323332343B323332313B323331373B323331333B323330393B323330343B323330303B323239360D0A523D323239323B323238393B323238353B323238313B323237373B323237343B323237303B323236353B323236323B323235380D0A523D323235343B323235303B323234363B323234323B323233383B323233353B323233313B323232373B323232333B323231390D0A523D323231353B323231313B323230383B323230343B323230303B323139373B323139333B323139303B323138353B323138320D0A523D323137383B323137343B323137313B323136373B323136343B323136303B323135363B323135333B323134383B323134350D0A523D323134313B323133383B323133343B323133303B323132373B323132333B323132303B323131363B323131333B323131300D0A523D323130363B323130333B323130303B323039373B323039333B323039303B323038373B323038343B323038313B323037370D0A523D323037343B323037303B323036373B323036343B323036313B323035383B323035353B323035323B323034393B323034360D0A523D323034333B323034303B323033373B323033343B323033313B323032383B323032353B323032323B323031393B323031360D0A523D323031333B323031313B323030383B323030353B323030323B323030303B313939373B313939343B313939323B313938390D0A523D313938373B313938343B313938323B313937393B313937373B313937343B313937313B313936393B313936373B313936350D0A523D313936323B313936303B313935373B313935353B313935333B313935313B313934383B313934363B313934343B313934310D0A523D313933393B313933373B313933353B313933333B313933313B313932393B313932373B313932353B313932333B313932310D0A523D313931393B313931373B313931363B313931343B313931323B313931303B313930383B313930373B313930353B313930340D0A523D313930323B313930313B313839393B313839373B313839353B313839343B313839333B313839313B313839303B313838380D0A523D313838373B313838363B313838353B313838333B313838323B313838313B313838303B313837393B313837383B313837370D0A523D313837363B313837353B313837343B313837333B313837323B313837313B313837303B313836393B313836383B313836370D0A523D313836373B313836363B313836363B313836353B313836353B313836343B313836343B313836333B313836333B313836320D0A523D313836323B313836313B313836313B313836313B313836313B313836303B313836303B313836303B313836303B313836300D0A523D313836303B313836303B313836303B313836303B313836303B313836303B313836303B313836303B313836303B313836300D0A523D313836313B313836313B313836313B313836313B313836323B313836323B313836323B313836323B313836333B313836330D0A523D313836343B313836353B313836363B313836363B313836373B313836373B313836383B313836393B313837303B313837310D0A523D313837323B313837323B313837333B313837343B313837353B313837363B313837373B313837383B313838303B313838310D0A523D313838323B313838343B313838353B313838363B313838373B313838393B313839313B313839333B313839343B313839360D0A523D313839373B313839393B313930303B313930323B313930343B313930353B313930373B313930393B313931313B313931330D0A523D313931353B313931363B313931383B313932313B313932333B313932353B313932373B313932393B313933313B313933330D0A523D313933343B313933363B313933393B313934313B313934343B313934363B313934383B313935303B313935323B313935350D0A523D313935373B313936303B313936323B313936343B313936373B313936393B313937323B313937343B313937363B313937380D0A523D313938313B313938343B313938363B313938393B313939313B313939343B313939363B313939383B323030313B323030340D0A523D323030373B323030393B323031313B323031333B323031363B323031383B323032303B323032333B323032353B323032370D0A523D323032393B323033323B323033343B323033373B323033393B323034323B323034343B323034363B323034393B323035310D0A523D323035343B323035363B323035393B323036313B323036343B323036373B323036393B323037323B323037343B323037370D0A523D323037393B323038323B323038353B323038373B323039303B323039323B323039343B323039363B323039393B323130310D0A523D323130333B323130363B323130383B323131313B323131333B323131363B323131383B323132313B323132333B323132360D0A523D323132393B323133313B323133343B323133363B323133383B323134313B323134333B323134363B323134383B323135310D0A523D323135333B323135363B323135383B323136313B323136333B323136363B323136393B323137313B323137343B323137360D0A523D323137393B323138313B323138333B323138353B323138373B323139303B323139323B323139353B323139373B323139390D0A523D323230313B323230343B323230373B323230393B323231313B323231333B323231353B323231373B323231393B323232310D0A523D323232333B323232363B323232383B323233303B323233323B323233333B323233353B323233383B323234303B323234320D0A523D323234343B323234363B323234383B323235303B323235323B323235353B323235383B323236313B323236343B323236360D0A523D323236373B323236393B323237303B323237333B323237363B323237393B323238313B323238323B323238343B323238360D0A523D323238383B323239303B323239333B323239363B323239393B323330303B323330323B323330333B323330353B323330380D0A523D323331303B323331333B323331353B323331363B323331393B323332313B323332343B323332363B323332383B323333300D0A523D323333323B323333343B323333363B323333393B323334323B323334353B323334363B323334383B323335303B323335320D0A523D323335353B323335373B323336313B323336343B323336383B323337313B323337343B323337373B323337393B323338320D0A523D323338343B323338373B323338393B323339323B323339343B323339373B323430303B323430323B323430353B323430370D0A523D323431303B323431323B323431343B323431363B323431393B323432323B323432343B323432373B323432393B323433320D0A523D323433343B323433373B323434303B323434333B323434363B323434383B323435313B323435333B323435363B323435380D0A56424F583D33382E30333B33382E30330D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35322E32383B35322E32380D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                            }

                        }


                        if ($calibre !=
                            "") {
                            $edg = '
						<edging edgingType="NONE">
						   <bevel>
							  <type>BEVEL</type>
							  <position posType="AUTO">0</position>
						  </bevel>
						  <polish>false</polish>
						</edging>';
                        }

                        $xml .= '<material>' .
                                $monture_type . '</material>
				   <boxWidth>' .
                                $boxWidth . '</boxWidth>
				   <boxHeight>' .
                                $boxHeight . '</boxHeight>
				   <distanceBetweenLenses>' .
                                $DBL . '</distanceBetweenLenses>
				   ' .
                                $calibre;
                    }
                    $xml .= '
				</frame>';
                    $xml .= $edg . ' 
        </pair>
     </item>
  </items>
</b2bOptic>
';

                    if ($commande->type_commande >
                        1) {

                        $ancienne_commande =
                            '';

                        if ($commande->ancienne_commande >
                            0) {
                            $ancienne_commande .= '<br />(CR' .
                                                  $commande->ancienne_commande .
                                                  '-' .
                                                  $commande->id_users .
                                                  ')<br /><a class="btn btn-danger btn-sm compare_commande" data-toggle="modal" data-target="#compare-commandes" rel="' .
                                                  $commande->id_commande .
                                                  '">Comparer</a>';
                        }
                        if ($commande->penalty !=
                            1) {
                            $ancienne_commande .= '<br /> <a class="btn btn-warning btn-sm reject_ec" rel="' .
                                                  $commande->id_commande .
                                                  '">Rejeter</a>';
                        }
                    } else {
                        $ancienne_commande =
                            '';
                    }

                    $ref_optieyes =
                        'CR' .
                        $commande->id_commande .
                        '-' .
                        $commande->id_users .
                        $ancienne_commande;
                    switch ($commande->type_commande) {

                        case 1:
                            $prix_commande =
                                $commande->total_commande .
                                ' €';
                            break;

                        case 2:

                            $prix_commande =
                                '<del>' .
                                $commande->total_commande .
                                '</del> ' .
                                ($commande->tarif_express >
                                 0 ?
                                    $commande->tarif_express :
                                    '0') .
                                ' €<br />Casse atelier';
                            break;

                        case 3:
                            $prix_commande =
                                '<del>' .
                                $commande->total_commande .
                                '</del> ' .
                                ($commande->tarif_express >
                                 0 ?
                                    $commande->tarif_express :
                                    '0') .
                                ' €<br />Erreur ophta';
                            break;
                    }

                    $infos =
                        "Date: <b>" .
                        date('d/m/Y H:i',
                             strtotime($commande->date_commande)) .
                        "</b><br>Ref.&nbsp;Optieyes: <b>" .
                        $ref_optieyes .
                        "</b><br>Ref. client: <b>" .
                        $commande->reference_client .
                        "</b><br>Tarif HT: <b>" .
                        $prix_commande .
                        "</b>";

                    if ($commande->tarif_express !=
                        '0') {
                        $infos .= "<br><b>EXPRESS</b><br>";
                    }

                    if ($commande->commentaire !=
                        "") {
                        $infos .= "<br><br><div style='border:2px solid red; padding:5px 10px'><b style='color:red'>Commentaires client:  <br>" .
                                  $commande->commentaire .
                                  "</b></div>";
                    }

                    if ($commande->commentaire_omega !=
                        "") {
                        $infos .= '<br><br>Commentaires OMEGA: <b>' .
                                  $commande->commentaire_omega .
                                  '</b>';
                    }

                    $infos .= '<br><br><a class="btn btn-inverse btn-sm" id="button_commentaires_omega_' .
                              $commande->id_commande .
                              '_' .
                              $commande->id_users . '" data-toggle="modal" data-target="#edit-commentaire_omega"><i class="zmdi zmdi-edit"></i> commentaire Omega</a>
            		';

                    if ($commande->seconde_omega !=
                        "") {
                        $infos .= "<br><br>Seconde Paire OMEGA: <b>" .
                                  $commande->seconde_omega .
                                  "</b>";
                        $infos .= '<br><br><a class="btn btn-warning btn-sm" id="button_seconde_paire_omega_' .
                                  $commande->id_commande .
                                  '_' .
                                  $commande->id_users .
                                  '" data-toggle="modal" data-target="#edit-seconde_paire_omega"><i class="zmdi zmdi-edit"></i> seconde paire Omega</a>';
                    } else {
                        if ($commande->premiere_commande !=
                            0) {
                            $infos .= "<br><br>Seconde Paire OMEGA: <b>" .
                                      $commande->premiere_commande .
                                      "-" .
                                      $commande->id_users .
                                      "</b>";
                        } else {
                            $infos .= '<br><br><a class="btn btn-warning btn-sm" id="button_seconde_paire_omega_' .
                                      $commande->id_commande .
                                      '_' .
                                      $commande->id_users .
                                      '" data-toggle="modal" data-target="#edit-seconde_paire_omega"><i class="zmdi zmdi-edit"></i> seconde paire Omega</a>';
                        }

                    }


                    $CommandeOmega =
                        $this->m_commande->getTextCommandeOmega($commande->id_commande,
                                                                $textarea,
                                                                $xml);

                    $c_omega =
                        "";
                    $checkbox_omega =
                        "";

                    if (isset($CommandeOmega[0]->id)) {
                        $c_omega =
                            "<a href='/admin/omega_autre_verre/" .
                            $commande->id_commande .
                            "/" .
                            $CommandeOmega[0]->id .
                            "'><button>Commander un autre verre</button></a><br><br>" .
                            $CommandeOmega[0]->commande .
                            "";
                        $checkbox_omega =
                            '<div class="checkbox checkbox-success checkbox-inline"><input type="checkbox" value="' .
                            $CommandeOmega[0]->status .
                            '" id="edi_' .
                            $commande->id_commande .
                            '" name="edi_' .
                            $commande->id_commande .
                            '" ' .
                            ($CommandeOmega[0]->status ==
                             '1' ?
                                'checked' :
                                '') .
                            '/><label for="edi_' .
                            $commande->id_commande .
                            '" id="edi_date_' .
                            $commande->id_commande .
                            '">' .
                            (!empty($commande->edi_date) ?
                                date("d-m-Y",
                                     strtotime($commande->edi_date)) :
                                "") .
                            '</label><button class="btn btn-danger waves-effect waves-light delete-order-edi" rel="' .
                            $commande->id_commande .
                            '">Supprimer</button></div>';
                    }

                    $data['aaData'][$compteur] =
                        array(
                            $infos,
                            $detail,
                            $c_omega,
                            $checkbox_omega,
                        );

                    $compteur++;
                }
            }
            die(json_encode($data));
        } else {
            $this->redirect("/index");
        }
    }

    public
    function edi()
    {
        if ($this->input->is_ajax_request()) {
            $post =
                $this->input->post();
            if ($post['edi'] ==
                1) {
                $this->m_commande->updateEdiStatus($post['id_commande'],
                                                   '1');
            } else {
                $this->m_commande->updateEdiStatus($post['id_commande'],
                                                   '0');
            }
        }
    }

    public
    function omega_autre_verre($ref,
                               $id_commande_omega)
    {

        $data['id_commande_omega'] =
            $id_commande_omega;
        $data['ref'] = $ref;

        $this->load->model('m_users');
        $this->load->helper('slimpay');
        $this->load->library('email');

        $data['page'] =
        $data['title'] =
            "Commande autre verre";

        $data['modules'] =
            array(
                'datatables' => true,
                'datepicker' => true,
                'sweetalert' => true
            );

        $data_commande =
            $this->m_commande->getCommandeEdiOmegaByIdD($ref);
        if ($data_commande !==
            false) {
            foreach ($data_commande
                     as $key
            => $commande) {
                $detail = "";
                $p = "";

                $information_commande =
                    json_decode($commande->information_commande);
                //var_dump($information_commande);
                if (isset($information_commande->verre->correction_droit)) {
                    $detail .= "<b>OD:</b>";
                    $detail .= "<span style='font-size:20px'> " .
                               $information_commande->verre->correction_droit->sphere .
                               "";
                    $detail .= " (" .
                               $information_commande->verre->correction_droit->cylindre .
                               ")</span>";
                    if ($information_commande->verre->correction_droit->axe !=
                        "0.00") {
                        $detail .= " " .
                                   $information_commande->verre->correction_droit->axe .
                                   "°";
                    }

                    if (isset($information_commande->verre->correction_droit->addition) &&
                        ($information_commande->verre->correction_droit->addition !=
                         "0.00" &&
                         $commande->id_generation_verre !=
                         34)) {
                        $detail .= " ADD   " .
                                   $information_commande->verre->correction_droit->addition .
                                   "";
                    }
                    if (isset($information_commande->verre->correction_droit->addition) &&
                        ($information_commande->verre->correction_droit->addition !=
                         "0.00" &&
                         $commande->id_generation_verre ==
                         34)) {
                        $detail .= " DEG   " .
                                   $information_commande->verre->correction_droit->addition .
                                   "";
                    }


                    if (isset($information_commande->verre->correction_droit->PrismeSphere) &&
                        !empty($information_commande->verre->correction_droit->PrismeSphere)) {
                        $detail .= " " .
                                   $information_commande->verre->correction_droit->PrismeSphere .
                                   "Δ";

                    }
                    if (isset($information_commande->verre->correction_droit->PrismeCylindre) &&
                        !empty($information_commande->verre->correction_droit->PrismeCylindre)) {
                        $detail .= " base " .
                                   $information_commande->verre->correction_droit->PrismeCylindre .
                                   "°";

                    }

                    if (isset($information_commande->verre->correction_droit->galbe)) {
                        $detail .= " Galbe: " .
                                   $information_commande->verre->correction_droit->galbe .
                                   " ";
                    }
                    if (isset($information_commande->verre->correction_droit->traitement) &&
                        !empty($information_commande->verre->correction_droit->traitement)) {
                        $traitementD =
                            $this->m_commande->getTraitementByCode($information_commande->verre->correction_droit->traitement);
                        $detail .= "<br>Traitement: " .
                                   $traitementD .
                                   "";
                    }
                    if (isset($information_commande->verre->correction_droit->teinte)) {
                        $teinteD =
                            $this->m_commande->getTeinteEnById($information_commande->verre->correction_droit->teinte);
                        if ($teinteD !=
                            "") {
                            $detail .= "<br>Teinte: <b>" .
                                       $teinteD .
                                       "</b>";
                        } else {
                            if ($information_commande->verre->correction_droit->teinte !=
                                "") {
                                $detail .= "<br>Teinte personnalisée: <b>" .
                                           $information_commande->verre->correction_droit->teinte .
                                           "</b>";
                            }
                        }
                    }
                    if (isset($information_commande->verre->correction_droit->diametre) &&
                        !empty($information_commande->verre->correction_droit->diametre)) {
                        $detail .= "<br>Diametre: " .
                                   $information_commande->verre->correction_droit->diametre .
                                   "";

                    }

                }

                if (isset($information_commande->verre->correction_gauche)) {
                    $detail .= "<br><br><b>OG</b>";
                    $detail .= "<span style='font-size:20px'> " .
                               $information_commande->verre->correction_gauche->sphere .
                               "";
                    $detail .= "(" .
                               $information_commande->verre->correction_gauche->cylindre .
                               ")</span>";
                    if ($information_commande->verre->correction_gauche->axe !=
                        "0.00") {
                        $detail .= " " .
                                   $information_commande->verre->correction_gauche->axe .
                                   "°";
                    }

                    if (isset($information_commande->verre->correction_gauche->addition) &&
                        $information_commande->verre->correction_gauche->addition !=
                        "0.00" &&
                        $commande->id_generation_verre !=
                        34) {
                        $detail .= " ADD  " .
                                   $information_commande->verre->correction_gauche->addition .
                                   "";
                    }
                    if (isset($information_commande->verre->correction_gauche->addition) &&
                        $information_commande->verre->correction_gauche->addition !=
                        "0.00" &&
                        $commande->id_generation_verre ==
                        34) {
                        $detail .= " DEG  " .
                                   $information_commande->verre->correction_gauche->addition .
                                   "";
                    }


                    if (isset($information_commande->verre->correction_gauche->PrismeSphere) &&
                        !empty($information_commande->verre->correction_gauche->PrismeSphere)) {
                        $detail .= " " .
                                   $information_commande->verre->correction_gauche->PrismeSphere .
                                   "Δ";
                    }
                    if (isset($information_commande->verre->correction_gauche->PrismeCylindre) &&
                        !empty($information_commande->verre->correction_gauche->PrismeCylindre)) {
                        $detail .= " Base " .
                                   $information_commande->verre->correction_gauche->PrismeCylindre .
                                   "°";
                    }

                    if (isset($information_commande->verre->correction_gauche->galbe)) {
                        $detail .= " Galbe: " .
                                   $information_commande->verre->correction_gauche->galbe .
                                   " ";
                    }
                    if (isset($information_commande->verre->correction_gauche->traitement) &&
                        !empty($information_commande->verre->correction_gauche->traitement)) {

                        $traitementG =
                            $this->m_commande->getTraitementByCode($information_commande->verre->correction_gauche->traitement);
                        $detail .= "<br>Traitement: " .
                                   $traitementG .
                                   "";
                    }

                    if (isset($information_commande->verre->correction_gauche->teinte)) {
                        $teinteG =
                            $this->m_commande->getTeinteEnById($information_commande->verre->correction_gauche->teinte);
                        if ($teinteG !=
                            "") {
                            $detail .= "<br>Teinte: <b>" .
                                       $teinteG .
                                       "</b>";
                        } else {
                            if ($information_commande->verre->correction_gauche->teinte !=
                                "") {
                                $detail .= "<br>Teinte personnalisée: <b>" .
                                           $information_commande->verre->correction_gauche->teinte .
                                           "</b>";
                            }
                        }
                    }
                    $detail .= "<br>Diametre: " .
                               $information_commande->verre->correction_gauche->diametre .
                               "";

                }

                $precal = 0;

                if ((isset($information_commande->verre->correction_droit) &&
                     $information_commande->verre->correction_droit->diametre ==
                     'precalibrage') ||
                    (isset($information_commande->verre->correction_gauche) &&
                     $information_commande->verre->correction_gauche->diametre ==
                     'precalibrage')) {
                    $precal =
                        1;
                    $p .= '<b>Précalibrage:</b>';

                    $p .= '<img src="/static/img/calibre/' .
                          $information_commande->precalibrage->calibre .
                          '.jpg" width="150" heigth="70" align="left" style="margin: 34px 19px;" /><br>';

                    $mesure_freeform_opt =
                        "";

                    $mesure_freeform_opt .= isset($information_commande->mesure_freeform->largeur_boxing) ?
                        'Largeur boxing : ' .
                        $information_commande->mesure_freeform->largeur_boxing .
                        ', ' :
                        '';
                    $mesure_freeform_opt .= isset($information_commande->mesure_freeform->hauteur_boxing) ?
                        'Hauteur boxing : ' .
                        $information_commande->mesure_freeform->hauteur_boxing .
                        ', ' :
                        '';
                    $mesure_freeform_opt .= isset($information_commande->mesure_freeform->taille_du_pont) ?
                        'Taille du pont : ' .
                        $information_commande->mesure_freeform->taille_du_pont .
                        ', ' :
                        '';
                    $mesure_freeform_opt .= isset($information_commande->mesure_freeform->diametre_utile) ?
                        'Diametre utile : ' .
                        $information_commande->mesure_freeform->diametre_utile .
                        '<br>' :
                        '';

                    if (!empty($mesure_freeform_opt)) {
                        $p .= '<b>Mesure freeform:</b> <br> - ';
                        $p .= $mesure_freeform_opt;
                    }

                    if (isset($information_commande->monture->type)) {
                        $p .= 'Type monture: ' .
                              $information_commande->monture->type .
                              '<br>';
                    }

                    if (isset($information_commande->bord_verre->epaisseur) &&
                        !empty($information_commande->bord_verre->epaisseur)) {
                        $p .= 'EP au bord minimum: ' .
                              $information_commande->bord_verre->epaisseur .
                              '<br>';
                    }

                    if (isset($information_commande->mesure_freeform->ecart_puppillaire_droit) &&
                        !empty($information_commande->mesure_freeform->ecart_puppillaire_droit)) {
                        $p .= 'Ecart puppillaire droit: ' .
                              $information_commande->mesure_freeform->ecart_puppillaire_droit .
                              '<br>';
                    }

                    if (isset($information_commande->mesure_freeform->ecart_puppillaire_gauche) &&
                        !empty($information_commande->mesure_freeform->ecart_puppillaire_gauche)) {
                        $p .= 'Ecart puppillaire gauche: ' .
                              $information_commande->mesure_freeform->ecart_puppillaire_gauche .
                              '<br>';
                    }

                    if (isset($information_commande->mesure_freeform->hauteur) &&
                        !empty($information_commande->mesure_freeform->hauteur)) {
                        $p .= 'Hauteur de montage droit: ' .
                              $information_commande->mesure_freeform->hauteur .
                              '<br>';
                    }

                    if (isset($information_commande->mesure_freeform->hauteur_gauche) &&
                        !empty($information_commande->mesure_freeform->hauteur_gauche)) {
                        $p .= 'Hauteur de montage gauche: ' .
                              $information_commande->mesure_freeform->hauteur_gauche .
                              '<br>';
                    }

                }

                if ($commande->type_commande >
                    1) {

                    $ancienne_commande =
                        '';

                    if ($commande->ancienne_commande >
                        0) {
                        $ancienne_commande .= '<br />(CR' .
                                              $commande->ancienne_commande .
                                              '-' .
                                              $commande->id_users .
                                              ')<br /><a class="btn btn-danger btn-sm compare_commande" data-toggle="modal" data-target="#compare-commandes" rel="' .
                                              $commande->id_commande .
                                              '">Comparer</a>';
                    }
                    if ($commande->penalty !=
                        1) {
                        $ancienne_commande .= '<br /> <a class="btn btn-warning btn-sm reject_ec" rel="' .
                                              $commande->id_commande .
                                              '">Rejeter</a>';
                    }
                } else {
                    $ancienne_commande =
                        '';
                }

                $ref_optieyes =
                    'CR' .
                    $commande->id_commande .
                    '-' .
                    $commande->id_users .
                    $ancienne_commande;
                switch ($commande->type_commande) {

                    case 1:
                        $prix_commande =
                            $commande->total_commande .
                            ' €';
                        break;

                    case 2:

                        $prix_commande =
                            '<del>' .
                            $commande->total_commande .
                            '</del> ' .
                            ($commande->tarif_express >
                             0 ?
                                $commande->tarif_express :
                                '0') .
                            ' €<br />Casse atelier';
                        break;

                    case 3:
                        $prix_commande =
                            '<del>' .
                            $commande->total_commande .
                            '</del> ' .
                            ($commande->tarif_express >
                             0 ?
                                $commande->tarif_express :
                                '0') .
                            ' €<br />Erreur ophta';
                        break;
                }

                $infos =
                    "Date: <b>" .
                    date('d/m/Y H:i',
                         strtotime($commande->date_commande)) .
                    "</b><br>Ref.&nbsp;Optieyes: <b>" .
                    $ref_optieyes .
                    "</b><br>Ref. client: <b>" .
                    $commande->reference_client .
                    "</b><br>Tarif HT: <b>" .
                    $prix_commande .
                    "</b>";
                if ($commande->tarif_express !=
                    '0') {
                    $infos .= "<br><b>EXPRESS</b>";
                }

                if ($commande->commentaire !=
                    "") {
                    $infos .= "<br><br>Commentaires client: <b><br>" .
                              $commande->commentaire .
                              "</b>";
                }

                if ($commande->commentaire_omega !=
                    "") {
                    $infos .= '<br><br>Commentaires OMEGA: <b>' .
                              $commande->commentaire_omega .
                              '</b>';
                }

                $infos .= '<br><br><a class="btn btn-inverse btn-sm" id="button_commentaires_omega_' .
                          $commande->id_commande .
                          '_' .
                          $commande->id_users . '" data-toggle="modal" data-target="#edit-commentaire_omega"><i class="zmdi zmdi-edit"></i> commentaire Omega</a>
            		';

                if ($commande->seconde_omega !=
                    "") {
                    $infos .= "<br><br>Seconde Paire OMEGA: <b>" .
                              $commande->seconde_omega .
                              "</b>";
                    $infos .= '<br><br><a class="btn btn-warning btn-sm" id="button_seconde_paire_omega_' .
                              $commande->id_commande .
                              '_' .
                              $commande->id_users .
                              '" data-toggle="modal" data-target="#edit-seconde_paire_omega"><i class="zmdi zmdi-edit"></i> seconde paire Omega</a>';
                } else {
                    if ($commande->premiere_commande !=
                        0) {
                        $infos .= "<br><br>Seconde Paire OMEGA: <b>" .
                                  $commande->premiere_commande .
                                  "-" .
                                  $commande->id_users .
                                  "</b>";
                    } else {
                        $infos .= '<br><br><a class="btn btn-warning btn-sm" id="button_seconde_paire_omega_' .
                                  $commande->id_commande .
                                  '_' .
                                  $commande->id_users .
                                  '" data-toggle="modal" data-target="#edit-seconde_paire_omega"><i class="zmdi zmdi-edit"></i> seconde paire Omega</a>';
                    }

                }


                if ($commande->origine_commande ==
                    '2') {
                    $infos .= "<br><br><b>Commande Stock Déporté</b><br>";
                } else {
                    $infos .= "<br><br><b>Commande Fabrication</b><br>";
                }

                if ($commande->panierA ==
                    '1') {
                    $infos .= "<br><b>Panier A</b>";
                }

                $infos .= "<br>Nom du verre: <b>" .
                          $commande->trad_fr .
                          "</b>";
                $infos .= "<br>Indice: " .
                          $commande->indice_verre .
                          '';
            }
        }

        $data['detail'] =
            $detail;
        $data['infos'] =
            $infos;
        $data['p'] = $p;

        $this->load->view('admin/omega_autre_verre',
                          $data);
    }

    public
    function remplaceVerreOmega($id_commande_omega,
                                $ref)
    {
        //var_dump($ref);die;
        if ($this->input->is_ajax_request()) {

            $data =
                $this->input->post();

            $commande_origine =
                $this->m_commande->getCommandeEdiOmegaById($ref);
//             var_dump($commande_origine);die;

            //  var_dump($data);
            $textarea = "";
            if ($commande_origine->premiere_commande !=
                '0') {
                $textarea .= "SECOND PAIR, First Pair Optieyes reference: " .
                             $commande_origine->premiere_commande .
                             "-" .
                             $commande_origine->id_users .
                             "<br>";
            }

            $textarea .= "Optieyes reference: " .
                         $commande_origine->id_commande .
                         "-" .
                         $commande_origine->id_users;

            if (isset($data['type_de_verreD']) &&
                !empty($data['type_de_verreD'])) {
                $lens_code =
                    $data['type_de_verreD'];
                $lens_name =
                    $data['nomverreDH'];
            }
            if (isset($data['type_de_verreG']) &&
                !empty($data['type_de_verreG'])) {
                $lens_code =
                    $data['type_de_verreG'];
                $lens_name =
                    $data['nomverreGH'];
            }

            $textarea .= "<br><br>Lens Code: " .
                         $lens_code;
            $textarea .= "<br>Lens Name: " .
                         $lens_name;

            $textarea .= "<br><br>Optical Index: " .
                         $data['indices'];

            if ($commande_origine->tarif_express !=
                '0') {
                $textarea .= "<br><b>EXPRESS</b>";
            }

            if (isset($data['droit']) &&
                $data['droit'] =
                    'droit') {
                $textarea .= "<br>OD:";
                $textarea .= " " .
                             $data["sphereD"];
                $textarea .= " (" .
                             $data["cylindreD"] .
                             ")";

                if ($data['axeD'] !=
                    "0.00") {
                    $textarea .= " " .
                                 $data['axeD'] .
                                 "°";
                }

                if ($data['additionD'] !=
                    "0.00" &&
                    $commande_origine->id_generation_verre !=
                    34) {
                    $textarea .= " ADD " .
                                 $data['additionD'];
                }

                if ($data['additionD'] !=
                    "0.00" &&
                    $commande_origine->id_generation_verre ==
                    34) {
                    $textarea .= " DEG " .
                                 $data['additionD'];
                }


                if (isset($data["PrismeSphereD"]) &&
                    !empty($data["PrismeSphereD"])) {
                    $textarea .= " " .
                                 $data['PrismeSphereD'] .
                                 "Δ";
                }
                if (isset($data["PrismeCylindreD"]) &&
                    !empty($data["PrismeCylindreD"])) {
                    $textarea .= " base " .
                                 $data['PrismeCylindreD'] .
                                 "°";
                }

                $textarea .= " Galbe: " .
                             $data['galbeD'];

                if (isset($data["traitementD"]) &&
                    !empty($data["traitementD"]) &&
                ($data["traitementD"] != '700100' ||
                 (($data["traitementD"] == '700100') &&
                  ((strpos($data['nomverreDH'],
                           '1.5') === false) ||
                   (strpos($data['nomverreDH'],
                           '1.53') !== false) ||
                   (strpos($data['nomverreDH'],
                           '1.56') !== false) ||
                   (strpos($data['nomverreDH'],
                           '1.59') !== false))
                 )))
                 {

                    $textarea .= "<br>Coating code: " .
                                 $data['traitementD'] .
                                 "(" .
                                 $this->m_commande->getTraitementNameByCode($data['traitementD']) .
                                 ")";
                }

                if (isset($data["teinteD"]) &&
                    !empty($data["teinteD"])) {
                    $teinteD =
                        $this->m_commande->getTeinteEnById($data['teinteD']);
                    $textarea .= "<br>Tint: " .
                                 $this->m_commande->getTeinteEnById($data['teinteD']);

                }
                if (isset($data["teintepersoD"]) &&
                    !empty($data["teintepersoD"])) {
                    $textarea .= "<br>Custom Tint: " .
                                 $data['teintepersoD'];
                }

                if (isset($data['diametreD']) &&
                    !empty($data['diametreD']) &&
                    $data['diametreD'] !=
                    "precalibrage") {
                    $textarea .= "<br>Diameter physical: " .
                                 $data['diametreD'];
                }


            }

            if (isset($data['gauche']) &&
                $data['gauche'] =
                    'gauche') {
                $textarea .= "<br>OG:";
                $textarea .= " " .
                             $data["sphereG"];
                $textarea .= "(" .
                             $data["cylindreG"] .
                             ")";
                if ($data['axeG'] !=
                    "0.00") {
                    $textarea .= " " .
                                 $data['axeG'] .
                                 "°";
                }

                if ($data['additionG'] !=
                    "0.00" &&
                    $commande_origine->id_generation_verre !=
                    34) {
                    $textarea .= " ADD " .
                                 $data['additionG'];
                }
                if ($data['additionG'] !=
                    "0.00" &&
                    $commande_origine->id_generation_verre ==
                    34) {
                    $textarea .= " DEG " .
                                 $data['additionG'];
                }


                if (isset($data["PrismeSphereG"]) &&
                    !empty($data["PrismeSphereG"])) {
                    $textarea .= " " .
                                 $data['PrismeSphereG'] .
                                 "Δ";
                }
                if (isset($data["PrismeCylindreG"]) &&
                    !empty($data["PrismeCylindreG"])) {
                    $textarea .= " base " .
                                 $data['PrismeCylindreG'] .
                                 "°";
                }

                $textarea .= " Galbe: " .
                             $data['galbeG'];

                if (isset($data["traitementG"]) &&
                    !empty($data["traitementG"]) &&
                    ($data["traitementG"] != '700100' ||
                     (($data["traitementG"] == '700100') &&
                      ((strpos($data['nomverreDH'],
                               '1.5') === false) ||
                       (strpos($data['nomverreDH'],
                               '1.53') !== false) ||
                       (strpos($data['nomverreDH'],
                               '1.56') !== false) ||
                       (strpos($data['nomverreDH'],
                               '1.59') !== false))
                     ))) {

                    $textarea .= "<br>Coating code: " .
                                 $data['traitementG'] .
                                 "(" .
                                 $this->m_commande->getTraitementNameByCode($data['traitementG']) .
                                 ")";
                }

                if (isset($data["teinteG"]) &&
                    !empty($data["teinteG"])) {
                    $teinteG =
                        $this->m_commande->getTeinteEnById($data['teinteG']);
                    $textarea .= "<br>Tint: " .
                                 $this->m_commande->getTeinteEnById($data['teinteG']);

                }
                if (isset($data["teintepersoG"]) &&
                    !empty($data["teintepersoG"])) {
                    $textarea .= "<br>Custom Tint: " .
                                 $data['teintepersoG'];
                }

                if (isset($data['diametreG']) &&
                    !empty($data['diametreG']) &&
                    $data['diametreG'] !=
                    "precalibrage") {
                    $textarea .= "<br>Diameter physical: " .
                                 $data['diametreG'];
                }
            }

            $precal = 0;

            if ($data['diametreD'] ==
                'precalibrage' ||
                $data['diametreG'] ==
                'precalibrage') {
                $precal = 1;

                $mesure_freeform_opt =
                    "";

                $mesure_freeform_opt .= isset($data['cotea']) ?
                    'Largeur boxing : ' .
                    $data['cotea'] .
                    ', ' : '';
                $mesure_freeform_opt .= isset($data['coteb']) ?
                    'Hauteur boxing : ' .
                    $data['coteb'] .
                    ', ' : '';
                $mesure_freeform_opt .= isset($data['cotec']) ?
                    'Taille du pont : ' .
                    $data['cotec'] .
                    ', ' : '';
                $mesure_freeform_opt .= isset($data['coted']) ?
                    'Diametre utile : ' .
                    $data['coted'] .
                    '<br>' :
                    '';

                $textarea .= "<br><br>Form Data:";

                if (isset($data["ecart_puppillaire_droit"]) &&
                    !empty($data["ecart_puppillaire_droit"])) {
                    $textarea .= "<br>PD right: " .
                                 $data["ecart_puppillaire_droit"];
                }
                if (isset($data["hauteur"]) &&
                    !empty($data["hauteur"])) {
                    $textarea .= "<br>Height right: " .
                                 $data["hauteur"];
                }

                if (isset($data["ecart_puppillaire_gauche"]) &&
                    !empty($data["ecart_puppillaire_gauche"])) {
                    $textarea .= "<br>PD left: " .
                                 $data["ecart_puppillaire_gauche"];
                }
                if (isset($data["hauteur_gauche"]) &&
                    !empty($data["hauteur_gauche"])) {
                    $textarea .= "<br>Height left: " .
                                 $data["hauteur_gauche"];
                }

                if (isset($data['epaisseur_bord_verre']) &&
                    !empty($data['epaisseur_bord_verre'])) {
                    $textarea .= "<br>Minimal edge thickn.: " .
                                 $data['epaisseur_bord_verre'];
                }

                if (isset($data['cotec']) &&
                    !empty($data['cotec'])) {
                    $textarea .= "<br>DBL: " .
                                 $data['cotec'];
                }

                if (isset($data['cotea']) &&
                    !empty($data['cotea'])) {
                    $textarea .= "<br>Boxing width: " .
                                 $data['cotea'];
                }

                if (isset($data['coteb']) &&
                    !empty($data['coteb'])) {
                    $textarea .= "<br>Boxing height: " .
                                 $data['coteb'];
                }

                if (isset($data['coted']) &&
                    !empty($data['coted'])) {
                    $textarea .= "<br>Diameter: " .
                                 $data['coted'];
                }

                if (isset($data['type_monture']) &&
                    !empty($data['type_monture'])) {
                    $textarea .= "<br>Frame Type: " .
                                 $data['type_monture'];
                }

                if (isset($data['calibre']) &&
                    !empty($data['calibre'])) {
                    $textarea .= "<br>Form: <img src='http://optieyescommande.com/static/img/calibre/" .
                                 $data['calibre'] .
                                 ".jpg' width='150' heigth='70' /><br>";
                }

            }

            $xml = '<?xml version="1.0" encoding="UTF-8" ?>
<b2bOptic>
   <header msgType="ORDER" msgState="NEW">
      <customersOrderId>48860</customersOrderId>
      <distributorsOrderId />
      <timeStamps>
         <dateTime step="CREATE">' .
                   date("Y-m-d\TH:i:sO") . '</dateTime> 
      </timeStamps>
      <orderParties role="ORIGINATOR">
         <id>48860</id>
      </orderParties>
      <software typeOf="ORIGINATOR">
         <name>OmegaDirect</name>
         <version>1.3</version>
      </software>
      <productCatalog>
      <name>sf6</name>
      <release />
      </productCatalog>
      <portalOrderId />
   </header>
   <items>
      <item>';

            $remark = '';

            if (isset($data["teinteD"]) &&
                !empty($data["teinteD"])) {
                if ($teinteD ==
                    "") {
                    $remark .= 'Right tint: ' .
                               $data["teinteD"] .
                               '.';
                }
                if (strpos($data["teinteD"],
                           'CUST_') !==
                    false) {
                    if ($data["teinteD"] == 'CUST_24') {
                        $remark .= 'Right tint: Sample color send by mail.';
                    }
                    else  if (isset($teinteD)) {
                        $remark .= 'Right tint: ' . $teinteD . '.';
                    }
                }
            }
            if (isset($data["teinteG"]) &&
                !empty($data["teinteG"])) {
                if ($teinteG ==
                    "") {
                    $remark .= ' Left tint: ' .
                               $data["teinteG"] .
                               '.';
                }
                if (strpos($data["teinteG"],
                           'CUST_') !==
                    false) {
                    if ($data["teinteG"] == 'CUST_24') {
                        $remark .= ' Left tint: Sample color send by mail.';
                    }
                    else  if (isset($teinteG)) {
                        $remark .= ' Left tint: ' .
                                   $teinteG .
                                   '.';
                    }
                }
            }

            $lenses_code =
                $lens_code;

//            if ($lenses_code ==
//                'PAI-1515') {
//                $remark .= " Change to product INITIAL ";
//            }
//            if ($lenses_code ==
//                'PAI-1615') {
//                $remark .= " Change to product INITIAL ";
//            }
//            if ($lenses_code ==
//                'PAI-1715') {
//                $remark .= " Change to product INITIAL ";
//            }
//            if ($lenses_code ==
//                'PAI-1815') {
//                $remark .= " Change to product INITIAL ";
//            }
//
//
//            if ($lenses_code ==
//                'PAI-15159') {
//                $remark .= " Change to product INITIAL ";
//            }
//            if ($lenses_code ==
//                'PAI-16159') {
//                $remark .= " Change to product INITIAL ";
//            }
//            if ($lenses_code ==
//                'PAI-17159') {
//                $remark .= " Change to product INITIAL ";
//            }
//            if ($lenses_code ==
//                'PAI-18159') {
//                $remark .= " Change to product INITIAL ";
//            }
//
//
//            if ($lenses_code ==
//                'PAI-1516') {
//                $remark .= " Change to product INITIAL ";
//            }
//            if ($lenses_code ==
//                'PAI-1616') {
//                $remark .= " Change to product INITIAL ";
//            }
//            if ($lenses_code ==
//                'PAI-1716') {
//                $remark .= " Change to product INITIAL ";
//            }
//            if ($lenses_code ==
//                'PAI-1816') {
//                $remark .= " Change to product INITIAL ";
//            }
//
//
//            if ($lenses_code ==
//                'PAI-15167') {
//                $remark .= " Change to product INITIAL ";
//            }
//            if ($lenses_code ==
//                'PAI-16167') {
//                $remark .= " Change to product INITIAL ";
//            }
//            if ($lenses_code ==
//                'PAI-17167') {
//                $remark .= " Change to product INITIAL ";
//            }
//            if ($lenses_code ==
//                'PAI-18167') {
//                $remark .= " Change to product INITIAL ";
//            }
//
//
//            if ($lenses_code ==
//                'PAI-15174') {
//                $remark .= " Change to product INITIAL ";
//            }
//            if ($lenses_code ==
//                'PAI-16174') {
//                $remark .= " Change to product INITIAL ";
//            }
//            if ($lenses_code ==
//                'PAI-17174') {
//                $remark .= " Change to product INITIAL ";
//            }
//            if ($lenses_code ==
//                'PAI-18174') {
//                $remark .= " Change to product INITIAL ";
//            }
//            var_dump($commande_origine);die;
            if ($commande_origine->commentaire_omega) {
                $remark = $commande_origine->commentaire_omega;
            }
            if ($remark !=
                '') {
                $xml .= '
         <remark>' . $remark . '</remark>
         ';
            }

            $xml .= '
         <referenceNo>' .
                    $commande_origine->id_commande .
                    '-' .
                    $commande_origine->id_users . '</referenceNo>
         <manufacturer />';

            if ($commande_origine->premiere_commande !=
                '0') {
                $xml .= '
         <secondPair>true</secondPair>
		 <multiplePair>
			<referenceNo>' .
                        $commande_origine->premiere_commande . '</referenceNo>
		 </multiplePair>';
            }

            $lenses_code =
                $lens_code;

            $paA = "";

            if ($lenses_code ==
                'PAU-15') {
                $lenses_code =
                    '200010';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAU-159') {
                $lenses_code =
                    '200051';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAU-16') {
                $lenses_code =
                    '200005';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAU-167') {
                $lenses_code =
                    '200003';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAU-174') {
                $lenses_code =
                    '200464';
                $paA = "1";
            }

            if ($lenses_code ==
                'PAD-15') {
                $lenses_code =
                    '200076';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAD-159') {
                $lenses_code =
                    '200086';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAD-16') {
                $lenses_code =
                    '200078';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAD-167') {
                $lenses_code =
                    '200913';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAD-174') {
                $lenses_code =
                    '200853';
                $paA = "1";
            }


            if ($lenses_code ==
                'PAO-15') {
                $lenses_code =
                    '202954';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAO-159') {
                $lenses_code =
                    '202980';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAO-16') {
                $lenses_code =
                    '202955';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAO-167') {
                $lenses_code =
                    '202956';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAO-174') {
                $lenses_code =
                    '202981';
                $paA = "1";
            }

            if ($lenses_code ==
                'PAI-1515') {
                $lenses_code =
                    'S4UW50';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAI-1615') {
                $lenses_code =
                    'S3UW50';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAI-1715') {
                $lenses_code =
                    'S2UW50';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAI-1815') {
                $lenses_code =
                    'S1UW50';
                $paA = "1";
            }


            if ($lenses_code ==
                'PAI-15159') {
                $lenses_code =
                    'S4UY59';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAI-16159') {
                $lenses_code =
                    'S3UY59';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAI-17159') {
                $lenses_code =
                    'S2UY59';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAI-18159') {
                $lenses_code =
                    'S1UY59';
                $paA = "1";
            }


            if ($lenses_code ==
                'PAI-1516') {
                $lenses_code =
                    'S4UH60';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAI-1616') {
                $lenses_code =
                    'S3UH60';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAI-1716') {
                $lenses_code =
                    'S2UH60';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAI-1816') {
                $lenses_code =
                    'S1UH60';
                $paA = "1";
            }


            if ($lenses_code ==
                'PAI-15167') {
                $lenses_code =
                    'S4UH67';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAI-16167') {
                $lenses_code =
                    'S3UH67';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAI-17167') {
                $lenses_code =
                    'S2UH67';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAI-18167') {
                $lenses_code =
                    'S1UH67';
                $paA = "1";
            }


            if ($lenses_code ==
                'PAI-15174') {
                $lenses_code =
                    'S4UH74';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAI-16174') {
                $lenses_code =
                    'S3UH74';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAI-17174') {
                $lenses_code =
                    'S2UH74';
                $paA = "1";
            }
            if ($lenses_code ==
                'PAI-18174') {
                $lenses_code =
                    'S1UH74';
                $paA = "1";
            }

            $xml .= '
         <pair>
         ';

            if (isset($data['droit']) &&
                $data['droit'] =
                    'droit') {
                $xml .= '<lens quantity="1" side="RIGHT">
               <commercialCode>' .
                        $lenses_code . '</commercialCode>
               <rxData>
                  <sphere>' .
                        $data["sphereD"] . '</sphere>
                  <cylinder>
                      <power>' .
                        $data["cylindreD"] . '</power>
                      <axis>' .
                        $data["axeD"] . '</axis>
                  </cylinder>
                  <addition>' .
                        $data["additionD"] . '</addition>
                  ';

                if (isset($data["PrismeSphereD"]) &&
                    !empty($data["PrismeSphereD"])) {
                    $xml .= '<prism>
						 <power>' .
                            $data["PrismeSphereD"] . '</power>
						 <base>' .
                            $data["PrismeCylindreD"] . '</base>
					  </prism>';
                }
                $xml .= '</rxData>';

                if ((isset($data["traitementD"]) &&
                     !empty($data["traitementD"]) &&
                     ($data["traitementD"] != '700100' ||
                      (($data["traitementD"] == '700100') &&
                       ((strpos($data['nomverreDH'],
                                '1.5') === false) ||
                        (strpos($data['nomverreDH'],
                                '1.53') !== false) ||
                        (strpos($data['nomverreDH'],
                                '1.56') !== false) ||
                        (strpos($data['nomverreDH'],
                                '1.59') !== false))
                      ))) ||
                    $paA ==
                    "1") {

                    if ($paA ==
                        "1") {
                        $data["traitementD"] =
                            "700102";
                    }
                    $xml .= '
					   <coating coatingType="ANTIREFLEX">
						  <commercialCode>' .
                            $data["traitementD"] . '</commercialCode>
					   </coating>';

                }

                if (isset($data["teinteD"]) &&
                    !empty($data["teinteD"])) {

                    if ($teinteD !=
                        "" &&
                        strpos($data["teinteD"],
                               'CUST_') ===
                        false) {
                        $xml .= '
						   <coating coatingType="COLOR">
							  <commercialCode>' .
                                $data["teinteD"] . '</commercialCode>
						   </coating>';
                    }
                }

                if ($commande_origine->tarif_express !=
                    "0") {
                    $xml .= '<coating coatingType="OTHER">
					<commercialCode>EXP24</commercialCode>
					</coating>';
                }

                if ($data["diametreD"] ==
                    'precalibrage') {
                    $data["diametreD"] =
                        $data['coted'];
                }

                if (isset($data["hauteur"]) &&
                    !empty($data["hauteur"])) {
                    $hauteurD =
                        $data["hauteur"];
                }

                if (isset($data["hauteur_gauche"]) &&
                    !empty($data["hauteur_gauche"])) {
                    $hauteurG =
                        $data["hauteur_gauche"];
                }

                $xml .= '
               <centration>';

                if (isset($data["ecart_puppillaire_droit"]) &&
                    !empty($data["ecart_puppillaire_droit"])) {
                    $xml .= '
					  <monocularCentrationDistance reference="FAR">' .
                            $data["ecart_puppillaire_droit"] .
                            '</monocularCentrationDistance>';
                }
                if (!isset($hauteurD)) {
                    $hauteurD = "";
                }
                    $xml .= '
                  <height reference="NEAR" referenceHeight="OVERBOX">' .
                            $hauteurD . '</height>
                  </centration>';



                if (strpos($data["diametreD"],
                           "/") !==
                    false) {
                    $d1 =
                        explode("/",
                                $data["diametreD"]);
                    $xml .= '
               <geometry>
                  <diameter>
                     <physical>' .
                            $d1[0] . '</physical>
                     <optical>' .
                            $d1[1] . '</optical>
                     <elliptic>false</elliptic>
                  </diameter>';
                } else {

                    $xml .= '
				   <geometry>';
                    if ($data["diametreD"] !=
                        "precalibrage") {
                        $xml .= '
						  <diameter>
							 <physical>' .
                                $data["diametreD"] . '</physical>
							 <elliptic>false</elliptic>
						  </diameter>';
                    }
                }


                if (isset($data['epaisseur_bord_verre']) &&
                    !empty($data['epaisseur_bord_verre'])) {
                    $xml .= '
			    	<thickness reference="EDGE">' .
                            $data['epaisseur_bord_verre'] .
                            '</thickness>';
                }

                if (isset($data["ecart_puppillaire_droit"]) &&
                    !empty($data["ecart_puppillaire_droit"])) {
                    $xml .= '
                  <thicknessReduction>true</thicknessReduction>';
                } else {
                    $xml .= '
                  <thicknessReduction>false</thicknessReduction>';
                }
                $xml .= '
               </geometry>
            </lens>
            ';
            }

            if (isset($data['gauche']) &&
                $data['gauche'] =
                    'gauche') {
                $xml .= '<lens quantity="1" side="LEFT">
               <commercialCode>' .
                        $lenses_code . '</commercialCode>
               <rxData>
                  <sphere>' .
                        $data["sphereG"] . '</sphere>
                  <cylinder>
                      <power>' .
                        $data["cylindreG"] . '</power>
                      <axis>' .
                        $data["axeG"] . '</axis>
                  </cylinder>
                  <addition>' .
                        $data["additionG"] .
                        '</addition>';
                if (isset($data["PrismeSphereG"]) &&
                    !empty($data["PrismeSphereG"])) {
                    $xml .= '<prism>
						 <power>' .
                            $data["PrismeSphereG"] . '</power>
						 <base>' .
                            $data["PrismeCylindreG"] . '</base>
					  </prism>';
                }

                $xml .= '</rxData>';

                if ((isset($data["traitementG"]) &&
                     !empty($data["traitementG"]) &&
                     ($data["traitementG"] != '700100' ||
                      (($data["traitementG"] == '700100') &&
                       ((strpos($data['nomverreDH'],
                                '1.5') === false) ||
                        (strpos($data['nomverreDH'],
                                '1.53') !== false) ||
                        (strpos($data['nomverreDH'],
                                '1.56') !== false) ||
                        (strpos($data['nomverreDH'],
                                '1.59') !== false))
                      ))) ||
                    $paA ==
                    "1") {

                    if ($paA ==
                        "1") {
                        $data["traitementG"] =
                            "700102";
                    }
                    $xml .= '
					   <coating coatingType="ANTIREFLEX">
						  <commercialCode>' .
                            $data["traitementG"] . '</commercialCode>
					   </coating>';

                }

                if (isset($data["teinteG"]) &&
                    !empty($data["teinteG"])) {

                    if ($teinteG !=
                        "" &&
                        strpos($data["teinteG"],
                               'CUST_') ===
                        false) {
                        $xml .= '
						   <coating coatingType="COLOR">
							  <commercialCode>' .
                                $data["teinteG"] . '</commercialCode>
						   </coating>';
                    }
                }

                if ($commande_origine->tarif_express !=
                    "0") {
                    $xml .= '<coating coatingType="OTHER">
					<commercialCode>EXP24</commercialCode>
					</coating>';
                }

                if ($data["diametreG"] ==
                    'precalibrage') {
                    $data["diametreG"] =
                        $data['coted'];
                }

                $xml .= '
               <centration>';

                if (isset($data["ecart_puppillaire_gauche"]) &&
                    !empty($data["ecart_puppillaire_gauche"])) {
                    $xml .= '
					  <monocularCentrationDistance reference="FAR">' .
                            $data["ecart_puppillaire_gauche"] .
                            '</monocularCentrationDistance>';
                }
                if (!isset($hauteurG)) {
                    $hauteurG = "";
                }
                    $xml .= '
                  <height reference="NEAR" referenceHeight="OVERBOX">' .
                            $hauteurG . '</height>
                  </centration>';


                if (strpos($data["diametreG"],
                           "/") !==
                    false) {
                    $d1 =
                        explode("/",
                                $data["diametreG"]);
                    $xml .= '
               <geometry>
                  <diameter>
                     <physical>' .
                            $d1[0] . '</physical>
                     <optical>' .
                            $d1[1] . '</optical>
                     <elliptic>false</elliptic>
                  </diameter>';
                } else {
                    $xml .= '
				   <geometry>';
                    if ($data["diametreG"] !=
                        "precalibrage") {
                        $xml .= '
						  <diameter>
							 <physical>' .
                                $data["diametreG"] . '</physical>
							 <elliptic>false</elliptic>
						  </diameter>';
                    }
                }

                if (isset($data['epaisseur_bord_verre']) &&
                    !empty($data['epaisseur_bord_verre'])) {
                    $xml .= '
			    	<thickness reference="EDGE">' .
                            $data['epaisseur_bord_verre'] .
                            '</thickness>';
                }
                if (isset($data["ecart_puppillaire_gauche"]) &&
                    !empty($data["ecart_puppillaire_gauche"])) {
                    $xml .= '
                  <thicknessReduction>true</thicknessReduction>';
                } else {
                    $xml .= '
                  <thicknessReduction>false</thicknessReduction>';
                }
                $xml .= '
               </geometry>
            </lens>
            ';

            }
            $xml .= '
            	<frame quantity="1">';
            if ((isset($data["galbeD"]) &&
                 $data["galbeD"] !=
                 "Standard") ||
                (isset($data["galbeG"]) &&
                 $data["galbeG"] !=
                 "Standard")) {
                if ((isset($data["galbeD"])) &&
                    $data["galbeD"] !=
                    "Standard") {
                    $xml .= '
<frameBowAngle>' .
                            $data["galbeD"] .
                            '</frameBowAngle>';
                } else {
                    $xml .= '
<frameBowAngle>' .
                            $data["galbeG"] .
                            '</frameBowAngle>';
                }
            }

            $edg = "";

            if ($precal ==
                '1') {

                $calibre =
                $DBL =
                $boxWidth =
                $monture_type =
                    "";

                if (isset($data['type_monture']) &&
                    !empty($data['type_monture'])) {
                    if ($data['type_monture'] ==
                        "Plastique") {
                        $monture_type =
                            "PLASTIC";
                    }
                    if ($data['type_monture'] ==
                        "Optyl") {
                        $monture_type =
                            "OPTYL";
                    }
                    if ($data['type_monture'] ==
                        "Metal") {
                        $monture_type =
                            "METAL";
                    }
                    if ($data['type_monture'] ==
                        "Nylor") {
                        $monture_type =
                            "NYLOR";
                    }
                    if ($data['type_monture'] ==
                        "Percee") {
                        $monture_type =
                            "DRILLED";
                    }
                }

                if (isset($data['cotea']) &&
                    !empty($data['cotea'])) {
                    $boxWidth =
                        $data['cotea'];
                }

                if (isset($data['coteb']) &&
                    !empty($data['coteb'])) {
                    $boxHeight =
                        $data['coteb'];
                }

                if (isset($data['cotec']) &&
                    !empty($data['cotec'])) {
                    $DBL =
                        $data['cotec'];
                }

                $calibre = "";

                if (isset($data['calibre']) &&
                    !empty($data['calibre'])) {
                    if ($data['calibre'] ==
                        1) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">25302553257525982612261726202620261726122606260025842567255025272494246024272385234022952254222621982170214521262107209120972103210921142120212621402165219022152257230323482394244224902538257526092643267326892705271027052688267226552640262626122600260326062609261226152618262626432660267726892700271227202708268626642633258825432498244823962345230022692238220721842164214421302128212721252124212221212128214221562170219622222247227022902309232923362342234823482346234323402347235523642374239124082424244824762504</binaries>
						  </tracerData>
					   </shape>';
                    }
                    if ($data['calibre'] ==
                        2) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">25612589261726452668268527022719271527072698269026732656263926252614260225912580256925582548254325372531253025302530253025302530253025332535253825422548255325592569258025912603261726312645266326832703272227362750276027572739272227052690267626622650264826472645264426422641264326522661266926802691270327112714271727182707270226962691268026692657264526312617260325912580256925582551254325352529252625232519251425082502249824962493249024872484248224772472246624602459245724562454245324512451246024682477249325152537</binaries>
						  </tracerData>
					   </shape>';
                    }

                    if ($data['calibre'] ==
                        3) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">26002662272427862860295030403130319332533312335833813379336033243268321231563099304329872935289028452801276627352704267826712663265626492641263426352647265826692691271327362765280428432883292529673010304730693091311331203102308330653045302530062989298529802976297129672962296629802994300830253042305830723079308630863075306130463032300929842958292928902850281127692725268226382582252324632418238223462309228122532224220021812161214121402140214021402140214021432157217121852206223122572283232323632402244724972546</binaries>
						  </tracerData>
					   </shape>';
                    }

                    if ($data['calibre'] ==
                        4) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">26682714276028062857291429713028304430353007297629032829275526902634257825222479243723952360233423092284227522692263225722522246224022522263227422912317234223672410245424992548260726662725279428672941300930563103314931303093305730202978293328882845281427832752272426992673264926322615259825812564254725302519250824972484247024562441242524082391237423572340232423102298228522732263225322442239223822362235223322322230223522412247225322582263226822762285229323032317233123452362238224022422245324842515255025882627</binaries>
						  </tracerData>
					   </shape>';
                    }

                    if ($data['calibre'] ==
                        5) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">24502446244124352427240523822360233122972262222821922155211920852054202319921964193619081885187118571843183218221812180218041809181318181823182718361850186418781904193219591987201620442072210421382171220622432280231723392360238124012413242624382443244724502450244924462443243924252411239723782355233223102279224822172183214721102074204020061972194219201897187518591845183118201818181718151814181218111816182918411855187118881904192719531978200420342064209521262160219422282260229123222352237223922411242624362447</binaries>
						  </tracerData>
					   </shape>';
                    }

                    if ($data['calibre'] ==
                        6) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">24772526257426232682275328242895295230083065310330983060302129602872278426952623255224812420237223242277224822222197217921762173217021672164216121742196221822412283232523672415247125272584264427052767281928502881291229122893287328532829280427792759275327472741273527292723272627402754276827822796281028202806278227572724267326232572251924662413236323302296226322362214219121702167216421612158215521522153216521762188219922102221223122372243224822592258225622552253225222502256226422722282230123212341236924032438</binaries>
						  </tracerData>
					   </shape>';
                    }

                    if ($data['calibre'] ==
                        7) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">23722403243324642498253425712607262026302639261925742529248424292363229622292173211920652016197719381898187418551835182018221823182518261828182918401859187918981933196920062048210221562210227223362400245824942530256725772566255425432528251124942480247824772475247424722471247524862497250825192530254025402507247424402395233022662201215021022054200619691934190018761856183618201818181718151814181218111817183418501867189319221950198120172054209121132130214721612167217321782186219422032213223222522271229423192345</binaries>
						  </tracerData>
					   </shape>';
                    }

                    if ($data['calibre'] ==
                        8) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>TBLNAT</tracerVersion>
							 <binaries format="NIDEK">24942532257026092654270727612814283728082770273126782624257125212476243123862351231722832254223422152195219021902190219021902190219022012213222422342242225122592273228723012320235123822413244624802514254425642584260326162624263326412649265826662670266726602653264226292616260325972592258725832578257325732583259225982579255425292503246624272387235323312309228622692253223822222219221722162214221222112213221922252231223322362238224022402240224222452249225122532255225722592270228422982313233223512371239624282460</binaries>
						  </tracerData>
					   </shape>';
                    }

                    if ($data['calibre'] ==
                        9) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3133382E3139303B3133382E3139300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35322E30363B35322E30360D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323530393B323531333B323531363B323531393B323532323B323532363B323533303B323533333B323533373B323534310D0A523D323534353B323534383B323535323B323535373B323536313B323536353B323537303B323537343B323537393B323538340D0A523D323538383B323539333B323539383B323630333B323630383B323631333B323631383B323632323B323632373B323633320D0A523D323633383B323634333B323634383B323635333B323635383B323636333B323636383B323637323B323637383B323638330D0A523D323638373B323639323B323639363B323639393B323730323B323730343B323730353B323730353B323730333B323730300D0A523D323639353B323639303B323638333B323637363B323636383B323635393B323635303B323634303B323633303B323632300D0A523D323630393B323539383B323538373B323537363B323536343B323535333B323534323B323533303B323531393B323530370D0A523D323439363B323438343B323437323B323436313B323434393B323433383B323432363B323431353B323430333B323339330D0A523D323338323B323337313B323335393B323334393B323333383B323332383B323331373B323330373B323239363B323238360D0A523D323237353B323236353B323235353B323234353B323233363B323232363B323231363B323230363B323139373B323138380D0A523D323137383B323136383B323135393B323135303B323134323B323133323B323132333B323131353B323130363B323039380D0A523D323039303B323038323B323037333B323036353B323035373B323035303B323034323B323033343B323032373B323031390D0A523D323031323B323030353B313939383B313939303B313938343B313937373B313937303B313936333B313935363B313934390D0A523D313934333B313933373B313933303B313932343B313931383B313931333B313930363B313930303B313839353B313838390D0A523D313838343B313837383B313837323B313836373B313836323B313835363B313835313B313834353B313834303B313833350D0A523D313833313B313832363B313832323B313831373B313831323B313830383B313830333B313739393B313739353B313739300D0A523D313738363B313738323B313737373B313737333B313736393B313736353B313736313B313735373B313735343B313735300D0A523D313734373B313734333B313734303B313733373B313733333B313733303B313732373B313732343B313732313B313731380D0A523D313731353B313731323B313730393B313730373B313730343B313730313B313639393B313639363B313639343B313639310D0A523D313638393B313638373B313638343B313638323B313638303B313637383B313637363B313637343B313637313B313636390D0A523D313636373B313636353B313636333B313636313B313636303B313635383B313635373B313635353B313635343B313635320D0A523D313635303B313634393B313634373B313634363B313634353B313634343B313634333B313634323B313634303B313633390D0A523D313633383B313633373B313633363B313633363B313633353B313633343B313633333B313633333B313633323B313633310D0A523D313633303B313633303B313632393B313632393B313632383B313632383B313632373B313632373B313632373B313632370D0A523D313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632360D0A523D313632363B313632363B313632363B313632373B313632373B313632373B313632373B313632383B313632383B313632390D0A523D313632393B313632393B313632393B313633303B313633313B313633323B313633323B313633333B313633343B313633350D0A523D313633353B313633373B313633383B313633393B313634303B313634313B313634323B313634333B313634353B313634360D0A523D313634373B313634393B313635303B313635323B313635333B313635353B313635363B313635383B313635393B313636310D0A523D313636333B313636353B313636373B313636383B313637303B313637323B313637343B313637363B313637383B313638300D0A523D313638323B313638353B313638373B313639303B313639323B313639353B313639373B313730303B313730323B313730340D0A523D313730373B313730393B313731313B313731343B313731373B313732303B313732333B313732363B313732393B313733320D0A523D313733363B313733393B313734323B313734353B313734383B313735323B313735353B313735393B313736333B313736370D0A523D313737303B313737333B313737363B313737393B313738333B313738373B313739303B313739353B313739393B313830340D0A523D313830383B313831323B313831373B313832323B313832363B313833313B313833353B313834303B313834353B313835300D0A523D313835353B313836303B313836353B313837313B313837373B313838333B313838393B313839353B313930323B313930380D0A523D313931343B313931393B313932353B313933313B313933373B313934343B313935303B313935373B313936333B313937300D0A523D313937373B313938333B313939303B313939383B323030353B323031323B323031393B323032363B323033343B323034320D0A523D323034393B323035373B323036353B323037333B323038313B323038393B323039363B323130343B323131333B323132320D0A523D323133303B323133383B323134373B323135363B323136343B323137333B323138333B323139313B323230303B323230390D0A523D323231383B323232383B323233383B323234383B323235383B323236383B323237383B323238393B323239393B323330390D0A523D323331393B323333303B323334313B323335323B323336323B323337333B323338343B323339353B323430363B323431370D0A523D323432383B323433393B323435303B323436323B323437343B323438363B323439393B323531303B323532323B323533340D0A523D323534363B323535373B323536393B323538303B323539313B323630323B323631333B323632343B323633353B323634340D0A523D323635323B323636313B323636383B323637343B323637383B323638323B323638353B323638373B323638393B323639310D0A523D323639323B323639333B323639333B323639323B323639303B323638383B323638353B323638323B323637393B323637360D0A523D323637333B323637303B323636373B323636353B323636333B323636313B323635383B323635353B323635333B323635300D0A523D323634383B323634353B323634333B323634313B323633383B323633353B323633323B323633303B323632373B323632350D0A523D323632323B323632303B323631373B323631353B323631333B323631313B323631303B323630373B323630353B323630330D0A523D323630303B323539383B323539363B323539353B323539333B323539313B323538383B323538363B323538343B323538330D0A523D323538313B323538303B323538303B323537393B323537383B323537373B323537373B323537363B323537353B323537340D0A523D323537333B323537323B323537323B323537313B323537313B323537303B323537303B323536393B323536393B323536380D0A523D323536373B323536363B323536363B323536353B323536343B323536333B323536313B323536303B323535383B323535360D0A523D323535343B323535323B323534393B323534373B323534353B323534313B323533373B323533333B323532373B323532310D0A523D323531353B323530383B323530313B323439343B323438363B323437383B323437313B323436343B323435363B323434380D0A523D323433393B323433313B323432323B323431343B323430353B323339363B323338383B323338303B323337313B323336320D0A523D323335343B323334353B323333363B323332383B323331393B323331303B323330313B323239323B323238323B323237330D0A523D323236353B323235363B323234373B323233383B323232393B323231393B323231303B323230303B323138393B323138300D0A523D323137323B323136333B323135353B323134373B323133393B323133303B323132303B323131323B323130333B323039350D0A523D323038373B323037393B323037323B323036343B323035373B323034393B323034323B323033353B323032383B323032310D0A523D323031343B323030373B323030303B313939343B313938383B313938323B313937363B313937303B313936343B313935380D0A523D313935323B313934363B313934303B313933353B313932393B313932333B313931383B313931323B313930373B313930320D0A523D313839373B313839313B313838363B313838313B313837363B313837313B313836363B313836323B313835373B313835330D0A523D313834383B313834333B313833383B313833333B313832393B313832353B313832313B313831373B313831333B313830390D0A523D313830353B313830303B313739363B313739323B313738393B313738353B313738313B313737373B313737343B313737300D0A523D313736363B313736333B313735393B313735363B313735323B313734393B313734363B313734333B313734303B313733370D0A523D313733333B313733303B313732373B313732353B313732323B313732303B313731373B313731353B313731333B313731300D0A523D313730383B313730353B313730333B313730313B313639393B313639373B313639343B313639323B313638393B313638370D0A523D313638363B313638343B313638323B313638303B313637383B313637363B313637343B313637333B313637313B313637300D0A523D313636383B313636373B313636353B313636343B313636323B313636303B313635393B313635373B313635363B313635340D0A523D313635333B313635323B313635313B313635303B313634393B313634383B313634373B313634363B313634353B313634340D0A523D313634333B313634323B313634313B313634313B313634303B313633393B313633383B313633383B313633373B313633360D0A523D313633353B313633353B313633343B313633343B313633333B313633333B313633323B313633323B313633313B313633310D0A523D313633303B313633303B313632393B313632393B313632383B313632383B313632383B313632383B313632373B313632370D0A523D313632373B313632373B313632373B313632373B313632363B313632363B313632363B313632363B313632363B313632360D0A523D313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632370D0A523D313632373B313632373B313632373B313632383B313632383B313632393B313632393B313633303B313633303B313633310D0A523D313633313B313633323B313633323B313633333B313633343B313633353B313633363B313633373B313633373B313633380D0A523D313633393B313634303B313634313B313634323B313634333B313634353B313634363B313634373B313634383B313634390D0A523D313635303B313635323B313635343B313635353B313635363B313635373B313635393B313636303B313636323B313636330D0A523D313636353B313636363B313636383B313637313B313637333B313637353B313637373B313637393B313638303B313638320D0A523D313638343B313638363B313638393B313639313B313639333B313639353B313639373B313730303B313730323B313730350D0A523D313730373B313731303B313731333B313731363B313731383B313732313B313732343B313732383B313733313B313733340D0A523D313733373B313734303B313734333B313734363B313735303B313735333B313735363B313736303B313736333B313736370D0A523D313737313B313737343B313737383B313738313B313738353B313738393B313739333B313739373B313830313B313830360D0A523D313831303B313831343B313831383B313832323B313832363B313833313B313833353B313833393B313834343B313834380D0A523D313835333B313835373B313836323B313836383B313837333B313837383B313838333B313838373B313839323B313839370D0A523D313930323B313930383B313931333B313931393B313932343B313932393B313933353B313934303B313934363B313935320D0A523D313935373B313936333B313936393B313937353B313938313B313938373B313939343B323030303B323030363B323031320D0A523D323031393B323032353B323033323B323033393B323034363B323035333B323036313B323036383B323037353B323038320D0A523D323038393B323039363B323130343B323131313B323131393B323132363B323133333B323134313B323134383B323135360D0A523D323136343B323137313B323137393B323138373B323139353B323230323B323231303B323231383B323232353B323233330D0A523D323234313B323234383B323235363B323236333B323237303B323237373B323238343B323239313B323239383B323330340D0A523D323331303B323331363B323332323B323332383B323333333B323333383B323334333B323334383B323335323B323335350D0A523D323335393B323336333B323336363B323337303B323337333B323337363B323337393B323338313B323338343B323338360D0A523D323338383B323339313B323339333B323339353B323339373B323339393B323430313B323430333B323430343B323430360D0A523D323430383B323431303B323431323B323431333B323431353B323431373B323431393B323432313B323432333B323432360D0A523D323432383B323433303B323433323B323433343B323433363B323433383B323434313B323434333B323434353B323434370D0A523D323435303B323435323B323435353B323435373B323436303B323436333B323436363B323436393B323437323B323437350D0A523D323437383B323438313B323438343B323438373B323439313B323439343B323439373B323530303B323530333B323530360D0A545243464D543D313B313030303B453B4C3B460D0A523D323538313B323538333B323538343B323538363B323538383B323539313B323539333B323539353B323539363B323539380D0A523D323630303B323630333B323630353B323630373B323631303B323631313B323631333B323631353B323631373B323632300D0A523D323632323B323632353B323632373B323633303B323633323B323633353B323633383B323634313B323634333B323634350D0A523D323634383B323635303B323635333B323635353B323635383B323636313B323636333B323636353B323636373B323637300D0A523D323637333B323637363B323637393B323638323B323638353B323638383B323639303B323639323B323639333B323639330D0A523D323639323B323639313B323638393B323638373B323638353B323638323B323637383B323637343B323636383B323636310D0A523D323635323B323634343B323633353B323632343B323631333B323630323B323539313B323538303B323536393B323535370D0A523D323534363B323533343B323532323B323531303B323439393B323438363B323437343B323436323B323435303B323433390D0A523D323432383B323431373B323430363B323339353B323338343B323337333B323336323B323335323B323334313B323333300D0A523D323331393B323330393B323239393B323238393B323237383B323236383B323235383B323234383B323233383B323232380D0A523D323231383B323230393B323230303B323139313B323138333B323137333B323136343B323135363B323134373B323133380D0A523D323133303B323132323B323131333B323130343B323039363B323038393B323038313B323037333B323036353B323035370D0A523D323034393B323034323B323033343B323032363B323031393B323031323B323030353B313939383B313939303B313938330D0A523D313937373B313937303B313936333B313935373B313935303B313934343B313933373B313933313B313932353B313931390D0A523D313931343B313930383B313930323B313839353B313838393B313838333B313837373B313837313B313836353B313836300D0A523D313835353B313835303B313834353B313834303B313833353B313833313B313832363B313832323B313831373B313831320D0A523D313830383B313830343B313739393B313739353B313739303B313738373B313738333B313737393B313737363B313737330D0A523D313737303B313736373B313736333B313735393B313735353B313735323B313734383B313734353B313734323B313733390D0A523D313733363B313733323B313732393B313732363B313732333B313732303B313731373B313731343B313731313B313730390D0A523D313730373B313730343B313730323B313730303B313639373B313639353B313639323B313639303B313638373B313638350D0A523D313638323B313638303B313637383B313637363B313637343B313637323B313637303B313636383B313636373B313636350D0A523D313636333B313636313B313635393B313635383B313635363B313635353B313635333B313635323B313635303B313634390D0A523D313634373B313634363B313634353B313634333B313634323B313634313B313634303B313633393B313633383B313633370D0A523D313633353B313633353B313633343B313633333B313633323B313633323B313633313B313633303B313632393B313632390D0A523D313632393B313632393B313632383B313632383B313632373B313632373B313632373B313632373B313632363B313632360D0A523D313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632360D0A523D313632363B313632373B313632373B313632373B313632373B313632383B313632383B313632393B313632393B313633300D0A523D313633303B313633313B313633323B313633333B313633333B313633343B313633353B313633363B313633363B313633370D0A523D313633383B313633393B313634303B313634323B313634333B313634343B313634353B313634363B313634373B313634390D0A523D313635303B313635323B313635343B313635353B313635373B313635383B313636303B313636313B313636333B313636350D0A523D313636373B313636393B313637313B313637343B313637363B313637383B313638303B313638323B313638343B313638370D0A523D313638393B313639313B313639343B313639363B313639393B313730313B313730343B313730373B313730393B313731320D0A523D313731353B313731383B313732313B313732343B313732373B313733303B313733333B313733373B313734303B313734330D0A523D313734373B313735303B313735343B313735373B313736313B313736353B313736393B313737333B313737373B313738320D0A523D313738363B313739303B313739353B313739393B313830333B313830383B313831323B313831373B313832323B313832360D0A523D313833313B313833353B313834303B313834353B313835313B313835363B313836323B313836373B313837323B313837380D0A523D313838343B313838393B313839353B313930303B313930363B313931333B313931383B313932343B313933303B313933370D0A523D313934333B313934393B313935363B313936333B313937303B313937373B313938343B313939303B313939383B323030350D0A523D323031323B323031393B323032373B323033343B323034323B323035303B323035373B323036353B323037333B323038320D0A523D323039303B323039383B323130363B323131353B323132333B323133323B323134323B323135303B323135393B323136380D0A523D323137383B323138383B323139373B323230363B323231363B323232363B323233363B323234353B323235353B323236350D0A523D323237353B323238363B323239363B323330373B323331373B323332383B323333383B323334393B323335393B323337310D0A523D323338323B323339333B323430333B323431353B323432363B323433383B323434393B323436313B323437323B323438340D0A523D323439363B323530373B323531393B323533303B323534323B323535333B323536343B323537363B323538373B323539380D0A523D323630393B323632303B323633303B323634303B323635303B323635393B323636383B323637363B323638333B323639300D0A523D323639353B323730303B323730333B323730353B323730353B323730343B323730323B323639393B323639363B323639320D0A523D323638373B323638333B323637383B323637323B323636383B323636333B323635383B323635333B323634383B323634330D0A523D323633383B323633323B323632373B323632323B323631383B323631333B323630383B323630333B323539383B323539330D0A523D323538383B323538343B323537393B323537343B323537303B323536353B323536313B323535373B323535323B323534380D0A523D323534353B323534313B323533373B323533333B323533303B323532363B323532323B323531393B323531363B323531330D0A523D323530393B323530363B323530333B323530303B323439373B323439343B323439313B323438373B323438343B323438310D0A523D323437383B323437353B323437323B323436393B323436363B323436333B323436303B323435373B323435353B323435320D0A523D323435303B323434373B323434353B323434333B323434313B323433383B323433363B323433343B323433323B323433300D0A523D323432383B323432363B323432333B323432313B323431393B323431373B323431353B323431333B323431323B323431300D0A523D323430383B323430363B323430343B323430333B323430313B323339393B323339373B323339353B323339333B323339310D0A523D323338383B323338363B323338343B323338313B323337393B323337363B323337333B323337303B323336363B323336330D0A523D323335393B323335353B323335323B323334383B323334333B323333383B323333333B323332383B323332323B323331360D0A523D323331303B323330343B323239383B323239313B323238343B323237373B323237303B323236333B323235363B323234380D0A523D323234313B323233333B323232353B323231383B323231303B323230323B323139353B323138373B323137393B323137310D0A523D323136343B323135363B323134383B323134313B323133333B323132363B323131393B323131313B323130343B323039360D0A523D323038393B323038323B323037353B323036383B323036313B323035333B323034363B323033393B323033323B323032350D0A523D323031393B323031323B323030363B323030303B313939343B313938373B313938313B313937353B313936393B313936330D0A523D313935373B313935323B313934363B313934303B313933353B313932393B313932343B313931393B313931333B313930380D0A523D313930323B313839373B313839323B313838373B313838333B313837383B313837333B313836383B313836323B313835370D0A523D313835333B313834383B313834343B313833393B313833353B313833313B313832363B313832323B313831383B313831340D0A523D313831303B313830363B313830313B313739373B313739333B313738393B313738353B313738313B313737383B313737340D0A523D313737313B313736373B313736333B313736303B313735363B313735333B313735303B313734363B313734333B313734300D0A523D313733373B313733343B313733313B313732383B313732343B313732313B313731383B313731363B313731333B313731300D0A523D313730373B313730353B313730323B313730303B313639373B313639353B313639333B313639313B313638393B313638360D0A523D313638343B313638323B313638303B313637393B313637373B313637353B313637333B313637313B313636383B313636360D0A523D313636353B313636333B313636323B313636303B313635393B313635373B313635363B313635353B313635343B313635320D0A523D313635303B313634393B313634383B313634373B313634363B313634353B313634333B313634323B313634313B313634300D0A523D313633393B313633383B313633373B313633373B313633363B313633353B313633343B313633333B313633323B313633320D0A523D313633313B313633313B313633303B313633303B313632393B313632393B313632383B313632383B313632373B313632370D0A523D313632373B313632373B313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632360D0A523D313632363B313632363B313632363B313632363B313632363B313632363B313632363B313632373B313632373B313632370D0A523D313632373B313632373B313632373B313632383B313632383B313632383B313632383B313632393B313632393B313633300D0A523D313633303B313633313B313633313B313633323B313633323B313633333B313633333B313633343B313633343B313633350D0A523D313633353B313633363B313633373B313633383B313633383B313633393B313634303B313634313B313634313B313634320D0A523D313634333B313634343B313634353B313634363B313634373B313634383B313634393B313635303B313635313B313635320D0A523D313635333B313635343B313635363B313635373B313635393B313636303B313636323B313636343B313636353B313636370D0A523D313636383B313637303B313637313B313637333B313637343B313637363B313637383B313638303B313638323B313638340D0A523D313638363B313638373B313638393B313639323B313639343B313639373B313639393B313730313B313730333B313730350D0A523D313730383B313731303B313731333B313731353B313731373B313732303B313732323B313732353B313732373B313733300D0A523D313733333B313733373B313734303B313734333B313734363B313734393B313735323B313735363B313735393B313736330D0A523D313736363B313737303B313737343B313737373B313738313B313738353B313738393B313739323B313739363B313830300D0A523D313830353B313830393B313831333B313831373B313832313B313832353B313832393B313833333B313833383B313834330D0A523D313834383B313835333B313835373B313836323B313836363B313837313B313837363B313838313B313838363B313839310D0A523D313839373B313930323B313930373B313931323B313931383B313932333B313932393B313933353B313934303B313934360D0A523D313935323B313935383B313936343B313937303B313937363B313938323B313938383B313939343B323030303B323030370D0A523D323031343B323032313B323032383B323033353B323034323B323034393B323035373B323036343B323037323B323037390D0A523D323038373B323039353B323130333B323131323B323132303B323133303B323133393B323134373B323135353B323136330D0A523D323137323B323138303B323138393B323230303B323231303B323231393B323232393B323233383B323234373B323235360D0A523D323236353B323237333B323238323B323239323B323330313B323331303B323331393B323332383B323333363B323334350D0A523D323335343B323336323B323337313B323338303B323338383B323339363B323430353B323431343B323432323B323433310D0A523D323433393B323434383B323435363B323436343B323437313B323437383B323438363B323439343B323530313B323530380D0A523D323531353B323532313B323532373B323533333B323533373B323534313B323534353B323534373B323534393B323535320D0A523D323535343B323535363B323535383B323536303B323536313B323536333B323536343B323536353B323536363B323536360D0A523D323536373B323536383B323536393B323536393B323537303B323537303B323537313B323537313B323537323B323537320D0A523D323537333B323537343B323537353B323537363B323537373B323537373B323537383B323537393B323538303B323538300D0A56424F583D33322E35323B33322E35320D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35342E30393B35342E30390D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                    }

                    if ($data['calibre'] ==
                        10) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3133362E3730303B3133362E3730300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D34392E31323B34392E31320D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323335353B323335383B323336313B323336343B323336373B323337303B323337343B323337373B323338313B323338340D0A523D323338383B323339323B323339363B323430303B323430343B323430383B323431333B323431373B323432313B323432360D0A523D323433303B323433353B323433393B323434343B323434393B323435333B323435383B323436333B323436393B323437340D0A523D323438303B323438353B323438393B323439343B323439393B323530343B323530393B323531343B323532303B323532350D0A523D323533303B323533363B323534313B323534363B323535313B323535363B323536323B323536373B323537323B323537370D0A523D323538333B323538383B323539333B323539383B323630333B323630383B323631333B323631383B323632323B323632370D0A523D323633313B323633343B323633373B323634303B323634313B323634313B323634303B323633373B323633333B323632350D0A523D323631373B323630363B323539353B323538313B323536373B323535323B323533363B323531393B323530333B323438350D0A523D323436373B323435303B323433333B323431353B323339373B323337393B323336323B323334353B323332383B323331310D0A523D323239343B323237383B323236323B323234353B323232393B323231333B323139383B323138333B323136383B323135330D0A523D323133383B323132343B323131303B323039353B323038313B323036373B323035343B323034313B323032383B323031360D0A523D323030333B313939313B313937393B313936363B313935353B313934343B313933323B313932313B313931313B313930300D0A523D313839303B313837393B313836393B313835393B313835303B313834303B313833313B313832323B313831323B313830330D0A523D313739343B313738363B313737383B313736393B313736313B313735333B313734353B313733373B313732393B313732310D0A523D313731343B313730363B313639393B313639323B313638363B313637393B313637313B313636353B313635383B313635310D0A523D313634353B313633383B313633323B313632363B313632303B313631343B313630383B313630333B313539373B313539320D0A523D313538363B313538313B313537363B313537303B313536353B313536303B313535353B313535303B313534363B313534310D0A523D313533373B313533323B313532373B313532333B313531393B313531353B313531313B313530373B313530333B313439390D0A523D313439363B313439323B313438393B313438353B313438323B313437383B313437353B313437323B313436383B313436350D0A523D313436323B313435383B313435353B313435333B313435303B313434373B313434343B313434323B313433393B313433370D0A523D313433343B313433313B313432393B313432363B313432343B313432323B313432303B313431383B313431363B313431340D0A523D313431323B313431303B313430383B313430373B313430353B313430343B313430323B313430303B313339383B313339370D0A523D313339353B313339343B313339333B313339323B313339313B313338393B313338383B313338373B313338363B313338350D0A523D313338343B313338333B313338323B313338313B313338303B313338303B313337393B313337383B313337373B313337370D0A523D313337373B313337373B313337363B313337363B313337353B313337353B313337343B313337343B313337343B313337340D0A523D313337343B313337343B313337343B313337343B313337343B313337353B313337353B313337363B313337363B313337370D0A523D313337373B313337383B313337383B313337393B313337393B313338303B313338313B313338323B313338333B313338340D0A523D313338353B313338373B313338383B313338393B313339303B313339313B313339323B313339333B313339353B313339360D0A523D313339373B313339393B313430303B313430323B313430333B313430353B313430363B313430383B313431303B313431320D0A523D313431343B313431363B313431383B313432303B313432323B313432343B313432373B313432393B313433313B313433330D0A523D313433363B313433393B313434313B313434343B313434363B313434393B313435313B313435343B313435363B313435390D0A523D313436323B313436363B313436393B313437333B313437373B313438313B313438343B313438373B313439313B313439350D0A523D313439393B313530333B313530373B313531313B313531343B313531373B313532303B313532343B313532383B313533320D0A523D313533373B313534313B313534363B313535303B313535353B313536303B313536353B313537303B313537363B313538310D0A523D313538373B313539323B313539373B313630333B313631303B313631363B313632323B313632383B313633343B313634310D0A523D313634373B313635343B313636303B313636373B313637333B313638303B313638373B313639343B313730313B313730380D0A523D313731343B313732323B313732393B313733373B313734343B313735313B313735393B313736373B313737343B313738320D0A523D313739303B313739383B313830373B313831363B313832353B313833343B313834343B313835333B313836333B313837330D0A523D313838333B313839323B313930333B313931333B313932343B313933363B313934363B313935373B313936383B313938300D0A523D313939323B323030333B323031353B323032373B323034303B323035333B323036363B323037393B323039313B323130340D0A523D323131383B323133313B323134343B323135383B323137323B323138363B323230303B323231343B323232393B323234330D0A523D323235383B323237333B323238373B323330333B323331383B323333333B323334393B323336343B323337393B323339350D0A523D323431313B323432373B323434333B323435393B323437353B323439323B323530393B323532353B323534313B323535360D0A523D323537303B323538333B323539343B323630343B323631313B323631353B323631383B323631393B323631393B323631370D0A523D323631343B323631303B323630373B323630333B323539393B323539343B323539303B323538363B323538313B323537360D0A523D323537313B323536363B323536323B323535383B323535343B323535303B323534363B323534323B323533393B323533350D0A523D323533313B323532383B323532353B323532333B323531383B323531353B323531313B323530383B323530353B323530320D0A523D323530303B323439373B323439333B323439303B323438363B323438333B323438303B323437373B323437353B323437330D0A523D323437323B323437303B323436383B323436363B323436343B323436323B323436303B323435383B323435363B323435350D0A523D323435323B323435313B323434393B323434383B323434373B323434363B323434343B323434333B323434323B323434310D0A523D323434303B323433393B323433383B323433373B323433373B323433363B323433363B323433363B323433363B323433350D0A523D323433353B323433353B323433353B323433353B323433353B323433363B323433363B323433373B323433373B323433380D0A523D323433393B323434313B323434323B323434333B323434343B323434353B323434363B323434373B323434393B323435300D0A523D323435313B323435333B323435343B323435363B323435383B323436303B323436313B323436333B323436353B323436370D0A523D323436393B323437313B323437343B323437363B323437393B323438313B323438343B323438373B323439303B323439340D0A523D323439373B323530303B323530333B323530373B323531303B323531333B323531363B323531393B323532333B323532360D0A523D323533303B323533333B323533363B323533393B323534323B323534343B323534373B323534393B323535303B323535310D0A523D323535313B323534373B323534313B323533323B323532303B323530373B323439323B323437383B323436333B323434370D0A523D323433313B323431343B323339383B323338303B323336333B323334363B323332393B323331323B323239353B323237390D0A523D323236333B323234373B323233313B323231363B323230303B323138353B323137303B323135353B323134303B323132350D0A523D323131303B323039363B323038323B323036393B323035363B323034333B323033303B323031373B323030353B313939320D0A523D313937393B313936363B313935343B313934313B313933303B313931393B313930383B313839373B313838373B313837360D0A523D313836363B313835363B313834353B313833353B313832343B313831343B313830353B313739373B313738383B313737390D0A523D313737303B313736323B313735343B313734353B313733373B313732393B313732323B313731343B313730363B313639390D0A523D313639313B313638353B313637383B313637313B313636353B313635383B313635313B313634353B313633383B313633310D0A523D313632353B313631383B313631323B313630363B313630313B313539353B313538393B313538343B313537383B313537330D0A523D313536383B313536333B313535383B313535323B313534373B313534333B313533383B313533333B313532393B313532340D0A523D313532303B313531363B313531313B313530373B313530333B313439393B313439353B313439323B313438383B313438340D0A523D313438303B313437363B313437333B313436393B313436363B313436333B313436303B313435373B313435333B313435300D0A523D313434373B313434343B313434313B313433393B313433363B313433343B313433313B313432393B313432363B313432340D0A523D313432313B313431393B313431373B313431343B313431323B313431303B313430383B313430363B313430343B313430320D0A523D313430303B313339393B313339373B313339363B313339343B313339323B313339303B313338393B313338383B313338370D0A523D313338353B313338343B313338333B313338323B313338313B313338303B313337393B313337383B313337373B313337360D0A523D313337343B313337343B313337333B313337333B313337323B313337323B313337313B313337313B313337313B313337310D0A523D313337303B313337303B313336393B313336393B313336393B313336393B313336393B313336393B313336393B313336390D0A523D313337303B313337303B313337303B313337313B313337313B313337323B313337323B313337333B313337333B313337340D0A523D313337353B313337363B313337363B313337373B313337383B313337393B313337393B313338303B313338323B313338330D0A523D313338343B313338363B313338373B313338383B313339303B313339313B313339333B313339343B313339363B313339380D0A523D313339393B313430313B313430333B313430353B313430373B313430393B313431313B313431333B313431353B313431370D0A523D313431393B313432313B313432343B313432363B313432393B313433313B313433343B313433363B313433393B313434310D0A523D313434343B313434373B313435303B313435333B313435363B313435393B313436323B313436353B313436393B313437320D0A523D313437353B313437393B313438323B313438363B313438393B313439333B313439373B313530313B313530353B313530390D0A523D313531333B313531373B313532313B313532353B313533303B313533343B313533383B313534333B313534373B313535320D0A523D313535373B313536323B313536373B313537323B313537373B313538323B313538373B313539323B313539383B313630330D0A523D313630393B313631353B313632303B313632363B313633333B313633393B313634353B313635313B313635373B313636330D0A523D313637303B313637363B313638333B313639303B313639373B313730353B313731323B313731393B313732363B313733330D0A523D313734313B313734393B313735373B313736353B313737333B313738313B313738393B313739373B313830363B313831340D0A523D313832323B313833313B313833393B313834383B313835373B313836363B313837353B313838343B313839343B313930330D0A523D313931323B313932313B313933313B313934313B313935313B313936313B313937323B313938323B313939323B323030330D0A523D323031333B323032343B323033353B323034363B323035363B323036373B323037393B323039303B323130323B323131340D0A523D323132353B323133373B323134383B323135393B323137313B323138313B323139313B323230313B323231303B323231380D0A523D323232353B323233303B323233343B323233393B323234333B323234353B323234373B323234393B323235303B323235310D0A523D323235323B323235333B323235343B323235353B323235353B323235353B323235353B323235353B323235353B323235350D0A523D323235353B323235353B323235353B323235343B323235343B323235343B323235343B323235343B323235343B323235340D0A523D323235343B323235343B323235343B323235353B323235353B323235353B323235363B323235373B323235373B323235380D0A523D323235393B323236303B323236303B323236313B323236323B323236333B323236343B323236363B323236373B323236380D0A523D323237303B323237313B323237333B323237343B323237363B323237373B323237393B323238303B323238323B323238330D0A523D323238353B323238373B323238393B323239313B323239323B323239343B323239363B323239383B323330303B323330320D0A523D323330343B323330363B323330383B323331303B323331323B323331353B323331373B323332303B323332323B323332340D0A523D323332373B323332393B323333323B323333343B323333383B323334303B323334333B323334363B323334393B323335320D0A545243464D543D313B313030303B453B4C3B460D0A523D323434303B323434313B323434323B323434333B323434343B323434363B323434373B323434383B323434393B323435310D0A523D323435323B323435353B323435363B323435383B323436303B323436323B323436343B323436363B323436383B323437300D0A523D323437323B323437333B323437353B323437373B323438303B323438333B323438363B323439303B323439333B323439370D0A523D323530303B323530323B323530353B323530383B323531313B323531353B323531383B323532333B323532353B323532380D0A523D323533313B323533353B323533393B323534323B323534363B323535303B323535343B323535383B323536323B323536360D0A523D323537313B323537363B323538313B323538363B323539303B323539343B323539393B323630333B323630373B323631300D0A523D323631343B323631373B323631393B323631393B323631383B323631353B323631313B323630343B323539343B323538330D0A523D323537303B323535363B323534313B323532353B323530393B323439323B323437353B323435393B323434333B323432370D0A523D323431313B323339353B323337393B323336343B323334393B323333333B323331383B323330333B323238373B323237330D0A523D323235383B323234333B323232393B323231343B323230303B323138363B323137323B323135383B323134343B323133310D0A523D323131383B323130343B323039313B323037393B323036363B323035333B323034303B323032373B323031353B323030330D0A523D313939323B313938303B313936383B313935373B313934363B313933363B313932343B313931333B313930333B313839320D0A523D313838333B313837333B313836333B313835333B313834343B313833343B313832353B313831363B313830373B313739380D0A523D313739303B313738323B313737343B313736373B313735393B313735313B313734343B313733373B313732393B313732320D0A523D313731343B313730383B313730313B313639343B313638373B313638303B313637333B313636373B313636303B313635340D0A523D313634373B313634313B313633343B313632383B313632323B313631363B313631303B313630333B313539373B313539320D0A523D313538373B313538313B313537363B313537303B313536353B313536303B313535353B313535303B313534363B313534310D0A523D313533373B313533323B313532383B313532343B313532303B313531373B313531343B313531313B313530373B313530330D0A523D313439393B313439353B313439313B313438373B313438343B313438313B313437373B313437333B313436393B313436360D0A523D313436323B313435393B313435363B313435343B313435313B313434393B313434363B313434343B313434313B313433390D0A523D313433363B313433333B313433313B313432393B313432373B313432343B313432323B313432303B313431383B313431360D0A523D313431343B313431323B313431303B313430383B313430363B313430353B313430333B313430323B313430303B313339390D0A523D313339373B313339363B313339353B313339333B313339323B313339313B313339303B313338393B313338383B313338370D0A523D313338353B313338343B313338333B313338323B313338313B313338303B313337393B313337393B313337383B313337380D0A523D313337373B313337373B313337363B313337363B313337353B313337353B313337343B313337343B313337343B313337340D0A523D313337343B313337343B313337343B313337343B313337343B313337353B313337353B313337363B313337363B313337370D0A523D313337373B313337373B313337373B313337383B313337393B313338303B313338303B313338313B313338323B313338330D0A523D313338343B313338353B313338363B313338373B313338383B313338393B313339313B313339323B313339333B313339340D0A523D313339353B313339373B313339383B313430303B313430323B313430343B313430353B313430373B313430383B313431300D0A523D313431323B313431343B313431363B313431383B313432303B313432323B313432343B313432363B313432393B313433310D0A523D313433343B313433373B313433393B313434323B313434343B313434373B313435303B313435333B313435353B313435380D0A523D313436323B313436353B313436383B313437323B313437353B313437383B313438323B313438353B313438393B313439320D0A523D313439363B313439393B313530333B313530373B313531313B313531353B313531393B313532333B313532373B313533320D0A523D313533373B313534313B313534363B313535303B313535353B313536303B313536353B313537303B313537363B313538310D0A523D313538363B313539323B313539373B313630333B313630383B313631343B313632303B313632363B313633323B313633380D0A523D313634353B313635313B313635383B313636353B313637313B313637393B313638363B313639323B313639393B313730360D0A523D313731343B313732313B313732393B313733373B313734353B313735333B313736313B313736393B313737383B313738360D0A523D313739343B313830333B313831323B313832323B313833313B313834303B313835303B313835393B313836393B313837390D0A523D313839303B313930303B313931313B313932313B313933323B313934343B313935353B313936363B313937393B313939310D0A523D323030333B323031363B323032383B323034313B323035343B323036373B323038313B323039353B323131303B323132340D0A523D323133383B323135333B323136383B323138333B323139383B323231333B323232393B323234353B323236323B323237380D0A523D323239343B323331313B323332383B323334353B323336323B323337393B323339373B323431353B323433333B323435300D0A523D323436373B323438353B323530333B323531393B323533363B323535323B323536373B323538313B323539353B323630360D0A523D323631373B323632353B323633333B323633373B323634303B323634313B323634313B323634303B323633373B323633340D0A523D323633313B323632373B323632323B323631383B323631333B323630383B323630333B323539383B323539333B323538380D0A523D323538333B323537373B323537323B323536373B323536323B323535363B323535313B323534363B323534313B323533360D0A523D323533303B323532353B323532303B323531343B323530393B323530343B323439393B323439343B323438393B323438350D0A523D323438303B323437343B323436393B323436333B323435383B323435333B323434393B323434343B323433393B323433350D0A523D323433303B323432363B323432313B323431373B323431333B323430383B323430343B323430303B323339363B323339320D0A523D323338383B323338343B323338313B323337373B323337343B323337303B323336373B323336343B323336313B323335380D0A523D323335353B323335323B323334393B323334363B323334333B323334303B323333383B323333343B323333323B323332390D0A523D323332373B323332343B323332323B323332303B323331373B323331353B323331323B323331303B323330383B323330360D0A523D323330343B323330323B323330303B323239383B323239363B323239343B323239323B323239313B323238393B323238370D0A523D323238353B323238333B323238323B323238303B323237393B323237373B323237363B323237343B323237333B323237310D0A523D323237303B323236383B323236373B323236363B323236343B323236333B323236323B323236313B323236303B323236300D0A523D323235393B323235383B323235373B323235373B323235363B323235353B323235353B323235353B323235343B323235340D0A523D323235343B323235343B323235343B323235343B323235343B323235343B323235343B323235343B323235353B323235350D0A523D323235353B323235353B323235353B323235353B323235353B323235353B323235353B323235353B323235343B323235330D0A523D323235323B323235313B323235303B323234393B323234373B323234353B323234333B323233393B323233343B323233300D0A523D323232353B323231383B323231303B323230313B323139313B323138313B323137313B323135393B323134383B323133370D0A523D323132353B323131343B323130323B323039303B323037393B323036373B323035363B323034363B323033353B323032340D0A523D323031333B323030333B313939323B313938323B313937323B313936313B313935313B313934313B313933313B313932310D0A523D313931323B313930333B313839343B313838343B313837353B313836363B313835373B313834383B313833393B313833310D0A523D313832323B313831343B313830363B313739373B313738393B313738313B313737333B313736353B313735373B313734390D0A523D313734313B313733333B313732363B313731393B313731323B313730353B313639373B313639303B313638333B313637360D0A523D313637303B313636333B313635373B313635313B313634353B313633393B313633333B313632363B313632303B313631350D0A523D313630393B313630333B313539383B313539323B313538373B313538323B313537373B313537323B313536373B313536320D0A523D313535373B313535323B313534373B313534333B313533383B313533343B313533303B313532353B313532313B313531370D0A523D313531333B313530393B313530353B313530313B313439373B313439333B313438393B313438363B313438323B313437390D0A523D313437353B313437323B313436393B313436353B313436323B313435393B313435363B313435333B313435303B313434370D0A523D313434343B313434313B313433393B313433363B313433343B313433313B313432393B313432363B313432343B313432310D0A523D313431393B313431373B313431353B313431333B313431313B313430393B313430373B313430353B313430333B313430310D0A523D313339393B313339383B313339363B313339343B313339333B313339313B313339303B313338383B313338373B313338360D0A523D313338343B313338333B313338323B313338303B313337393B313337393B313337383B313337373B313337363B313337360D0A523D313337353B313337343B313337333B313337333B313337323B313337323B313337313B313337313B313337303B313337300D0A523D313337303B313336393B313336393B313336393B313336393B313336393B313336393B313336393B313336393B313337300D0A523D313337303B313337313B313337313B313337313B313337313B313337323B313337323B313337333B313337333B313337340D0A523D313337343B313337363B313337373B313337383B313337393B313338303B313338313B313338323B313338333B313338340D0A523D313338353B313338373B313338383B313338393B313339303B313339323B313339343B313339363B313339373B313339390D0A523D313430303B313430323B313430343B313430363B313430383B313431303B313431323B313431343B313431373B313431390D0A523D313432313B313432343B313432363B313432393B313433313B313433343B313433363B313433393B313434313B313434340D0A523D313434373B313435303B313435333B313435373B313436303B313436333B313436363B313436393B313437333B313437360D0A523D313438303B313438343B313438383B313439323B313439353B313439393B313530333B313530373B313531313B313531360D0A523D313532303B313532343B313532393B313533333B313533383B313534333B313534373B313535323B313535383B313536330D0A523D313536383B313537333B313537383B313538343B313538393B313539353B313630313B313630363B313631323B313631380D0A523D313632353B313633313B313633383B313634353B313635313B313635383B313636353B313637313B313637383B313638350D0A523D313639313B313639393B313730363B313731343B313732323B313732393B313733373B313734353B313735343B313736320D0A523D313737303B313737393B313738383B313739373B313830353B313831343B313832343B313833353B313834353B313835360D0A523D313836363B313837363B313838373B313839373B313930383B313931393B313933303B313934313B313935343B313936360D0A523D313937393B313939323B323030353B323031373B323033303B323034333B323035363B323036393B323038323B323039360D0A523D323131303B323132353B323134303B323135353B323137303B323138353B323230303B323231363B323233313B323234370D0A523D323236333B323237393B323239353B323331323B323332393B323334363B323336333B323338303B323339383B323431340D0A523D323433313B323434373B323436333B323437383B323439323B323530373B323532303B323533323B323534313B323534370D0A523D323535313B323535313B323535303B323534393B323534373B323534343B323534323B323533393B323533363B323533330D0A523D323533303B323532363B323532333B323531393B323531363B323531333B323531303B323530373B323530333B323530300D0A523D323439373B323439343B323439303B323438373B323438343B323438313B323437393B323437363B323437343B323437310D0A523D323436393B323436373B323436353B323436333B323436313B323436303B323435383B323435363B323435343B323435330D0A523D323435313B323435303B323434393B323434373B323434363B323434353B323434343B323434333B323434323B323434310D0A523D323433393B323433383B323433373B323433373B323433363B323433363B323433353B323433353B323433353B323433350D0A523D323433353B323433353B323433363B323433363B323433363B323433363B323433373B323433373B323433383B323433390D0A56424F583D32372E34393B32372E34390D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35322E38313B35322E38310D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                    }

                    if ($data['calibre'] ==
                        11) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3133362E3730303B3133362E3730300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D34392E31323B34392E31320D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323335353B323335383B323336313B323336343B323336373B323337303B323337343B323337373B323338313B323338340D0A523D323338383B323339323B323339363B323430303B323430343B323430383B323431333B323431373B323432313B323432360D0A523D323433303B323433353B323433393B323434343B323434393B323435333B323435383B323436333B323436393B323437340D0A523D323438303B323438353B323438393B323439343B323439393B323530343B323530393B323531343B323532303B323532350D0A523D323533303B323533363B323534313B323534363B323535313B323535363B323536323B323536373B323537323B323537370D0A523D323538333B323538383B323539333B323539383B323630333B323630383B323631333B323631383B323632323B323632370D0A523D323633313B323633343B323633373B323634303B323634313B323634313B323634303B323633373B323633333B323632350D0A523D323631373B323630363B323539353B323538313B323536373B323535323B323533363B323531393B323530333B323438350D0A523D323436373B323435303B323433333B323431353B323339373B323337393B323336323B323334353B323332383B323331310D0A523D323239343B323237383B323236323B323234353B323232393B323231333B323139383B323138333B323136383B323135330D0A523D323133383B323132343B323131303B323039353B323038313B323036373B323035343B323034313B323032383B323031360D0A523D323030333B313939313B313937393B313936363B313935353B313934343B313933323B313932313B313931313B313930300D0A523D313839303B313837393B313836393B313835393B313835303B313834303B313833313B313832323B313831323B313830330D0A523D313739343B313738363B313737383B313736393B313736313B313735333B313734353B313733373B313732393B313732310D0A523D313731343B313730363B313639393B313639323B313638363B313637393B313637313B313636353B313635383B313635310D0A523D313634353B313633383B313633323B313632363B313632303B313631343B313630383B313630333B313539373B313539320D0A523D313538363B313538313B313537363B313537303B313536353B313536303B313535353B313535303B313534363B313534310D0A523D313533373B313533323B313532373B313532333B313531393B313531353B313531313B313530373B313530333B313439390D0A523D313439363B313439323B313438393B313438353B313438323B313437383B313437353B313437323B313436383B313436350D0A523D313436323B313435383B313435353B313435333B313435303B313434373B313434343B313434323B313433393B313433370D0A523D313433343B313433313B313432393B313432363B313432343B313432323B313432303B313431383B313431363B313431340D0A523D313431323B313431303B313430383B313430373B313430353B313430343B313430323B313430303B313339383B313339370D0A523D313339353B313339343B313339333B313339323B313339313B313338393B313338383B313338373B313338363B313338350D0A523D313338343B313338333B313338323B313338313B313338303B313338303B313337393B313337383B313337373B313337370D0A523D313337373B313337373B313337363B313337363B313337353B313337353B313337343B313337343B313337343B313337340D0A523D313337343B313337343B313337343B313337343B313337343B313337353B313337353B313337363B313337363B313337370D0A523D313337373B313337383B313337383B313337393B313337393B313338303B313338313B313338323B313338333B313338340D0A523D313338353B313338373B313338383B313338393B313339303B313339313B313339323B313339333B313339353B313339360D0A523D313339373B313339393B313430303B313430323B313430333B313430353B313430363B313430383B313431303B313431320D0A523D313431343B313431363B313431383B313432303B313432323B313432343B313432373B313432393B313433313B313433330D0A523D313433363B313433393B313434313B313434343B313434363B313434393B313435313B313435343B313435363B313435390D0A523D313436323B313436363B313436393B313437333B313437373B313438313B313438343B313438373B313439313B313439350D0A523D313439393B313530333B313530373B313531313B313531343B313531373B313532303B313532343B313532383B313533320D0A523D313533373B313534313B313534363B313535303B313535353B313536303B313536353B313537303B313537363B313538310D0A523D313538373B313539323B313539373B313630333B313631303B313631363B313632323B313632383B313633343B313634310D0A523D313634373B313635343B313636303B313636373B313637333B313638303B313638373B313639343B313730313B313730380D0A523D313731343B313732323B313732393B313733373B313734343B313735313B313735393B313736373B313737343B313738320D0A523D313739303B313739383B313830373B313831363B313832353B313833343B313834343B313835333B313836333B313837330D0A523D313838333B313839323B313930333B313931333B313932343B313933363B313934363B313935373B313936383B313938300D0A523D313939323B323030333B323031353B323032373B323034303B323035333B323036363B323037393B323039313B323130340D0A523D323131383B323133313B323134343B323135383B323137323B323138363B323230303B323231343B323232393B323234330D0A523D323235383B323237333B323238373B323330333B323331383B323333333B323334393B323336343B323337393B323339350D0A523D323431313B323432373B323434333B323435393B323437353B323439323B323530393B323532353B323534313B323535360D0A523D323537303B323538333B323539343B323630343B323631313B323631353B323631383B323631393B323631393B323631370D0A523D323631343B323631303B323630373B323630333B323539393B323539343B323539303B323538363B323538313B323537360D0A523D323537313B323536363B323536323B323535383B323535343B323535303B323534363B323534323B323533393B323533350D0A523D323533313B323532383B323532353B323532333B323531383B323531353B323531313B323530383B323530353B323530320D0A523D323530303B323439373B323439333B323439303B323438363B323438333B323438303B323437373B323437353B323437330D0A523D323437323B323437303B323436383B323436363B323436343B323436323B323436303B323435383B323435363B323435350D0A523D323435323B323435313B323434393B323434383B323434373B323434363B323434343B323434333B323434323B323434310D0A523D323434303B323433393B323433383B323433373B323433373B323433363B323433363B323433363B323433363B323433350D0A523D323433353B323433353B323433353B323433353B323433353B323433363B323433363B323433373B323433373B323433380D0A523D323433393B323434313B323434323B323434333B323434343B323434353B323434363B323434373B323434393B323435300D0A523D323435313B323435333B323435343B323435363B323435383B323436303B323436313B323436333B323436353B323436370D0A523D323436393B323437313B323437343B323437363B323437393B323438313B323438343B323438373B323439303B323439340D0A523D323439373B323530303B323530333B323530373B323531303B323531333B323531363B323531393B323532333B323532360D0A523D323533303B323533333B323533363B323533393B323534323B323534343B323534373B323534393B323535303B323535310D0A523D323535313B323534373B323534313B323533323B323532303B323530373B323439323B323437383B323436333B323434370D0A523D323433313B323431343B323339383B323338303B323336333B323334363B323332393B323331323B323239353B323237390D0A523D323236333B323234373B323233313B323231363B323230303B323138353B323137303B323135353B323134303B323132350D0A523D323131303B323039363B323038323B323036393B323035363B323034333B323033303B323031373B323030353B313939320D0A523D313937393B313936363B313935343B313934313B313933303B313931393B313930383B313839373B313838373B313837360D0A523D313836363B313835363B313834353B313833353B313832343B313831343B313830353B313739373B313738383B313737390D0A523D313737303B313736323B313735343B313734353B313733373B313732393B313732323B313731343B313730363B313639390D0A523D313639313B313638353B313637383B313637313B313636353B313635383B313635313B313634353B313633383B313633310D0A523D313632353B313631383B313631323B313630363B313630313B313539353B313538393B313538343B313537383B313537330D0A523D313536383B313536333B313535383B313535323B313534373B313534333B313533383B313533333B313532393B313532340D0A523D313532303B313531363B313531313B313530373B313530333B313439393B313439353B313439323B313438383B313438340D0A523D313438303B313437363B313437333B313436393B313436363B313436333B313436303B313435373B313435333B313435300D0A523D313434373B313434343B313434313B313433393B313433363B313433343B313433313B313432393B313432363B313432340D0A523D313432313B313431393B313431373B313431343B313431323B313431303B313430383B313430363B313430343B313430320D0A523D313430303B313339393B313339373B313339363B313339343B313339323B313339303B313338393B313338383B313338370D0A523D313338353B313338343B313338333B313338323B313338313B313338303B313337393B313337383B313337373B313337360D0A523D313337343B313337343B313337333B313337333B313337323B313337323B313337313B313337313B313337313B313337310D0A523D313337303B313337303B313336393B313336393B313336393B313336393B313336393B313336393B313336393B313336390D0A523D313337303B313337303B313337303B313337313B313337313B313337323B313337323B313337333B313337333B313337340D0A523D313337353B313337363B313337363B313337373B313337383B313337393B313337393B313338303B313338323B313338330D0A523D313338343B313338363B313338373B313338383B313339303B313339313B313339333B313339343B313339363B313339380D0A523D313339393B313430313B313430333B313430353B313430373B313430393B313431313B313431333B313431353B313431370D0A523D313431393B313432313B313432343B313432363B313432393B313433313B313433343B313433363B313433393B313434310D0A523D313434343B313434373B313435303B313435333B313435363B313435393B313436323B313436353B313436393B313437320D0A523D313437353B313437393B313438323B313438363B313438393B313439333B313439373B313530313B313530353B313530390D0A523D313531333B313531373B313532313B313532353B313533303B313533343B313533383B313534333B313534373B313535320D0A523D313535373B313536323B313536373B313537323B313537373B313538323B313538373B313539323B313539383B313630330D0A523D313630393B313631353B313632303B313632363B313633333B313633393B313634353B313635313B313635373B313636330D0A523D313637303B313637363B313638333B313639303B313639373B313730353B313731323B313731393B313732363B313733330D0A523D313734313B313734393B313735373B313736353B313737333B313738313B313738393B313739373B313830363B313831340D0A523D313832323B313833313B313833393B313834383B313835373B313836363B313837353B313838343B313839343B313930330D0A523D313931323B313932313B313933313B313934313B313935313B313936313B313937323B313938323B313939323B323030330D0A523D323031333B323032343B323033353B323034363B323035363B323036373B323037393B323039303B323130323B323131340D0A523D323132353B323133373B323134383B323135393B323137313B323138313B323139313B323230313B323231303B323231380D0A523D323232353B323233303B323233343B323233393B323234333B323234353B323234373B323234393B323235303B323235310D0A523D323235323B323235333B323235343B323235353B323235353B323235353B323235353B323235353B323235353B323235350D0A523D323235353B323235353B323235353B323235343B323235343B323235343B323235343B323235343B323235343B323235340D0A523D323235343B323235343B323235343B323235353B323235353B323235353B323235363B323235373B323235373B323235380D0A523D323235393B323236303B323236303B323236313B323236323B323236333B323236343B323236363B323236373B323236380D0A523D323237303B323237313B323237333B323237343B323237363B323237373B323237393B323238303B323238323B323238330D0A523D323238353B323238373B323238393B323239313B323239323B323239343B323239363B323239383B323330303B323330320D0A523D323330343B323330363B323330383B323331303B323331323B323331353B323331373B323332303B323332323B323332340D0A523D323332373B323332393B323333323B323333343B323333383B323334303B323334333B323334363B323334393B323335320D0A545243464D543D313B313030303B453B4C3B460D0A523D323434303B323434313B323434323B323434333B323434343B323434363B323434373B323434383B323434393B323435310D0A523D323435323B323435353B323435363B323435383B323436303B323436323B323436343B323436363B323436383B323437300D0A523D323437323B323437333B323437353B323437373B323438303B323438333B323438363B323439303B323439333B323439370D0A523D323530303B323530323B323530353B323530383B323531313B323531353B323531383B323532333B323532353B323532380D0A523D323533313B323533353B323533393B323534323B323534363B323535303B323535343B323535383B323536323B323536360D0A523D323537313B323537363B323538313B323538363B323539303B323539343B323539393B323630333B323630373B323631300D0A523D323631343B323631373B323631393B323631393B323631383B323631353B323631313B323630343B323539343B323538330D0A523D323537303B323535363B323534313B323532353B323530393B323439323B323437353B323435393B323434333B323432370D0A523D323431313B323339353B323337393B323336343B323334393B323333333B323331383B323330333B323238373B323237330D0A523D323235383B323234333B323232393B323231343B323230303B323138363B323137323B323135383B323134343B323133310D0A523D323131383B323130343B323039313B323037393B323036363B323035333B323034303B323032373B323031353B323030330D0A523D313939323B313938303B313936383B313935373B313934363B313933363B313932343B313931333B313930333B313839320D0A523D313838333B313837333B313836333B313835333B313834343B313833343B313832353B313831363B313830373B313739380D0A523D313739303B313738323B313737343B313736373B313735393B313735313B313734343B313733373B313732393B313732320D0A523D313731343B313730383B313730313B313639343B313638373B313638303B313637333B313636373B313636303B313635340D0A523D313634373B313634313B313633343B313632383B313632323B313631363B313631303B313630333B313539373B313539320D0A523D313538373B313538313B313537363B313537303B313536353B313536303B313535353B313535303B313534363B313534310D0A523D313533373B313533323B313532383B313532343B313532303B313531373B313531343B313531313B313530373B313530330D0A523D313439393B313439353B313439313B313438373B313438343B313438313B313437373B313437333B313436393B313436360D0A523D313436323B313435393B313435363B313435343B313435313B313434393B313434363B313434343B313434313B313433390D0A523D313433363B313433333B313433313B313432393B313432373B313432343B313432323B313432303B313431383B313431360D0A523D313431343B313431323B313431303B313430383B313430363B313430353B313430333B313430323B313430303B313339390D0A523D313339373B313339363B313339353B313339333B313339323B313339313B313339303B313338393B313338383B313338370D0A523D313338353B313338343B313338333B313338323B313338313B313338303B313337393B313337393B313337383B313337380D0A523D313337373B313337373B313337363B313337363B313337353B313337353B313337343B313337343B313337343B313337340D0A523D313337343B313337343B313337343B313337343B313337343B313337353B313337353B313337363B313337363B313337370D0A523D313337373B313337373B313337373B313337383B313337393B313338303B313338303B313338313B313338323B313338330D0A523D313338343B313338353B313338363B313338373B313338383B313338393B313339313B313339323B313339333B313339340D0A523D313339353B313339373B313339383B313430303B313430323B313430343B313430353B313430373B313430383B313431300D0A523D313431323B313431343B313431363B313431383B313432303B313432323B313432343B313432363B313432393B313433310D0A523D313433343B313433373B313433393B313434323B313434343B313434373B313435303B313435333B313435353B313435380D0A523D313436323B313436353B313436383B313437323B313437353B313437383B313438323B313438353B313438393B313439320D0A523D313439363B313439393B313530333B313530373B313531313B313531353B313531393B313532333B313532373B313533320D0A523D313533373B313534313B313534363B313535303B313535353B313536303B313536353B313537303B313537363B313538310D0A523D313538363B313539323B313539373B313630333B313630383B313631343B313632303B313632363B313633323B313633380D0A523D313634353B313635313B313635383B313636353B313637313B313637393B313638363B313639323B313639393B313730360D0A523D313731343B313732313B313732393B313733373B313734353B313735333B313736313B313736393B313737383B313738360D0A523D313739343B313830333B313831323B313832323B313833313B313834303B313835303B313835393B313836393B313837390D0A523D313839303B313930303B313931313B313932313B313933323B313934343B313935353B313936363B313937393B313939310D0A523D323030333B323031363B323032383B323034313B323035343B323036373B323038313B323039353B323131303B323132340D0A523D323133383B323135333B323136383B323138333B323139383B323231333B323232393B323234353B323236323B323237380D0A523D323239343B323331313B323332383B323334353B323336323B323337393B323339373B323431353B323433333B323435300D0A523D323436373B323438353B323530333B323531393B323533363B323535323B323536373B323538313B323539353B323630360D0A523D323631373B323632353B323633333B323633373B323634303B323634313B323634313B323634303B323633373B323633340D0A523D323633313B323632373B323632323B323631383B323631333B323630383B323630333B323539383B323539333B323538380D0A523D323538333B323537373B323537323B323536373B323536323B323535363B323535313B323534363B323534313B323533360D0A523D323533303B323532353B323532303B323531343B323530393B323530343B323439393B323439343B323438393B323438350D0A523D323438303B323437343B323436393B323436333B323435383B323435333B323434393B323434343B323433393B323433350D0A523D323433303B323432363B323432313B323431373B323431333B323430383B323430343B323430303B323339363B323339320D0A523D323338383B323338343B323338313B323337373B323337343B323337303B323336373B323336343B323336313B323335380D0A523D323335353B323335323B323334393B323334363B323334333B323334303B323333383B323333343B323333323B323332390D0A523D323332373B323332343B323332323B323332303B323331373B323331353B323331323B323331303B323330383B323330360D0A523D323330343B323330323B323330303B323239383B323239363B323239343B323239323B323239313B323238393B323238370D0A523D323238353B323238333B323238323B323238303B323237393B323237373B323237363B323237343B323237333B323237310D0A523D323237303B323236383B323236373B323236363B323236343B323236333B323236323B323236313B323236303B323236300D0A523D323235393B323235383B323235373B323235373B323235363B323235353B323235353B323235353B323235343B323235340D0A523D323235343B323235343B323235343B323235343B323235343B323235343B323235343B323235343B323235353B323235350D0A523D323235353B323235353B323235353B323235353B323235353B323235353B323235353B323235353B323235343B323235330D0A523D323235323B323235313B323235303B323234393B323234373B323234353B323234333B323233393B323233343B323233300D0A523D323232353B323231383B323231303B323230313B323139313B323138313B323137313B323135393B323134383B323133370D0A523D323132353B323131343B323130323B323039303B323037393B323036373B323035363B323034363B323033353B323032340D0A523D323031333B323030333B313939323B313938323B313937323B313936313B313935313B313934313B313933313B313932310D0A523D313931323B313930333B313839343B313838343B313837353B313836363B313835373B313834383B313833393B313833310D0A523D313832323B313831343B313830363B313739373B313738393B313738313B313737333B313736353B313735373B313734390D0A523D313734313B313733333B313732363B313731393B313731323B313730353B313639373B313639303B313638333B313637360D0A523D313637303B313636333B313635373B313635313B313634353B313633393B313633333B313632363B313632303B313631350D0A523D313630393B313630333B313539383B313539323B313538373B313538323B313537373B313537323B313536373B313536320D0A523D313535373B313535323B313534373B313534333B313533383B313533343B313533303B313532353B313532313B313531370D0A523D313531333B313530393B313530353B313530313B313439373B313439333B313438393B313438363B313438323B313437390D0A523D313437353B313437323B313436393B313436353B313436323B313435393B313435363B313435333B313435303B313434370D0A523D313434343B313434313B313433393B313433363B313433343B313433313B313432393B313432363B313432343B313432310D0A523D313431393B313431373B313431353B313431333B313431313B313430393B313430373B313430353B313430333B313430310D0A523D313339393B313339383B313339363B313339343B313339333B313339313B313339303B313338383B313338373B313338360D0A523D313338343B313338333B313338323B313338303B313337393B313337393B313337383B313337373B313337363B313337360D0A523D313337353B313337343B313337333B313337333B313337323B313337323B313337313B313337313B313337303B313337300D0A523D313337303B313336393B313336393B313336393B313336393B313336393B313336393B313336393B313336393B313337300D0A523D313337303B313337313B313337313B313337313B313337313B313337323B313337323B313337333B313337333B313337340D0A523D313337343B313337363B313337373B313337383B313337393B313338303B313338313B313338323B313338333B313338340D0A523D313338353B313338373B313338383B313338393B313339303B313339323B313339343B313339363B313339373B313339390D0A523D313430303B313430323B313430343B313430363B313430383B313431303B313431323B313431343B313431373B313431390D0A523D313432313B313432343B313432363B313432393B313433313B313433343B313433363B313433393B313434313B313434340D0A523D313434373B313435303B313435333B313435373B313436303B313436333B313436363B313436393B313437333B313437360D0A523D313438303B313438343B313438383B313439323B313439353B313439393B313530333B313530373B313531313B313531360D0A523D313532303B313532343B313532393B313533333B313533383B313534333B313534373B313535323B313535383B313536330D0A523D313536383B313537333B313537383B313538343B313538393B313539353B313630313B313630363B313631323B313631380D0A523D313632353B313633313B313633383B313634353B313635313B313635383B313636353B313637313B313637383B313638350D0A523D313639313B313639393B313730363B313731343B313732323B313732393B313733373B313734353B313735343B313736320D0A523D313737303B313737393B313738383B313739373B313830353B313831343B313832343B313833353B313834353B313835360D0A523D313836363B313837363B313838373B313839373B313930383B313931393B313933303B313934313B313935343B313936360D0A523D313937393B313939323B323030353B323031373B323033303B323034333B323035363B323036393B323038323B323039360D0A523D323131303B323132353B323134303B323135353B323137303B323138353B323230303B323231363B323233313B323234370D0A523D323236333B323237393B323239353B323331323B323332393B323334363B323336333B323338303B323339383B323431340D0A523D323433313B323434373B323436333B323437383B323439323B323530373B323532303B323533323B323534313B323534370D0A523D323535313B323535313B323535303B323534393B323534373B323534343B323534323B323533393B323533363B323533330D0A523D323533303B323532363B323532333B323531393B323531363B323531333B323531303B323530373B323530333B323530300D0A523D323439373B323439343B323439303B323438373B323438343B323438313B323437393B323437363B323437343B323437310D0A523D323436393B323436373B323436353B323436333B323436313B323436303B323435383B323435363B323435343B323435330D0A523D323435313B323435303B323434393B323434373B323434363B323434353B323434343B323434333B323434323B323434310D0A523D323433393B323433383B323433373B323433373B323433363B323433363B323433353B323433353B323433353B323433350D0A523D323433353B323433353B323433363B323433363B323433363B323433363B323433373B323433373B323433383B323433390D0A56424F583D32372E34393B32372E34390D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35322E38313B35322E38310D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                    }

                    if ($data['calibre'] ==
                        12) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3135322E3930303B3135322E3930300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35332E30363B35332E30360D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323434333B323434393B323435343B323436303B323436373B323437333B323437393B323438363B323439323B323439380D0A523D323530353B323531313B323531383B323532353B323533313B323533383B323534343B323535313B323535383B323536350D0A523D323537323B323537393B323538353B323539323B323539393B323630353B323631323B323631393B323632363B323633330D0A523D323634303B323634373B323635343B323636313B323636383B323637363B323638333B323639303B323639373B323730350D0A523D323731323B323732303B323732383B323733353B323734333B323735313B323735383B323736353B323737323B323737390D0A523D323738363B323739333B323830303B323830373B323831333B323832303B323832353B323833313B323833373B323834320D0A523D323834373B323835323B323835373B323836313B323836353B323836393B323837333B323837373B323838313B323838340D0A523D323838383B323839313B323839343B323839373B323839393B323930313B323930333B323930333B323930343B323930340D0A523D323930343B323930343B323930333B323930313B323839393B323839363B323839343B323839303B323838363B323838310D0A523D323837363B323837303B323836343B323835363B323834393B323834313B323833343B323832353B323831373B323830380D0A523D323739393B323739303B323738313B323737313B323736313B323735323B323734323B323733323B323732323B323731310D0A523D323730313B323639303B323638303B323637303B323636303B323634393B323633393B323632383B323631383B323630370D0A523D323539373B323538373B323537373B323536373B323535373B323534373B323533373B323532383B323531383B323530390D0A523D323530303B323439313B323438313B323437323B323436343B323435353B323434363B323433383B323432393B323432300D0A523D323431323B323430343B323339363B323338383B323338303B323337323B323336343B323335363B323334393B323334320D0A523D323333343B323332373B323331393B323331323B323330353B323239383B323239313B323238343B323237373B323237310D0A523D323236343B323235373B323235313B323234343B323233373B323233313B323232353B323231393B323231333B323230370D0A523D323230313B323139353B323138393B323138343B323137383B323137323B323136373B323136323B323135373B323135320D0A523D323134373B323134323B323133373B323133333B323132383B323132343B323131393B323131353B323131313B323130370D0A523D323130333B323039393B323039353B323039303B323038373B323038333B323038303B323037363B323037333B323037300D0A523D323036373B323036343B323036303B323035373B323035353B323035323B323034393B323034363B323034343B323034310D0A523D323033393B323033373B323033343B323033323B323033303B323032383B323032363B323032343B323032323B323032310D0A523D323031393B323031383B323031363B323031353B323031343B323031323B323031313B323031303B323030393B323030380D0A523D323030363B323030363B323030353B323030353B323030343B323030333B323030323B323030323B323030313B323030310D0A523D323030313B323030313B323030303B323030303B323030303B323030303B323030303B323030303B323030303B323030300D0A523D323030303B323030313B323030313B323030313B323030313B323030323B323030333B323030343B323030343B323030350D0A523D323030353B323030363B323030363B323030373B323030383B323030393B323031313B323031323B323031333B323031340D0A523D323031363B323031373B323031393B323032303B323032323B323032343B323032363B323032383B323033303B323033320D0A523D323033343B323033363B323033393B323034323B323034353B323034383B323035303B323035333B323035363B323035390D0A523D323036323B323036353B323036383B323037313B323037343B323037373B323038313B323038353B323038393B323039330D0A523D323039373B323130313B323130343B323130383B323131323B323131363B323132303B323132343B323132393B323133330D0A523D323133373B323134313B323134353B323134393B323135333B323135383B323136323B323136373B323137323B323137370D0A523D323138323B323138383B323139343B323139383B323230333B323230383B323231333B323231383B323232333B323232390D0A523D323233363B323234323B323234383B323235343B323236313B323236383B323237343B323238323B323238393B323239360D0A523D323330333B323331313B323331393B323332363B323333343B323334323B323334393B323335383B323336363B323337330D0A523D323338313B323338393B323339383B323430363B323431343B323432323B323433303B323433393B323434373B323435360D0A523D323436343B323437333B323438323B323439313B323530303B323530393B323531383B323532373B323533373B323534370D0A523D323535363B323536363B323537353B323538353B323539343B323630343B323631333B323632323B323633323B323634310D0A523D323635303B323635383B323636383B323637373B323638353B323639343B323730323B323731303B323731383B323732350D0A523D323733333B323733393B323734363B323735333B323735393B323736353B323737303B323737363B323738323B323738370D0A523D323739313B323739363B323830303B323830343B323830383B323831313B323831333B323831363B323831383B323831380D0A523D323831393B323831393B323831393B323831393B323831393B323831393B323831383B323831373B323831363B323831340D0A523D323831333B323831313B323831303B323830383B323830373B323830353B323830343B323830323B323830303B323739380D0A523D323739363B323739343B323739323B323739313B323738393B323738373B323738353B323738333B323738313B323737390D0A523D323737373B323737353B323737323B323737303B323736373B323736343B323736313B323735393B323735363B323735340D0A523D323735313B323734383B323734353B323734323B323734303B323733373B323733343B323733313B323732393B323732360D0A523D323732333B323732313B323731383B323731363B323731333B323730393B323730363B323730323B323639393B323639350D0A523D323639333B323639323B323639303B323638383B323638363B323638343B323638313B323637393B323637373B323637350D0A523D323637343B323637323B323637303B323636383B323636353B323636333B323636323B323636313B323635393B323635370D0A523D323635343B323635313B323634393B323634383B323634373B323634363B323634353B323634343B323634323B323634310D0A523D323634303B323633383B323633373B323633363B323633353B323633343B323633333B323633313B323633303B323632390D0A523D323632383B323632373B323632373B323632353B323632343B323632333B323632333B323632323B323632313B323632300D0A523D323632303B323631383B323631373B323631363B323631363B323631353B323631353B323631343B323631333B323631320D0A523D323631323B323631313B323631313B323631303B323630393B323630383B323630383B323630373B323630373B323630360D0A523D323630353B323630343B323630333B323630333B323630323B323630323B323630323B323630323B323630313B323630310D0A523D323630303B323630303B323539393B323539393B323539393B323539393B323539383B323539373B323539363B323539350D0A523D323539343B323539333B323539323B323539303B323538393B323538373B323538353B323538333B323538313B323537380D0A523D323537363B323537343B323537323B323536393B323536373B323536353B323536323B323536303B323535373B323535350D0A523D323535323B323535303B323534373B323534353B323534323B323533393B323533373B323533343B323533323B323532390D0A523D323532373B323532343B323532313B323531393B323531363B323531343B323531313B323530383B323530353B323530320D0A523D323439393B323439363B323439333B323439303B323438373B323438333B323438303B323437373B323437333B323437300D0A523D323436373B323436343B323436313B323435373B323435343B323435313B323434373B323434343B323434303B323433360D0A523D323433313B323432373B323432333B323431393B323431353B323431303B323430353B323430313B323339373B323339330D0A523D323338383B323338333B323337383B323337333B323336393B323336343B323335393B323335343B323334393B323334340D0A523D323333393B323333343B323332393B323332343B323331393B323331343B323330383B323330333B323239383B323239330D0A523D323238383B323238333B323237383B323237333B323236383B323236323B323235373B323235333B323234383B323234330D0A523D323233393B323233343B323232393B323232343B323231393B323231353B323231313B323230373B323230333B323139390D0A523D323139353B323139313B323138363B323138323B323137383B323137343B323136393B323136353B323136313B323135370D0A523D323135343B323135303B323134363B323134323B323133393B323133353B323133313B323132383B323132343B323132310D0A523D323131373B323131343B323131313B323130373B323130343B323130313B323039383B323039353B323039323B323038390D0A523D323038363B323038333B323038303B323037373B323037343B323037313B323036393B323036363B323036343B323036310D0A523D323035383B323035363B323035333B323035313B323034393B323034373B323034353B323034323B323034303B323033370D0A523D323033353B323033333B323033313B323032393B323032383B323032363B323032343B323032323B323032303B323031380D0A523D323031373B323031353B323031333B323031313B323031303B323030383B323030373B323030353B323030333B323030310D0A523D323030303B313939393B313939373B313939363B313939343B313939333B313939323B313939313B313938393B313938380D0A523D313938373B313938363B313938353B313938343B313938333B313938323B313938323B313938313B313938303B313937390D0A523D313937383B313937373B313937373B313937363B313937363B313937353B313937353B313937343B313937333B313937320D0A523D313937323B313937313B313937313B313937303B313937303B313936393B313936393B313936383B313936383B313936380D0A523D313936383B313936373B313936373B313936373B313936373B313936363B313936363B313936363B313936363B313936350D0A523D313936353B313936353B313936353B313936353B313936343B313936343B313936343B313936343B313936343B313936340D0A523D313936343B313936343B313936343B313936343B313936343B313936343B313936343B313936343B313936343B313936340D0A523D313936353B313936353B313936353B313936353B313936363B313936363B313936363B313936363B313936373B313936370D0A523D313936383B313936383B313936393B313936393B313937303B313937303B313937313B313937313B313937323B313937320D0A523D313937333B313937333B313937343B313937343B313937353B313937363B313937363B313937373B313937373B313937380D0A523D313937383B313937393B313937393B313938303B313938313B313938323B313938323B313938333B313938343B313938350D0A523D313938353B313938363B313938373B313938383B313938393B313939313B313939323B313939333B313939343B313939350D0A523D313939363B313939373B313939383B313939393B323030303B323030313B323030323B323030333B323030343B323030350D0A523D323030363B323030373B323030383B323031303B323031313B323031333B323031343B323031353B323031373B323031380D0A523D323032303B323032313B323032333B323032343B323032363B323032373B323033303B323033313B323033333B323033350D0A523D323033373B323033393B323034313B323034333B323034353B323034373B323034393B323035313B323035333B323035350D0A523D323035373B323036303B323036323B323036343B323036363B323036383B323037303B323037333B323037353B323037380D0A523D323038303B323038323B323038353B323038373B323038393B323039313B323039343B323039373B323039393B323130320D0A523D323130343B323130373B323130393B323131323B323131343B323131373B323132303B323132333B323132363B323132390D0A523D323133323B323133343B323133373B323134303B323134333B323134363B323134393B323135323B323135363B323135390D0A523D323136323B323136353B323136383B323137313B323137343B323137373B323138303B323138343B323138383B323139310D0A523D323139353B323139383B323230323B323230363B323231303B323231343B323231373B323232313B323232353B323233300D0A523D323233343B323233383B323234333B323234383B323235323B323235373B323236313B323236363B323237313B323237350D0A523D323238303B323238353B323239303B323239353B323330303B323330353B323331303B323331353B323332303B323332360D0A523D323333313B323333373B323334323B323334373B323335333B323335383B323336333B323336393B323337343B323338300D0A523D323338363B323339313B323339373B323430333B323430383B323431343B323431393B323432363B323433323B323433370D0A545243464D543D313B313030303B453B4C3B460D0A523D323634303B323634313B323634323B323634343B323634353B323634363B323634373B323634383B323634393B323635310D0A523D323635343B323635373B323635393B323636313B323636323B323636333B323636353B323636383B323637303B323637320D0A523D323637343B323637353B323637373B323637393B323638313B323638343B323638363B323638383B323639303B323639320D0A523D323639333B323639353B323639393B323730323B323730363B323730393B323731333B323731363B323731383B323732310D0A523D323732333B323732363B323732393B323733313B323733343B323733373B323734303B323734323B323734353B323734380D0A523D323735313B323735343B323735363B323735393B323736313B323736343B323736373B323737303B323737323B323737350D0A523D323737373B323737393B323738313B323738333B323738353B323738373B323738393B323739313B323739323B323739340D0A523D323739363B323739383B323830303B323830323B323830343B323830353B323830373B323830383B323831303B323831310D0A523D323831333B323831343B323831363B323831373B323831383B323831393B323831393B323831393B323831393B323831390D0A523D323831393B323831383B323831383B323831363B323831333B323831313B323830383B323830343B323830303B323739360D0A523D323739313B323738373B323738323B323737363B323737303B323736353B323735393B323735333B323734363B323733390D0A523D323733333B323732353B323731383B323731303B323730323B323639343B323638353B323637373B323636383B323635380D0A523D323635303B323634313B323633323B323632323B323631333B323630343B323539343B323538353B323537353B323536360D0A523D323535363B323534373B323533373B323532373B323531383B323530393B323530303B323439313B323438323B323437330D0A523D323436343B323435363B323434373B323433393B323433303B323432323B323431343B323430363B323339383B323338390D0A523D323338313B323337333B323336363B323335383B323334393B323334323B323333343B323332363B323331393B323331310D0A523D323330333B323239363B323238393B323238323B323237343B323236383B323236313B323235343B323234383B323234320D0A523D323233363B323232393B323232333B323231383B323231333B323230383B323230333B323139383B323139343B323138380D0A523D323138323B323137373B323137323B323136373B323136323B323135383B323135333B323134393B323134353B323134310D0A523D323133373B323133333B323132393B323132343B323132303B323131363B323131323B323130383B323130343B323130310D0A523D323039373B323039333B323038393B323038353B323038313B323037373B323037343B323037313B323036383B323036350D0A523D323036323B323035393B323035363B323035333B323035303B323034383B323034353B323034323B323033393B323033360D0A523D323033343B323033323B323033303B323032383B323032363B323032343B323032323B323032303B323031393B323031370D0A523D323031363B323031343B323031333B323031323B323031313B323030393B323030383B323030373B323030363B323030360D0A523D323030353B323030353B323030343B323030343B323030333B323030323B323030313B323030313B323030313B323030310D0A523D323030303B323030303B323030303B323030303B323030303B323030303B323030303B323030303B323030303B323030310D0A523D323030313B323030313B323030313B323030323B323030323B323030333B323030343B323030353B323030353B323030360D0A523D323030363B323030383B323030393B323031303B323031313B323031323B323031343B323031353B323031363B323031380D0A523D323031393B323032313B323032323B323032343B323032363B323032383B323033303B323033323B323033343B323033370D0A523D323033393B323034313B323034343B323034363B323034393B323035323B323035353B323035373B323036303B323036340D0A523D323036373B323037303B323037333B323037363B323038303B323038333B323038373B323039303B323039353B323039390D0A523D323130333B323130373B323131313B323131353B323131393B323132343B323132383B323133333B323133373B323134320D0A523D323134373B323135323B323135373B323136323B323136373B323137323B323137383B323138343B323138393B323139350D0A523D323230313B323230373B323231333B323231393B323232353B323233313B323233373B323234343B323235313B323235370D0A523D323236343B323237313B323237373B323238343B323239313B323239383B323330353B323331323B323331393B323332370D0A523D323333343B323334323B323334393B323335363B323336343B323337323B323338303B323338383B323339363B323430340D0A523D323431323B323432303B323432393B323433383B323434363B323435353B323436343B323437323B323438313B323439310D0A523D323530303B323530393B323531383B323532383B323533373B323534373B323535373B323536373B323537373B323538370D0A523D323539373B323630373B323631383B323632383B323633393B323634393B323636303B323637303B323638303B323639300D0A523D323730313B323731313B323732323B323733323B323734323B323735323B323736313B323737313B323738313B323739300D0A523D323739393B323830383B323831373B323832353B323833343B323834313B323834393B323835363B323836343B323837300D0A523D323837363B323838313B323838363B323839303B323839343B323839363B323839393B323930313B323930333B323930340D0A523D323930343B323930343B323930343B323930333B323930333B323930313B323839393B323839373B323839343B323839310D0A523D323838383B323838343B323838313B323837373B323837333B323836393B323836353B323836313B323835373B323835320D0A523D323834373B323834323B323833373B323833313B323832353B323832303B323831333B323830373B323830303B323739330D0A523D323738363B323737393B323737323B323736353B323735383B323735313B323734333B323733353B323732383B323732300D0A523D323731323B323730353B323639373B323639303B323638333B323637363B323636383B323636313B323635343B323634370D0A523D323634303B323633333B323632363B323631393B323631323B323630353B323539393B323539323B323538353B323537390D0A523D323537323B323536353B323535383B323535313B323534343B323533383B323533313B323532353B323531383B323531310D0A523D323530353B323439383B323439323B323438363B323437393B323437333B323436373B323436303B323435343B323434390D0A523D323434333B323433373B323433323B323432363B323431393B323431343B323430383B323430333B323339373B323339310D0A523D323338363B323338303B323337343B323336393B323336333B323335383B323335333B323334373B323334323B323333370D0A523D323333313B323332363B323332303B323331353B323331303B323330353B323330303B323239353B323239303B323238350D0A523D323238303B323237353B323237313B323236363B323236313B323235373B323235323B323234383B323234333B323233380D0A523D323233343B323233303B323232353B323232313B323231373B323231343B323231303B323230363B323230323B323139380D0A523D323139353B323139313B323138383B323138343B323138303B323137373B323137343B323137313B323136383B323136350D0A523D323136323B323135393B323135363B323135323B323134393B323134363B323134333B323134303B323133373B323133340D0A523D323133323B323132393B323132363B323132333B323132303B323131373B323131343B323131323B323130393B323130370D0A523D323130343B323130323B323039393B323039373B323039343B323039313B323038393B323038373B323038353B323038320D0A523D323038303B323037383B323037353B323037333B323037303B323036383B323036363B323036343B323036323B323036300D0A523D323035373B323035353B323035333B323035313B323034393B323034373B323034353B323034333B323034313B323033390D0A523D323033373B323033353B323033333B323033313B323033303B323032373B323032363B323032343B323032333B323032310D0A523D323032303B323031383B323031373B323031353B323031343B323031333B323031313B323031303B323030383B323030370D0A523D323030363B323030353B323030343B323030333B323030323B323030313B323030303B313939393B313939383B313939370D0A523D313939363B313939353B313939343B313939333B313939323B313939313B313938393B313938383B313938373B313938360D0A523D313938353B313938353B313938343B313938333B313938323B313938323B313938313B313938303B313937393B313937390D0A523D313937383B313937383B313937373B313937373B313937363B313937363B313937353B313937343B313937343B313937330D0A523D313937333B313937323B313937323B313937313B313937313B313937303B313937303B313936393B313936393B313936380D0A523D313936383B313936373B313936373B313936363B313936363B313936363B313936363B313936353B313936353B313936350D0A523D313936353B313936343B313936343B313936343B313936343B313936343B313936343B313936343B313936343B313936340D0A523D313936343B313936343B313936343B313936343B313936343B313936343B313936343B313936353B313936353B313936350D0A523D313936353B313936353B313936363B313936363B313936363B313936363B313936373B313936373B313936373B313936370D0A523D313936383B313936383B313936383B313936383B313936393B313936393B313937303B313937303B313937313B313937310D0A523D313937323B313937323B313937333B313937343B313937353B313937353B313937363B313937363B313937373B313937370D0A523D313937383B313937393B313938303B313938313B313938323B313938323B313938333B313938343B313938353B313938360D0A523D313938373B313938383B313938393B313939313B313939323B313939333B313939343B313939363B313939373B313939390D0A523D323030303B323030313B323030333B323030353B323030373B323030383B323031303B323031313B323031333B323031350D0A523D323031373B323031383B323032303B323032323B323032343B323032363B323032383B323032393B323033313B323033330D0A523D323033353B323033373B323034303B323034323B323034353B323034373B323034393B323035313B323035333B323035360D0A523D323035383B323036313B323036343B323036363B323036393B323037313B323037343B323037373B323038303B323038330D0A523D323038363B323038393B323039323B323039353B323039383B323130313B323130343B323130373B323131313B323131340D0A523D323131373B323132313B323132343B323132383B323133313B323133353B323133393B323134323B323134363B323135300D0A523D323135343B323135373B323136313B323136353B323136393B323137343B323137383B323138323B323138363B323139310D0A523D323139353B323139393B323230333B323230373B323231313B323231353B323231393B323232343B323232393B323233340D0A523D323233393B323234333B323234383B323235333B323235373B323236323B323236383B323237333B323237383B323238330D0A523D323238383B323239333B323239383B323330333B323330383B323331343B323331393B323332343B323332393B323333340D0A523D323333393B323334343B323334393B323335343B323335393B323336343B323336393B323337333B323337383B323338330D0A523D323338383B323339333B323339373B323430313B323430353B323431303B323431353B323431393B323432333B323432370D0A523D323433313B323433363B323434303B323434343B323434373B323435313B323435343B323435373B323436313B323436340D0A523D323436373B323437303B323437333B323437373B323438303B323438333B323438373B323439303B323439333B323439360D0A523D323439393B323530323B323530353B323530383B323531313B323531343B323531363B323531393B323532313B323532340D0A523D323532373B323532393B323533323B323533343B323533373B323533393B323534323B323534353B323534373B323535300D0A523D323535323B323535353B323535373B323536303B323536323B323536353B323536373B323536393B323537323B323537340D0A523D323537363B323537383B323538313B323538333B323538353B323538373B323538393B323539303B323539323B323539330D0A523D323539343B323539353B323539363B323539373B323539383B323539393B323539393B323539393B323539393B323630300D0A523D323630303B323630313B323630313B323630323B323630323B323630323B323630323B323630333B323630333B323630340D0A523D323630353B323630363B323630373B323630373B323630383B323630383B323630393B323631303B323631313B323631310D0A523D323631323B323631323B323631333B323631343B323631353B323631353B323631363B323631363B323631373B323631380D0A523D323632303B323632303B323632313B323632323B323632333B323632333B323632343B323632353B323632373B323632370D0A523D323632383B323632393B323633303B323633313B323633333B323633343B323633353B323633363B323633373B323633380D0A56424F583D34302E30333B34302E30330D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35382E30383B35382E30380D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                    }

                    if ($data['calibre'] ==
                        13) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3134372E3732303B3134372E3732300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35312E33303B35312E33300D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323430343B323430393B323431343B323432303B323432353B323433313B323433363B323434313B323434373B323435330D0A523D323435393B323436353B323437313B323437383B323438343B323439303B323439363B323530333B323531303B323531370D0A523D323532343B323533313B323533373B323534343B323535313B323535373B323536343B323537303B323537363B323538320D0A523D323538383B323539343B323539393B323630353B323631303B323631363B323632313B323632353B323633313B323633360D0A523D323634313B323634363B323635313B323635363B323636313B323636363B323637323B323637383B323638333B323638390D0A523D323639353B323730303B323730363B323731333B323731393B323732353B323733323B323733383B323734353B323735320D0A523D323735383B323736353B323737323B323737383B323738343B323739303B323739363B323830303B323830353B323830370D0A523D323830393B323830373B323830343B323739353B323738353B323737303B323735343B323733353B323731353B323639350D0A523D323637353B323635333B323633323B323631303B323538393B323536383B323534373B323532373B323530383B323438380D0A523D323436393B323435303B323433313B323431333B323339353B323337373B323335393B323334323B323332353B323330380D0A523D323239323B323237363B323236303B323234343B323232393B323231333B323139383B323138333B323136393B323135340D0A523D323134303B323132373B323131333B323039393B323038353B323037323B323035393B323034363B323033343B323032320D0A523D323031303B313939383B313938373B313937363B313936343B313935333B313934323B313933323B313932313B313931310D0A523D313930313B313839323B313838323B313837323B313836333B313835343B313834353B313833363B313832383B313831390D0A523D313831313B313830333B313739353B313738373B313737393B313737313B313736343B313735363B313734393B313734320D0A523D313733363B313732393B313732313B313731353B313730393B313730323B313639363B313638393B313638333B313637370D0A523D313637313B313636353B313636303B313635343B313634383B313634333B313633373B313633323B313632373B313632320D0A523D313631373B313631313B313630363B313630323B313539373B313539333B313538383B313538343B313538303B313537350D0A523D313537313B313536373B313536333B313535393B313535353B313535313B313534373B313534343B313534303B313533370D0A523D313533333B313533303B313532373B313532333B313532303B313531383B313531353B313531323B313530393B313530370D0A523D313530343B313530313B313439383B313439353B313439333B313439313B313438393B313438363B313438343B313438320D0A523D313438303B313437383B313437363B313437343B313437323B313437303B313436383B313436373B313436353B313436340D0A523D313436323B313436313B313436303B313435393B313435383B313435373B313435363B313435353B313435343B313435330D0A523D313435323B313435323B313435313B313435313B313435303B313435303B313434393B313434393B313434383B313434380D0A523D313434383B313434383B313434383B313434383B313434383B313434383B313434383B313434383B313434383B313434380D0A523D313434383B313434383B313434383B313434393B313434393B313435303B313435303B313435313B313435313B313435320D0A523D313435323B313435333B313435333B313435343B313435363B313435373B313435383B313435393B313436303B313436310D0A523D313436323B313436343B313436353B313436363B313436383B313436393B313437313B313437333B313437353B313437370D0A523D313437383B313438303B313438333B313438353B313438373B313438393B313439313B313439343B313439363B313439380D0A523D313530303B313530323B313530343B313530363B313530383B313531303B313531333B313531353B313531383B313532320D0A523D313532353B313532393B313533323B313533353B313533383B313534313B313534343B313534373B313535303B313535330D0A523D313535373B313536313B313536353B313536393B313537333B313537383B313538323B313538373B313539313B313539360D0A523D313630313B313630363B313631313B313631363B313632313B313632363B313633323B313633383B313634333B313634390D0A523D313635363B313636313B313636373B313637323B313637383B313638353B313639313B313639383B313730343B313731300D0A523D313731373B313732343B313733303B313733383B313734353B313735323B313735393B313736373B313737343B313738320D0A523D313738393B313739373B313830353B313831333B313832313B313832393B313833383B313834363B313835353B313836340D0A523D313837333B313838333B313839323B313930313B313931313B313932323B313933323B313934333B313935343B313936340D0A523D313937363B313938373B313939383B323030393B323032313B323033333B323034363B323035393B323037313B323038340D0A523D323039383B323131313B323132353B323133393B323135333B323136373B323138323B323139373B323231323B323232370D0A523D323234343B323236303B323237373B323239343B323331313B323332383B323334363B323336343B323338323B323430300D0A523D323431393B323433383B323435373B323437373B323439383B323531383B323533393B323536313B323538333B323630350D0A523D323632383B323635313B323637343B323639363B323731373B323733343B323735313B323736323B323737333B323737390D0A523D323738353B323738393B323739323B323739333B323739343B323739323B323738393B323738353B323738313B323737360D0A523D323737303B323736343B323735383B323735323B323734363B323733393B323733333B323732373B323732313B323731350D0A523D323730393B323730333B323639383B323639323B323638373B323638323B323637363B323637313B323636363B323636310D0A523D323635363B323635323B323634373B323634333B323633383B323633323B323632383B323632343B323632303B323631350D0A523D323631313B323630373B323630343B323630313B323539383B323539353B323539323B323538383B323538353B323538320D0A523D323537393B323537363B323537343B323537323B323537303B323536383B323536363B323536353B323536343B323536330D0A523D323536313B323536303B323535393B323535393B323535383B323535383B323535373B323535373B323535363B323535360D0A523D323535353B323535353B323535353B323535353B323535353B323535353B323535353B323535353B323535353B323535350D0A523D323535363B323535373B323535373B323535383B323535383B323535393B323535393B323536303B323536313B323536330D0A523D323536343B323536363B323536373B323536383B323537303B323537313B323537333B323537353B323537373B323537390D0A523D323538313B323538343B323538363B323538393B323539313B323539333B323539363B323539383B323630313B323630340D0A523D323630373B323631303B323631343B323631373B323632313B323632353B323632393B323633333B323633373B323634320D0A523D323634363B323635313B323635363B323636303B323636353B323636393B323637353B323638303B323638353B323639300D0A523D323639363B323730313B323730373B323731333B323731393B323732353B323733323B323733383B323734353B323735320D0A523D323735383B323736353B323737323B323737393B323738363B323739323B323739393B323830343B323831303B323831340D0A523D323831383B323832303B323832323B323832303B323831383B323831323B323830353B323739323B323737383B323735390D0A523D323733393B323731363B323639343B323637323B323635303B323632383B323630363B323538353B323536353B323534350D0A523D323532353B323530363B323438363B323436373B323434373B323432393B323431313B323339323B323337343B323335370D0A523D323333393B323332323B323330353B323238393B323237343B323235383B323234333B323232373B323231313B323139370D0A523D323138323B323136383B323135333B323133393B323132353B323131323B323039393B323038353B323037333B323036300D0A523D323034373B323033353B323032333B323031323B323030303B313938393B313937383B313936363B313935363B313934350D0A523D313933343B313932333B313931323B313930323B313839333B313838343B313837353B313836353B313835363B313834360D0A523D313833363B313832373B313831383B313831303B313830313B313739333B313738363B313737383B313737303B313736330D0A523D313735363B313734393B313734313B313733353B313732383B313732323B313731363B313730393B313730333B313639380D0A523D313639323B313638363B313638303B313637343B313636383B313636333B313635373B313635323B313634373B313634320D0A523D313633373B313633313B313632363B313632313B313631363B313631323B313630373B313630323B313539383B313539340D0A523D313539303B313538363B313538313B313537373B313537333B313536393B313536353B313536313B313535373B313535340D0A523D313535303B313534373B313534343B313534303B313533373B313533343B313533313B313532383B313532353B313532320D0A523D313531393B313531363B313531323B313530393B313530373B313530343B313530323B313530303B313439383B313439350D0A523D313439323B313439303B313438383B313438373B313438353B313438333B313438313B313437393B313437373B313437360D0A523D313437343B313437333B313437313B313436393B313436383B313436373B313436363B313436353B313436343B313436330D0A523D313436313B313436313B313436303B313435393B313435383B313435383B313435373B313435373B313435363B313435360D0A523D313435353B313435353B313435353B313435353B313435343B313435343B313435343B313435343B313435333B313435330D0A523D313435333B313435333B313435333B313435333B313435333B313435333B313435333B313435343B313435343B313435350D0A523D313435353B313435353B313435353B313435363B313435363B313435373B313435383B313435393B313435393B313436300D0A523D313436303B313436323B313436333B313436343B313436353B313436363B313436373B313436383B313437303B313437320D0A523D313437333B313437353B313437363B313437383B313437393B313438313B313438333B313438353B313438373B313438390D0A523D313439313B313439333B313439363B313439383B313530303B313530323B313530353B313530373B313531303B313531340D0A523D313531373B313532303B313532333B313532363B313532393B313533323B313533363B313533393B313534333B313534360D0A523D313535303B313535343B313535383B313536323B313536363B313537303B313537343B313537383B313538333B313538370D0A523D313539323B313539363B313630313B313630353B313631303B313631353B313632303B313632353B313633303B313633360D0A523D313634323B313634373B313635333B313635383B313636343B313637303B313637353B313638323B313638383B313639340D0A523D313730303B313730363B313731323B313731393B313732363B313733323B313733393B313734363B313735333B313736310D0A523D313736383B313737353B313738323B313739303B313739383B313830353B313831333B313832323B313833303B313833380D0A523D313834363B313835353B313836343B313837333B313838333B313839323B313930313B313931303B313932303B313933300D0A523D313933393B313934393B313936303B313937303B313938313B313939323B323030333B323031343B323032353B323033360D0A523D323034383B323036303B323037323B323038343B323039373B323130393B323132323B323133353B323134373B323136300D0A523D323137343B323138373B323230303B323231343B323232373B323234303B323235333B323236353B323237373B323238380D0A523D323239393B323330383B323331363B323332333B323332393B323333333B323333363B323333383B323333393B323333390D0A523D323333383B323333373B323333363B323333353B323333333B323333313B323332393B323332373B323332353B323332330D0A523D323332313B323331383B323331363B323331333B323331313B323330383B323330363B323330343B323330313B323239390D0A523D323239383B323239363B323239353B323239343B323239333B323239323B323239313B323239303B323239303B323238390D0A523D323238383B323238373B323238373B323238363B323238363B323238363B323238363B323238353B323238353B323238350D0A523D323238353B323238353B323238353B323238353B323238353B323238363B323238363B323238373B323238373B323238380D0A523D323238393B323239303B323239313B323239323B323239343B323239353B323239373B323239383B323330303B323330310D0A523D323330333B323330353B323330373B323331303B323331323B323331343B323331373B323331393B323332323B323332340D0A523D323332373B323333303B323333333B323333363B323333393B323334323B323334363B323334393B323335333B323335370D0A523D323336313B323336353B323336393B323337333B323337373B323338323B323338363B323339303B323339353B323339390D0A545243464D543D313B313030303B453B4C3B460D0A523D323535363B323535353B323535353B323535353B323535353B323535353B323535353B323535353B323535353B323535350D0A523D323535353B323535363B323535363B323535373B323535373B323535383B323535383B323535393B323535393B323536300D0A523D323536313B323536333B323536343B323536353B323536363B323536383B323537303B323537323B323537343B323537360D0A523D323537393B323538323B323538353B323538383B323539323B323539353B323539383B323630313B323630343B323630370D0A523D323631313B323631353B323632303B323632343B323632383B323633323B323633383B323634333B323634373B323635320D0A523D323635363B323636313B323636363B323637313B323637363B323638323B323638373B323639323B323639383B323730330D0A523D323730393B323731353B323732313B323732373B323733333B323733393B323734363B323735323B323735383B323736340D0A523D323737303B323737363B323738313B323738353B323738393B323739323B323739343B323739333B323739323B323738390D0A523D323738353B323737393B323737333B323736323B323735313B323733343B323731373B323639363B323637343B323635310D0A523D323632383B323630353B323538333B323536313B323533393B323531383B323439383B323437373B323435373B323433380D0A523D323431393B323430303B323338323B323336343B323334363B323332383B323331313B323239343B323237373B323236300D0A523D323234343B323232373B323231323B323139373B323138323B323136373B323135333B323133393B323132353B323131310D0A523D323039383B323038343B323037313B323035393B323034363B323033333B323032313B323030393B313939383B313938370D0A523D313937363B313936343B313935343B313934333B313933323B313932323B313931313B313930313B313839323B313838330D0A523D313837333B313836343B313835353B313834363B313833383B313832393B313832313B313831333B313830353B313739370D0A523D313738393B313738323B313737343B313736373B313735393B313735323B313734353B313733383B313733303B313732340D0A523D313731373B313731303B313730343B313639383B313639313B313638353B313637383B313637323B313636373B313636310D0A523D313635363B313634393B313634333B313633383B313633323B313632363B313632313B313631363B313631313B313630360D0A523D313630313B313539363B313539313B313538373B313538323B313537383B313537333B313536393B313536353B313536310D0A523D313535373B313535333B313535303B313534373B313534343B313534313B313533383B313533353B313533323B313532390D0A523D313532353B313532323B313531383B313531353B313531333B313531303B313530383B313530363B313530343B313530320D0A523D313530303B313439383B313439363B313439343B313439313B313438393B313438373B313438353B313438333B313438300D0A523D313437383B313437373B313437353B313437333B313437313B313436393B313436383B313436363B313436353B313436340D0A523D313436323B313436313B313436303B313435393B313435383B313435373B313435363B313435343B313435333B313435330D0A523D313435323B313435323B313435313B313435313B313435303B313435303B313434393B313434393B313434383B313434380D0A523D313434383B313434383B313434383B313434383B313434383B313434383B313434383B313434383B313434383B313434380D0A523D313434383B313434383B313434383B313434393B313434393B313435303B313435303B313435313B313435313B313435320D0A523D313435323B313435333B313435343B313435353B313435363B313435373B313435383B313435393B313436303B313436310D0A523D313436323B313436343B313436353B313436373B313436383B313437303B313437323B313437343B313437363B313437380D0A523D313438303B313438323B313438343B313438363B313438393B313439313B313439333B313439353B313439383B313530310D0A523D313530343B313530373B313530393B313531323B313531353B313531383B313532303B313532333B313532373B313533300D0A523D313533333B313533373B313534303B313534343B313534373B313535313B313535353B313535393B313536333B313536370D0A523D313537313B313537353B313538303B313538343B313538383B313539333B313539373B313630323B313630363B313631310D0A523D313631373B313632323B313632373B313633323B313633373B313634333B313634383B313635343B313636303B313636350D0A523D313637313B313637373B313638333B313638393B313639363B313730323B313730393B313731353B313732313B313732390D0A523D313733363B313734323B313734393B313735363B313736343B313737313B313737393B313738373B313739353B313830330D0A523D313831313B313831393B313832383B313833363B313834353B313835343B313836333B313837323B313838323B313839320D0A523D313930313B313931313B313932313B313933323B313934323B313935333B313936343B313937363B313938373B313939380D0A523D323031303B323032323B323033343B323034363B323035393B323037323B323038353B323039393B323131333B323132370D0A523D323134303B323135343B323136393B323138333B323139383B323231333B323232393B323234343B323236303B323237360D0A523D323239323B323330383B323332353B323334323B323335393B323337373B323339353B323431333B323433313B323435300D0A523D323436393B323438383B323530383B323532373B323534373B323536383B323538393B323631303B323633323B323635330D0A523D323637353B323639353B323731353B323733353B323735343B323737303B323738353B323739353B323830343B323830370D0A523D323830393B323830373B323830353B323830303B323739363B323739303B323738343B323737383B323737323B323736350D0A523D323735383B323735323B323734353B323733383B323733323B323732353B323731393B323731333B323730363B323730300D0A523D323639353B323638393B323638333B323637383B323637323B323636363B323636313B323635363B323635313B323634360D0A523D323634313B323633363B323633313B323632353B323632313B323631363B323631303B323630353B323539393B323539340D0A523D323538383B323538323B323537363B323537303B323536343B323535373B323535313B323534343B323533373B323533310D0A523D323532343B323531373B323531303B323530333B323439363B323439303B323438343B323437383B323437313B323436350D0A523D323435393B323435333B323434373B323434313B323433363B323433313B323432353B323432303B323431343B323430390D0A523D323430343B323339393B323339353B323339303B323338363B323338323B323337373B323337333B323336393B323336350D0A523D323336313B323335373B323335333B323334393B323334363B323334323B323333393B323333363B323333333B323333300D0A523D323332373B323332343B323332323B323331393B323331373B323331343B323331323B323331303B323330373B323330350D0A523D323330333B323330313B323330303B323239383B323239373B323239353B323239343B323239323B323239313B323239300D0A523D323238393B323238383B323238373B323238373B323238363B323238363B323238353B323238353B323238353B323238350D0A523D323238353B323238353B323238353B323238353B323238363B323238363B323238363B323238363B323238373B323238370D0A523D323238383B323238393B323239303B323239303B323239313B323239323B323239333B323239343B323239353B323239360D0A523D323239383B323239393B323330313B323330343B323330363B323330383B323331313B323331333B323331363B323331380D0A523D323332313B323332333B323332353B323332373B323332393B323333313B323333333B323333353B323333363B323333370D0A523D323333383B323333393B323333393B323333383B323333363B323333333B323332393B323332333B323331363B323330380D0A523D323239393B323238383B323237373B323236353B323235333B323234303B323232373B323231343B323230303B323138370D0A523D323137343B323136303B323134373B323133353B323132323B323130393B323039373B323038343B323037323B323036300D0A523D323034383B323033363B323032353B323031343B323030333B313939323B313938313B313937303B313936303B313934390D0A523D313933393B313933303B313932303B313931303B313930313B313839323B313838333B313837333B313836343B313835350D0A523D313834363B313833383B313833303B313832323B313831333B313830353B313739383B313739303B313738323B313737350D0A523D313736383B313736313B313735333B313734363B313733393B313733323B313732363B313731393B313731323B313730360D0A523D313730303B313639343B313638383B313638323B313637353B313637303B313636343B313635383B313635333B313634370D0A523D313634323B313633363B313633303B313632353B313632303B313631353B313631303B313630353B313630313B313539360D0A523D313539323B313538373B313538333B313537383B313537343B313537303B313536363B313536323B313535383B313535340D0A523D313535303B313534363B313534333B313533393B313533363B313533323B313532393B313532363B313532333B313532300D0A523D313531373B313531343B313531303B313530373B313530353B313530323B313530303B313439383B313439363B313439330D0A523D313439313B313438393B313438373B313438353B313438333B313438313B313437393B313437383B313437363B313437350D0A523D313437333B313437323B313437303B313436383B313436373B313436363B313436353B313436343B313436333B313436320D0A523D313436303B313436303B313435393B313435393B313435383B313435373B313435363B313435363B313435353B313435350D0A523D313435353B313435353B313435343B313435343B313435333B313435333B313435333B313435333B313435333B313435330D0A523D313435333B313435333B313435333B313435343B313435343B313435343B313435343B313435353B313435353B313435350D0A523D313435353B313435363B313435363B313435373B313435373B313435383B313435383B313435393B313436303B313436310D0A523D313436313B313436333B313436343B313436353B313436363B313436373B313436383B313436393B313437313B313437330D0A523D313437343B313437363B313437373B313437393B313438313B313438333B313438353B313438373B313438383B313439300D0A523D313439323B313439353B313439383B313530303B313530323B313530343B313530373B313530393B313531323B313531360D0A523D313531393B313532323B313532353B313532383B313533313B313533343B313533373B313534303B313534343B313534370D0A523D313535303B313535343B313535373B313536313B313536353B313536393B313537333B313537373B313538313B313538360D0A523D313539303B313539343B313539383B313630323B313630373B313631323B313631363B313632313B313632363B313633310D0A523D313633373B313634323B313634373B313635323B313635373B313636333B313636383B313637343B313638303B313638360D0A523D313639323B313639383B313730333B313730393B313731363B313732323B313732383B313733353B313734313B313734390D0A523D313735363B313736333B313737303B313737383B313738363B313739333B313830313B313831303B313831383B313832370D0A523D313833363B313834363B313835363B313836353B313837353B313838343B313839333B313930323B313931323B313932330D0A523D313933343B313934353B313935363B313936363B313937383B313938393B323030303B323031323B323032333B323033350D0A523D323034373B323036303B323037333B323038353B323039393B323131323B323132353B323133393B323135333B323136380D0A523D323138323B323139373B323231313B323232373B323234333B323235383B323237343B323238393B323330353B323332320D0A523D323333393B323335373B323337343B323339323B323431313B323432393B323434373B323436373B323438363B323530360D0A523D323532353B323534353B323536353B323538353B323630363B323632383B323635303B323637323B323639343B323731360D0A523D323733393B323735393B323737383B323739323B323830353B323831323B323831383B323832303B323832323B323832300D0A523D323831383B323831343B323831303B323830343B323739393B323739323B323738363B323737393B323737323B323736350D0A523D323735383B323735323B323734353B323733383B323733323B323732353B323731393B323731333B323730373B323730310D0A523D323639363B323639303B323638353B323638303B323637353B323636393B323636353B323636303B323635363B323635310D0A523D323634363B323634323B323633373B323633333B323632393B323632353B323632313B323631373B323631343B323631300D0A523D323630373B323630343B323630313B323539383B323539363B323539333B323539313B323538393B323538363B323538340D0A523D323538313B323537393B323537373B323537353B323537333B323537313B323537303B323536383B323536373B323536360D0A523D323536343B323536333B323536313B323536303B323535393B323535393B323535383B323535383B323535373B323535370D0A56424F583D32392E30373B32392E30370D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35362E34343B35362E34340D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                    }

                    if ($data['calibre'] ==
                        14) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3134332E3336303B3134332E3336300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35312E30333B35312E30330D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323531303B323531323B323531343B323531373B323531393B323532313B323532333B323532363B323532393B323533320D0A523D323533353B323533373B323534303B323534333B323534363B323534393B323535323B323535353B323535373B323536300D0A523D323536333B323536373B323537303B323537333B323537373B323538303B323538333B323538373B323539303B323539330D0A523D323539373B323630303B323630343B323630373B323631313B323631343B323631383B323632323B323632363B323633300D0A523D323633343B323633383B323634323B323634353B323634393B323635323B323635363B323636303B323636333B323636360D0A523D323636393B323637323B323637353B323637383B323638303B323638333B323638353B323638373B323638383B323639300D0A523D323639313B323639323B323639333B323639333B323639343B323639343B323639343B323639333B323639323B323639310D0A523D323638393B323638383B323638363B323638333B323638303B323637363B323637323B323636373B323636323B323635340D0A523D323634373B323633383B323632383B323631383B323630373B323539353B323538333B323537313B323535393B323534350D0A523D323533323B323531393B323530353B323439323B323437393B323436353B323435323B323433393B323432353B323431320D0A523D323339393B323338353B323337323B323336303B323334373B323333343B323332313B323330393B323239373B323238340D0A523D323237313B323235393B323234373B323233353B323232343B323231323B323230303B323138383B323137373B323136360D0A523D323135343B323134333B323133323B323132323B323131313B323130313B323039313B323038313B323037313B323036310D0A523D323035313B323034323B323033323B323032323B323031343B323030353B313939363B313938373B313937383B313936390D0A523D313936303B313935323B313934343B313933363B313932373B313931393B313931323B313930343B313839363B313838390D0A523D313838313B313837343B313836363B313836303B313835333B313834363B313833393B313833323B313832363B313832300D0A523D313831333B313830373B313830313B313739353B313738383B313738333B313737373B313737313B313736363B313736300D0A523D313735353B313734393B313734333B313733383B313733333B313732383B313732333B313731383B313731333B313730380D0A523D313730333B313639383B313639343B313638393B313638353B313638313B313637363B313637323B313636383B313636350D0A523D313636313B313635373B313635333B313634393B313634363B313634323B313633393B313633353B313633323B313632390D0A523D313632363B313632333B313631393B313631363B313631343B313631313B313630393B313630363B313630343B313630310D0A523D313539383B313539363B313539343B313539323B313539303B313538383B313538353B313538333B313538313B313537390D0A523D313537373B313537363B313537343B313537323B313537313B313536393B313536383B313536373B313536363B313536340D0A523D313536333B313536313B313536303B313535393B313535383B313535383B313535373B313535363B313535353B313535350D0A523D313535343B313535343B313535333B313535333B313535323B313535323B313535313B313535313B313535313B313535310D0A523D313535313B313535313B313535313B313535313B313535313B313535323B313535323B313535333B313535333B313535340D0A523D313535343B313535353B313535353B313535363B313535363B313535373B313535383B313535393B313535393B313536300D0A523D313536323B313536333B313536353B313536363B313536373B313536383B313537303B313537313B313537333B313537340D0A523D313537353B313537363B313537373B313537393B313538303B313538323B313538343B313538363B313538383B313539300D0A523D313539323B313539343B313539363B313539383B313630303B313630323B313630343B313630363B313630383B313631310D0A523D313631343B313631373B313632303B313632333B313632363B313632393B313633323B313633353B313633393B313634320D0A523D313634363B313635303B313635333B313635373B313636313B313636353B313636393B313637343B313637383B313638330D0A523D313638383B313639323B313639373B313730313B313730363B313731313B313731363B313732313B313732353B313733300D0A523D313733363B313734313B313734373B313735323B313735383B313736343B313736393B313737353B313738313B313738360D0A523D313739323B313739383B313830343B313831313B313831383B313832343B313833313B313833373B313834333B313835310D0A523D313835383B313836343B313837313B313837383B313838363B313839333B313930313B313930393B313931363B313932340D0A523D313933323B313934313B313935303B313935383B313936363B313937353B313938343B313939333B323030323B323031320D0A523D323032313B323033303B323034303B323035303B323035393B323036393B323037393B323038393B323130303B323131300D0A523D323132313B323133323B323134323B323135333B323136343B323137363B323138373B323139383B323231313B323232330D0A523D323233353B323234383B323236303B323237333B323238363B323239393B323331333B323332363B323334303B323335340D0A523D323336383B323338313B323339353B323430393B323432343B323433383B323435323B323436373B323438313B323439350D0A523D323531303B323532343B323533373B323535313B323536343B323537363B323538383B323539383B323630383B323631370D0A523D323632363B323633323B323633393B323634353B323635313B323635353B323635393B323636323B323636353B323636370D0A523D323637303B323637323B323637343B323637353B323637373B323637383B323637393B323638303B323638303B323638310D0A523D323638303B323637393B323637383B323637373B323637343B323637323B323636393B323636373B323636343B323636310D0A523D323635383B323635353B323635313B323634383B323634353B323634313B323633393B323633363B323633333B323632390D0A523D323632353B323632323B323631383B323631353B323631323B323630393B323630353B323630323B323630303B323539370D0A523D323539353B323539323B323539303B323538373B323538353B323538333B323538303B323537383B323537353B323537330D0A523D323537303B323536383B323536373B323536353B323536333B323536313B323536303B323535383B323535363B323535350D0A523D323535343B323535333B323535313B323535303B323534393B323534383B323534373B323534373B323534363B323534360D0A523D323534353B323534343B323534343B323534333B323534323B323534313B323534313B323534303B323534303B323533390D0A523D323533383B323533383B323533383B323533373B323533373B323533363B323533363B323533363B323533363B323533350D0A523D323533353B323533353B323533353B323533353B323533353B323533353B323533353B323533353B323533353B323533360D0A523D323533363B323533373B323533373B323533373B323533373B323533383B323533383B323533393B323533393B323534300D0A523D323534303B323534313B323534323B323534333B323534343B323534353B323534363B323534363B323534373B323534380D0A523D323534393B323535303B323535313B323535313B323535323B323535323B323535333B323535333B323535343B323535340D0A523D323535353B323535353B323535353B323535353B323535353B323535353B323535343B323535343B323535333B323535330D0A523D323535323B323535313B323534393B323534383B323534363B323534343B323534313B323533383B323533353B323533320D0A523D323532393B323532343B323531393B323531343B323530383B323530313B323439333B323438353B323437373B323436380D0A523D323436303B323435303B323434313B323433323B323432333B323431333B323430333B323339333B323338333B323337330D0A523D323336323B323335323B323334313B323333313B323332303B323330393B323239383B323238383B323237373B323236370D0A523D323235373B323234363B323233353B323232343B323231343B323230333B323139323B323138313B323137313B323136300D0A523D323135303B323134303B323133303B323131393B323130393B323039393B323038393B323038303B323036393B323035390D0A523D323035303B323034313B323033313B323032313B323031323B323030333B313939343B313938353B313937363B313936370D0A523D313935383B313935303B313934313B313933323B313932343B313931353B313930363B313839383B313839303B313838330D0A523D313837373B313837303B313836323B313835353B313834363B313833393B313833323B313832353B313831383B313831320D0A523D313830353B313739393B313739333B313738373B313738303B313737353B313736393B313736333B313735383B313735320D0A523D313734373B313734323B313733373B313733323B313732373B313732333B313731383B313731333B313730393B313730350D0A523D313730313B313639363B313639313B313638373B313638323B313637383B313637333B313636393B313636353B313636310D0A523D313635373B313635333B313635303B313634363B313634333B313634303B313633373B313633333B313633303B313632370D0A523D313632343B313632313B313631383B313631353B313631323B313630393B313630373B313630343B313630323B313539390D0A523D313539363B313539343B313539323B313539303B313538383B313538363B313538343B313538323B313538303B313537380D0A523D313537363B313537343B313537323B313537303B313536393B313536383B313536373B313536363B313536353B313536330D0A523D313536323B313536303B313535393B313535393B313535383B313535373B313535363B313535363B313535353B313535350D0A523D313535343B313535343B313535333B313535333B313535323B313535323B313535313B313535313B313535313B313535310D0A523D313535313B313535313B313535313B313535313B313535313B313535313B313535313B313535323B313535323B313535330D0A523D313535333B313535343B313535343B313535353B313535353B313535363B313535363B313535373B313535383B313535390D0A523D313536303B313536323B313536333B313536343B313536353B313536363B313536383B313536393B313537313B313537330D0A523D313537343B313537363B313537383B313538303B313538323B313538343B313538363B313538383B313539303B313539330D0A523D313539353B313539383B313630303B313630323B313630353B313630383B313631313B313631333B313631363B313631390D0A523D313632323B313632353B313632383B313633313B313633343B313633373B313634313B313634343B313634373B313635300D0A523D313635343B313635383B313636323B313636363B313637303B313637343B313637383B313638323B313638373B313639310D0A523D313639353B313639393B313730343B313730383B313731333B313731383B313732323B313732373B313733323B313733370D0A523D313734333B313734383B313735333B313735383B313736333B313736393B313737343B313738303B313738363B313739310D0A523D313739373B313830333B313830393B313831353B313832323B313832383B313833353B313834313B313834373B313835340D0A523D313836313B313836383B313837353B313838323B313838393B313839373B313930343B313931313B313931383B313932360D0A523D313933343B313934313B313935303B313935383B313936363B313937343B313938333B313939313B323030303B323030380D0A523D323031363B323032353B323033343B323034333B323035323B323036313B323037303B323037383B323038383B323039370D0A523D323130363B323131353B323132353B323133343B323134333B323135323B323136323B323137323B323138313B323139300D0A523D323139393B323230373B323231373B323232363B323233343B323234333B323235313B323235393B323236383B323237360D0A523D323238343B323239313B323239393B323330353B323331323B323331383B323332343B323332393B323333353B323334300D0A523D323334343B323334383B323335333B323335373B323336313B323336343B323336373B323337303B323337333B323337360D0A523D323337383B323338313B323338333B323338353B323338373B323338393B323339313B323339333B323339363B323339380D0A523D323339393B323430313B323430333B323430353B323430373B323430383B323431303B323431323B323431343B323431350D0A523D323431373B323431393B323432313B323432323B323432333B323432353B323432363B323432383B323432393B323433300D0A523D323433313B323433333B323433343B323433353B323433363B323433383B323433393B323434303B323434313B323434330D0A523D323434343B323434353B323434373B323434383B323434393B323435303B323435323B323435333B323435343B323435350D0A523D323435373B323435383B323435393B323436313B323436323B323436343B323436353B323436373B323436383B323437300D0A523D323437313B323437333B323437353B323437373B323437383B323438303B323438323B323438343B323438363B323438380D0A523D323439303B323439323B323439343B323439363B323439393B323530303B323530323B323530343B323530363B323530380D0A545243464D543D313B313030303B453B4C3B460D0A523D323534353B323534363B323534363B323534373B323534373B323534383B323534393B323535303B323535313B323535330D0A523D323535343B323535353B323535363B323535383B323536303B323536313B323536333B323536353B323536373B323536380D0A523D323537303B323537333B323537353B323537383B323538303B323538333B323538353B323538373B323539303B323539320D0A523D323539353B323539373B323630303B323630323B323630353B323630393B323631323B323631353B323631383B323632320D0A523D323632353B323632393B323633333B323633363B323633393B323634313B323634353B323634383B323635313B323635350D0A523D323635383B323636313B323636343B323636373B323636393B323637323B323637343B323637373B323637383B323637390D0A523D323638303B323638313B323638303B323638303B323637393B323637383B323637373B323637353B323637343B323637320D0A523D323637303B323636373B323636353B323636323B323635393B323635353B323635313B323634353B323633393B323633320D0A523D323632363B323631373B323630383B323539383B323538383B323537363B323536343B323535313B323533373B323532340D0A523D323531303B323439353B323438313B323436373B323435323B323433383B323432343B323430393B323339353B323338310D0A523D323336383B323335343B323334303B323332363B323331333B323239393B323238363B323237333B323236303B323234380D0A523D323233353B323232333B323231313B323139383B323138373B323137363B323136343B323135333B323134323B323133320D0A523D323132313B323131303B323130303B323038393B323037393B323036393B323035393B323035303B323034303B323033300D0A523D323032313B323031323B323030323B313939333B313938343B313937353B313936363B313935383B313935303B313934310D0A523D313933323B313932343B313931363B313930393B313930313B313839333B313838363B313837383B313837313B313836340D0A523D313835383B313835313B313834333B313833373B313833313B313832343B313831383B313831313B313830343B313739380D0A523D313739323B313738363B313738313B313737353B313736393B313736343B313735383B313735323B313734373B313734310D0A523D313733363B313733303B313732353B313732313B313731363B313731313B313730363B313730313B313639373B313639320D0A523D313638383B313638333B313637383B313637343B313636393B313636353B313636313B313635373B313635333B313635300D0A523D313634363B313634323B313633393B313633353B313633323B313632393B313632363B313632333B313632303B313631370D0A523D313631343B313631313B313630383B313630363B313630343B313630323B313630303B313539383B313539363B313539340D0A523D313539323B313539303B313538383B313538363B313538343B313538323B313538303B313537393B313537373B313537360D0A523D313537353B313537343B313537333B313537313B313537303B313536383B313536373B313536363B313536353B313536330D0A523D313536323B313536303B313535393B313535393B313535383B313535373B313535363B313535363B313535353B313535350D0A523D313535343B313535343B313535333B313535333B313535323B313535323B313535313B313535313B313535313B313535310D0A523D313535313B313535313B313535313B313535313B313535313B313535323B313535323B313535333B313535333B313535340D0A523D313535343B313535353B313535353B313535363B313535373B313535383B313535383B313535393B313536303B313536310D0A523D313536333B313536343B313536363B313536373B313536383B313536393B313537313B313537323B313537343B313537360D0A523D313537373B313537393B313538313B313538333B313538353B313538383B313539303B313539323B313539343B313539360D0A523D313539383B313630313B313630343B313630363B313630393B313631313B313631343B313631363B313631393B313632330D0A523D313632363B313632393B313633323B313633353B313633393B313634323B313634363B313634393B313635333B313635370D0A523D313636313B313636353B313636383B313637323B313637363B313638313B313638353B313638393B313639343B313639380D0A523D313730333B313730383B313731333B313731383B313732333B313732383B313733333B313733383B313734333B313734390D0A523D313735353B313736303B313736363B313737313B313737373B313738333B313738383B313739353B313830313B313830370D0A523D313831333B313832303B313832363B313833323B313833393B313834363B313835333B313836303B313836363B313837340D0A523D313838313B313838393B313839363B313930343B313931323B313931393B313932373B313933363B313934343B313935320D0A523D313936303B313936393B313937383B313938373B313939363B323030353B323031343B323032323B323033323B323034320D0A523D323035313B323036313B323037313B323038313B323039313B323130313B323131313B323132323B323133323B323134330D0A523D323135343B323136363B323137373B323138383B323230303B323231323B323232343B323233353B323234373B323235390D0A523D323237313B323238343B323239373B323330393B323332313B323333343B323334373B323336303B323337323B323338350D0A523D323339393B323431323B323432353B323433393B323435323B323436353B323437393B323439323B323530353B323531390D0A523D323533323B323534353B323535393B323537313B323538333B323539353B323630373B323631383B323632383B323633380D0A523D323634373B323635343B323636323B323636373B323637323B323637363B323638303B323638333B323638363B323638380D0A523D323638393B323639313B323639323B323639333B323639343B323639343B323639343B323639333B323639333B323639320D0A523D323639313B323639303B323638383B323638373B323638353B323638333B323638303B323637383B323637353B323637320D0A523D323636393B323636363B323636333B323636303B323635363B323635323B323634393B323634353B323634323B323633380D0A523D323633343B323633303B323632363B323632323B323631383B323631343B323631313B323630373B323630343B323630300D0A523D323539373B323539333B323539303B323538373B323538333B323538303B323537373B323537333B323537303B323536370D0A523D323536333B323536303B323535373B323535353B323535323B323534393B323534363B323534333B323534303B323533370D0A523D323533353B323533323B323532393B323532363B323532333B323532313B323531393B323531373B323531343B323531320D0A523D323531303B323530383B323530363B323530343B323530323B323530303B323439393B323439363B323439343B323439320D0A523D323439303B323438383B323438363B323438343B323438323B323438303B323437383B323437373B323437353B323437330D0A523D323437313B323437303B323436383B323436373B323436353B323436343B323436323B323436313B323435393B323435380D0A523D323435373B323435353B323435343B323435333B323435323B323435303B323434393B323434383B323434373B323434350D0A523D323434343B323434333B323434313B323434303B323433393B323433383B323433363B323433353B323433343B323433330D0A523D323433313B323433303B323432393B323432383B323432363B323432353B323432333B323432323B323432313B323431390D0A523D323431373B323431353B323431343B323431323B323431303B323430383B323430373B323430353B323430333B323430310D0A523D323339393B323339383B323339363B323339333B323339313B323338393B323338373B323338353B323338333B323338310D0A523D323337383B323337363B323337333B323337303B323336373B323336343B323336313B323335373B323335333B323334380D0A523D323334343B323334303B323333353B323332393B323332343B323331383B323331323B323330353B323239393B323239310D0A523D323238343B323237363B323236383B323235393B323235313B323234333B323233343B323232363B323231373B323230370D0A523D323139393B323139303B323138313B323137323B323136323B323135323B323134333B323133343B323132353B323131350D0A523D323130363B323039373B323038383B323037383B323037303B323036313B323035323B323034333B323033343B323032350D0A523D323031363B323030383B323030303B313939313B313938333B313937343B313936363B313935383B313935303B313934310D0A523D313933343B313932363B313931383B313931313B313930343B313839373B313838393B313838323B313837353B313836380D0A523D313836313B313835343B313834373B313834313B313833353B313832383B313832323B313831353B313830393B313830330D0A523D313739373B313739313B313738363B313738303B313737343B313736393B313736333B313735383B313735333B313734380D0A523D313734333B313733373B313733323B313732373B313732323B313731383B313731333B313730383B313730343B313639390D0A523D313639353B313639313B313638373B313638323B313637383B313637343B313637303B313636363B313636323B313635380D0A523D313635343B313635303B313634373B313634343B313634313B313633373B313633343B313633313B313632383B313632350D0A523D313632323B313631393B313631363B313631333B313631313B313630383B313630353B313630323B313630303B313539380D0A523D313539353B313539333B313539303B313538383B313538363B313538343B313538323B313538303B313537383B313537360D0A523D313537343B313537333B313537313B313536393B313536383B313536363B313536353B313536343B313536333B313536320D0A523D313536303B313535393B313535383B313535373B313535363B313535363B313535353B313535353B313535343B313535340D0A523D313535333B313535333B313535323B313535323B313535313B313535313B313535313B313535313B313535313B313535310D0A523D313535313B313535313B313535313B313535313B313535313B313535323B313535323B313535333B313535333B313535340D0A523D313535343B313535353B313535353B313535363B313535363B313535373B313535383B313535393B313535393B313536300D0A523D313536323B313536333B313536353B313536363B313536373B313536383B313536393B313537303B313537323B313537340D0A523D313537363B313537383B313538303B313538323B313538343B313538363B313538383B313539303B313539323B313539340D0A523D313539363B313539393B313630323B313630343B313630373B313630393B313631323B313631353B313631383B313632310D0A523D313632343B313632373B313633303B313633333B313633373B313634303B313634333B313634363B313635303B313635330D0A523D313635373B313636313B313636353B313636393B313637333B313637383B313638323B313638373B313639313B313639360D0A523D313730313B313730353B313730393B313731333B313731383B313732333B313732373B313733323B313733373B313734320D0A523D313734373B313735323B313735383B313736333B313736393B313737353B313738303B313738373B313739333B313739390D0A523D313830353B313831323B313831383B313832353B313833323B313833393B313834363B313835353B313836323B313837300D0A523D313837373B313838333B313839303B313839383B313930363B313931353B313932343B313933323B313934313B313935300D0A523D313935383B313936373B313937363B313938353B313939343B323030333B323031323B323032313B323033313B323034310D0A523D323035303B323035393B323036393B323038303B323038393B323039393B323130393B323131393B323133303B323134300D0A523D323135303B323136303B323137313B323138313B323139323B323230333B323231343B323232343B323233353B323234360D0A523D323235373B323236373B323237373B323238383B323239383B323330393B323332303B323333313B323334313B323335320D0A523D323336323B323337333B323338333B323339333B323430333B323431333B323432333B323433323B323434313B323435300D0A523D323436303B323436383B323437373B323438353B323439333B323530313B323530383B323531343B323531393B323532340D0A523D323532393B323533323B323533353B323533383B323534313B323534343B323534363B323534383B323534393B323535310D0A523D323535323B323535333B323535333B323535343B323535343B323535353B323535353B323535353B323535353B323535350D0A523D323535353B323535343B323535343B323535333B323535333B323535323B323535323B323535313B323535313B323535300D0A523D323534393B323534383B323534373B323534363B323534363B323534353B323534343B323534333B323534323B323534310D0A523D323534303B323534303B323533393B323533393B323533383B323533383B323533373B323533373B323533373B323533370D0A523D323533363B323533363B323533353B323533353B323533353B323533353B323533353B323533353B323533353B323533350D0A523D323533353B323533353B323533363B323533363B323533363B323533363B323533373B323533373B323533383B323533380D0A523D323533383B323533393B323534303B323534303B323534313B323534313B323534323B323534333B323534343B323534340D0A56424F583D33312E30333B33312E30330D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35332E38373B35332E38370D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                    }

                    if ($data['calibre'] ==
                        15) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3132382E3239303B3132382E3239300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D34382E30363B34382E30360D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323337333B323337363B323337383B323338313B323338343B323338363B323338383B323339303B323339313B323339330D0A523D323339363B323339383B323430313B323430343B323430373B323430393B323431313B323431323B323431343B323431370D0A523D323431393B323432323B323432353B323432383B323433303B323433323B323433343B323433353B323433373B323433380D0A523D323433393B323434313B323434313B323434323B323434313B323434303B323433393B323433383B323433383B323433370D0A523D323433373B323433363B323433353B323433353B323433343B323433343B323433333B323433323B323433313B323433300D0A523D323432383B323432353B323432323B323431393B323431363B323431333B323430383B323430333B323339373B323339310D0A523D323338343B323337373B323337303B323336323B323335353B323334383B323334303B323333333B323332363B323331380D0A523D323331303B323330323B323239343B323238363B323237373B323236393B323236303B323235323B323234333B323233350D0A523D323232373B323231393B323231313B323230333B323139353B323138373B323137383B323137303B323136323B323135340D0A523D323134373B323133393B323133313B323132343B323131363B323130393B323130323B323039353B323038383B323038310D0A523D323037353B323036383B323036323B323035363B323035303B323034343B323033383B323033323B323032363B323032300D0A523D323031343B323030393B323030333B313939373B313939313B313938353B313938303B313937343B313936383B313936320D0A523D313935363B313935303B313934343B313933383B313933333B313932373B313932313B313931363B313931303B313930340D0A523D313839393B313839333B313838383B313838333B313837373B313837323B313836363B313836313B313835353B313835300D0A523D313834353B313834303B313833353B313833303B313832353B313832313B313831363B313831323B313830373B313830330D0A523D313739393B313739343B313739303B313738353B313738313B313737373B313737343B313737303B313736363B313736320D0A523D313735393B313735353B313735313B313734383B313734353B313734323B313733383B313733353B313733323B313732380D0A523D313732353B313732323B313731393B313731363B313731323B313730393B313730363B313730333B313730303B313639370D0A523D313639343B313639323B313638393B313638373B313638343B313638313B313637393B313637363B313637333B313637300D0A523D313636383B313636363B313636333B313636313B313635393B313635373B313635353B313635333B313635313B313634390D0A523D313634383B313634373B313634363B313634353B313634343B313634333B313634313B313633393B313633383B313633360D0A523D313633343B313633333B313633313B313633303B313632393B313632383B313632363B313632353B313632333B313632320D0A523D313632303B313631393B313631383B313631373B313631363B313631353B313631343B313631343B313631333B313631330D0A523D313631313B313631313B313631303B313630393B313630383B313630383B313630373B313630363B313630353B313630350D0A523D313630343B313630343B313630343B313630343B313630333B313630333B313630323B313630323B313630323B313630320D0A523D313630323B313630323B313630323B313630323B313630323B313630323B313630323B313630333B313630333B313630330D0A523D313630333B313630343B313630343B313630353B313630353B313630363B313630373B313630383B313630383B313630390D0A523D313630393B313631313B313631323B313631333B313631343B313631353B313631363B313631373B313631393B313632300D0A523D313632313B313632333B313632343B313632363B313632373B313632393B313633303B313633323B313633333B313633350D0A523D313633363B313633383B313634303B313634323B313634343B313634353B313634373B313634393B313635313B313635330D0A523D313635353B313635383B313636303B313636333B313636353B313636373B313636393B313637313B313637333B313637360D0A523D313637383B313638303B313638333B313638353B313638383B313639313B313639343B313639373B313730303B313730330D0A523D313730363B313730393B313731323B313731353B313731383B313732323B313732353B313732393B313733333B313733360D0A523D313734303B313734333B313734373B313735313B313735353B313735393B313736323B313736363B313737303B313737350D0A523D313737393B313738333B313738373B313739323B313739363B313830313B313830353B313831303B313831353B313831390D0A523D313832343B313832383B313833333B313833383B313834343B313834393B313835353B313836303B313836353B313837310D0A523D313837373B313838323B313838383B313839343B313930303B313930363B313931323B313931383B313932343B313933300D0A523D313933373B313934333B313935303B313935363B313936323B313936393B313937363B313938323B313938393B313939360D0A523D323030323B323030393B323031363B323032333B323033303B323033373B323034343B323035313B323035383B323036350D0A523D323037333B323038303B323038383B323039353B323130323B323130393B323131373B323132343B323133323B323133390D0A523D323134363B323135343B323136313B323136393B323137373B323138343B323139323B323230303B323230373B323231350D0A523D323232333B323233303B323233383B323234363B323235343B323236323B323237303B323237383B323238353B323239330D0A523D323330313B323330383B323331353B323332333B323333303B323333373B323334343B323335313B323335383B323336340D0A523D323337313B323337383B323338343B323339303B323339373B323430333B323431303B323431363B323432323B323432370D0A523D323433333B323433393B323434343B323434383B323435333B323435373B323436303B323436343B323436373B323436390D0A523D323437313B323437333B323437333B323437343B323437343B323437333B323437323B323437313B323436393B323436370D0A523D323436353B323436343B323436313B323435393B323435363B323435343B323435323B323435303B323434383B323434350D0A523D323434333B323434313B323433393B323433363B323433343B323433323B323433303B323432383B323432363B323432340D0A523D323432323B323432303B323431383B323431363B323431333B323431313B323430393B323430363B323430343B323430310D0A523D323339383B323339353B323339323B323338393B323338363B323338323B323337393B323337373B323337343B323337310D0A523D323336383B323336353B323336323B323335393B323335363B323335333B323335303B323334363B323334333B323334300D0A523D323333373B323333343B323333303B323332373B323332343B323332303B323331373B323331343B323331303B323330360D0A523D323330323B323239393B323239353B323239313B323238373B323238333B323237393B323237343B323237303B323236350D0A523D323236313B323235373B323235333B323234393B323234343B323234303B323233353B323233313B323232363B323232310D0A523D323231373B323231323B323230373B323230333B323139383B323139333B323138373B323138323B323137373B323137320D0A523D323136373B323136323B323135373B323135323B323134363B323134303B323133353B323132393B323132333B323131380D0A523D323131323B323130363B323130313B323039353B323039303B323038343B323037373B323037323B323036363B323036310D0A523D323035363B323035303B323034343B323033393B323033333B323032383B323032323B323031363B323031313B323030350D0A523D313939393B313939343B313938393B313938343B313937393B313937343B313936393B313936343B313935383B313935330D0A523D313934373B313934333B313933383B313933333B313932383B313932333B313931383B313931333B313930383B313930340D0A523D313839393B313839353B313839303B313838363B313838323B313837373B313837333B313836393B313836353B313836310D0A523D313835363B313835323B313834393B313834353B313834313B313833373B313833333B313832393B313832353B313832320D0A523D313831373B313831333B313830393B313830353B313830323B313739383B313739343B313739313B313738373B313738340D0A523D313738303B313737373B313737333B313737303B313736373B313736333B313736303B313735373B313735343B313735310D0A523D313734383B313734353B313734323B313733393B313733363B313733333B313733303B313732383B313732353B313732320D0A523D313731393B313731363B313731343B313731313B313730393B313730363B313730343B313730313B313639393B313639360D0A523D313639343B313639323B313638393B313638373B313638353B313638333B313638303B313637383B313637363B313637340D0A523D313637323B313637303B313636383B313636363B313636353B313636333B313636313B313635393B313635363B313635340D0A523D313635333B313635313B313634393B313634383B313634363B313634353B313634333B313634313B313633393B313633380D0A523D313633363B313633353B313633333B313633323B313633303B313632383B313632373B313632353B313632343B313632330D0A523D313632323B313632303B313631393B313631383B313631373B313631363B313631353B313631343B313631333B313631320D0A523D313631313B313631303B313630393B313630393B313630383B313630373B313630363B313630363B313630353B313630350D0A523D313630343B313630343B313630343B313630343B313630333B313630333B313630323B313630323B313630313B313630310D0A523D313630303B313630303B313630303B313630303B313630303B313630303B313630303B313630303B313630303B313630300D0A523D313539393B313539393B313539393B313539393B313630303B313630303B313630303B313630303B313630313B313630310D0A523D313630313B313630323B313630323B313630323B313630323B313630333B313630333B313630343B313630343B313630350D0A523D313630353B313630353B313630353B313630363B313630363B313630373B313630383B313630393B313630393B313631300D0A523D313631313B313631323B313631333B313631343B313631353B313631363B313631373B313631383B313631393B313632300D0A523D313632313B313632323B313632333B313632353B313632363B313632373B313632383B313633303B313633313B313633330D0A523D313633343B313633363B313633383B313633393B313634313B313634323B313634343B313634363B313634383B313634390D0A523D313635313B313635333B313635353B313635373B313635393B313636313B313636333B313636353B313636373B313636390D0A523D313637313B313637333B313637353B313637373B313637393B313638313B313638343B313638363B313638383B313639310D0A523D313639333B313639353B313639373B313730303B313730323B313730353B313730383B313731313B313731343B313731360D0A523D313731383B313732303B313732333B313732353B313732383B313733313B313733333B313733363B313733383B313734310D0A523D313734333B313734363B313734393B313735323B313735353B313735373B313736303B313736323B313736353B313736370D0A523D313737303B313737333B313737363B313737393B313738313B313738353B313738383B313739313B313739343B313739370D0A523D313830303B313830333B313830363B313830393B313831323B313831343B313831383B313832313B313832343B313832380D0A523D313833313B313833353B313833383B313834313B313834343B313834383B313835323B313835353B313835393B313836320D0A523D313836353B313836393B313837333B313837373B313838303B313838343B313838373B313839313B313839353B313839390D0A523D313930333B313930373B313931313B313931353B313931393B313932333B313932373B313933313B313933353B313933390D0A523D313934333B313934383B313935323B313935373B313936323B313936363B313937303B313937343B313937393B313938330D0A523D313938373B313939313B313939363B323030303B323030353B323030393B323031333B323031383B323032323B323032370D0A523D323033313B323033353B323034303B323034343B323034383B323035323B323035363B323036313B323036353B323036390D0A523D323037333B323037373B323038313B323038363B323039303B323039343B323130303B323130353B323131313B323131360D0A523D323132313B323132363B323133303B323133353B323133393B323134333B323134383B323135333B323135393B323136350D0A523D323137313B323137373B323138323B323138373B323139323B323139383B323230333B323230383B323231333B323231380D0A523D323232333B323232373B323233323B323233383B323234333B323234383B323235333B323235383B323236333B323236380D0A523D323237333B323237383B323238333B323238383B323239333B323239383B323330333B323330383B323331333B323331370D0A523D323332313B323332353B323332393B323333333B323333363B323333383B323334303B323334333B323334353B323334380D0A523D323335303B323335333B323335363B323335393B323336323B323336343B323336363B323336373B323336383B323337300D0A545243464D543D313B313030303B453B4C3B460D0A523D323336383B323337313B323337343B323337373B323337393B323338323B323338363B323338393B323339323B323339350D0A523D323339383B323430313B323430343B323430363B323430393B323431313B323431333B323431363B323431383B323432300D0A523D323432323B323432343B323432363B323432383B323433303B323433323B323433343B323433363B323433393B323434310D0A523D323434333B323434353B323434383B323435303B323435323B323435343B323435363B323435393B323436313B323436340D0A523D323436353B323436373B323436393B323437313B323437323B323437333B323437343B323437343B323437333B323437330D0A523D323437313B323436393B323436373B323436343B323436303B323435373B323435333B323434383B323434343B323433390D0A523D323433333B323432373B323432323B323431363B323431303B323430333B323339373B323339303B323338343B323337380D0A523D323337313B323336343B323335383B323335313B323334343B323333373B323333303B323332333B323331353B323330380D0A523D323330313B323239333B323238353B323237383B323237303B323236323B323235343B323234363B323233383B323233300D0A523D323232333B323231353B323230373B323230303B323139323B323138343B323137373B323136393B323136313B323135340D0A523D323134363B323133393B323133323B323132343B323131373B323130393B323130323B323039353B323038383B323038300D0A523D323037333B323036353B323035383B323035313B323034343B323033373B323033303B323032333B323031363B323030390D0A523D323030323B313939363B313938393B313938323B313937363B313936393B313936323B313935363B313935303B313934330D0A523D313933373B313933303B313932343B313931383B313931323B313930363B313930303B313839343B313838383B313838320D0A523D313837373B313837313B313836353B313836303B313835353B313834393B313834343B313833383B313833333B313832380D0A523D313832343B313831393B313831353B313831303B313830353B313830313B313739363B313739323B313738373B313738330D0A523D313737393B313737353B313737303B313736363B313736323B313735393B313735353B313735313B313734373B313734330D0A523D313734303B313733363B313733333B313732393B313732353B313732323B313731383B313731353B313731323B313730390D0A523D313730363B313730333B313730303B313639373B313639343B313639313B313638383B313638353B313638333B313638300D0A523D313637383B313637363B313637333B313637313B313636393B313636373B313636353B313636333B313636303B313635380D0A523D313635353B313635333B313635313B313634393B313634373B313634353B313634343B313634323B313634303B313633380D0A523D313633363B313633353B313633333B313633323B313633303B313632393B313632373B313632363B313632343B313632330D0A523D313632313B313632303B313631393B313631373B313631363B313631353B313631343B313631333B313631323B313631310D0A523D313630393B313630393B313630383B313630383B313630373B313630363B313630353B313630353B313630343B313630340D0A523D313630333B313630333B313630333B313630333B313630323B313630323B313630323B313630323B313630323B313630320D0A523D313630323B313630323B313630323B313630323B313630323B313630333B313630333B313630343B313630343B313630340D0A523D313630343B313630353B313630353B313630363B313630373B313630383B313630383B313630393B313631303B313631310D0A523D313631313B313631333B313631333B313631343B313631343B313631353B313631363B313631373B313631383B313631390D0A523D313632303B313632323B313632333B313632353B313632363B313632383B313632393B313633303B313633313B313633330D0A523D313633343B313633363B313633383B313633393B313634313B313634333B313634343B313634353B313634363B313634370D0A523D313634383B313634393B313635313B313635333B313635353B313635373B313635393B313636313B313636333B313636360D0A523D313636383B313637303B313637333B313637363B313637393B313638313B313638343B313638373B313638393B313639320D0A523D313639343B313639373B313730303B313730333B313730363B313730393B313731323B313731363B313731393B313732320D0A523D313732353B313732383B313733323B313733353B313733383B313734323B313734353B313734383B313735313B313735350D0A523D313735393B313736323B313736363B313737303B313737343B313737373B313738313B313738353B313739303B313739340D0A523D313739393B313830333B313830373B313831323B313831363B313832313B313832353B313833303B313833353B313834300D0A523D313834353B313835303B313835353B313836313B313836363B313837323B313837373B313838333B313838383B313839330D0A523D313839393B313930343B313931303B313931363B313932313B313932373B313933333B313933383B313934343B313935300D0A523D313935363B313936323B313936383B313937343B313938303B313938353B313939313B313939373B323030333B323030390D0A523D323031343B323032303B323032363B323033323B323033383B323034343B323035303B323035363B323036323B323036380D0A523D323037353B323038313B323038383B323039353B323130323B323130393B323131363B323132343B323133313B323133390D0A523D323134373B323135343B323136323B323137303B323137383B323138373B323139353B323230333B323231313B323231390D0A523D323232373B323233353B323234333B323235323B323236303B323236393B323237373B323238363B323239343B323330320D0A523D323331303B323331383B323332363B323333333B323334303B323334383B323335353B323336323B323337303B323337370D0A523D323338343B323339313B323339373B323430333B323430383B323431333B323431363B323431393B323432323B323432350D0A523D323432383B323433303B323433313B323433323B323433333B323433343B323433343B323433353B323433353B323433360D0A523D323433373B323433373B323433383B323433383B323433393B323434303B323434313B323434323B323434313B323434310D0A523D323433393B323433383B323433373B323433353B323433343B323433323B323433303B323432383B323432353B323432320D0A523D323431393B323431373B323431343B323431323B323431313B323430393B323430373B323430343B323430313B323339380D0A523D323339363B323339333B323339313B323339303B323338383B323338363B323338343B323338313B323337383B323337360D0A523D323337333B323337303B323336383B323336373B323336363B323336343B323336323B323335393B323335363B323335330D0A523D323335303B323334383B323334353B323334333B323334303B323333383B323333363B323333333B323332393B323332350D0A523D323332313B323331373B323331333B323330383B323330333B323239383B323239333B323238383B323238333B323237380D0A523D323237333B323236383B323236333B323235383B323235333B323234383B323234333B323233383B323233323B323232370D0A523D323232333B323231383B323231333B323230383B323230333B323139383B323139323B323138373B323138323B323137370D0A523D323137313B323136353B323135393B323135333B323134383B323134333B323133393B323133353B323133303B323132360D0A523D323132313B323131363B323131313B323130353B323130303B323039343B323039303B323038363B323038313B323037370D0A523D323037333B323036393B323036353B323036313B323035363B323035323B323034383B323034343B323034303B323033350D0A523D323033313B323032373B323032323B323031383B323031333B323030393B323030353B323030303B313939363B313939310D0A523D313938373B313938333B313937393B313937343B313937303B313936363B313936323B313935373B313935323B313934380D0A523D313934333B313933393B313933353B313933313B313932373B313932333B313931393B313931353B313931313B313930370D0A523D313930333B313839393B313839353B313839313B313838373B313838343B313838303B313837373B313837333B313836390D0A523D313836353B313836323B313835393B313835353B313835323B313834383B313834343B313834313B313833383B313833350D0A523D313833313B313832383B313832343B313832313B313831383B313831343B313831323B313830393B313830363B313830330D0A523D313830303B313739373B313739343B313739313B313738383B313738353B313738313B313737393B313737363B313737330D0A523D313737303B313736373B313736353B313736323B313736303B313735373B313735353B313735323B313734393B313734360D0A523D313734333B313734313B313733383B313733363B313733333B313733313B313732383B313732353B313732333B313732300D0A523D313731383B313731363B313731343B313731313B313730383B313730353B313730323B313730303B313639373B313639350D0A523D313639333B313639313B313638383B313638363B313638343B313638313B313637393B313637373B313637353B313637330D0A523D313637313B313636393B313636373B313636353B313636333B313636313B313635393B313635373B313635353B313635330D0A523D313635313B313634393B313634383B313634363B313634343B313634323B313634313B313633393B313633383B313633360D0A523D313633343B313633333B313633313B313633303B313632383B313632373B313632363B313632353B313632333B313632320D0A523D313632313B313632303B313631393B313631383B313631373B313631363B313631353B313631343B313631333B313631320D0A523D313631313B313631303B313630393B313630393B313630383B313630373B313630363B313630363B313630353B313630350D0A523D313630353B313630353B313630343B313630343B313630333B313630333B313630323B313630323B313630323B313630320D0A523D313630313B313630313B313630313B313630303B313630303B313630303B313630303B313539393B313539393B313539390D0A523D313539393B313630303B313630303B313630303B313630303B313630303B313630303B313630303B313630303B313630300D0A523D313630303B313630313B313630313B313630323B313630323B313630333B313630333B313630343B313630343B313630340D0A523D313630343B313630353B313630353B313630363B313630363B313630373B313630383B313630393B313630393B313631300D0A523D313631313B313631323B313631333B313631343B313631353B313631363B313631373B313631383B313631393B313632300D0A523D313632323B313632333B313632343B313632353B313632373B313632383B313633303B313633323B313633333B313633350D0A523D313633363B313633383B313633393B313634313B313634333B313634353B313634363B313634383B313634393B313635310D0A523D313635333B313635343B313635363B313635393B313636313B313636333B313636353B313636363B313636383B313637300D0A523D313637323B313637343B313637363B313637383B313638303B313638333B313638353B313638373B313638393B313639320D0A523D313639343B313639363B313639393B313730313B313730343B313730363B313730393B313731313B313731343B313731360D0A523D313731393B313732323B313732353B313732383B313733303B313733333B313733363B313733393B313734323B313734350D0A523D313734383B313735313B313735343B313735373B313736303B313736333B313736373B313737303B313737333B313737370D0A523D313738303B313738343B313738373B313739313B313739343B313739383B313830323B313830353B313830393B313831330D0A523D313831373B313832323B313832353B313832393B313833333B313833373B313834313B313834353B313834393B313835320D0A523D313835363B313836313B313836353B313836393B313837333B313837373B313838323B313838363B313839303B313839350D0A523D313839393B313930343B313930383B313931333B313931383B313932333B313932383B313933333B313933383B313934330D0A523D313934373B313935333B313935383B313936343B313936393B313937343B313937393B313938343B313938393B313939340D0A523D313939393B323030353B323031313B323031363B323032323B323032383B323033333B323033393B323034343B323035300D0A523D323035363B323036313B323036363B323037323B323037373B323038343B323039303B323039353B323130313B323130360D0A523D323131323B323131383B323132333B323132393B323133353B323134303B323134363B323135323B323135373B323136320D0A523D323136373B323137323B323137373B323138323B323138373B323139333B323139383B323230333B323230373B323231320D0A523D323231373B323232313B323232363B323233313B323233353B323234303B323234343B323234393B323235333B323235370D0A523D323236313B323236353B323237303B323237343B323237393B323238333B323238373B323239313B323239353B323239390D0A523D323330323B323330363B323331303B323331343B323331373B323332303B323332343B323332373B323333303B323333340D0A523D323333373B323334303B323334333B323334363B323335303B323335333B323335363B323335393B323336323B323336350D0A56424F583D33322E30343B33322E30340D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D34392E34383B34392E34380D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                    }

                    if ($data['calibre'] ==
                        16) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3134322E3036303B3134322E3036300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35322E31393B35322E31390D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323535323B323535363B323536303B323536353B323536393B323537333B323537383B323538323B323538363B323538390D0A523D323539333B323539363B323630303B323630333B323630363B323630393B323631323B323631353B323631383B323632310D0A523D323632343B323632383B323633313B323633343B323633373B323634303B323634333B323634363B323634393B323635320D0A523D323635363B323635393B323636333B323636363B323637303B323637333B323637373B323638323B323638363B323639300D0A523D323639343B323639383B323730333B323730373B323731323B323731363B323732313B323732363B323733313B323733360D0A523D323734313B323734363B323735323B323735373B323736333B323736393B323737343B323738303B323738363B323739330D0A523D323739393B323830363B323831333B323832303B323832363B323833323B323833383B323834303B323834303B323833320D0A523D323831393B323830333B323738353B323736353B323734353B323732353B323730343B323638333B323636333B323634320D0A523D323632313B323630313B323538313B323536313B323534313B323532323B323530333B323438343B323436353B323434370D0A523D323432383B323431303B323339333B323337363B323335393B323334323B323332353B323330393B323239333B323237370D0A523D323236323B323234373B323233313B323231363B323230313B323138373B323137333B323135393B323134353B323133310D0A523D323131373B323130343B323039303B323037383B323036353B323035323B323034303B323032373B323031353B323030330D0A523D313939313B313937393B313936383B313935373B313934353B313933343B313932333B313931333B313930323B313839320D0A523D313838323B313837333B313836333B313835333B313834343B313833353B313832363B313831383B313830393B313830300D0A523D313739313B313738333B313737353B313736373B313735393B313735313B313734343B313733363B313732383B313732310D0A523D313731343B313730373B313639393B313639333B313638363B313637393B313637333B313636363B313635393B313635330D0A523D313634373B313634313B313633353B313632393B313632323B313631373B313631313B313630363B313630313B313539350D0A523D313539303B313538343B313537393B313537353B313537303B313536353B313536303B313535353B313535303B313534360D0A523D313534323B313533373B313533333B313532383B313532343B313532303B313531363B313531333B313530393B313530360D0A523D313530323B313439383B313439353B313439313B313438383B313438353B313438323B313437393B313437363B313437330D0A523D313437303B313436373B313436333B313436303B313435383B313435353B313435333B313435303B313434373B313434340D0A523D313434323B313434303B313433373B313433353B313433333B313433313B313432393B313432373B313432353B313432330D0A523D313432313B313431393B313431373B313431353B313431343B313431333B313431323B313431303B313430393B313430370D0A523D313430363B313430343B313430333B313430323B313430313B313430303B313339393B313339383B313339373B313339360D0A523D313339353B313339343B313339333B313339333B313339323B313339323B313339313B313339313B313339303B313339300D0A523D313338393B313338393B313338393B313338383B313338383B313338383B313338383B313338383B313338383B313338370D0A523D313338373B313338373B313338373B313338373B313338373B313338373B313338373B313338383B313338383B313338390D0A523D313338393B313338393B313339303B313339313B313339313B313339323B313339333B313339343B313339343B313339350D0A523D313339363B313339373B313339383B313339393B313430303B313430313B313430323B313430333B313430333B313430340D0A523D313430343B313430353B313430363B313430373B313430393B313431303B313431323B313431343B313431373B313431390D0A523D313432323B313432343B313432363B313432383B313433303B313433323B313433343B313433363B313433373B313433390D0A523D313434323B313434343B313434373B313435303B313435333B313435353B313435383B313436313B313436343B313436370D0A523D313437303B313437333B313437373B313438303B313438333B313438373B313439303B313439343B313439383B313530320D0A523D313530363B313531303B313531343B313531383B313532323B313532373B313533313B313533353B313534303B313534340D0A523D313534393B313535333B313535383B313536333B313536373B313537323B313537363B313538313B313538363B313539310D0A523D313539363B313630313B313630363B313631323B313631373B313632333B313632383B313633343B313633393B313634350D0A523D313635313B313635363B313636323B313636393B313637353B313638313B313638373B313639343B313730303B313730370D0A523D313731333B313731393B313732363B313733343B313734313B313734383B313735353B313736323B313737313B313737390D0A523D313738363B313739343B313830323B313831313B313831393B313832373B313833353B313834343B313835333B313836320D0A523D313837313B313837393B313838393B313839383B313930383B313931383B313932373B313933373B313934373B313935370D0A523D313936373B313937383B313938383B313939393B323031313B323032323B323033333B323034353B323035373B323036390D0A523D323038313B323039333B323130363B323131393B323133323B323134353B323135383B323137323B323138353B323139390D0A523D323231333B323232373B323234323B323235373B323237323B323238373B323330323B323331383B323333333B323334390D0A523D323336353B323338313B323339373B323431333B323433303B323434363B323436333B323438303B323439383B323531350D0A523D323533333B323535303B323536383B323538363B323630333B323632313B323633383B323635353B323637303B323638360D0A523D323639353B323730323B323730313B323639393B323639373B323639343B323639313B323638373B323638343B323638310D0A523D323637383B323637353B323637323B323636393B323636363B323636333B323636303B323635373B323635343B323635310D0A523D323634383B323634353B323634323B323633393B323633373B323633353B323633333B323633313B323633303B323632380D0A523D323632353B323632333B323632313B323631393B323631383B323631373B323631363B323631353B323631343B323631330D0A523D323631313B323631303B323630393B323630393B323630383B323630383B323630393B323630393B323630393B323630390D0A523D323630393B323631303B323631303B323631303B323631303B323631313B323631313B323631323B323631323B323631330D0A523D323631343B323631353B323631363B323631373B323631393B323632303B323632323B323632333B323632353B323632360D0A523D323632383B323633303B323633323B323633343B323633363B323633393B323634323B323634343B323634373B323634390D0A523D323635323B323635343B323635383B323636313B323636343B323636383B323637313B323637353B323637383B323638320D0A523D323638353B323638393B323639333B323639373B323730313B323730353B323730393B323731343B323731383B323732330D0A523D323732373B323733323B323733363B323734303B323734343B323734373B323734353B323733393B323732353B323730390D0A523D323639323B323637343B323635353B323633373B323631393B323630313B323538323B323536333B323534353B323532370D0A523D323530393B323439313B323437343B323435363B323433393B323432323B323430363B323338393B323337333B323335370D0A523D323334313B323332363B323331303B323239363B323238313B323236363B323235313B323233363B323232313B323230370D0A523D323139333B323138303B323136363B323135333B323134303B323132363B323131333B323130313B323038393B323037370D0A523D323036353B323035343B323034323B323033303B323031393B323030383B313939373B313938363B313937353B313936350D0A523D313935353B313934343B313933343B313932353B313931353B313930343B313839353B313838373B313837383B313836380D0A523D313836303B313835313B313834323B313833323B313832333B313831333B313830343B313739363B313738383B313738300D0A523D313737333B313736363B313735393B313735323B313734343B313733373B313733303B313732333B313731373B313731310D0A523D313730333B313639363B313638383B313638313B313637353B313636393B313636333B313635373B313635313B313634360D0A523D313634303B313633353B313633303B313632343B313631393B313631333B313630383B313630343B313539393B313539340D0A523D313539303B313538353B313538313B313537363B313537323B313536383B313536333B313535393B313535353B313535310D0A523D313534383B313534343B313534303B313533363B313533323B313532393B313532353B313532323B313531383B313531340D0A523D313531313B313530373B313530343B313530313B313439383B313439343B313439313B313438383B313438343B313438310D0A523D313437393B313437363B313437333B313437303B313436373B313436353B313436323B313436303B313435373B313435350D0A523D313435323B313434393B313434373B313434353B313434333B313434313B313433393B313433373B313433353B313433330D0A523D313433313B313433303B313432383B313432363B313432343B313432333B313432313B313432303B313431383B313431370D0A523D313431363B313431353B313431333B313431323B313431313B313431303B313430393B313430383B313430373B313430370D0A523D313430353B313430353B313430343B313430333B313430323B313430323B313430313B313430313B313430303B313430300D0A523D313339393B313339393B313339393B313339393B313339383B313339383B313339383B313339383B313339383B313339380D0A523D313339373B313339373B313339373B313339383B313339383B313339383B313339383B313339393B313339393B313339390D0A523D313339393B313430303B313430303B313430313B313430313B313430323B313430333B313430343B313430343B313430350D0A523D313430363B313430383B313430393B313431303B313431313B313431323B313431333B313431343B313431363B313431380D0A523D313431393B313432313B313432323B313432343B313432353B313432373B313432393B313433313B313433323B313433340D0A523D313433363B313433383B313434313B313434333B313434353B313434373B313435303B313435323B313435343B313435360D0A523D313435393B313436323B313436353B313436383B313437303B313437333B313437363B313437393B313438323B313438350D0A523D313438383B313439323B313439353B313439393B313530323B313530363B313531303B313531333B313531373B313532310D0A523D313532353B313532393B313533333B313533373B313534313B313534353B313534393B313535333B313535373B313536320D0A523D313536373B313537313B313537363B313538313B313538363B313539313B313539363B313630313B313630373B313631320D0A523D313631373B313632333B313632383B313633343B313633393B313634353B313635313B313635373B313636333B313636390D0A523D313637353B313638323B313638383B313639353B313730313B313730383B313731353B313732323B313732393B313733360D0A523D313734343B313735313B313735393B313736373B313737353B313738323B313739303B313739383B313830373B313831360D0A523D313832343B313833333B313834323B313835323B313836313B313837303B313837393B313838383B313839383B313930380D0A523D313931383B313932373B313933383B313934383B313935393B313937303B313938303B313939313B323030323B323031340D0A523D323032353B323033363B323034383B323036303B323037323B323038353B323039373B323131303B323132323B323133350D0A523D323134383B323136313B323137343B323138373B323230303B323231333B323232363B323233393B323235323B323236360D0A523D323237393B323239323B323330353B323331363B323332383B323333393B323335303B323335383B323336353B323336390D0A523D323337323B323337343B323337353B323337363B323337363B323337363B323337363B323337363B323337363B323337360D0A523D323337363B323337353B323337353B323337363B323337363B323337373B323337373B323337373B323337373B323337380D0A523D323337383B323337393B323337393B323338303B323338313B323338323B323338333B323338343B323338353B323338360D0A523D323338373B323338393B323339303B323339323B323339333B323339353B323339363B323339383B323430303B323430320D0A523D323430343B323430363B323430383B323431303B323431333B323431353B323431373B323432303B323432333B323432360D0A523D323432383B323433313B323433343B323433373B323434303B323434333B323434373B323435313B323435353B323435390D0A523D323436323B323436363B323437303B323437343B323437383B323438333B323438373B323439313B323439363B323530300D0A523D323530343B323530393B323531333B323531383B323532333B323532383B323533333B323533373B323534323B323534370D0A545243464D543D313B313030303B453B4C3B460D0A523D323630393B323630393B323630393B323630393B323630393B323630383B323630383B323630393B323630393B323631300D0A523D323631313B323631333B323631343B323631353B323631363B323631373B323631383B323631393B323632313B323632330D0A523D323632353B323632383B323633303B323633313B323633333B323633353B323633373B323633393B323634323B323634350D0A523D323634383B323635313B323635343B323635373B323636303B323636333B323636363B323636393B323637323B323637350D0A523D323637383B323638313B323638343B323638373B323639313B323639343B323639373B323639393B323730313B323730320D0A523D323639353B323638363B323637303B323635353B323633383B323632313B323630333B323538363B323536383B323535300D0A523D323533333B323531353B323439383B323438303B323436333B323434363B323433303B323431333B323339373B323338310D0A523D323336353B323334393B323333333B323331383B323330323B323238373B323237323B323235373B323234323B323232370D0A523D323231333B323139393B323138353B323137323B323135383B323134353B323133323B323131393B323130363B323039330D0A523D323038313B323036393B323035373B323034353B323033333B323032323B323031313B313939393B313938383B313937380D0A523D313936373B313935373B313934373B313933373B313932373B313931383B313930383B313839383B313838393B313837390D0A523D313837313B313836323B313835333B313834343B313833353B313832373B313831393B313831313B313830323B313739340D0A523D313738363B313737393B313737313B313736323B313735353B313734383B313734313B313733343B313732363B313731390D0A523D313731333B313730373B313730303B313639343B313638373B313638313B313637353B313636393B313636323B313635360D0A523D313635313B313634353B313633393B313633343B313632383B313632333B313631373B313631323B313630363B313630310D0A523D313539363B313539313B313538363B313538313B313537363B313537323B313536373B313536333B313535383B313535330D0A523D313534393B313534343B313534303B313533353B313533313B313532373B313532323B313531383B313531343B313531300D0A523D313530363B313530323B313439383B313439343B313439303B313438373B313438333B313438303B313437373B313437330D0A523D313437303B313436373B313436343B313436313B313435383B313435353B313435333B313435303B313434373B313434340D0A523D313434323B313433393B313433373B313433363B313433343B313433323B313433303B313432383B313432363B313432340D0A523D313432323B313431393B313431373B313431343B313431323B313431303B313430393B313430373B313430363B313430350D0A523D313430343B313430343B313430333B313430333B313430323B313430313B313430303B313339393B313339383B313339370D0A523D313339363B313339353B313339343B313339343B313339333B313339323B313339313B313339313B313339303B313338390D0A523D313338393B313338393B313338383B313338383B313338373B313338373B313338373B313338373B313338373B313338370D0A523D313338373B313338373B313338383B313338383B313338383B313338383B313338383B313338383B313338393B313338390D0A523D313338393B313339303B313339303B313339313B313339313B313339323B313339323B313339333B313339333B313339340D0A523D313339353B313339363B313339373B313339383B313339393B313430303B313430313B313430323B313430333B313430340D0A523D313430363B313430373B313430393B313431303B313431323B313431333B313431343B313431353B313431373B313431390D0A523D313432313B313432333B313432353B313432373B313432393B313433313B313433333B313433353B313433373B313434300D0A523D313434323B313434343B313434373B313435303B313435333B313435353B313435383B313436303B313436333B313436370D0A523D313437303B313437333B313437363B313437393B313438323B313438353B313438383B313439313B313439353B313439380D0A523D313530323B313530363B313530393B313531333B313531363B313532303B313532343B313532383B313533333B313533370D0A523D313534323B313534363B313535303B313535353B313536303B313536353B313537303B313537353B313537393B313538340D0A523D313539303B313539353B313630313B313630363B313631313B313631373B313632323B313632393B313633353B313634310D0A523D313634373B313635333B313635393B313636363B313637333B313637393B313638363B313639333B313639393B313730370D0A523D313731343B313732313B313732383B313733363B313734343B313735313B313735393B313736373B313737353B313738330D0A523D313739313B313830303B313830393B313831383B313832363B313833353B313834343B313835333B313836333B313837330D0A523D313838323B313839323B313930323B313931333B313932333B313933343B313934353B313935373B313936383B313937390D0A523D313939313B323030333B323031353B323032373B323034303B323035323B323036353B323037383B323039303B323130340D0A523D323131373B323133313B323134353B323135393B323137333B323138373B323230313B323231363B323233313B323234370D0A523D323236323B323237373B323239333B323330393B323332353B323334323B323335393B323337363B323339333B323431300D0A523D323432383B323434373B323436353B323438343B323530333B323532323B323534313B323536313B323538313B323630310D0A523D323632313B323634323B323636333B323638333B323730343B323732353B323734353B323736353B323738353B323830330D0A523D323831393B323833323B323834303B323834303B323833383B323833323B323832363B323832303B323831333B323830360D0A523D323739393B323739333B323738363B323738303B323737343B323736393B323736333B323735373B323735323B323734360D0A523D323734313B323733363B323733313B323732363B323732313B323731363B323731323B323730373B323730333B323639380D0A523D323639343B323639303B323638363B323638323B323637373B323637333B323637303B323636363B323636333B323635390D0A523D323635363B323635323B323634393B323634363B323634333B323634303B323633373B323633343B323633313B323632380D0A523D323632343B323632313B323631383B323631353B323631323B323630393B323630363B323630333B323630303B323539360D0A523D323539333B323538393B323538363B323538323B323537383B323537333B323536393B323536353B323536303B323535360D0A523D323535323B323534373B323534323B323533373B323533333B323532383B323532333B323531383B323531333B323530390D0A523D323530343B323530303B323439363B323439313B323438373B323438333B323437383B323437343B323437303B323436360D0A523D323436323B323435393B323435353B323435313B323434373B323434333B323434303B323433373B323433343B323433310D0A523D323432383B323432363B323432333B323432303B323431373B323431353B323431333B323431303B323430383B323430360D0A523D323430343B323430323B323430303B323339383B323339363B323339353B323339333B323339323B323339303B323338390D0A523D323338373B323338363B323338353B323338343B323338333B323338323B323338313B323338303B323337393B323337390D0A523D323337383B323337383B323337373B323337373B323337373B323337373B323337363B323337363B323337353B323337350D0A523D323337363B323337363B323337363B323337363B323337363B323337363B323337363B323337363B323337353B323337340D0A523D323337323B323336393B323336353B323335383B323335303B323333393B323332383B323331363B323330353B323239320D0A523D323237393B323236363B323235323B323233393B323232363B323231333B323230303B323138373B323137343B323136310D0A523D323134383B323133353B323132323B323131303B323039373B323038353B323037323B323036303B323034383B323033360D0A523D323032353B323031343B323030323B313939313B313938303B313937303B313935393B313934383B313933383B313932370D0A523D313931383B313930383B313839383B313838383B313837393B313837303B313836313B313835323B313834323B313833330D0A523D313832343B313831363B313830373B313739383B313739303B313738323B313737353B313736373B313735393B313735310D0A523D313734343B313733363B313732393B313732323B313731353B313730383B313730313B313639353B313638383B313638320D0A523D313637353B313636393B313636333B313635373B313635313B313634353B313633393B313633343B313632383B313632330D0A523D313631373B313631323B313630373B313630313B313539363B313539313B313538363B313538313B313537363B313537310D0A523D313536373B313536323B313535373B313535333B313534393B313534353B313534313B313533373B313533333B313532390D0A523D313532353B313532313B313531373B313531333B313531303B313530363B313530323B313439393B313439353B313439320D0A523D313438383B313438353B313438323B313437393B313437363B313437333B313437303B313436383B313436353B313436320D0A523D313435393B313435363B313435343B313435323B313435303B313434373B313434353B313434333B313434313B313433380D0A523D313433363B313433343B313433323B313433313B313432393B313432373B313432353B313432343B313432323B313432310D0A523D313431393B313431383B313431363B313431343B313431333B313431323B313431313B313431303B313430393B313430380D0A523D313430363B313430353B313430343B313430343B313430333B313430323B313430313B313430313B313430303B313430300D0A523D313339393B313339393B313339393B313339393B313339383B313339383B313339383B313339383B313339373B313339370D0A523D313339373B313339383B313339383B313339383B313339383B313339383B313339383B313339393B313339393B313339390D0A523D313339393B313430303B313430303B313430313B313430313B313430323B313430323B313430333B313430343B313430350D0A523D313430353B313430373B313430373B313430383B313430393B313431303B313431313B313431323B313431333B313431350D0A523D313431363B313431373B313431383B313432303B313432313B313432333B313432343B313432363B313432383B313433300D0A523D313433313B313433333B313433353B313433373B313433393B313434313B313434333B313434353B313434373B313434390D0A523D313435323B313435353B313435373B313436303B313436323B313436353B313436373B313437303B313437333B313437360D0A523D313437393B313438313B313438343B313438383B313439313B313439343B313439383B313530313B313530343B313530370D0A523D313531313B313531343B313531383B313532323B313532353B313532393B313533323B313533363B313534303B313534340D0A523D313534383B313535313B313535353B313535393B313536333B313536383B313537323B313537363B313538313B313538350D0A523D313539303B313539343B313539393B313630343B313630383B313631333B313631393B313632343B313633303B313633350D0A523D313634303B313634363B313635313B313635373B313636333B313636393B313637353B313638313B313638383B313639360D0A523D313730333B313731313B313731373B313732333B313733303B313733373B313734343B313735323B313735393B313736360D0A523D313737333B313738303B313738383B313739363B313830343B313831333B313832333B313833323B313834323B313835310D0A523D313836303B313836383B313837383B313838373B313839353B313930343B313931353B313932353B313933343B313934340D0A523D313935353B313936353B313937353B313938363B313939373B323030383B323031393B323033303B323034323B323035340D0A523D323036353B323037373B323038393B323130313B323131333B323132363B323134303B323135333B323136363B323138300D0A523D323139333B323230373B323232313B323233363B323235313B323236363B323238313B323239363B323331303B323332360D0A523D323334313B323335373B323337333B323338393B323430363B323432323B323433393B323435363B323437343B323439310D0A523D323530393B323532373B323534353B323536333B323538323B323630313B323631393B323633373B323635353B323637340D0A523D323639323B323730393B323732353B323733393B323734353B323734373B323734343B323734303B323733363B323733320D0A523D323732373B323732333B323731383B323731343B323730393B323730353B323730313B323639373B323639333B323638390D0A523D323638353B323638323B323637383B323637353B323637313B323636383B323636343B323636313B323635383B323635340D0A523D323635323B323634393B323634373B323634343B323634323B323633393B323633363B323633343B323633323B323633300D0A523D323632383B323632363B323632353B323632333B323632323B323632303B323631393B323631373B323631363B323631350D0A523D323631343B323631333B323631323B323631323B323631313B323631313B323631303B323631303B323631303B323631300D0A56424F583D32372E39353B32372E39350D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35362E38303B35362E38300D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                    }

                    if ($data['calibre'] ==
                        17) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3133382E3537303B3133382E3537300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35302E31323B35302E31320D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323434343B323434373B323434393B323435323B323435353B323435383B323436303B323436343B323436373B323437300D0A523D323437333B323437363B323437393B323438323B323438353B323438383B323439313B323439343B323439373B323530300D0A523D323530343B323530373B323531313B323531343B323531383B323532323B323532353B323533303B323533333B323533370D0A523D323534313B323534363B323535303B323535343B323535393B323536333B323536373B323537323B323537363B323538310D0A523D323538353B323539303B323539353B323630303B323630353B323630393B323631343B323631393B323632333B323632380D0A523D323633323B323633373B323634313B323634353B323634393B323635333B323635373B323636303B323636323B323636330D0A523D323636343B323636353B323636353B323636333B323636303B323635363B323635303B323634333B323633343B323632340D0A523D323631333B323630313B323538383B323537353B323536313B323534363B323533323B323531373B323530323B323438370D0A523D323437313B323435363B323434303B323432363B323431313B323339363B323338313B323336363B323335313B323333370D0A523D323332333B323330393B323239353B323238313B323236383B323235343B323234313B323232383B323231363B323230330D0A523D323139313B323137393B323136373B323135343B323134323B323133313B323131393B323130373B323039353B323038340D0A523D323037333B323036333B323035323B323034313B323033303B323032303B323031303B323030303B313939303B313938300D0A523D313937313B313936323B313935333B313934343B313933363B313932373B313931383B313931303B313930313B313839330D0A523D313838353B313837373B313836393B313836323B313835343B313834363B313833393B313833313B313832343B313831360D0A523D313830393B313830313B313739343B313738373B313738313B313737343B313736373B313736313B313735343B313734380D0A523D313734313B313733353B313732393B313732333B313731373B313731313B313730353B313730303B313639343B313638390D0A523D313638333B313637373B313637323B313636363B313636313B313635363B313635303B313634353B313634303B313633350D0A523D313633313B313632353B313632303B313631363B313631323B313630383B313630333B313539383B313539343B313539300D0A523D313538363B313538323B313537383B313537333B313537303B313536363B313536323B313535393B313535353B313535320D0A523D313534393B313534353B313534323B313533393B313533363B313533333B313533303B313532373B313532343B313532310D0A523D313531383B313531353B313531323B313530393B313530373B313530343B313530323B313439393B313439373B313439350D0A523D313439323B313439303B313438383B313438363B313438343B313438333B313438313B313437393B313437373B313437360D0A523D313437343B313437333B313437313B313437303B313436393B313436373B313436363B313436353B313436343B313436330D0A523D313436313B313436303B313435393B313435393B313435383B313435373B313435363B313435363B313435353B313435350D0A523D313435343B313435333B313435323B313435323B313435313B313435313B313435303B313435303B313435303B313435300D0A523D313434393B313434393B313434393B313434393B313434393B313434393B313434393B313434393B313434393B313435300D0A523D313435303B313435303B313435303B313435303B313435303B313435313B313435313B313435323B313435333B313435340D0A523D313435343B313435363B313435363B313435373B313435383B313435393B313436303B313436313B313436323B313436340D0A523D313436353B313436373B313436383B313436393B313437303B313437323B313437333B313437343B313437353B313437360D0A523D313437373B313437393B313438313B313438333B313438363B313438383B313439303B313439323B313439343B313439360D0A523D313439383B313530303B313530333B313530363B313530393B313531323B313531363B313531393B313532313B313532330D0A523D313532363B313532383B313533313B313533333B313533363B313533393B313534323B313534353B313534383B313535310D0A523D313535353B313535383B313536323B313536363B313537303B313537343B313537373B313538313B313538353B313539300D0A523D313539343B313539383B313630323B313630363B313631313B313631363B313632303B313632353B313633303B313633350D0A523D313634303B313634353B313635303B313635363B313636313B313636363B313637323B313637373B313638333B313638390D0A523D313639343B313639393B313730353B313731313B313731373B313732333B313732393B313733353B313734313B313734370D0A523D313735333B313736303B313736363B313737323B313737393B313738363B313739333B313830303B313830373B313831340D0A523D313832323B313832393B313833373B313834353B313835333B313836313B313836393B313837373B313838363B313839350D0A523D313930333B313931313B313932313B313933303B313933383B313934373B313935363B313936363B313937353B313938350D0A523D313939363B323030363B323031363B323032363B323033363B323034363B323035363B323036363B323037373B323038370D0A523D323039383B323130393B323132303B323133323B323134343B323135353B323136373B323137393B323139323B323230340D0A523D323231373B323233303B323234333B323235363B323237303B323238333B323239373B323331313B323332353B323334300D0A523D323335353B323336393B323338343B323339393B323431343B323432383B323434333B323435393B323437343B323438390D0A523D323530353B323532303B323533353B323534393B323536323B323537353B323538373B323539373B323630353B323631320D0A523D323631353B323631353B323631353B323631343B323631333B323631323B323631313B323630393B323630373B323630350D0A523D323630323B323539393B323539353B323539323B323538393B323538363B323538333B323537393B323537373B323537340D0A523D323537313B323536383B323536353B323536323B323535383B323535343B323535313B323534373B323534353B323534320D0A523D323534303B323533373B323533353B323533333B323533313B323532393B323532373B323532353B323532343B323532330D0A523D323532313B323532303B323531393B323531383B323531373B323531363B323531353B323531333B323531323B323531320D0A523D323531313B323531303B323530393B323530383B323530373B323530373B323530363B323530363B323530353B323530350D0A523D323530343B323530343B323530343B323530343B323530343B323530333B323530333B323530343B323530343B323530350D0A523D323530353B323530353B323530353B323530363B323530373B323530383B323530393B323531303B323531313B323531320D0A523D323531333B323531353B323531363B323531373B323531393B323532303B323532323B323532333B323532353B323532370D0A523D323532393B323533313B323533343B323533363B323533383B323534303B323534323B323534343B323534363B323534380D0A523D323535303B323535333B323535363B323535393B323536323B323536343B323536373B323537303B323537333B323537370D0A523D323538303B323538333B323538363B323538393B323539333B323539363B323539393B323630323B323630353B323630380D0A523D323631313B323631343B323631373B323631393B323632313B323632333B323632343B323632353B323632353B323632340D0A523D323632333B323632313B323631373B323631303B323630333B323539333B323538323B323536393B323535363B323534310D0A523D323532373B323531333B323439383B323438343B323436393B323435343B323433393B323432343B323430393B323339340D0A523D323337393B323336343B323334393B323333353B323332313B323330373B323239333B323237393B323236363B323235330D0A523D323234303B323232363B323231333B323230313B323138383B323137363B323136333B323135303B323133383B323132360D0A523D323131353B323130333B323039313B323037393B323036383B323035373B323034363B323033353B323032343B323031330D0A523D323030323B313939323B313938323B313937313B313936323B313935323B313934323B313933333B313932333B313931340D0A523D313930343B313839353B313838343B313837343B313836343B313835353B313834363B313833383B313833303B313832330D0A523D313831353B313830383B313830313B313739333B313738353B313737363B313736393B313736313B313735343B313734370D0A523D313734313B313733343B313732373B313732313B313731343B313730383B313730323B313639373B313639313B313638350D0A523D313637393B313637343B313636393B313636333B313635383B313635333B313634383B313634333B313633383B313633330D0A523D313632393B313632333B313631383B313631343B313630393B313630353B313630313B313539363B313539323B313538380D0A523D313538343B313538303B313537363B313537313B313536383B313536343B313536303B313535373B313535333B313535300D0A523D313534363B313534323B313533393B313533363B313533333B313533303B313532373B313532343B313532313B313531380D0A523D313531353B313531323B313530393B313530363B313530343B313530313B313439393B313439373B313439353B313439320D0A523D313439303B313438383B313438363B313438343B313438323B313438313B313437393B313437373B313437353B313437340D0A523D313437323B313437313B313437303B313436383B313436373B313436353B313436343B313436333B313436323B313436310D0A523D313436303B313435393B313435383B313435373B313435363B313435363B313435353B313435343B313435333B313435330D0A523D313435323B313435323B313435323B313435323B313435313B313435313B313435303B313435303B313435303B313435300D0A523D313435313B313435313B313435313B313435313B313435313B313435313B313435313B313435323B313435323B313435330D0A523D313435333B313435343B313435343B313435353B313435363B313435373B313435373B313435383B313435393B313436300D0A523D313436313B313436333B313436343B313436353B313436363B313436373B313436393B313437303B313437313B313437330D0A523D313437343B313437363B313437383B313438303B313438313B313438333B313438353B313438373B313438393B313439310D0A523D313439333B313439353B313439383B313530303B313530323B313530343B313530373B313530393B313531323B313531350D0A523D313531383B313532313B313532343B313532373B313533303B313533333B313533363B313533393B313534323B313534350D0A523D313534383B313535323B313535353B313535393B313536323B313536363B313537303B313537343B313537383B313538320D0A523D313538363B313539303B313539353B313539393B313630333B313630383B313631323B313631363B313632303B313632350D0A523D313633303B313633353B313634303B313634343B313634393B313635343B313635393B313636343B313637303B313637350D0A523D313638313B313638363B313639313B313639373B313730323B313730383B313731343B313732303B313732363B313733320D0A523D313733393B313734353B313735323B313735393B313736353B313737323B313737393B313738363B313739333B313830300D0A523D313830363B313831343B313832313B313832393B313833363B313834333B313835313B313835393B313836373B313837350D0A523D313838333B313839303B313839383B313930373B313931353B313932333B313933313B313933393B313934383B313935370D0A523D313936363B313937343B313938333B313939323B323030313B323031303B323031393B323032383B323033373B323034360D0A523D323035363B323036353B323037353B323038343B323039343B323130343B323131333B323132333B323133333B323134320D0A523D323135313B323136313B323137303B323137393B323138373B323139363B323230343B323231323B323231393B323232360D0A523D323233323B323233373B323234313B323234353B323234393B323235313B323235343B323235373B323235393B323236310D0A523D323236323B323236343B323236363B323236373B323236383B323237303B323237313B323237323B323237333B323237350D0A523D323237363B323237373B323237393B323238303B323238313B323238323B323238343B323238353B323238373B323238380D0A523D323239303B323239313B323239333B323239343B323239363B323239383B323330303B323330323B323330343B323330360D0A523D323330383B323331303B323331323B323331343B323331363B323331393B323332313B323332343B323332363B323332390D0A523D323333323B323333343B323333373B323333393B323334323B323334353B323334383B323335313B323335343B323335370D0A523D323335393B323336323B323336353B323336383B323337313B323337343B323337373B323337393B323338323B323338350D0A523D323338383B323339313B323339343B323339373B323430303B323430333B323430363B323430393B323431313B323431340D0A523D323431373B323432303B323432333B323432353B323432383B323433313B323433343B323433363B323433393B323434310D0A545243464D543D313B313030303B453B4C3B460D0A523D323530343B323530353B323530353B323530363B323530363B323530373B323530373B323530383B323530393B323531300D0A523D323531313B323531323B323531323B323531333B323531353B323531363B323531373B323531383B323531393B323532300D0A523D323532313B323532333B323532343B323532353B323532373B323532393B323533313B323533333B323533353B323533370D0A523D323534303B323534323B323534353B323534373B323535313B323535343B323535383B323536323B323536353B323536380D0A523D323537313B323537343B323537373B323537393B323538333B323538363B323538393B323539323B323539353B323539390D0A523D323630323B323630353B323630373B323630393B323631313B323631323B323631333B323631343B323631353B323631350D0A523D323631353B323631323B323630353B323539373B323538373B323537353B323536323B323534393B323533353B323532300D0A523D323530353B323438393B323437343B323435393B323434333B323432383B323431343B323339393B323338343B323336390D0A523D323335353B323334303B323332353B323331313B323239373B323238333B323237303B323235363B323234333B323233300D0A523D323231373B323230343B323139323B323137393B323136373B323135353B323134343B323133323B323132303B323130390D0A523D323039383B323038373B323037373B323036363B323035363B323034363B323033363B323032363B323031363B323030360D0A523D313939363B313938353B313937353B313936363B313935363B313934373B313933383B313933303B313932313B313931310D0A523D313930333B313839353B313838363B313837373B313836393B313836313B313835333B313834353B313833373B313832390D0A523D313832323B313831343B313830373B313830303B313739333B313738363B313737393B313737323B313736363B313736300D0A523D313735333B313734373B313734313B313733353B313732393B313732333B313731373B313731313B313730353B313639390D0A523D313639343B313638393B313638333B313637373B313637323B313636363B313636313B313635363B313635303B313634350D0A523D313634303B313633353B313633303B313632353B313632303B313631363B313631313B313630363B313630323B313539380D0A523D313539343B313539303B313538353B313538313B313537373B313537343B313537303B313536363B313536323B313535380D0A523D313535353B313535313B313534383B313534353B313534323B313533393B313533363B313533333B313533313B313532380D0A523D313532363B313532333B313532313B313531393B313531363B313531323B313530393B313530363B313530333B313530300D0A523D313439383B313439363B313439343B313439323B313439303B313438383B313438363B313438333B313438313B313437390D0A523D313437373B313437363B313437353B313437343B313437333B313437323B313437303B313436393B313436383B313436370D0A523D313436353B313436343B313436323B313436313B313436303B313435393B313435383B313435373B313435363B313435360D0A523D313435343B313435343B313435333B313435323B313435313B313435313B313435303B313435303B313435303B313435300D0A523D313435303B313435303B313434393B313434393B313434393B313434393B313434393B313434393B313434393B313434390D0A523D313434393B313435303B313435303B313435303B313435303B313435313B313435313B313435323B313435323B313435330D0A523D313435343B313435353B313435353B313435363B313435363B313435373B313435383B313435393B313435393B313436300D0A523D313436313B313436333B313436343B313436353B313436363B313436373B313436393B313437303B313437313B313437330D0A523D313437343B313437363B313437373B313437393B313438313B313438333B313438343B313438363B313438383B313439300D0A523D313439323B313439353B313439373B313439393B313530323B313530343B313530373B313530393B313531323B313531350D0A523D313531383B313532313B313532343B313532373B313533303B313533333B313533363B313533393B313534323B313534350D0A523D313534393B313535323B313535353B313535393B313536323B313536363B313537303B313537333B313537383B313538320D0A523D313538363B313539303B313539343B313539383B313630333B313630383B313631323B313631363B313632303B313632350D0A523D313633313B313633353B313634303B313634353B313635303B313635363B313636313B313636363B313637323B313637370D0A523D313638333B313638393B313639343B313730303B313730353B313731313B313731373B313732333B313732393B313733350D0A523D313734313B313734383B313735343B313736313B313736373B313737343B313738313B313738373B313739343B313830310D0A523D313830393B313831363B313832343B313833313B313833393B313834363B313835343B313836323B313836393B313837370D0A523D313838353B313839333B313930313B313931303B313931383B313932373B313933363B313934343B313935333B313936320D0A523D313937313B313938303B313939303B323030303B323031303B323032303B323033303B323034313B323035323B323036330D0A523D323037333B323038343B323039353B323130373B323131393B323133313B323134323B323135343B323136373B323137390D0A523D323139313B323230333B323231363B323232383B323234313B323235343B323236383B323238313B323239353B323330390D0A523D323332333B323333373B323335313B323336363B323338313B323339363B323431313B323432363B323434303B323435360D0A523D323437313B323438373B323530323B323531373B323533323B323534363B323536313B323537353B323538383B323630310D0A523D323631333B323632343B323633343B323634333B323635303B323635363B323636303B323636333B323636353B323636350D0A523D323636343B323636333B323636323B323636303B323635373B323635333B323634393B323634353B323634313B323633370D0A523D323633323B323632383B323632333B323631393B323631343B323630393B323630353B323630303B323539353B323539300D0A523D323538353B323538313B323537363B323537323B323536373B323536333B323535393B323535343B323535303B323534360D0A523D323534313B323533373B323533333B323533303B323532353B323532323B323531383B323531343B323531313B323530370D0A523D323530343B323530303B323439373B323439343B323439313B323438383B323438353B323438323B323437393B323437360D0A523D323437333B323437303B323436373B323436343B323436303B323435383B323435353B323435323B323434393B323434370D0A523D323434343B323434313B323433393B323433363B323433343B323433313B323432383B323432353B323432333B323432300D0A523D323431373B323431343B323431313B323430393B323430363B323430333B323430303B323339373B323339343B323339310D0A523D323338383B323338353B323338323B323337393B323337373B323337343B323337313B323336383B323336353B323336320D0A523D323335393B323335373B323335343B323335313B323334383B323334353B323334323B323333393B323333373B323333340D0A523D323333323B323332393B323332363B323332343B323332313B323331393B323331363B323331343B323331323B323331300D0A523D323330383B323330363B323330343B323330323B323330303B323239383B323239363B323239343B323239333B323239310D0A523D323239303B323238383B323238373B323238353B323238343B323238323B323238313B323238303B323237393B323237370D0A523D323237363B323237353B323237333B323237323B323237313B323237303B323236383B323236373B323236363B323236340D0A523D323236323B323236313B323235393B323235373B323235343B323235313B323234393B323234353B323234313B323233370D0A523D323233323B323232363B323231393B323231323B323230343B323139363B323138373B323137393B323137303B323136310D0A523D323135313B323134323B323133333B323132333B323131333B323130343B323039343B323038343B323037353B323036350D0A523D323035363B323034363B323033373B323032383B323031393B323031303B323030313B313939323B313938333B313937340D0A523D313936363B313935373B313934383B313933393B313933313B313932333B313931353B313930373B313839383B313839300D0A523D313838333B313837353B313836373B313835393B313835313B313834333B313833363B313832393B313832313B313831340D0A523D313830363B313830303B313739333B313738363B313737393B313737323B313736353B313735393B313735323B313734350D0A523D313733393B313733323B313732363B313732303B313731343B313730383B313730323B313639373B313639313B313638360D0A523D313638313B313637353B313637303B313636343B313635393B313635343B313634393B313634343B313634303B313633350D0A523D313633303B313632353B313632303B313631363B313631323B313630383B313630333B313539393B313539353B313539300D0A523D313538363B313538323B313537383B313537343B313537303B313536363B313536323B313535393B313535353B313535320D0A523D313534383B313534353B313534323B313533393B313533363B313533333B313533303B313532373B313532343B313532310D0A523D313531383B313531353B313531323B313530393B313530373B313530343B313530323B313530303B313439383B313439350D0A523D313439333B313439313B313438393B313438373B313438353B313438333B313438313B313438303B313437383B313437360D0A523D313437343B313437333B313437313B313437303B313436393B313436373B313436363B313436353B313436343B313436330D0A523D313436313B313436303B313435393B313435383B313435373B313435373B313435363B313435353B313435343B313435340D0A523D313435333B313435333B313435323B313435323B313435313B313435313B313435313B313435313B313435313B313435310D0A523D313435313B313435303B313435303B313435303B313435303B313435313B313435313B313435323B313435323B313435320D0A523D313435323B313435333B313435333B313435343B313435353B313435363B313435363B313435373B313435383B313435390D0A523D313436303B313436313B313436323B313436333B313436343B313436353B313436373B313436383B313437303B313437310D0A523D313437323B313437343B313437353B313437373B313437393B313438313B313438323B313438343B313438363B313438380D0A523D313439303B313439323B313439353B313439373B313439393B313530313B313530343B313530363B313530393B313531320D0A523D313531353B313531383B313532313B313532343B313532373B313533303B313533333B313533363B313533393B313534320D0A523D313534363B313535303B313535333B313535373B313536303B313536343B313536383B313537313B313537363B313538300D0A523D313538343B313538383B313539323B313539363B313630313B313630353B313630393B313631343B313631383B313632330D0A523D313632393B313633333B313633383B313634333B313634383B313635333B313635383B313636333B313636393B313637340D0A523D313637393B313638353B313639313B313639373B313730323B313730383B313731343B313732313B313732373B313733340D0A523D313734313B313734373B313735343B313736313B313736393B313737363B313738353B313739333B313830313B313830380D0A523D313831353B313832333B313833303B313833383B313834363B313835353B313836343B313837343B313838343B313839350D0A523D313930343B313931343B313932333B313933333B313934323B313935323B313936323B313937313B313938323B313939320D0A523D323030323B323031333B323032343B323033353B323034363B323035373B323036383B323037393B323039313B323130330D0A523D323131353B323132363B323133383B323135303B323136333B323137363B323138383B323230313B323231333B323232360D0A523D323234303B323235333B323236363B323237393B323239333B323330373B323332313B323333353B323334393B323336340D0A523D323337393B323339343B323430393B323432343B323433393B323435343B323436393B323438343B323439383B323531330D0A523D323532373B323534313B323535363B323536393B323538323B323539333B323630333B323631303B323631373B323632310D0A523D323632333B323632343B323632353B323632353B323632343B323632333B323632313B323631393B323631373B323631340D0A523D323631313B323630383B323630353B323630323B323539393B323539363B323539333B323538393B323538363B323538330D0A523D323538303B323537373B323537333B323537303B323536373B323536343B323536323B323535393B323535363B323535330D0A523D323535303B323534383B323534363B323534343B323534323B323534303B323533383B323533363B323533343B323533310D0A523D323532393B323532373B323532353B323532333B323532323B323532303B323531393B323531373B323531363B323531350D0A523D323531333B323531323B323531313B323531303B323530393B323530383B323530373B323530363B323530353B323530350D0A523D323530353B323530353B323530343B323530343B323530333B323530333B323530343B323530343B323530343B323530340D0A56424F583D32392E30323B32392E30320D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35332E33303B35332E33300D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                    }

                    if ($data['calibre'] ==
                        18) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3133342E3132303B3133342E3132300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D34392E30363B34392E30360D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323434373B323434393B323435303B323435313B323435323B323435333B323435343B323435353B323435363B323435370D0A523D323435373B323435383B323435383B323435383B323435383B323435383B323435383B323435383B323435383B323435370D0A523D323435373B323435353B323435353B323435343B323435343B323435333B323435323B323435313B323435303B323434390D0A523D323434383B323434373B323434363B323434353B323434343B323434323B323434313B323434303B323433393B323433380D0A523D323433373B323433363B323433353B323433343B323433333B323433323B323433313B323433303B323432383B323432370D0A523D323432353B323432343B323432323B323431393B323431373B323431343B323431323B323431303B323430383B323430350D0A523D323430323B323339393B323339363B323339333B323339303B323338363B323338333B323338303B323337363B323337330D0A523D323336393B323336363B323336323B323335383B323335353B323335313B323334373B323334333B323333393B323333350D0A523D323333313B323332373B323332333B323331393B323331353B323331313B323330373B323330323B323239373B323239330D0A523D323238383B323238343B323237393B323237343B323237303B323236353B323236303B323235353B323235303B323234360D0A523D323234313B323233363B323233313B323232363B323232313B323231353B323231303B323230353B323230303B323139350D0A523D323139303B323138353B323138303B323137343B323137303B323136353B323136303B323135353B323135303B323134350D0A523D323134303B323133343B323132393B323132343B323131393B323131343B323130393B323130353B323130303B323039350D0A523D323038393B323038343B323038303B323037353B323037313B323036363B323036313B323035363B323035303B323034350D0A523D323034313B323033363B323033323B323032373B323032323B323031383B323031333B323030393B323030343B313939390D0A523D313939353B313939313B313938363B313938323B313937373B313937333B313936393B313936353B313936313B313935370D0A523D313935333B313934393B313934343B313934303B313933363B313933333B313932393B313932353B313932313B313931370D0A523D313931343B313931303B313930373B313930333B313839393B313839353B313839313B313838383B313838353B313838310D0A523D313837383B313837343B313837313B313836373B313836343B313836313B313835383B313835353B313835313B313834380D0A523D313834353B313834323B313833393B313833373B313833343B313833323B313832393B313832373B313832343B313832320D0A523D313831393B313831363B313831343B313831313B313830393B313830373B313830353B313830323B313830303B313739380D0A523D313739363B313739343B313739323B313739303B313738383B313738373B313738353B313738333B313738313B313738300D0A523D313737383B313737373B313737353B313737343B313737333B313737313B313737303B313736393B313736383B313736360D0A523D313736353B313736333B313736323B313736323B313736313B313736303B313735393B313735383B313735373B313735370D0A523D313735363B313735353B313735343B313735343B313735333B313735333B313735323B313735323B313735323B313735320D0A523D313735313B313735313B313735313B313735313B313735313B313735313B313735313B313735313B313735313B313735310D0A523D313735313B313735323B313735323B313735323B313735323B313735333B313735333B313735343B313735343B313735340D0A523D313735343B313735353B313735353B313735363B313735363B313735373B313735373B313735383B313735393B313736300D0A523D313736313B313736323B313736333B313736343B313736353B313736363B313736373B313736393B313737303B313737310D0A523D313737323B313737343B313737363B313737373B313737383B313737393B313738313B313738323B313738343B313738360D0A523D313738383B313738393B313739313B313739333B313739353B313739363B313739383B313830303B313830323B313830350D0A523D313830373B313830393B313831303B313831323B313831343B313831363B313831383B313832303B313832323B313832340D0A523D313832363B313832393B313833313B313833343B313833373B313834303B313834333B313834373B313835303B313835320D0A523D313835353B313835383B313836313B313836343B313836373B313837303B313837333B313837363B313837393B313838320D0A523D313838353B313838383B313839313B313839343B313839373B313930303B313930333B313930373B313931303B313931350D0A523D313931383B313932323B313932363B313933303B313933343B313933373B313934313B313934343B313934383B313935320D0A523D313935373B313936313B313936353B313936393B313937333B313937373B313938313B313938353B313939303B313939340D0A523D313939393B323030333B323030373B323031313B323031353B323032303B323032353B323032393B323033343B323033380D0A523D323034323B323034373B323035323B323035373B323036313B323036353B323037303B323037353B323038303B323038350D0A523D323039303B323039363B323130313B323130363B323131313B323131363B323132323B323132373B323133323B323133370D0A523D323134323B323134373B323135323B323135373B323136323B323136373B323137323B323137373B323138323B323138370D0A523D323139323B323139383B323230333B323230393B323231343B323231393B323232343B323232393B323233343B323233390D0A523D323234333B323234393B323235353B323236303B323236353B323236393B323237343B323237393B323238343B323238390D0A523D323239343B323239393B323330333B323330383B323331323B323331363B323332313B323332363B323333303B323333350D0A523D323333393B323334333B323334373B323335323B323335363B323336303B323336343B323336383B323337323B323337350D0A523D323337393B323338333B323338373B323339303B323339333B323339363B323339393B323430323B323430353B323430380D0A523D323431313B323431333B323431363B323431393B323432323B323432343B323432373B323433303B323433333B323433360D0A523D323433383B323434303B323434313B323434323B323434333B323434333B323434343B323434353B323434363B323434370D0A523D323434383B323434383B323434373B323434373B323434383B323434393B323435303B323435313B323435323B323435320D0A523D323435323B323435323B323435313B323435313B323435313B323435323B323435333B323435333B323435333B323435320D0A523D323435313B323435313B323435313B323435313B323435313B323435313B323435313B323435303B323435303B323434390D0A523D323434383B323434373B323434373B323434363B323434343B323434333B323434323B323434313B323433393B323433380D0A523D323433363B323433353B323433333B323433313B323432393B323432373B323432353B323432343B323432323B323432300D0A523D323431383B323431363B323431343B323431323B323431303B323430363B323430333B323339393B323339373B323339340D0A523D323339323B323339303B323338383B323338373B323338343B323338313B323337383B323337363B323337343B323337320D0A523D323337303B323336373B323336353B323336323B323335383B323335353B323335313B323334363B323334313B323333370D0A523D323333333B323333303B323332373B323332333B323332303B323331363B323331323B323330383B323330343B323330310D0A523D323239383B323239353B323239323B323238383B323238343B323238303B323237373B323237333B323236393B323236340D0A523D323236303B323235363B323235313B323234373B323234333B323233383B323233333B323232383B323232343B323231390D0A523D323231353B323231313B323230373B323230323B323139373B323139323B323138383B323138333B323137393B323137350D0A523D323137313B323136373B323136323B323135363B323135313B323134353B323134313B323133363B323133313B323132370D0A523D323132323B323131383B323131333B323130383B323130343B323039393B323039343B323039303B323038353B323038310D0A523D323037363B323037323B323036383B323036333B323035393B323035353B323035303B323034363B323034323B323033380D0A523D323033343B323032393B323032353B323032313B323031373B323031323B323030393B323030353B323030313B313939380D0A523D313939343B313939303B313938363B313938323B313937393B313937353B313937313B313936373B313936343B313936300D0A523D313935363B313935333B313934393B313934353B313934313B313933383B313933353B313933313B313932383B313932340D0A523D313932313B313931373B313931343B313931313B313930373B313930343B313930313B313839383B313839353B313839320D0A523D313838393B313838363B313838333B313838303B313837363B313837333B313837303B313836383B313836353B313836330D0A523D313836303B313835373B313835343B313835323B313834393B313834363B313834343B313834313B313833393B313833360D0A523D313833343B313833313B313832383B313832363B313832333B313832313B313831393B313831373B313831343B313831320D0A523D313831303B313830373B313830353B313830333B313830313B313739393B313739373B313739353B313739343B313739320D0A523D313739303B313738393B313738373B313738363B313738343B313738323B313738303B313737393B313737373B313737360D0A523D313737343B313737333B313737323B313737303B313736393B313736383B313736373B313736363B313736353B313736340D0A523D313736323B313736323B313736313B313736303B313735393B313735393B313735383B313735373B313735363B313735360D0A523D313735353B313735353B313735343B313735343B313735333B313735333B313735333B313735333B313735323B313735320D0A523D313735323B313735313B313735313B313735313B313735313B313735303B313735303B313735303B313735303B313735310D0A523D313735313B313735313B313735313B313735313B313735313B313735323B313735323B313735333B313735333B313735330D0A523D313735333B313735343B313735353B313735363B313735363B313735373B313735373B313735383B313735393B313736300D0A523D313736313B313736323B313736323B313736333B313736343B313736353B313736363B313736373B313736383B313736390D0A523D313737303B313737323B313737333B313737343B313737353B313737363B313737383B313737393B313738313B313738320D0A523D313738343B313738353B313738373B313738383B313739303B313739323B313739343B313739363B313739383B313830300D0A523D313830313B313830333B313830353B313830373B313830393B313831313B313831333B313831353B313831373B313831390D0A523D313832313B313832343B313832363B313832393B313833313B313833343B313833373B313833393B313834323B313834340D0A523D313834373B313834393B313835323B313835343B313835373B313836303B313836333B313836363B313836393B313837320D0A523D313837343B313837383B313838313B313838343B313838373B313839303B313839343B313839373B313930303B313930340D0A523D313930373B313931313B313931353B313931383B313932323B313932353B313932393B313933323B313933353B313933390D0A523D313934323B313934353B313934383B313935323B313935353B313935383B313936323B313936353B313936383B313937320D0A523D313937353B313937393B313938323B313938363B313938393B313939323B313939363B323030303B323030343B323030370D0A523D323031313B323031353B323031383B323032323B323032363B323033303B323033333B323033373B323034313B323034350D0A523D323034393B323035333B323035373B323036313B323036353B323036393B323037333B323037373B323038303B323038340D0A523D323038383B323039323B323039373B323130313B323130353B323130393B323131333B323131373B323132313B323132350D0A523D323132393B323133333B323133383B323134323B323134363B323135303B323135343B323135383B323136323B323136360D0A523D323137303B323137343B323137393B323138333B323138373B323139313B323139353B323139393B323230333B323230380D0A523D323231323B323231363B323232303B323232353B323232393B323233333B323233373B323234313B323234353B323234390D0A523D323235333B323235373B323236313B323236363B323237303B323237343B323237383B323238323B323238363B323239300D0A523D323239343B323239383B323330323B323330363B323331313B323331353B323331393B323332333B323332363B323333300D0A523D323333343B323333383B323334323B323334353B323335303B323335343B323335373B323336313B323336343B323336380D0A523D323337313B323337353B323337393B323338323B323338363B323338393B323339323B323339353B323339383B323430310D0A523D323430343B323430373B323431303B323431323B323431353B323431383B323432303B323432323B323432343B323432370D0A523D323432393B323433323B323433343B323433353B323433373B323433393B323434313B323434323B323434343B323434350D0A545243464D543D313B313030303B453B4C3B460D0A523D323435313B323435323B323435333B323435333B323435333B323435323B323435313B323435313B323435313B323435320D0A523D323435323B323435323B323435323B323435313B323435303B323434393B323434383B323434373B323434373B323434380D0A523D323434383B323434373B323434363B323434353B323434343B323434333B323434333B323434323B323434313B323434300D0A523D323433383B323433363B323433333B323433303B323432373B323432343B323432323B323431393B323431363B323431330D0A523D323431313B323430383B323430353B323430323B323339393B323339363B323339333B323339303B323338373B323338330D0A523D323337393B323337353B323337323B323336383B323336343B323336303B323335363B323335323B323334373B323334330D0A523D323333393B323333353B323333303B323332363B323332313B323331363B323331323B323330383B323330333B323239390D0A523D323239343B323238393B323238343B323237393B323237343B323236393B323236353B323236303B323235353B323234390D0A523D323234333B323233393B323233343B323232393B323232343B323231393B323231343B323230393B323230333B323139380D0A523D323139323B323138373B323138323B323137373B323137323B323136373B323136323B323135373B323135323B323134370D0A523D323134323B323133373B323133323B323132373B323132323B323131363B323131313B323130363B323130313B323039360D0A523D323039303B323038353B323038303B323037353B323037303B323036353B323036313B323035373B323035323B323034370D0A523D323034323B323033383B323033343B323032393B323032353B323032303B323031353B323031313B323030373B323030330D0A523D313939393B313939343B313939303B313938353B313938313B313937373B313937333B313936393B313936353B313936310D0A523D313935373B313935323B313934383B313934343B313934313B313933373B313933343B313933303B313932363B313932320D0A523D313931383B313931353B313931303B313930373B313930333B313930303B313839373B313839343B313839313B313838380D0A523D313838353B313838323B313837393B313837363B313837333B313837303B313836373B313836343B313836313B313835380D0A523D313835353B313835323B313835303B313834373B313834333B313834303B313833373B313833343B313833313B313832390D0A523D313832363B313832343B313832323B313832303B313831383B313831363B313831343B313831323B313831303B313830390D0A523D313830373B313830353B313830323B313830303B313739383B313739363B313739353B313739333B313739313B313738390D0A523D313738383B313738363B313738343B313738323B313738313B313737393B313737383B313737373B313737363B313737340D0A523D313737323B313737313B313737303B313736393B313736373B313736363B313736353B313736343B313736333B313736320D0A523D313736313B313736303B313735393B313735383B313735373B313735373B313735363B313735363B313735353B313735350D0A523D313735343B313735343B313735343B313735343B313735333B313735333B313735323B313735323B313735323B313735320D0A523D313735313B313735313B313735313B313735313B313735313B313735313B313735313B313735313B313735313B313735310D0A523D313735313B313735323B313735323B313735323B313735323B313735333B313735333B313735343B313735343B313735350D0A523D313735363B313735373B313735373B313735383B313735393B313736303B313736313B313736323B313736323B313736330D0A523D313736353B313736363B313736383B313736393B313737303B313737313B313737333B313737343B313737353B313737370D0A523D313737383B313738303B313738313B313738333B313738353B313738373B313738383B313739303B313739323B313739340D0A523D313739363B313739383B313830303B313830323B313830353B313830373B313830393B313831313B313831343B313831360D0A523D313831393B313832323B313832343B313832373B313832393B313833323B313833343B313833373B313833393B313834320D0A523D313834353B313834383B313835313B313835353B313835383B313836313B313836343B313836373B313837313B313837340D0A523D313837383B313838313B313838353B313838383B313839313B313839353B313839393B313930333B313930373B313931300D0A523D313931343B313931373B313932313B313932353B313932393B313933333B313933363B313934303B313934343B313934390D0A523D313935333B313935373B313936313B313936353B313936393B313937333B313937373B313938323B313938363B313939310D0A523D313939353B313939393B323030343B323030393B323031333B323031383B323032323B323032373B323033323B323033360D0A523D323034313B323034353B323035303B323035363B323036313B323036363B323037313B323037353B323038303B323038340D0A523D323038393B323039353B323130303B323130353B323130393B323131343B323131393B323132343B323132393B323133340D0A523D323134303B323134353B323135303B323135353B323136303B323136353B323137303B323137343B323138303B323138350D0A523D323139303B323139353B323230303B323230353B323231303B323231353B323232313B323232363B323233313B323233360D0A523D323234313B323234363B323235303B323235353B323236303B323236353B323237303B323237343B323237393B323238340D0A523D323238383B323239333B323239373B323330323B323330373B323331313B323331353B323331393B323332333B323332370D0A523D323333313B323333353B323333393B323334333B323334373B323335313B323335353B323335383B323336323B323336360D0A523D323336393B323337333B323337363B323338303B323338333B323338363B323339303B323339333B323339363B323339390D0A523D323430323B323430353B323430383B323431303B323431323B323431343B323431373B323431393B323432323B323432340D0A523D323432353B323432373B323432383B323433303B323433313B323433323B323433333B323433343B323433353B323433360D0A523D323433373B323433383B323433393B323434303B323434313B323434323B323434343B323434353B323434363B323434370D0A523D323434383B323434393B323435303B323435313B323435323B323435333B323435343B323435343B323435353B323435350D0A523D323435373B323435373B323435383B323435383B323435383B323435383B323435383B323435383B323435383B323435380D0A523D323435373B323435373B323435363B323435353B323435343B323435333B323435323B323435313B323435303B323434390D0A523D323434373B323434353B323434343B323434323B323434313B323433393B323433373B323433353B323433343B323433320D0A523D323432393B323432373B323432343B323432323B323432303B323431383B323431353B323431323B323431303B323430370D0A523D323430343B323430313B323339383B323339353B323339323B323338393B323338363B323338323B323337393B323337350D0A523D323337313B323336383B323336343B323336313B323335373B323335343B323335303B323334353B323334323B323333380D0A523D323333343B323333303B323332363B323332333B323331393B323331353B323331313B323330363B323330323B323239380D0A523D323239343B323239303B323238363B323238323B323237383B323237343B323237303B323236363B323236313B323235370D0A523D323235333B323234393B323234353B323234313B323233373B323233333B323232393B323232353B323232303B323231360D0A523D323231323B323230383B323230333B323139393B323139353B323139313B323138373B323138333B323137393B323137340D0A523D323137303B323136363B323136323B323135383B323135343B323135303B323134363B323134323B323133383B323133330D0A523D323132393B323132353B323132313B323131373B323131333B323130393B323130353B323130313B323039373B323039320D0A523D323038383B323038343B323038303B323037373B323037333B323036393B323036353B323036313B323035373B323035330D0A523D323034393B323034353B323034313B323033373B323033333B323033303B323032363B323032323B323031383B323031350D0A523D323031313B323030373B323030343B323030303B313939363B313939323B313938393B313938363B313938323B313937390D0A523D313937353B313937323B313936383B313936353B313936323B313935383B313935353B313935323B313934383B313934350D0A523D313934323B313933393B313933353B313933323B313932393B313932353B313932323B313931383B313931353B313931310D0A523D313930373B313930343B313930303B313839373B313839343B313839303B313838373B313838343B313838313B313837380D0A523D313837343B313837323B313836393B313836363B313836333B313836303B313835373B313835343B313835323B313834390D0A523D313834373B313834343B313834323B313833393B313833373B313833343B313833313B313832393B313832363B313832340D0A523D313832313B313831393B313831373B313831353B313831333B313831313B313830393B313830373B313830353B313830330D0A523D313830313B313830303B313739383B313739363B313739343B313739323B313739303B313738383B313738373B313738350D0A523D313738343B313738323B313738313B313737393B313737383B313737363B313737353B313737343B313737333B313737320D0A523D313737303B313736393B313736383B313736373B313736363B313736353B313736343B313736333B313736323B313736320D0A523D313736313B313736303B313735393B313735383B313735373B313735373B313735363B313735363B313735353B313735340D0A523D313735333B313735333B313735333B313735333B313735323B313735323B313735313B313735313B313735313B313735310D0A523D313735313B313735313B313735303B313735303B313735303B313735303B313735313B313735313B313735313B313735310D0A523D313735323B313735323B313735323B313735333B313735333B313735333B313735333B313735343B313735343B313735350D0A523D313735353B313735363B313735363B313735373B313735383B313735393B313735393B313736303B313736313B313736320D0A523D313736323B313736343B313736353B313736363B313736373B313736383B313736393B313737303B313737323B313737330D0A523D313737343B313737363B313737373B313737393B313738303B313738323B313738343B313738363B313738373B313738390D0A523D313739303B313739323B313739343B313739353B313739373B313739393B313830313B313830333B313830353B313830370D0A523D313831303B313831323B313831343B313831373B313831393B313832313B313832333B313832363B313832383B313833310D0A523D313833343B313833363B313833393B313834313B313834343B313834363B313834393B313835323B313835343B313835370D0A523D313836303B313836333B313836353B313836383B313837303B313837333B313837363B313838303B313838333B313838360D0A523D313838393B313839323B313839353B313839383B313930313B313930343B313930373B313931313B313931343B313931370D0A523D313932313B313932343B313932383B313933313B313933353B313933383B313934313B313934353B313934393B313935330D0A523D313935363B313936303B313936343B313936373B313937313B313937353B313937393B313938323B313938363B313939300D0A523D313939343B313939383B323030313B323030353B323030393B323031323B323031373B323032313B323032353B323032390D0A523D323033343B323033383B323034323B323034363B323035303B323035353B323035393B323036333B323036383B323037320D0A523D323037363B323038313B323038353B323039303B323039343B323039393B323130343B323130383B323131333B323131380D0A523D323132323B323132373B323133313B323133363B323134313B323134353B323135313B323135363B323136323B323136370D0A523D323137313B323137353B323137393B323138333B323138383B323139323B323139373B323230323B323230373B323231310D0A523D323231353B323231393B323232343B323232383B323233333B323233383B323234333B323234373B323235313B323235360D0A523D323236303B323236343B323236393B323237333B323237373B323238303B323238343B323238383B323239323B323239350D0A523D323239383B323330313B323330343B323330383B323331323B323331363B323332303B323332333B323332373B323333300D0A523D323333333B323333373B323334313B323334363B323335313B323335353B323335383B323336323B323336353B323336370D0A523D323337303B323337323B323337343B323337363B323337383B323338313B323338343B323338373B323338383B323339300D0A523D323339323B323339343B323339373B323339393B323430333B323430363B323431303B323431323B323431343B323431360D0A523D323431383B323432303B323432323B323432343B323432353B323432373B323432393B323433313B323433333B323433350D0A523D323433363B323433383B323433393B323434313B323434323B323434333B323434343B323434363B323434373B323434370D0A523D323434383B323434393B323435303B323435303B323435313B323435313B323435313B323435313B323435313B323435310D0A56424F583D33352E30353B33352E30350D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D34392E31363B34392E31360D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                    }

                    if ($data['calibre'] ==
                        19) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3135322E3535303B3135322E3535300D0A44424C3D32302E30300D0A455459503D330D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D330D0A4744455054483D302E35303B302E35300D0A4757494454483D302E36303B302E36300D0A48424F583D35332E31343B35332E31340D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323538313B323538343B323538373B323539303B323539333B323539373B323630303B323630343B323630373B323631300D0A523D323631343B323631373B323632313B323632353B323632383B323633323B323633363B323634303B323634343B323634380D0A523D323635323B323635353B323635393B323636333B323636383B323637323B323637363B323638313B323638353B323639300D0A523D323639343B323639393B323730333B323730383B323731333B323731373B323732323B323732373B323733323B323733370D0A523D323734313B323734363B323735313B323735363B323736323B323736373B323737333B323737383B323738333B323738380D0A523D323739343B323739393B323830353B323831303B323831353B323832313B323832363B323833323B323833363B323834310D0A523D323834353B323835303B323835343B323835383B323836323B323836363B323836393B323837323B323837343B323837360D0A523D323837383B323837393B323838313B323838313B323838323B323838313B323837393B323837373B323837343B323837300D0A523D323836353B323835393B323835333B323834363B323833383B323832393B323831393B323830393B323739393B323738380D0A523D323737363B323736343B323735333B323734303B323732383B323731353B323730323B323638393B323637363B323636330D0A523D323635303B323633363B323632333B323631303B323539373B323538343B323537313B323535383B323534343B323533310D0A523D323531383B323530353B323439323B323438303B323436373B323435353B323434333B323433313B323431393B323430370D0A523D323339353B323338343B323337333B323336323B323335303B323333393B323332383B323331373B323330373B323239360D0A523D323238353B323237353B323236343B323235343B323234343B323233353B323232353B323231353B323230363B323139370D0A523D323138383B323137393B323136393B323136303B323135323B323134333B323133353B323132373B323131393B323131300D0A523D323130323B323039343B323038363B323037383B323037313B323036343B323035363B323034393B323034323B323033360D0A523D323032393B323032323B323031363B323031303B323030333B313939373B313939313B313938353B313938303B313937340D0A523D313936393B313936333B313935373B313935323B313934363B313934313B313933363B313933313B313932373B313932320D0A523D313931373B313931323B313930373B313930333B313839383B313839343B313839303B313838353B313838313B313837370D0A523D313837333B313836393B313836353B313836303B313835373B313835333B313834393B313834353B313834323B313833390D0A523D313833353B313833323B313832383B313832353B313832323B313831393B313831363B313831333B313831313B313830380D0A523D313830353B313830333B313830303B313739383B313739353B313739333B313739313B313738383B313738363B313738330D0A523D313738313B313738303B313737383B313737363B313737343B313737323B313737313B313736393B313736383B313736360D0A523D313736353B313736333B313736323B313736313B313736303B313735393B313735383B313735373B313735363B313735350D0A523D313735343B313735333B313735323B313735323B313735313B313735313B313735303B313735303B313735303B313735300D0A523D313734393B313734393B313734393B313734383B313734383B313734383B313734383B313734383B313734383B313734370D0A523D313734373B313734373B313734373B313734383B313734383B313734383B313734383B313734393B313735303B313735310D0A523D313735323B313735333B313735343B313735353B313735353B313735363B313735373B313735383B313735393B313736300D0A523D313736303B313736313B313736323B313736343B313736353B313736373B313736393B313737313B313737333B313737350D0A523D313737373B313737393B313738323B313738343B313738373B313738393B313739323B313739343B313739373B313830300D0A523D313830333B313830363B313830393B313831323B313831353B313831383B313832303B313832333B313832373B313833300D0A523D313833333B313833363B313833393B313834333B313834363B313835303B313835343B313835373B313836323B313836360D0A523D313837303B313837343B313837383B313838323B313838363B313839313B313839353B313839393B313930333B313930380D0A523D313931333B313931373B313932323B313932373B313933323B313933373B313934313B313934363B313935323B313935370D0A523D313936333B313936393B313937343B313938303B313938353B313939313B313939373B323030333B323030393B323031360D0A523D323032333B323032393B323033363B323034333B323034393B323035363B323036333B323037313B323037383B323038350D0A523D323039323B323130303B323130383B323131363B323132343B323133323B323134303B323134383B323135373B323136350D0A523D323137333B323138323B323139313B323230303B323230393B323231393B323232383B323233373B323234373B323235370D0A523D323236373B323237373B323238373B323239373B323330373B323331373B323332383B323333383B323334393B323336300D0A523D323337303B323338313B323339323B323430343B323431353B323432373B323433383B323435303B323436323B323437340D0A523D323438353B323439373B323531303B323532323B323533343B323534353B323535373B323536393B323538313B323539330D0A523D323630353B323631373B323632383B323633393B323635313B323636323B323637333B323638343B323639343B323730350D0A523D323731353B323732343B323733333B323734323B323735303B323735383B323736353B323737323B323737383B323738340D0A523D323738393B323739333B323739363B323739383B323739393B323739393B323739393B323739383B323739373B323739360D0A523D323739353B323739333B323739313B323738393B323738373B323738353B323738323B323737393B323737363B323737330D0A523D323736393B323736363B323736323B323735393B323735363B323735323B323734393B323734353B323734323B323733390D0A523D323733353B323733323B323732393B323732363B323732333B323731393B323731363B323731323B323731303B323730370D0A523D323730343B323730313B323639393B323639363B323639333B323639303B323638373B323638353B323638323B323638300D0A523D323637373B323637353B323637323B323637303B323636383B323636363B323636343B323636323B323636303B323635380D0A523D323635353B323635333B323635313B323635303B323634383B323634373B323634363B323634363B323634353B323634350D0A523D323634353B323634343B323634333B323634323B323634323B323634313B323634313B323634313B323634313B323634310D0A523D323634313B323634303B323634303B323633393B323633393B323633383B323633373B323633373B323633373B323633380D0A523D323633393B323634313B323634313B323634323B323634323B323634333B323634343B323634353B323634363B323634370D0A523D323634383B323635303B323635313B323635323B323635333B323635353B323635363B323635383B323636303B323636320D0A523D323636343B323636363B323636383B323637303B323637333B323637353B323637373B323637393B323638313B323638330D0A523D323638363B323638393B323639313B323639343B323639363B323639393B323730313B323730343B323730363B323730390D0A523D323731323B323731353B323731383B323732313B323732343B323732363B323732393B323733313B323733323B323733340D0A523D323733363B323733373B323733383B323733393B323734303B323734303B323734303B323734303B323734303B323734300D0A523D323733393B323733383B323733363B323733333B323732393B323732343B323731393B323731323B323730363B323639380D0A523D323639303B323638323B323637333B323636343B323635343B323634343B323633343B323632343B323631333B323630330D0A523D323539323B323538313B323537303B323535393B323534383B323533363B323532353B323531343B323530323B323439310D0A523D323438303B323436393B323435373B323434353B323433343B323432343B323431323B323430313B323339313B323338300D0A523D323337303B323336303B323335303B323333393B323332393B323331383B323330383B323239383B323238383B323237380D0A523D323236383B323235393B323234393B323233393B323233303B323232313B323231323B323230343B323139353B323138360D0A523D323137373B323136393B323136313B323135333B323134343B323133363B323132383B323132303B323131323B323130350D0A523D323039373B323038393B323038323B323037343B323036373B323036303B323035333B323034363B323033383B323033320D0A523D323032353B323031383B323031323B323030363B313939393B313939333B313938373B313938303B313937343B313936370D0A523D313936313B313935353B313934393B313934343B313933383B313933333B313932383B313932333B313931383B313931320D0A523D313930363B313930313B313839363B313839313B313838363B313838323B313837373B313837333B313836393B313836350D0A523D313836313B313835373B313835343B313835303B313834373B313834333B313834303B313833363B313833333B313833300D0A523D313832373B313832343B313832313B313831383B313831353B313831323B313831303B313830373B313830353B313830330D0A523D313830303B313739383B313739353B313739333B313739313B313738393B313738373B313738353B313738333B313738300D0A523D313737383B313737373B313737353B313737333B313737313B313736393B313736383B313736373B313736363B313736340D0A523D313736333B313736313B313736303B313735393B313735383B313735383B313735373B313735373B313735363B313735350D0A523D313735343B313735343B313735333B313735333B313735323B313735323B313735323B313735323B313735313B313735310D0A523D313735313B313735313B313735313B313735303B313735303B313735303B313735303B313735303B313735303B313735310D0A523D313735313B313735323B313735323B313735333B313735333B313735343B313735343B313735353B313735353B313735360D0A523D313735373B313735393B313736303B313736313B313736323B313736333B313736353B313736363B313736373B313736390D0A523D313737313B313737333B313737343B313737363B313737383B313738303B313738313B313738333B313738353B313738380D0A523D313739303B313739323B313739353B313739373B313739393B313830313B313830343B313830373B313831303B313831340D0A523D313831373B313832303B313832323B313832353B313832383B313833313B313833343B313833373B313834313B313834340D0A523D313834383B313835323B313835353B313835393B313836333B313836373B313837313B313837353B313837393B313838330D0A523D313838383B313839323B313839363B313930303B313930353B313930393B313931333B313931383B313932323B313932370D0A523D313933333B313933373B313934323B313934373B313935323B313935373B313936323B313936373B313937333B313937380D0A523D313938343B313939303B313939353B323030313B323030363B323031323B323031383B323032343B323033303B323033360D0A523D323034323B323034393B323035353B323036313B323036373B323037343B323038313B323038373B323039343B323130310D0A523D323130383B323131363B323132323B323132393B323133373B323134343B323135323B323136303B323136373B323137350D0A523D323138333B323139303B323139383B323230373B323231353B323232333B323233313B323233383B323234373B323235350D0A523D323236333B323237313B323237393B323238383B323239363B323330343B323331323B323332303B323332383B323333360D0A523D323334333B323335313B323335393B323336363B323337343B323338313B323338393B323339353B323430323B323430390D0A523D323431353B323432323B323432383B323433333B323433383B323434343B323435303B323435343B323435393B323436340D0A523D323436383B323437323B323437363B323437393B323438333B323438353B323438373B323438393B323439313B323439320D0A523D323439333B323439343B323439353B323439363B323439373B323439373B323439373B323439383B323439383B323439380D0A523D323439383B323439393B323439393B323439393B323439393B323439393B323439393B323439393B323439393B323439390D0A523D323439393B323439393B323439393B323530303B323530303B323530303B323530303B323530303B323530303B323530310D0A523D323530313B323530323B323530323B323530333B323530333B323530343B323530343B323530353B323530353B323530360D0A523D323530373B323530383B323530393B323530393B323531303B323531313B323531323B323531333B323531353B323531360D0A523D323531373B323531383B323532303B323532323B323532333B323532353B323532363B323532383B323532393B323533310D0A523D323533323B323533343B323533363B323533383B323533393B323534323B323534343B323534363B323534383B323535310D0A523D323535333B323535363B323535393B323536313B323536343B323536363B323536393B323537323B323537353B323537380D0A545243464D543D313B313030303B453B4C3B460D0A523D323634353B323634353B323634353B323634363B323634363B323634373B323634383B323635303B323635313B323635330D0A523D323635353B323635383B323636303B323636323B323636343B323636363B323636383B323637303B323637323B323637350D0A523D323637373B323638303B323638323B323638353B323638373B323639303B323639333B323639363B323639393B323730310D0A523D323730343B323730373B323731303B323731323B323731363B323731393B323732333B323732363B323732393B323733320D0A523D323733353B323733393B323734323B323734353B323734393B323735323B323735363B323735393B323736323B323736360D0A523D323736393B323737333B323737363B323737393B323738323B323738353B323738373B323738393B323739313B323739330D0A523D323739353B323739363B323739373B323739383B323739393B323739393B323739393B323739383B323739363B323739330D0A523D323738393B323738343B323737383B323737323B323736353B323735383B323735303B323734323B323733333B323732340D0A523D323731353B323730353B323639343B323638343B323637333B323636323B323635313B323633393B323632383B323631370D0A523D323630353B323539333B323538313B323536393B323535373B323534353B323533343B323532323B323531303B323439370D0A523D323438353B323437343B323436323B323435303B323433383B323432373B323431353B323430343B323339323B323338310D0A523D323337303B323336303B323334393B323333383B323332383B323331373B323330373B323239373B323238373B323237370D0A523D323236373B323235373B323234373B323233373B323232383B323231393B323230393B323230303B323139313B323138320D0A523D323137333B323136353B323135373B323134383B323134303B323133323B323132343B323131363B323130383B323130300D0A523D323039323B323038353B323037383B323037313B323036333B323035363B323034393B323034333B323033363B323032390D0A523D323032333B323031363B323030393B323030333B313939373B313939313B313938353B313938303B313937343B313936390D0A523D313936333B313935373B313935323B313934363B313934313B313933373B313933323B313932373B313932323B313931370D0A523D313931333B313930383B313930333B313839393B313839353B313839313B313838363B313838323B313837383B313837340D0A523D313837303B313836363B313836323B313835373B313835343B313835303B313834363B313834333B313833393B313833360D0A523D313833333B313833303B313832373B313832333B313832303B313831383B313831353B313831323B313830393B313830360D0A523D313830333B313830303B313739373B313739343B313739323B313738393B313738373B313738343B313738323B313737390D0A523D313737373B313737353B313737333B313737313B313736393B313736373B313736353B313736343B313736323B313736310D0A523D313736303B313736303B313735393B313735383B313735373B313735363B313735353B313735353B313735343B313735330D0A523D313735323B313735313B313735303B313734393B313734383B313734383B313734383B313734383B313734373B313734370D0A523D313734373B313734373B313734383B313734383B313734383B313734383B313734383B313734383B313734393B313734390D0A523D313734393B313735303B313735303B313735303B313735303B313735313B313735313B313735323B313735323B313735330D0A523D313735343B313735353B313735363B313735373B313735383B313735393B313736303B313736313B313736323B313736330D0A523D313736353B313736363B313736383B313736393B313737313B313737323B313737343B313737363B313737383B313738300D0A523D313738313B313738333B313738363B313738383B313739313B313739333B313739353B313739383B313830303B313830330D0A523D313830353B313830383B313831313B313831333B313831363B313831393B313832323B313832353B313832383B313833320D0A523D313833353B313833393B313834323B313834353B313834393B313835333B313835373B313836303B313836353B313836390D0A523D313837333B313837373B313838313B313838353B313839303B313839343B313839383B313930333B313930373B313931320D0A523D313931373B313932323B313932373B313933313B313933363B313934313B313934363B313935323B313935373B313936330D0A523D313936393B313937343B313938303B313938353B313939313B313939373B323030333B323031303B323031363B323032320D0A523D323032393B323033363B323034323B323034393B323035363B323036343B323037313B323037383B323038363B323039340D0A523D323130323B323131303B323131393B323132373B323133353B323134333B323135323B323136303B323136393B323137390D0A523D323138383B323139373B323230363B323231353B323232353B323233353B323234343B323235343B323236343B323237350D0A523D323238353B323239363B323330373B323331373B323332383B323333393B323335303B323336323B323337333B323338340D0A523D323339353B323430373B323431393B323433313B323434333B323435353B323436373B323438303B323439323B323530350D0A523D323531383B323533313B323534343B323535383B323537313B323538343B323539373B323631303B323632333B323633360D0A523D323635303B323636333B323637363B323638393B323730323B323731353B323732383B323734303B323735333B323736340D0A523D323737363B323738383B323739393B323830393B323831393B323832393B323833383B323834363B323835333B323835390D0A523D323836353B323837303B323837343B323837373B323837393B323838313B323838323B323838313B323838313B323837390D0A523D323837383B323837363B323837343B323837323B323836393B323836363B323836323B323835383B323835343B323835300D0A523D323834353B323834313B323833363B323833323B323832363B323832313B323831353B323831303B323830353B323739390D0A523D323739343B323738383B323738333B323737383B323737333B323736373B323736323B323735363B323735313B323734360D0A523D323734313B323733373B323733323B323732373B323732323B323731373B323731333B323730383B323730333B323639390D0A523D323639343B323639303B323638353B323638313B323637363B323637323B323636383B323636333B323635393B323635350D0A523D323635323B323634383B323634343B323634303B323633363B323633323B323632383B323632353B323632313B323631370D0A523D323631343B323631303B323630373B323630343B323630303B323539373B323539333B323539303B323538373B323538340D0A523D323538313B323537383B323537353B323537323B323536393B323536363B323536343B323536313B323535393B323535360D0A523D323535333B323535313B323534383B323534363B323534343B323534323B323533393B323533383B323533363B323533340D0A523D323533323B323533313B323532393B323532383B323532363B323532353B323532333B323532323B323532303B323531380D0A523D323531373B323531363B323531353B323531333B323531323B323531313B323531303B323530393B323530393B323530380D0A523D323530373B323530363B323530353B323530353B323530343B323530343B323530333B323530333B323530323B323530320D0A523D323530313B323530313B323530303B323530303B323530303B323530303B323530303B323530303B323439393B323439390D0A523D323439393B323439393B323439393B323439393B323439393B323439393B323439393B323439393B323439393B323439390D0A523D323439383B323439383B323439383B323439383B323439373B323439373B323439373B323439363B323439353B323439340D0A523D323439333B323439323B323439313B323438393B323438373B323438353B323438333B323437393B323437363B323437320D0A523D323436383B323436343B323435393B323435343B323435303B323434343B323433383B323433333B323432383B323432320D0A523D323431353B323430393B323430323B323339353B323338393B323338313B323337343B323336363B323335393B323335310D0A523D323334333B323333363B323332383B323332303B323331323B323330343B323239363B323238383B323237393B323237310D0A523D323236333B323235353B323234373B323233383B323233313B323232333B323231353B323230373B323139383B323139300D0A523D323138333B323137353B323136373B323136303B323135323B323134343B323133373B323132393B323132323B323131360D0A523D323130383B323130313B323039343B323038373B323038313B323037343B323036373B323036313B323035353B323034390D0A523D323034323B323033363B323033303B323032343B323031383B323031323B323030363B323030313B313939353B313939300D0A523D313938343B313937383B313937333B313936373B313936323B313935373B313935323B313934373B313934323B313933370D0A523D313933333B313932373B313932323B313931383B313931333B313930393B313930353B313930303B313839363B313839320D0A523D313838383B313838333B313837393B313837353B313837313B313836373B313836333B313835393B313835353B313835320D0A523D313834383B313834343B313834313B313833373B313833343B313833313B313832383B313832353B313832323B313832300D0A523D313831373B313831343B313831303B313830373B313830343B313830313B313739393B313739373B313739353B313739320D0A523D313739303B313738383B313738353B313738333B313738313B313738303B313737383B313737363B313737343B313737330D0A523D313737313B313736393B313736373B313736363B313736353B313736333B313736323B313736313B313736303B313735390D0A523D313735373B313735363B313735353B313735353B313735343B313735343B313735333B313735333B313735323B313735320D0A523D313735313B313735313B313735303B313735303B313735303B313735303B313735303B313735303B313735313B313735310D0A523D313735313B313735313B313735313B313735323B313735323B313735323B313735323B313735333B313735333B313735340D0A523D313735343B313735353B313735363B313735373B313735373B313735383B313735383B313735393B313736303B313736310D0A523D313736333B313736343B313736363B313736373B313736383B313736393B313737313B313737333B313737353B313737370D0A523D313737383B313738303B313738333B313738353B313738373B313738393B313739313B313739333B313739353B313739380D0A523D313830303B313830333B313830353B313830373B313831303B313831323B313831353B313831383B313832313B313832340D0A523D313832373B313833303B313833333B313833363B313834303B313834333B313834373B313835303B313835343B313835370D0A523D313836313B313836353B313836393B313837333B313837373B313838323B313838363B313839313B313839363B313930310D0A523D313930363B313931323B313931383B313932333B313932383B313933333B313933383B313934343B313934393B313935350D0A523D313936313B313936373B313937343B313938303B313938373B313939333B313939393B323030363B323031323B323031380D0A523D323032353B323033323B323033383B323034363B323035333B323036303B323036373B323037343B323038323B323038390D0A523D323039373B323130353B323131323B323132303B323132383B323133363B323134343B323135333B323136313B323136390D0A523D323137373B323138363B323139353B323230343B323231323B323232313B323233303B323233393B323234393B323235390D0A523D323236383B323237383B323238383B323239383B323330383B323331383B323332393B323333393B323335303B323336300D0A523D323337303B323338303B323339313B323430313B323431323B323432343B323433343B323434353B323435373B323436390D0A523D323438303B323439313B323530323B323531343B323532353B323533363B323534383B323535393B323537303B323538310D0A523D323539323B323630333B323631333B323632343B323633343B323634343B323635343B323636343B323637333B323638320D0A523D323639303B323639383B323730363B323731323B323731393B323732343B323732393B323733333B323733363B323733380D0A523D323733393B323734303B323734303B323734303B323734303B323734303B323734303B323733393B323733383B323733370D0A523D323733363B323733343B323733323B323733313B323732393B323732363B323732343B323732313B323731383B323731350D0A523D323731323B323730393B323730363B323730343B323730313B323639393B323639363B323639343B323639313B323638390D0A523D323638363B323638333B323638313B323637393B323637373B323637353B323637333B323637303B323636383B323636360D0A523D323636343B323636323B323636303B323635383B323635363B323635353B323635333B323635323B323635313B323635300D0A523D323634383B323634373B323634363B323634353B323634343B323634333B323634323B323634323B323634313B323634310D0A523D323633393B323633383B323633373B323633373B323633373B323633383B323633393B323633393B323634303B323634300D0A523D323634313B323634313B323634313B323634313B323634313B323634313B323634323B323634323B323634333B323634340D0A56424F583D33352E30323B33352E30320D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A5A54494C543D31303B31300D0A4645443D35372E36323B35372E36320D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                    }

                    if ($data['calibre'] ==
                        20) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3134342E3934303B3134342E3934300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35332E31303B35332E31300D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323437313B323437383B323438343B323439313B323439383B323530343B323531313B323531383B323532343B323533320D0A523D323533393B323534353B323535323B323535393B323536353B323537323B323537393B323538363B323539333B323539390D0A523D323630363B323631343B323632303B323632373B323633343B323634313B323634383B323635363B323636333B323637300D0A523D323637373B323638333B323639303B323639373B323730333B323730393B323731353B323732313B323732373B323733340D0A523D323733393B323734353B323735303B323735353B323736303B323736343B323737303B323737353B323737393B323738330D0A523D323738373B323739313B323739343B323739383B323830323B323830353B323830383B323831313B323831333B323831360D0A523D323831383B323832303B323832313B323832323B323832333B323832333B323832343B323832343B323832333B323832320D0A523D323832313B323832303B323831383B323831363B323831343B323831323B323831303B323830383B323830353B323830320D0A523D323739393B323739363B323739333B323738393B323738353B323738313B323737373B323737333B323736383B323736330D0A523D323735383B323735323B323734373B323734313B323733343B323732383B323732313B323731333B323730353B323639380D0A523D323639303B323638323B323637333B323636343B323635363B323634363B323633373B323632373B323631373B323630360D0A523D323539363B323538353B323537343B323536333B323535323B323534313B323533303B323531393B323530383B323439370D0A523D323438363B323437353B323436343B323435343B323434333B323433323B323432323B323431313B323430313B323339300D0A523D323337393B323336393B323335383B323334383B323333383B323332383B323331373B323330373B323239383B323238390D0A523D323237393B323236393B323236303B323235303B323234313B323233323B323232333B323231353B323230363B323139370D0A523D323138383B323138303B323137323B323136343B323135353B323134383B323134303B323133323B323132353B323131370D0A523D323130393B323130323B323039353B323038383B323038303B323037343B323036373B323036303B323035343B323034370D0A523D323034313B323033343B323032383B323032323B323031363B323031303B323030343B313939383B313939323B313938360D0A523D313938303B313937353B313936393B313936343B313935393B313935343B313934393B313934343B313933383B313933330D0A523D313932383B313932343B313931393B313931353B313931303B313930353B313930313B313839373B313839333B313838390D0A523D313838353B313838313B313837373B313837333B313836393B313836353B313836323B313835383B313835353B313835310D0A523D313834373B313834343B313834313B313833383B313833353B313833323B313832393B313832363B313832333B313832300D0A523D313831383B313831353B313831333B313831303B313830383B313830353B313830333B313830313B313739383B313739360D0A523D313739343B313739323B313739313B313738393B313738373B313738353B313738343B313738323B313738303B313737390D0A523D313737383B313737373B313737353B313737343B313737323B313737313B313737303B313736393B313736383B313736370D0A523D313736363B313736353B313736353B313736343B313736333B313736323B313736323B313736313B313736303B313735390D0A523D313735393B313735393B313735393B313735393B313735393B313735383B313735383B313735383B313735383B313735390D0A523D313735393B313735393B313735393B313736303B313736303B313736313B313736313B313736323B313736323B313736330D0A523D313736343B313736353B313736353B313736363B313736373B313736383B313736393B313737313B313737323B313737330D0A523D313737343B313737363B313737383B313737393B313738313B313738323B313738343B313738353B313738373B313738390D0A523D313739313B313739323B313739343B313739373B313739393B313830313B313830333B313830363B313830383B313831300D0A523D313831333B313831353B313831383B313832303B313832333B313832363B313832393B313833313B313833333B313833360D0A523D313833383B313834303B313834323B313834353B313834383B313835313B313835343B313835383B313836323B313836370D0A523D313837313B313837353B313837393B313838323B313838363B313838393B313839323B313839363B313839393B313930330D0A523D313930373B313931313B313931353B313932303B313932343B313932393B313933333B313933383B313934333B313934380D0A523D313935333B313935383B313936333B313936393B313937353B313938303B313938363B313939323B313939393B323030350D0A523D323031313B323031363B323032323B323032383B323033343B323034313B323034373B323035333B323035393B323036360D0A523D323037333B323037393B323038363B323039333B323130303B323130373B323131343B323132313B323132393B323133360D0A523D323134333B323135313B323135393B323136373B323137353B323138333B323139303B323139383B323230363B323231350D0A523D323232333B323233313B323233393B323234373B323235363B323236343B323237323B323238303B323238383B323239370D0A523D323330353B323331333B323332313B323332393B323333383B323334363B323335353B323336343B323337323B323338310D0A523D323339303B323339383B323430363B323431343B323432323B323433303B323433383B323434363B323435333B323436310D0A523D323437303B323437373B323438353B323439333B323530303B323530383B323531363B323532333B323533313B323533380D0A523D323534353B323535323B323535383B323536353B323537313B323537383B323538343B323538393B323539353B323630300D0A523D323630363B323631303B323631353B323631393B323632343B323632383B323633313B323633353B323633393B323634320D0A523D323634353B323634373B323634383B323634393B323634393B323635303B323635313B323635323B323635333B323635340D0A523D323635353B323635363B323635373B323635383B323635393B323635393B323636303B323636303B323636313B323636310D0A523D323636313B323636313B323636313B323636313B323636323B323636323B323636333B323636333B323636323B323636320D0A523D323636323B323636323B323636313B323636313B323636303B323636303B323635393B323635393B323635393B323635390D0A523D323635383B323635383B323635373B323635373B323635373B323635363B323635353B323635343B323635333B323635330D0A523D323635333B323635333B323635333B323635323B323635323B323635313B323635313B323635303B323635303B323635300D0A523D323635303B323635303B323635303B323634393B323634393B323634393B323634393B323634393B323634393B323634380D0A523D323634373B323634363B323634363B323634353B323634353B323634343B323634333B323634323B323634313B323633390D0A523D323633393B323633383B323633383B323633373B323633353B323633333B323633323B323633303B323632393B323632370D0A523D323632363B323632353B323632323B323632303B323631373B323631353B323631333B323631313B323630393B323630360D0A523D323630333B323630303B323539373B323539333B323539313B323538383B323538353B323538323B323537383B323537350D0A523D323537313B323536373B323536323B323535383B323535333B323534383B323534333B323533383B323533343B323532390D0A523D323532343B323531393B323531343B323530383B323530323B323439363B323439303B323438343B323437393B323437340D0A523D323436383B323436333B323435383B323435333B323434373B323434313B323433363B323433313B323432353B323431390D0A523D323431333B323430383B323430333B323339373B323339303B323338343B323337383B323337333B323336373B323336310D0A523D323335343B323334383B323334313B323333353B323333303B323332353B323332303B323331343B323330383B323330310D0A523D323239353B323238393B323238333B323237383B323237323B323236353B323236303B323235343B323234383B323234320D0A523D323233363B323233313B323232353B323232303B323231353B323230393B323230333B323139383B323139323B323138360D0A523D323138313B323137353B323137303B323136353B323135393B323135343B323134393B323134333B323133383B323133320D0A523D323132373B323132323B323131373B323131323B323130373B323130333B323039373B323039333B323038383B323038330D0A523D323037383B323037333B323036383B323036333B323035383B323035333B323034383B323034333B323033383B323033330D0A523D323032393B323032343B323032303B323031353B323031303B323030363B323030313B313939363B313939323B313938380D0A523D313938343B313937393B313937343B313937303B313936363B313936323B313935373B313935343B313935303B313934360D0A523D313934323B313933383B313933353B313933313B313932383B313932343B313932303B313931363B313931323B313930390D0A523D313930353B313930313B313839383B313839353B313839323B313838383B313838353B313838323B313837393B313837360D0A523D313837333B313837303B313836373B313836343B313836323B313835393B313835373B313835353B313835333B313835300D0A523D313834373B313834353B313834323B313834303B313833383B313833363B313833333B313833313B313832393B313832360D0A523D313832343B313832323B313832303B313831383B313831373B313831353B313831343B313831323B313831313B313830390D0A523D313830383B313830363B313830353B313830333B313830323B313830313B313830303B313739393B313739383B313739370D0A523D313739363B313739363B313739353B313739343B313739333B313739333B313739323B313739323B313739313B313739300D0A523D313738393B313738383B313738383B313738373B313738373B313738363B313738363B313738353B313738353B313738340D0A523D313738343B313738343B313738343B313738333B313738333B313738333B313738333B313738333B313738333B313738320D0A523D313738323B313738333B313738333B313738333B313738333B313738333B313738333B313738333B313738333B313738340D0A523D313738343B313738343B313738343B313738353B313738353B313738363B313738363B313738373B313738373B313738380D0A523D313738393B313739303B313739313B313739313B313739323B313739333B313739343B313739353B313739363B313739370D0A523D313739383B313739393B313830303B313830313B313830333B313830343B313830353B313830373B313830383B313831300D0A523D313831313B313831333B313831343B313831363B313831373B313831393B313832303B313832323B313832333B313832350D0A523D313832373B313832393B313833313B313833333B313833353B313833373B313833393B313834313B313834333B313834350D0A523D313834373B313834393B313835313B313835333B313835353B313835383B313836303B313836323B313836343B313836370D0A523D313836393B313837323B313837353B313837373B313838303B313838323B313838353B313838383B313839313B313839330D0A523D313839363B313839393B313930323B313930353B313930383B313931323B313931353B313931383B313932313B313932340D0A523D313932373B313933303B313933333B313933363B313933393B313934323B313934363B313934393B313935323B313935360D0A523D313935393B313936333B313936363B313937303B313937333B313937373B313938303B313938333B313938373B313939300D0A523D313939343B313939383B323030313B323030353B323030383B323031323B323031353B323031393B323032333B323032360D0A523D323033303B323033333B323033373B323034303B323034333B323034363B323035303B323035333B323035363B323035390D0A523D323036323B323036353B323036383B323037313B323037353B323037383B323038313B323038343B323038373B323039300D0A523D323039343B323039373B323130303B323130333B323130363B323130383B323131313B323131343B323131373B323132300D0A523D323132333B323132363B323132393B323133323B323133353B323133383B323134313B323134343B323134373B323135300D0A523D323135333B323135373B323136303B323136333B323136363B323136393B323137333B323137363B323138303B323138330D0A523D323138363B323138393B323139323B323139363B323139393B323230323B323230353B323230393B323231333B323231360D0A523D323232303B323232343B323232383B323233323B323233353B323233393B323234333B323234373B323235313B323235360D0A523D323236303B323236343B323236383B323237333B323237373B323238323B323238363B323239313B323239363B323330300D0A523D323330353B323331303B323331353B323332303B323332343B323332393B323333343B323333393B323334343B323334390D0A523D323335353B323336303B323336353B323337303B323337363B323338313B323338363B323339323B323339373B323430330D0A523D323431303B323431353B323432313B323432373B323433333B323433393B323434353B323435323B323435393B323436350D0A545243464D543D313B313030303B453B4C3B460D0A523D323635333B323635333B323635333B323635343B323635353B323635363B323635373B323635373B323635373B323635380D0A523D323635383B323635393B323635393B323635393B323635393B323636303B323636303B323636313B323636313B323636320D0A523D323636323B323636323B323636323B323636333B323636333B323636323B323636323B323636313B323636313B323636310D0A523D323636313B323636313B323636313B323636303B323636303B323635393B323635393B323635383B323635373B323635360D0A523D323635353B323635343B323635333B323635323B323635313B323635303B323634393B323634393B323634383B323634370D0A523D323634353B323634323B323633393B323633353B323633313B323632383B323632343B323631393B323631353B323631300D0A523D323630363B323630303B323539353B323538393B323538343B323537383B323537313B323536353B323535383B323535320D0A523D323534353B323533383B323533313B323532333B323531363B323530383B323530303B323439333B323438353B323437370D0A523D323437303B323436313B323435333B323434363B323433383B323433303B323432323B323431343B323430363B323339380D0A523D323339303B323338313B323337323B323336343B323335353B323334363B323333383B323332393B323332313B323331330D0A523D323330353B323239373B323238383B323238303B323237323B323236343B323235363B323234373B323233393B323233310D0A523D323232333B323231353B323230363B323139383B323139303B323138333B323137353B323136373B323135393B323135310D0A523D323134333B323133363B323132393B323132313B323131343B323130373B323130303B323039333B323038363B323037390D0A523D323037333B323036363B323035393B323035333B323034373B323034313B323033343B323032383B323032323B323031360D0A523D323031313B323030353B313939393B313939323B313938363B313938303B313937353B313936393B313936333B313935380D0A523D313935333B313934383B313934333B313933383B313933333B313932393B313932343B313932303B313931353B313931310D0A523D313930373B313930333B313839393B313839363B313839323B313838393B313838363B313838323B313837393B313837350D0A523D313837313B313836373B313836323B313835383B313835343B313835313B313834383B313834353B313834323B313834300D0A523D313833383B313833363B313833333B313833313B313832393B313832363B313832333B313832303B313831383B313831350D0A523D313831333B313831303B313830383B313830363B313830333B313830313B313739393B313739373B313739343B313739320D0A523D313739313B313738393B313738373B313738353B313738343B313738323B313738313B313737393B313737383B313737360D0A523D313737343B313737333B313737323B313737313B313736393B313736383B313736373B313736363B313736353B313736350D0A523D313736343B313736333B313736323B313736323B313736313B313736313B313736303B313736303B313735393B313735390D0A523D313735393B313735393B313735383B313735383B313735383B313735383B313735393B313735393B313735393B313735390D0A523D313735393B313735393B313736303B313736313B313736323B313736323B313736333B313736343B313736353B313736350D0A523D313736363B313736373B313736383B313736393B313737303B313737313B313737323B313737343B313737353B313737370D0A523D313737383B313737393B313738303B313738323B313738343B313738353B313738373B313738393B313739313B313739320D0A523D313739343B313739363B313739383B313830313B313830333B313830353B313830383B313831303B313831333B313831350D0A523D313831383B313832303B313832333B313832363B313832393B313833323B313833353B313833383B313834313B313834340D0A523D313834373B313835313B313835353B313835383B313836323B313836353B313836393B313837333B313837373B313838310D0A523D313838353B313838393B313839333B313839373B313930313B313930353B313931303B313931353B313931393B313932340D0A523D313932383B313933333B313933383B313934343B313934393B313935343B313935393B313936343B313936393B313937350D0A523D313938303B313938363B313939323B313939383B323030343B323031303B323031363B323032323B323032383B323033340D0A523D323034313B323034373B323035343B323036303B323036373B323037343B323038303B323038383B323039353B323130320D0A523D323130393B323131373B323132353B323133323B323134303B323134383B323135353B323136343B323137323B323138300D0A523D323138383B323139373B323230363B323231353B323232333B323233323B323234313B323235303B323236303B323236390D0A523D323237393B323238393B323239383B323330373B323331373B323332383B323333383B323334383B323335383B323336390D0A523D323337393B323339303B323430313B323431313B323432323B323433323B323434333B323435343B323436343B323437350D0A523D323438363B323439373B323530383B323531393B323533303B323534313B323535323B323536333B323537343B323538350D0A523D323539363B323630363B323631373B323632373B323633373B323634363B323635363B323636343B323637333B323638320D0A523D323639303B323639383B323730353B323731333B323732313B323732383B323733343B323734313B323734373B323735320D0A523D323735383B323736333B323736383B323737333B323737373B323738313B323738353B323738393B323739333B323739360D0A523D323739393B323830323B323830353B323830383B323831303B323831323B323831343B323831363B323831383B323832300D0A523D323832313B323832323B323832333B323832343B323832343B323832333B323832333B323832323B323832313B323832300D0A523D323831383B323831363B323831333B323831313B323830383B323830353B323830323B323739383B323739343B323739310D0A523D323738373B323738333B323737393B323737353B323737303B323736343B323736303B323735353B323735303B323734350D0A523D323733393B323733343B323732373B323732313B323731353B323730393B323730333B323639373B323639303B323638330D0A523D323637373B323637303B323636333B323635363B323634383B323634313B323633343B323632373B323632303B323631340D0A523D323630363B323539393B323539333B323538363B323537393B323537323B323536353B323535393B323535323B323534350D0A523D323533393B323533323B323532343B323531383B323531313B323530343B323439383B323439313B323438343B323437380D0A523D323437313B323436353B323435393B323435323B323434353B323433393B323433333B323432373B323432313B323431350D0A523D323431303B323430333B323339373B323339323B323338363B323338313B323337363B323337303B323336353B323336300D0A523D323335353B323334393B323334343B323333393B323333343B323332393B323332343B323332303B323331353B323331300D0A523D323330353B323330303B323239363B323239313B323238363B323238323B323237373B323237333B323236383B323236340D0A523D323236303B323235363B323235313B323234373B323234333B323233393B323233353B323233323B323232383B323232340D0A523D323232303B323231363B323231333B323230393B323230353B323230323B323139393B323139363B323139323B323138390D0A523D323138363B323138333B323138303B323137363B323137333B323136393B323136363B323136333B323136303B323135370D0A523D323135333B323135303B323134373B323134343B323134313B323133383B323133353B323133323B323132393B323132360D0A523D323132333B323132303B323131373B323131343B323131313B323130383B323130363B323130333B323130303B323039370D0A523D323039343B323039303B323038373B323038343B323038313B323037383B323037353B323037313B323036383B323036350D0A523D323036323B323035393B323035363B323035333B323035303B323034363B323034333B323034303B323033373B323033330D0A523D323033303B323032363B323032333B323031393B323031353B323031323B323030383B323030353B323030313B313939380D0A523D313939343B313939303B313938373B313938333B313938303B313937373B313937333B313937303B313936363B313936330D0A523D313935393B313935363B313935323B313934393B313934363B313934323B313933393B313933363B313933333B313933300D0A523D313932373B313932343B313932313B313931383B313931353B313931323B313930383B313930353B313930323B313839390D0A523D313839363B313839333B313839313B313838383B313838353B313838323B313838303B313837373B313837353B313837320D0A523D313836393B313836373B313836343B313836323B313836303B313835383B313835353B313835333B313835313B313834390D0A523D313834373B313834353B313834333B313834313B313833393B313833373B313833353B313833333B313833313B313832390D0A523D313832373B313832353B313832333B313832323B313832303B313831393B313831373B313831363B313831343B313831330D0A523D313831313B313831303B313830383B313830373B313830353B313830343B313830333B313830313B313830303B313739390D0A523D313739383B313739373B313739363B313739353B313739343B313739333B313739323B313739313B313739313B313739300D0A523D313738393B313738383B313738373B313738373B313738363B313738363B313738353B313738353B313738343B313738340D0A523D313738343B313738343B313738333B313738333B313738333B313738333B313738333B313738333B313738333B313738330D0A523D313738323B313738323B313738333B313738333B313738333B313738333B313738333B313738333B313738343B313738340D0A523D313738343B313738343B313738353B313738353B313738363B313738363B313738373B313738373B313738383B313738380D0A523D313738393B313739303B313739313B313739323B313739323B313739333B313739333B313739343B313739353B313739360D0A523D313739363B313739373B313739383B313739393B313830303B313830313B313830323B313830333B313830353B313830360D0A523D313830383B313830393B313831313B313831323B313831343B313831353B313831373B313831383B313832303B313832320D0A523D313832343B313832363B313832393B313833313B313833333B313833363B313833383B313834303B313834323B313834350D0A523D313834373B313835303B313835333B313835353B313835373B313835393B313836323B313836343B313836373B313837300D0A523D313837333B313837363B313837393B313838323B313838353B313838383B313839323B313839353B313839383B313930310D0A523D313930353B313930393B313931323B313931363B313932303B313932343B313932383B313933313B313933353B313933380D0A523D313934323B313934363B313935303B313935343B313935373B313936323B313936363B313937303B313937343B313937390D0A523D313938343B313938383B313939323B313939363B323030313B323030363B323031303B323031353B323032303B323032340D0A523D323032393B323033333B323033383B323034333B323034383B323035333B323035383B323036333B323036383B323037330D0A523D323037383B323038333B323038383B323039333B323039373B323130333B323130373B323131323B323131373B323132320D0A523D323132373B323133323B323133383B323134333B323134393B323135343B323135393B323136353B323137303B323137350D0A523D323138313B323138363B323139323B323139383B323230333B323230393B323231353B323232303B323232353B323233310D0A523D323233363B323234323B323234383B323235343B323236303B323236353B323237323B323237383B323238333B323238390D0A523D323239353B323330313B323330383B323331343B323332303B323332353B323333303B323333353B323334313B323334380D0A523D323335343B323336313B323336373B323337333B323337383B323338343B323339303B323339373B323430333B323430380D0A523D323431333B323431393B323432353B323433313B323433363B323434313B323434373B323435333B323435383B323436330D0A523D323436383B323437343B323437393B323438343B323439303B323439363B323530323B323530383B323531343B323531390D0A523D323532343B323532393B323533343B323533383B323534333B323534383B323535333B323535383B323536323B323536370D0A523D323537313B323537353B323537383B323538323B323538353B323538383B323539313B323539333B323539373B323630300D0A523D323630333B323630363B323630393B323631313B323631333B323631353B323631373B323632303B323632323B323632350D0A523D323632363B323632373B323632393B323633303B323633323B323633333B323633353B323633373B323633383B323633380D0A523D323633393B323633393B323634313B323634323B323634333B323634343B323634353B323634353B323634363B323634360D0A523D323634373B323634383B323634393B323634393B323634393B323634393B323634393B323634393B323635303B323635300D0A523D323635303B323635303B323635303B323635303B323635313B323635313B323635323B323635323B323635333B323635330D0A56424F583D33352E38373B33352E38370D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35362E34383B35362E34380D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                    }

                    if ($data['calibre'] ==
                        21) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3135312E3036303B3135312E3036300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35332E30363B35332E30360D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323535363B323536303B323536333B323536373B323537303B323537343B323537383B323538323B323538363B323538390D0A523D323539333B323539373B323630313B323630353B323630393B323631333B323631383B323632323B323632373B323633310D0A523D323633353B323634303B323634343B323634393B323635343B323635383B323636333B323636373B323637323B323637370D0A523D323638323B323638373B323639323B323639383B323730333B323730383B323731333B323731383B323732343B323732390D0A523D323733343B323733393B323734353B323735303B323735353B323736303B323736363B323737323B323737373B323738330D0A523D323738393B323739353B323830313B323830373B323831333B323831393B323832353B323833313B323833373B323834330D0A523D323835303B323835363B323836323B323836383B323837343B323838303B323838363B323839313B323839353B323930300D0A523D323930353B323930393B323931323B323931353B323931373B323931383B323931393B323931383B323931363B323931320D0A523D323930383B323930333B323839373B323838393B323838313B323837313B323836313B323835303B323833393B323832360D0A523D323831333B323739393B323738353B323737313B323735363B323734313B323732363B323731313B323639363B323638300D0A523D323636343B323634393B323633343B323631393B323630343B323538383B323537333B323535383B323534343B323532390D0A523D323531353B323530313B323438363B323437313B323435373B323434333B323432393B323431363B323430323B323338390D0A523D323337363B323336323B323334393B323333373B323332343B323331313B323239393B323238363B323237343B323236320D0A523D323235303B323233383B323232373B323231363B323230353B323139333B323138333B323137323B323136313B323135310D0A523D323134303B323133303B323132313B323131313B323130303B323039313B323038313B323037323B323036323B323035330D0A523D323034343B323033353B323032363B323031383B323030393B323030313B313939333B313938353B313937383B313937300D0A523D313936323B313935353B313934383B313934313B313933333B313932363B313931393B313931323B313930353B313839380D0A523D313839323B313838353B313837393B313837333B313836373B313836313B313835353B313834393B313834333B313833370D0A523D313833313B313832363B313832303B313831353B313831303B313830353B313830303B313739353B313739303B313738350D0A523D313738303B313737363B313737313B313736373B313736323B313735373B313735333B313734393B313734353B313734310D0A523D313733373B313733343B313733303B313732363B313732333B313732303B313731373B313731333B313730393B313730350D0A523D313730313B313639383B313639343B313639303B313638363B313638333B313637393B313637373B313637353B313637320D0A523D313637303B313636383B313636363B313636333B313636313B313635383B313635353B313635323B313635303B313634380D0A523D313634363B313634343B313634333B313634313B313634303B313633383B313633373B313633353B313633343B313633330D0A523D313633313B313633303B313632393B313632393B313632383B313632373B313632363B313632363B313632353B313632350D0A523D313632343B313632333B313632333B313632323B313632323B313632323B313632323B313632313B313632313B313632310D0A523D313632313B313632303B313632303B313632313B313632313B313632313B313632313B313632313B313632313B313632320D0A523D313632323B313632323B313632323B313632333B313632343B313632353B313632353B313632363B313632373B313632380D0A523D313632393B313633303B313633313B313633323B313633333B313633353B313633363B313633373B313633393B313634310D0A523D313634323B313634343B313634363B313634383B313635303B313635323B313635343B313635363B313635383B313636300D0A523D313636333B313636363B313636383B313637313B313637333B313637353B313637383B313638313B313638333B313638360D0A523D313638393B313639323B313639353B313639393B313730323B313730353B313730393B313731323B313731363B313731390D0A523D313732333B313732363B313733303B313733343B313733383B313734323B313734363B313735303B313735343B313735390D0A523D313736333B313736373B313737323B313737373B313738323B313738373B313739313B313739363B313830323B313830370D0A523D313831323B313831373B313832323B313832383B313833333B313833393B313834353B313835303B313835363B313836320D0A523D313836393B313837353B313838323B313838383B313839343B313930313B313930383B313931353B313932323B313932390D0A523D313933373B313934343B313935323B313936303B313936383B313937363B313938343B313939323B323030313B323030390D0A523D323031383B323032373B323033363B323034353B323035343B323036333B323037333B323038323B323039333B323130330D0A523D323131333B323132333B323133343B323134343B323135353B323136363B323137373B323138383B323230303B323231320D0A523D323232343B323233363B323234383B323236313B323237343B323238373B323330303B323331333B323332373B323334310D0A523D323335353B323336393B323338333B323339373B323431323B323432363B323434313B323435363B323437313B323438360D0A523D323530323B323531373B323533333B323534393B323536353B323538313B323539383B323631343B323633313B323634370D0A523D323636343B323638313B323639373B323731333B323733303B323734363B323736313B323737353B323738393B323830310D0A523D323831323B323832303B323832383B323833333B323833363B323833373B323833383B323833373B323833353B323833320D0A523D323832393B323832353B323832323B323831373B323831343B323831303B323830363B323830313B323739373B323739320D0A523D323738373B323738333B323737383B323737333B323736383B323736323B323735373B323735323B323734383B323734330D0A523D323733383B323733343B323733303B323732353B323732313B323731363B323731323B323730383B323730353B323730310D0A523D323639383B323639343B323639303B323638373B323638343B323638313B323637383B323637353B323637323B323637300D0A523D323636363B323636343B323636313B323635393B323635363B323635343B323635323B323634393B323634373B323634350D0A523D323634323B323634303B323633383B323633373B323633353B323633343B323633323B323633313B323632393B323632380D0A523D323632363B323632353B323632343B323632323B323632313B323632303B323631393B323631383B323631383B323631370D0A523D323631373B323631373B323631373B323631373B323631373B323631373B323631373B323631383B323631383B323631380D0A523D323631383B323632303B323632303B323632313B323632313B323632323B323632333B323632343B323632353B323632360D0A523D323632373B323632393B323633303B323633313B323633323B323633343B323633363B323633383B323633393B323634310D0A523D323634333B323634353B323634373B323634393B323635313B323635333B323635363B323635383B323636303B323636320D0A523D323636353B323636383B323637303B323637333B323637353B323637383B323638313B323638343B323638373B323639300D0A523D323639333B323639363B323639393B323730333B323730363B323730383B323731303B323731323B323731343B323731360D0A523D323731373B323731373B323731383B323731373B323731363B323731343B323731323B323730393B323730353B323730310D0A523D323639363B323639303B323638333B323637353B323636373B323635373B323634373B323633373B323632373B323631350D0A523D323630333B323539313B323537393B323536363B323535343B323534323B323532393B323531373B323530353B323439320D0A523D323437393B323436383B323435363B323434333B323433313B323431393B323430373B323339363B323338343B323337320D0A523D323336313B323335303B323333383B323332373B323331363B323330353B323239343B323238333B323237323B323236320D0A523D323235313B323234313B323233313B323232303B323231303B323230303B323139303B323138313B323137313B323136310D0A523D323135323B323134333B323133333B323132343B323131353B323130363B323039373B323038393B323038303B323037310D0A523D323036323B323035343B323034363B323033383B323033303B323032323B323031343B323030363B313939393B313939320D0A523D313938353B313937383B313937303B313936333B313935363B313935303B313934343B313933373B313933303B313932340D0A523D313931383B313931323B313930363B313930303B313839343B313838383B313838323B313837373B313837323B313836360D0A523D313836313B313835353B313834393B313834343B313833393B313833353B313833303B313832353B313832303B313831350D0A523D313831313B313830373B313830333B313739383B313739343B313739303B313738353B313738323B313737383B313737340D0A523D313737303B313736363B313736333B313735393B313735363B313735323B313734393B313734363B313734333B313734300D0A523D313733373B313733343B313733303B313732373B313732343B313732313B313731393B313731363B313731333B313731300D0A523D313730373B313730353B313730323B313639393B313639373B313639353B313639333B313639313B313638393B313638370D0A523D313638353B313638343B313638323B313638303B313637383B313637363B313637353B313637333B313637313B313636390D0A523D313636383B313636363B313636353B313636343B313636333B313636323B313636313B313636303B313635393B313635390D0A523D313635383B313635383B313635383B313635383B313635373B313635373B313635373B313635373B313635373B313635370D0A523D313635373B313635383B313635383B313635393B313635393B313635393B313635393B313636303B313636303B313636310D0A523D313636313B313636323B313636323B313636333B313636333B313636343B313636353B313636363B313636363B313636370D0A523D313636383B313637303B313637313B313637323B313637343B313637353B313637363B313637373B313637393B313638310D0A523D313638333B313638353B313638363B313638383B313639303B313639323B313639343B313639363B313639383B313730300D0A523D313730323B313730353B313730373B313730393B313731323B313731343B313731373B313732303B313732333B313732360D0A523D313732393B313733323B313733353B313733383B313734313B313734343B313734373B313735303B313735353B313735380D0A523D313736313B313736353B313736393B313737333B313737363B313738303B313738343B313738383B313739333B313739370D0A523D313830313B313830363B313831313B313831353B313832303B313832353B313832393B313833343B313833383B313834340D0A523D313835303B313835353B313836303B313836353B313837303B313837363B313838313B313838373B313839333B313839390D0A523D313930353B313931313B313931373B313932333B313933303B313933363B313934323B313934393B313935353B313936330D0A523D313937303B313937363B313938333B313939303B313939383B323030353B323031333B323032313B323032383B323033360D0A523D323034343B323035313B323035393B323036373B323037353B323038333B323039313B323039393B323130373B323131360D0A523D323132343B323133323B323134303B323134393B323135373B323136363B323137343B323138323B323139313B323230300D0A523D323230383B323231363B323232343B323233313B323233393B323234373B323235343B323236323B323236393B323237360D0A523D323238343B323239303B323239373B323330343B323331303B323331373B323332343B323333303B323333363B323334310D0A523D323334383B323335333B323335383B323336333B323336383B323337333B323337383B323338323B323338373B323339310D0A523D323339353B323339393B323430333B323430363B323430393B323431323B323431363B323431393B323432323B323432350D0A523D323432383B323433303B323433323B323433343B323433353B323433373B323433383B323434303B323434313B323434320D0A523D323434333B323434353B323434363B323434373B323434373B323434383B323434383B323434393B323435303B323435310D0A523D323435313B323435323B323435323B323435333B323435333B323435343B323435343B323435353B323435353B323435360D0A523D323435363B323435373B323435383B323435393B323435393B323436303B323436313B323436323B323436323B323436330D0A523D323436343B323436353B323436363B323436373B323436383B323436393B323437313B323437323B323437343B323437360D0A523D323437383B323437393B323438313B323438333B323438353B323438373B323438393B323439313B323439333B323439350D0A523D323439383B323530303B323530333B323530353B323530383B323531313B323531343B323531373B323531393B323532320D0A523D323532353B323532383B323533313B323533343B323533373B323534313B323534343B323534373B323535303B323535330D0A545243464D543D313B313030303B453B4C3B460D0A523D323632363B323632383B323632393B323633313B323633323B323633343B323633353B323633373B323633383B323634300D0A523D323634323B323634353B323634373B323634393B323635323B323635343B323635363B323635393B323636313B323636340D0A523D323636363B323637303B323637323B323637353B323637383B323638313B323638343B323638373B323639303B323639340D0A523D323639383B323730313B323730353B323730383B323731323B323731363B323732313B323732353B323733303B323733340D0A523D323733383B323734333B323734383B323735323B323735373B323736323B323736383B323737333B323737383B323738330D0A523D323738373B323739323B323739373B323830313B323830363B323831303B323831343B323831373B323832323B323832350D0A523D323832393B323833323B323833353B323833373B323833383B323833373B323833363B323833333B323832383B323832300D0A523D323831323B323830313B323738393B323737353B323736313B323734363B323733303B323731333B323639373B323638310D0A523D323636343B323634373B323633313B323631343B323539383B323538313B323536353B323534393B323533333B323531370D0A523D323530323B323438363B323437313B323435363B323434313B323432363B323431323B323339373B323338333B323336390D0A523D323335353B323334313B323332373B323331333B323330303B323238373B323237343B323236313B323234383B323233360D0A523D323232343B323231323B323230303B323138383B323137373B323136363B323135353B323134343B323133343B323132330D0A523D323131333B323130333B323039333B323038323B323037333B323036333B323035343B323034353B323033363B323032370D0A523D323031383B323030393B323030313B313939323B313938343B313937363B313936383B313936303B313935323B313934340D0A523D313933373B313932393B313932323B313931353B313930383B313930313B313839343B313838383B313838323B313837350D0A523D313836393B313836323B313835363B313835303B313834353B313833393B313833333B313832383B313832323B313831370D0A523D313831323B313830373B313830323B313739363B313739313B313738373B313738323B313737373B313737323B313736370D0A523D313736333B313735393B313735343B313735303B313734363B313734323B313733383B313733343B313733303B313732360D0A523D313732333B313731393B313731363B313731323B313730393B313730353B313730323B313639393B313639353B313639320D0A523D313638393B313638363B313638333B313638313B313637383B313637353B313637333B313637313B313636383B313636360D0A523D313636333B313636303B313635383B313635363B313635343B313635323B313635303B313634383B313634363B313634340D0A523D313634323B313634313B313633393B313633373B313633363B313633353B313633333B313633323B313633313B313633300D0A523D313632393B313632383B313632373B313632363B313632353B313632353B313632343B313632333B313632323B313632320D0A523D313632323B313632323B313632313B313632313B313632313B313632313B313632313B313632313B313632303B313632300D0A523D313632313B313632313B313632313B313632313B313632323B313632323B313632323B313632323B313632333B313632330D0A523D313632343B313632353B313632353B313632363B313632363B313632373B313632383B313632393B313632393B313633300D0A523D313633313B313633333B313633343B313633353B313633373B313633383B313634303B313634313B313634333B313634340D0A523D313634363B313634383B313635303B313635323B313635353B313635383B313636313B313636333B313636363B313636380D0A523D313637303B313637323B313637353B313637373B313637393B313638333B313638363B313639303B313639343B313639380D0A523D313730313B313730353B313730393B313731333B313731373B313732303B313732333B313732363B313733303B313733340D0A523D313733373B313734313B313734353B313734393B313735333B313735373B313736323B313736373B313737313B313737360D0A523D313738303B313738353B313739303B313739353B313830303B313830353B313831303B313831353B313832303B313832360D0A523D313833313B313833373B313834333B313834393B313835353B313836313B313836373B313837333B313837393B313838350D0A523D313839323B313839383B313930353B313931323B313931393B313932363B313933333B313934313B313934383B313935350D0A523D313936323B313937303B313937383B313938353B313939333B323030313B323030393B323031383B323032363B323033350D0A523D323034343B323035333B323036323B323037323B323038313B323039313B323130303B323131313B323132313B323133300D0A523D323134303B323135313B323136313B323137323B323138333B323139333B323230353B323231363B323232373B323233380D0A523D323235303B323236323B323237343B323238363B323239393B323331313B323332343B323333373B323334393B323336320D0A523D323337363B323338393B323430323B323431363B323432393B323434333B323435373B323437313B323438363B323530310D0A523D323531353B323532393B323534343B323535383B323537333B323538383B323630343B323631393B323633343B323634390D0A523D323636343B323638303B323639363B323731313B323732363B323734313B323735363B323737313B323738353B323739390D0A523D323831333B323832363B323833393B323835303B323836313B323837313B323838313B323838393B323839373B323930330D0A523D323930383B323931323B323931363B323931383B323931393B323931383B323931373B323931353B323931323B323930390D0A523D323930353B323930303B323839353B323839313B323838363B323838303B323837343B323836383B323836323B323835360D0A523D323835303B323834333B323833373B323833313B323832353B323831393B323831333B323830373B323830313B323739350D0A523D323738393B323738333B323737373B323737323B323736363B323736303B323735353B323735303B323734353B323733390D0A523D323733343B323732393B323732343B323731383B323731333B323730383B323730333B323639383B323639323B323638370D0A523D323638323B323637373B323637323B323636373B323636333B323635383B323635343B323634393B323634343B323634300D0A523D323633353B323633313B323632373B323632323B323631383B323631333B323630393B323630353B323630313B323539370D0A523D323539333B323538393B323538363B323538323B323537383B323537343B323537303B323536373B323536333B323536300D0A523D323535363B323535333B323535303B323534373B323534343B323534313B323533373B323533343B323533313B323532380D0A523D323532353B323532323B323531393B323531373B323531343B323531313B323530383B323530353B323530333B323530300D0A523D323439383B323439353B323439333B323439313B323438393B323438373B323438353B323438333B323438313B323437390D0A523D323437383B323437363B323437343B323437323B323437313B323436393B323436383B323436373B323436363B323436350D0A523D323436343B323436333B323436323B323436323B323436313B323436303B323435393B323435393B323435383B323435370D0A523D323435363B323435363B323435353B323435353B323435343B323435343B323435333B323435333B323435323B323435320D0A523D323435313B323435313B323435303B323434393B323434383B323434383B323434373B323434373B323434363B323434350D0A523D323434333B323434323B323434313B323434303B323433383B323433373B323433353B323433343B323433323B323433300D0A523D323432383B323432353B323432323B323431393B323431363B323431323B323430393B323430363B323430333B323339390D0A523D323339353B323339313B323338373B323338323B323337383B323337333B323336383B323336333B323335383B323335330D0A523D323334383B323334313B323333363B323333303B323332343B323331373B323331303B323330343B323239373B323239300D0A523D323238343B323237363B323236393B323236323B323235343B323234373B323233393B323233313B323232343B323231360D0A523D323230383B323230303B323139313B323138323B323137343B323136363B323135373B323134393B323134303B323133320D0A523D323132343B323131363B323130373B323039393B323039313B323038333B323037353B323036373B323035393B323035310D0A523D323034343B323033363B323032383B323032313B323031333B323030353B313939383B313939303B313938333B313937360D0A523D313937303B313936333B313935353B313934393B313934323B313933363B313933303B313932333B313931373B313931310D0A523D313930353B313839393B313839333B313838373B313838313B313837363B313837303B313836353B313836303B313835350D0A523D313835303B313834343B313833383B313833343B313832393B313832353B313832303B313831353B313831313B313830360D0A523D313830313B313739373B313739333B313738383B313738343B313738303B313737363B313737333B313736393B313736350D0A523D313736313B313735383B313735353B313735303B313734373B313734343B313734313B313733383B313733353B313733320D0A523D313732393B313732363B313732333B313732303B313731373B313731343B313731323B313730393B313730373B313730350D0A523D313730323B313730303B313639383B313639363B313639343B313639323B313639303B313638383B313638363B313638350D0A523D313638333B313638313B313637393B313637373B313637363B313637353B313637343B313637323B313637313B313637300D0A523D313636383B313636373B313636363B313636363B313636353B313636343B313636333B313636333B313636323B313636320D0A523D313636313B313636313B313636303B313636303B313635393B313635393B313635393B313635393B313635383B313635380D0A523D313635373B313635373B313635373B313635373B313635373B313635373B313635373B313635383B313635383B313635380D0A523D313635383B313635393B313635393B313636303B313636313B313636323B313636333B313636343B313636353B313636360D0A523D313636383B313636393B313637313B313637333B313637353B313637363B313637383B313638303B313638323B313638340D0A523D313638353B313638373B313638393B313639313B313639333B313639353B313639373B313639393B313730323B313730350D0A523D313730373B313731303B313731333B313731363B313731393B313732313B313732343B313732373B313733303B313733340D0A523D313733373B313734303B313734333B313734363B313734393B313735323B313735363B313735393B313736333B313736360D0A523D313737303B313737343B313737383B313738323B313738353B313739303B313739343B313739383B313830333B313830370D0A523D313831313B313831353B313832303B313832353B313833303B313833353B313833393B313834343B313834393B313835350D0A523D313836313B313836363B313837323B313837373B313838323B313838383B313839343B313930303B313930363B313931320D0A523D313931383B313932343B313933303B313933373B313934343B313935303B313935363B313936333B313937303B313937380D0A523D313938353B313939323B313939393B323030363B323031343B323032323B323033303B323033383B323034363B323035340D0A523D323036323B323037313B323038303B323038393B323039373B323130363B323131353B323132343B323133333B323134330D0A523D323135323B323136313B323137313B323138313B323139303B323230303B323231303B323232303B323233313B323234310D0A523D323235313B323236323B323237323B323238333B323239343B323330353B323331363B323332373B323333383B323335300D0A523D323336313B323337323B323338343B323339363B323430373B323431393B323433313B323434333B323435363B323436380D0A523D323437393B323439323B323530353B323531373B323532393B323534323B323535343B323536363B323537393B323539310D0A523D323630333B323631353B323632373B323633373B323634373B323635373B323636373B323637353B323638333B323639300D0A523D323639363B323730313B323730353B323730393B323731323B323731343B323731363B323731373B323731383B323731370D0A523D323731373B323731363B323731343B323731323B323731303B323730383B323730363B323730333B323639393B323639360D0A523D323639333B323639303B323638373B323638343B323638313B323637383B323637353B323637333B323637303B323636380D0A523D323636353B323636323B323636303B323635383B323635363B323635333B323635313B323634393B323634373B323634350D0A523D323634333B323634313B323633393B323633383B323633363B323633343B323633323B323633313B323633303B323632390D0A523D323632373B323632363B323632353B323632343B323632333B323632323B323632313B323632313B323632303B323632300D0A523D323631383B323631383B323631383B323631383B323631373B323631373B323631373B323631373B323631373B323631370D0A523D323631373B323631373B323631383B323631383B323631393B323632303B323632313B323632323B323632343B323632350D0A56424F583D33332E31363B33332E31360D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35382E33373B35382E33370D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                    }

                    if ($data['calibre'] ==
                        22) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3135372E3838303B3135372E3838300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35362E31383B35362E31380D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323732303B323732343B323732373B323733313B323733353B323733393B323734343B323734383B323735323B323735360D0A523D323736303B323736343B323736383B323737323B323737373B323738313B323738363B323739303B323739353B323830300D0A523D323830343B323830393B323831333B323831383B323832333B323832383B323833333B323833373B323834323B323834370D0A523D323835323B323835373B323836323B323836373B323837323B323837363B323838313B323838363B323839313B323839360D0A523D323930303B323930353B323930393B323931333B323931373B323932313B323932353B323932383B323933323B323933360D0A523D323933393B323934333B323934363B323934393B323935313B323935333B323935353B323935363B323935373B323935370D0A523D323935373B323935373B323935363B323935343B323935333B323935313B323934383B323934353B323934313B323933370D0A523D323933323B323932373B323932323B323931373B323931313B323930353B323839383B323839313B323838333B323837350D0A523D323836383B323835393B323835313B323834323B323833333B323832343B323831353B323830363B323739363B323738360D0A523D323737363B323736373B323735373B323734373B323733363B323732363B323731363B323730363B323639353B323638350D0A523D323637353B323636343B323635333B323634333B323633323B323632313B323631303B323630303B323538393B323537380D0A523D323536373B323535373B323534363B323533353B323532343B323531343B323530333B323439323B323438313B323437310D0A523D323436303B323435303B323434303B323432393B323431393B323430393B323339393B323338393B323337393B323336390D0A523D323335393B323335303B323334303B323333313B323332323B323331333B323330343B323239343B323238353B323237360D0A523D323236373B323235393B323235303B323234323B323233333B323232353B323231373B323230393B323230313B323139330D0A523D323138353B323137373B323137303B323136323B323135353B323134383B323134313B323133343B323132373B323132310D0A523D323131343B323130373B323130313B323039353B323038383B323038323B323037363B323037303B323036343B323035380D0A523D323035333B323034373B323034313B323033363B323033303B323032353B323032303B323031353B323031303B323030350D0A523D323030303B313939353B313939303B313938363B313938313B313937373B313937323B313936383B313936343B313935390D0A523D313935353B313935313B313934373B313934333B313934303B313933363B313933333B313932393B313932363B313932330D0A523D313931393B313931363B313931323B313930393B313930363B313930333B313930313B313839383B313839363B313839330D0A523D313839313B313838393B313838363B313838343B313838323B313838303B313837383B313837363B313837343B313837320D0A523D313837303B313836393B313836373B313836353B313836343B313836323B313836313B313836303B313835393B313835380D0A523D313835363B313835353B313835343B313835333B313835323B313835323B313835313B313835313B313835303B313835300D0A523D313834393B313834393B313834383B313834383B313834383B313834383B313834383B313834383B313834383B313834380D0A523D313834393B313834393B313834393B313835303B313835303B313835313B313835313B313835323B313835323B313835330D0A523D313835333B313835343B313835353B313835363B313835373B313835383B313836303B313836313B313836323B313836330D0A523D313836353B313836363B313836383B313837303B313837323B313837343B313837363B313837373B313837393B313838310D0A523D313838323B313838343B313838363B313838383B313839303B313839333B313839353B313839383B313930303B313930330D0A523D313930353B313930373B313931303B313931323B313931353B313931373B313932313B313932343B313932383B313933320D0A523D313933353B313933393B313934323B313934363B313935303B313935343B313935383B313936333B313936373B313937320D0A523D313937373B313938323B313938373B313939323B313939373B323030323B323030373B323031323B323031373B323032320D0A523D323032373B323033333B323033393B323034343B323035303B323035353B323036313B323036373B323037323B323037380D0A523D323038353B323039313B323039373B323130333B323131303B323131373B323132333B323133313B323133383B323134340D0A523D323135313B323135393B323136363B323137343B323138313B323138393B323139373B323230363B323231343B323232320D0A523D323233303B323233393B323234383B323235373B323236353B323237343B323238333B323239333B323330333B323331320D0A523D323332323B323333313B323334313B323335313B323336313B323337313B323338313B323339323B323430323B323431330D0A523D323432333B323433343B323434353B323435353B323436363B323437373B323438383B323530303B323531313B323532330D0A523D323533343B323534363B323535373B323536393B323538313B323539333B323630343B323631353B323632373B323633390D0A523D323635303B323636313B323637323B323638343B323639343B323730353B323731363B323732363B323733373B323734360D0A523D323735363B323736363B323737363B323738363B323739363B323830353B323831353B323832343B323833323B323834300D0A523D323834373B323835343B323836313B323836373B323837343B323837393B323838343B323838393B323839333B323839370D0A523D323930313B323930343B323930373B323931303B323931323B323931343B323931353B323931373B323931383B323931390D0A523D323931393B323931383B323931383B323931383B323931383B323931373B323931363B323931353B323931343B323931330D0A523D323931323B323931313B323930393B323930373B323930353B323930333B323930313B323839393B323839363B323839340D0A523D323839313B323838383B323838363B323838333B323838313B323837383B323837363B323837333B323837313B323836390D0A523D323836373B323836363B323836343B323836323B323836303B323835383B323835363B323835353B323835333B323835300D0A523D323834383B323834363B323834343B323834323B323834303B323833383B323833363B323833343B323833333B323833310D0A523D323832393B323832373B323832363B323832343B323832333B323832313B323832303B323831383B323831373B323831360D0A523D323831343B323831333B323831323B323831313B323831303B323830393B323830383B323830383B323830373B323830360D0A523D323830353B323830353B323830353B323830343B323830343B323830333B323830333B323830323B323830323B323830320D0A523D323830323B323830323B323830323B323830333B323830333B323830333B323830333B323830343B323830343B323830350D0A523D323830353B323830363B323830363B323830373B323830383B323830393B323830393B323831303B323831313B323831320D0A523D323831333B323831343B323831353B323831363B323831363B323831373B323831383B323831393B323832303B323832310D0A523D323832323B323832333B323832343B323832353B323832363B323832373B323832383B323832383B323832393B323833300D0A523D323833313B323833313B323833323B323833323B323833323B323833323B323833323B323833323B323833313B323833310D0A523D323833303B323833303B323832393B323832383B323832373B323832363B323832353B323832343B323832333B323832310D0A523D323831393B323831383B323831363B323831343B323831323B323831303B323830373B323830353B323830323B323739390D0A523D323739363B323739333B323738393B323738353B323738313B323737373B323737333B323736383B323736333B323735380D0A523D323735333B323734373B323734323B323733363B323733303B323732343B323731383B323731323B323730363B323639390D0A523D323639323B323638353B323637373B323636393B323636313B323635323B323634333B323633353B323632363B323631370D0A523D323630393B323630303B323539313B323538323B323537333B323536333B323535343B323534343B323533343B323532340D0A523D323531353B323530353B323439353B323438353B323437363B323436363B323435363B323434373B323433373B323432370D0A523D323431383B323430393B323339393B323338393B323338303B323337313B323336303B323335303B323334313B323333320D0A523D323332333B323331343B323330353B323239363B323238373B323237383B323236393B323236313B323235333B323234340D0A523D323233363B323232383B323232303B323231313B323230333B323139343B323138363B323137383B323137313B323136330D0A523D323135353B323134383B323134313B323133343B323132363B323132303B323131333B323130363B323130303B323039340D0A523D323038383B323038323B323037363B323037303B323036343B323035383B323035333B323034383B323034333B323033380D0A523D323033323B323032373B323032323B323031373B323031323B323030373B323030323B313939373B313939333B313938380D0A523D313938333B313937393B313937353B313937303B313936363B313936323B313935383B313935343B313935303B313934370D0A523D313934333B313934303B313933363B313933323B313932393B313932353B313932323B313931383B313931353B313931320D0A523D313930393B313930373B313930343B313930313B313839383B313839363B313839333B313839313B313838393B313838360D0A523D313838343B313838323B313838303B313837373B313837353B313837333B313837323B313837303B313836393B313836370D0A523D313836363B313836343B313836333B313836313B313836303B313835383B313835373B313835363B313835343B313835340D0A523D313835333B313835323B313835313B313835313B313835303B313835303B313834393B313834393B313834383B313834380D0A523D313834383B313834373B313834373B313834373B313834373B313834373B313834373B313834373B313834373B313834370D0A523D313834373B313834383B313834383B313834383B313834383B313834393B313834393B313835303B313835303B313835310D0A523D313835323B313835333B313835343B313835353B313835363B313835373B313835383B313835393B313836313B313836330D0A523D313836343B313836353B313836363B313836383B313837303B313837323B313837343B313837363B313837373B313837390D0A523D313838313B313838333B313838363B313838383B313839313B313839333B313839363B313839383B313930313B313930330D0A523D313930363B313930393B313931313B313931343B313931363B313931393B313932323B313932353B313932373B313933300D0A523D313933343B313933373B313934303B313934343B313934373B313935313B313935343B313935373B313936313B313936340D0A523D313936383B313937313B313937353B313937393B313938323B313938363B313939303B313939343B313939383B323030320D0A523D323030363B323031303B323031343B323031383B323032323B323032363B323033303B323033353B323034303B323034340D0A523D323034393B323035333B323035373B323036323B323036363B323037313B323037353B323038303B323038353B323038390D0A523D323039343B323039383B323130333B323130383B323131333B323131383B323132333B323132383B323133333B323133380D0A523D323134333B323134383B323135333B323135393B323136343B323136393B323137343B323137393B323138343B323138390D0A523D323139353B323230303B323230363B323231313B323231363B323232323B323232373B323233323B323233373B323234320D0A523D323234383B323235333B323235383B323236343B323236393B323237343B323237393B323238343B323239303B323239350D0A523D323330303B323330353B323331303B323331353B323332303B323332353B323333313B323333363B323334313B323334360D0A523D323335303B323335353B323336303B323336353B323337303B323337343B323337393B323338333B323338383B323339330D0A523D323339383B323430333B323430373B323431323B323431373B323432313B323432363B323433303B323433343B323433390D0A523D323434333B323434373B323435323B323435363B323436303B323436343B323436383B323437323B323437363B323438300D0A523D323438343B323438383B323439313B323439353B323439383B323530323B323530363B323530393B323531333B323531360D0A523D323532303B323532343B323532373B323533303B323533333B323533373B323534303B323534333B323534373B323535300D0A523D323535333B323535363B323536303B323536343B323536373B323537303B323537333B323537373B323538303B323538330D0A523D323538373B323539303B323539333B323539363B323539393B323630333B323630363B323631303B323631333B323631360D0A523D323631393B323632323B323632353B323632383B323633313B323633343B323633383B323634313B323634343B323634370D0A523D323635313B323635343B323635373B323636303B323636343B323636373B323637313B323637343B323637373B323638300D0A523D323638333B323638373B323639303B323639343B323639373B323730313B323730353B323730383B323731323B323731360D0A545243464D543D313B313030303B453B4C3B460D0A523D323830353B323830363B323830373B323830383B323830383B323830393B323831303B323831313B323831323B323831330D0A523D323831343B323831363B323831373B323831383B323832303B323832313B323832333B323832343B323832363B323832370D0A523D323832393B323833313B323833333B323833343B323833363B323833383B323834303B323834323B323834343B323834360D0A523D323834383B323835303B323835333B323835353B323835363B323835383B323836303B323836323B323836343B323836360D0A523D323836373B323836393B323837313B323837333B323837363B323837383B323838313B323838333B323838363B323838380D0A523D323839313B323839343B323839363B323839393B323930313B323930333B323930353B323930373B323930393B323931310D0A523D323931323B323931333B323931343B323931353B323931363B323931373B323931383B323931383B323931383B323931380D0A523D323931393B323931393B323931383B323931373B323931353B323931343B323931323B323931303B323930373B323930340D0A523D323930313B323839373B323839333B323838393B323838343B323837393B323837343B323836373B323836313B323835340D0A523D323834373B323834303B323833323B323832343B323831353B323830353B323739363B323738363B323737363B323736360D0A523D323735363B323734363B323733373B323732363B323731363B323730353B323639343B323638343B323637323B323636310D0A523D323635303B323633393B323632373B323631353B323630343B323539333B323538313B323536393B323535373B323534360D0A523D323533343B323532333B323531313B323530303B323438383B323437373B323436363B323435353B323434353B323433340D0A523D323432333B323431333B323430323B323339323B323338313B323337313B323336313B323335313B323334313B323333310D0A523D323332323B323331323B323330333B323239333B323238333B323237343B323236353B323235373B323234383B323233390D0A523D323233303B323232323B323231343B323230363B323139373B323138393B323138313B323137343B323136363B323135390D0A523D323135313B323134343B323133383B323133313B323132333B323131373B323131303B323130333B323039373B323039310D0A523D323038353B323037383B323037323B323036373B323036313B323035353B323035303B323034343B323033393B323033330D0A523D323032373B323032323B323031373B323031323B323030373B323030323B313939373B313939323B313938373B313938320D0A523D313937373B313937323B313936373B313936333B313935383B313935343B313935303B313934363B313934323B313933390D0A523D313933353B313933323B313932383B313932343B313932313B313931373B313931353B313931323B313931303B313930370D0A523D313930353B313930333B313930303B313839383B313839353B313839333B313839303B313838383B313838363B313838340D0A523D313838323B313838313B313837393B313837373B313837363B313837343B313837323B313837303B313836383B313836360D0A523D313836353B313836333B313836323B313836313B313836303B313835383B313835373B313835363B313835353B313835340D0A523D313835333B313835333B313835323B313835323B313835313B313835313B313835303B313835303B313834393B313834390D0A523D313834393B313834383B313834383B313834383B313834383B313834383B313834383B313834383B313834383B313834390D0A523D313834393B313835303B313835303B313835313B313835313B313835323B313835323B313835333B313835343B313835350D0A523D313835363B313835383B313835393B313836303B313836313B313836323B313836343B313836353B313836373B313836390D0A523D313837303B313837323B313837343B313837363B313837383B313838303B313838323B313838343B313838363B313838390D0A523D313839313B313839333B313839363B313839383B313930313B313930333B313930363B313930393B313931323B313931360D0A523D313931393B313932333B313932363B313932393B313933333B313933363B313934303B313934333B313934373B313935310D0A523D313935353B313935393B313936343B313936383B313937323B313937373B313938313B313938363B313939303B313939350D0A523D323030303B323030353B323031303B323031353B323032303B323032353B323033303B323033363B323034313B323034370D0A523D323035333B323035383B323036343B323037303B323037363B323038323B323038383B323039353B323130313B323130370D0A523D323131343B323132313B323132373B323133343B323134313B323134383B323135353B323136323B323137303B323137370D0A523D323138353B323139333B323230313B323230393B323231373B323232353B323233333B323234323B323235303B323235390D0A523D323236373B323237363B323238353B323239343B323330343B323331333B323332323B323333313B323334303B323335300D0A523D323335393B323336393B323337393B323338393B323339393B323430393B323431393B323432393B323434303B323435300D0A523D323436303B323437313B323438313B323439323B323530333B323531343B323532343B323533353B323534363B323535370D0A523D323536373B323537383B323538393B323630303B323631303B323632313B323633323B323634333B323635333B323636340D0A523D323637353B323638353B323639353B323730363B323731363B323732363B323733363B323734373B323735373B323736370D0A523D323737363B323738363B323739363B323830363B323831353B323832343B323833333B323834323B323835313B323835390D0A523D323836383B323837353B323838333B323839313B323839383B323930353B323931313B323931373B323932323B323932370D0A523D323933323B323933373B323934313B323934353B323934383B323935313B323935333B323935343B323935363B323935370D0A523D323935373B323935373B323935373B323935363B323935353B323935333B323935313B323934393B323934363B323934330D0A523D323933393B323933363B323933323B323932383B323932353B323932313B323931373B323931333B323930393B323930350D0A523D323930303B323839363B323839313B323838363B323838313B323837363B323837323B323836373B323836323B323835370D0A523D323835323B323834373B323834323B323833373B323833333B323832383B323832333B323831383B323831333B323830390D0A523D323830343B323830303B323739353B323739303B323738363B323738313B323737373B323737323B323736383B323736340D0A523D323736303B323735363B323735323B323734383B323734343B323733393B323733353B323733313B323732373B323732340D0A523D323732303B323731363B323731323B323730383B323730353B323730313B323639373B323639343B323639303B323638370D0A523D323638333B323638303B323637373B323637343B323637313B323636373B323636343B323636303B323635373B323635340D0A523D323635313B323634373B323634343B323634313B323633383B323633343B323633313B323632383B323632353B323632320D0A523D323631393B323631363B323631333B323631303B323630363B323630333B323539393B323539363B323539333B323539300D0A523D323538373B323538333B323538303B323537373B323537333B323537303B323536373B323536343B323536303B323535360D0A523D323535333B323535303B323534373B323534333B323534303B323533373B323533333B323533303B323532373B323532340D0A523D323532303B323531363B323531333B323530393B323530363B323530323B323439383B323439353B323439313B323438380D0A523D323438343B323438303B323437363B323437323B323436383B323436343B323436303B323435363B323435323B323434370D0A523D323434333B323433393B323433343B323433303B323432363B323432313B323431373B323431323B323430373B323430330D0A523D323339383B323339333B323338383B323338333B323337393B323337343B323337303B323336353B323336303B323335350D0A523D323335303B323334363B323334313B323333363B323333313B323332353B323332303B323331353B323331303B323330350D0A523D323330303B323239353B323239303B323238343B323237393B323237343B323236393B323236343B323235383B323235330D0A523D323234383B323234323B323233373B323233323B323232373B323232323B323231363B323231313B323230363B323230300D0A523D323139353B323138393B323138343B323137393B323137343B323136393B323136343B323135393B323135333B323134380D0A523D323134333B323133383B323133333B323132383B323132333B323131383B323131333B323130383B323130333B323039380D0A523D323039343B323038393B323038353B323038303B323037353B323037313B323036363B323036323B323035373B323035330D0A523D323034393B323034343B323034303B323033353B323033303B323032363B323032323B323031383B323031343B323031300D0A523D323030363B323030323B313939383B313939343B313939303B313938363B313938323B313937393B313937353B313937310D0A523D313936383B313936343B313936313B313935373B313935343B313935313B313934373B313934343B313934303B313933370D0A523D313933343B313933303B313932373B313932353B313932323B313931393B313931363B313931343B313931313B313930390D0A523D313930363B313930333B313930313B313839383B313839363B313839333B313839313B313838383B313838363B313838330D0A523D313838313B313837393B313837373B313837363B313837343B313837323B313837303B313836383B313836363B313836350D0A523D313836343B313836333B313836313B313835393B313835383B313835373B313835363B313835353B313835343B313835330D0A523D313835323B313835313B313835303B313835303B313834393B313834393B313834383B313834383B313834383B313834380D0A523D313834373B313834373B313834373B313834373B313834373B313834373B313834373B313834373B313834373B313834370D0A523D313834383B313834383B313834383B313834393B313834393B313835303B313835303B313835313B313835313B313835320D0A523D313835333B313835343B313835343B313835363B313835373B313835383B313836303B313836313B313836333B313836340D0A523D313836363B313836373B313836393B313837303B313837323B313837333B313837353B313837373B313838303B313838320D0A523D313838343B313838363B313838393B313839313B313839333B313839363B313839383B313930313B313930343B313930370D0A523D313930393B313931323B313931353B313931383B313932323B313932353B313932393B313933323B313933363B313934300D0A523D313934333B313934373B313935303B313935343B313935383B313936323B313936363B313937303B313937353B313937390D0A523D313938333B313938383B313939333B313939373B323030323B323030373B323031323B323031373B323032323B323032370D0A523D323033323B323033383B323034333B323034383B323035333B323035383B323036343B323037303B323037363B323038320D0A523D323038383B323039343B323130303B323130363B323131333B323132303B323132363B323133343B323134313B323134380D0A523D323135353B323136333B323137313B323137383B323138363B323139343B323230333B323231313B323232303B323232380D0A523D323233363B323234343B323235333B323236313B323236393B323237383B323238373B323239363B323330353B323331340D0A523D323332333B323333323B323334313B323335303B323336303B323337313B323338303B323338393B323339393B323430390D0A523D323431383B323432373B323433373B323434373B323435363B323436363B323437363B323438353B323439353B323530350D0A523D323531353B323532343B323533343B323534343B323535343B323536333B323537333B323538323B323539313B323630300D0A523D323630393B323631373B323632363B323633353B323634333B323635323B323636313B323636393B323637373B323638350D0A523D323639323B323639393B323730363B323731323B323731383B323732343B323733303B323733363B323734323B323734370D0A523D323735333B323735383B323736333B323736383B323737333B323737373B323738313B323738353B323738393B323739330D0A523D323739363B323739393B323830323B323830353B323830373B323831303B323831323B323831343B323831363B323831380D0A523D323831393B323832313B323832333B323832343B323832353B323832363B323832373B323832383B323832393B323833300D0A523D323833303B323833313B323833313B323833323B323833323B323833323B323833323B323833323B323833323B323833310D0A523D323833313B323833303B323832393B323832383B323832383B323832373B323832363B323832353B323832343B323832330D0A523D323832323B323832313B323832303B323831393B323831383B323831373B323831363B323831363B323831353B323831340D0A523D323831333B323831323B323831313B323831303B323830393B323830393B323830383B323830373B323830363B323830360D0A523D323830353B323830353B323830343B323830343B323830333B323830333B323830333B323830333B323830323B323830320D0A523D323830323B323830323B323830323B323830323B323830333B323830333B323830343B323830343B323830353B323830350D0A56424F583D33372E30313B33372E30310D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35392E31343B35392E31340D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                    }

                    if ($data['calibre'] ==
                        23) {
                        $calibre = '<shape>
						  <tracerData>
							 <tracerType>Unknown</tracerType>
							 <tracerVersion>OMAVCA</tracerVersion>
							 <binaries format="OMA3.02">4F4D41563D30332E31300D0A444F3D420D0A4245564D3D302E30303B302E30300D0A424556503D373B370D0A434952433D3134302E3939303B3134302E3939300D0A44424C3D32302E30300D0A455459503D310D0A46435347494E3D302E30303B302E30300D0A4643534755503D302E30303B302E30300D0A4650494E423D302E30303B302E30300D0A465459503D320D0A48424F583D35302E30333B35302E30330D0A50494E423D302E30303B302E30300D0A504F4C4953483D300D0A545243464D543D313B313030303B453B523B460D0A523D323431333B323431373B323432303B323432343B323432383B323433323B323433373B323434313B323434353B323434380D0A523D323435323B323435363B323436303B323436353B323436393B323437333B323437383B323438323B323438373B323439310D0A523D323439353B323439393B323530333B323530383B323531333B323531373B323532313B323532363B323533303B323533350D0A523D323533393B323534343B323534383B323535333B323535373B323536313B323536363B323537303B323537353B323537390D0A523D323538323B323538363B323539303B323539333B323539363B323539393B323630323B323630343B323630363B323630380D0A523D323631303B323631323B323631333B323631343B323631343B323631343B323631343B323631343B323631333B323631310D0A523D323630393B323630373B323630343B323630313B323539383B323539353B323539323B323538393B323538343B323538300D0A523D323537363B323537323B323536373B323536333B323535383B323535333B323534383B323534323B323533373B323533310D0A523D323532353B323531393B323531333B323530383B323530323B323439363B323439303B323438333B323437363B323437300D0A523D323436343B323435373B323435313B323434343B323433373B323433313B323432343B323431373B323431313B323430340D0A523D323339373B323339313B323338343B323337373B323337313B323336333B323335363B323335303B323334333B323333360D0A523D323333303B323332333B323331363B323330393B323330323B323239363B323238393B323238333B323237373B323237300D0A523D323236343B323235383B323235313B323234353B323233393B323233333B323232373B323232313B323231353B323230390D0A523D323230343B323139383B323139333B323138373B323138313B323137363B323137303B323136353B323135393B323135340D0A523D323134393B323134343B323133393B323133343B323132393B323132343B323131383B323131343B323130393B323130340D0A523D323039393B323039343B323039303B323038353B323038303B323037363B323037323B323036383B323036333B323035390D0A523D323035353B323035313B323034363B323034323B323033383B323033353B323033313B323032373B323032343B323032300D0A523D323031373B323031333B323031303B323030363B323030323B313939393B313939363B313939333B313938393B313938360D0A523D313938333B313938303B313937373B313937353B313937323B313936393B313936363B313936333B313936313B313935380D0A523D313935363B313935343B313935313B313934393B313934373B313934353B313934323B313934303B313933373B313933350D0A523D313933343B313933323B313933303B313932383B313932373B313932353B313932343B313932323B313932313B313931390D0A523D313931373B313931363B313931353B313931343B313931323B313931313B313931303B313930393B313930383B313930370D0A523D313930363B313930363B313930353B313930343B313930333B313930323B313930313B313930313B313930303B313930300D0A523D313839393B313839393B313839383B313839383B313839373B313839373B313839373B313839373B313839373B313839370D0A523D313839363B313839363B313839363B313839363B313839363B313839363B313839373B313839373B313839373B313839370D0A523D313839383B313839393B313839393B313930303B313930303B313930313B313930313B313930323B313930333B313930340D0A523D313930343B313930353B313930363B313930373B313930393B313931303B313931313B313931323B313931333B313931340D0A523D313931363B313931373B313931393B313932303B313932323B313932333B313932353B313932373B313932393B313933310D0A523D313933323B313933343B313933373B313933393B313934313B313934333B313934353B313934383B313935303B313935320D0A523D313935343B313935373B313936303B313936323B313936343B313936363B313936393B313937313B313937343B313937370D0A523D313938303B313938333B313938363B313938393B313939333B313939363B323030303B323030333B323030363B323030390D0A523D323031333B323031373B323032303B323032343B323032383B323033323B323033363B323034303B323034343B323034370D0A523D323035313B323035343B323035383B323036323B323036363B323037303B323037343B323037393B323038343B323038390D0A523D323039343B323039383B323130333B323130373B323131323B323131373B323132323B323132373B323133333B323133380D0A523D323134333B323134383B323135333B323135393B323136343B323137303B323137363B323138313B323138373B323139330D0A523D323139383B323230343B323230393B323231353B323232313B323232373B323233333B323233393B323234363B323235320D0A523D323235383B323236343B323237303B323237363B323238333B323238393B323239363B323330323B323330383B323331350D0A523D323332313B323332373B323333343B323334313B323334373B323335333B323336303B323336363B323337323B323337390D0A523D323338353B323339313B323339383B323430343B323431303B323431353B323432323B323432383B323433333B323433390D0A523D323434353B323435313B323435373B323436323B323436383B323437333B323437393B323438343B323438393B323439340D0A523D323439393B323530343B323530383B323531333B323531383B323532333B323532383B323533323B323533373B323534320D0A523D323534373B323535323B323535363B323536303B323536343B323536373B323537313B323537343B323537373B323538300D0A523D323538323B323538353B323538373B323538393B323539313B323539333B323539353B323539373B323539393B323630300D0A523D323630313B323630323B323630323B323630333B323630333B323630343B323630343B323630343B323630343B323630340D0A523D323630343B323630343B323630333B323630323B323630323B323630313B323630303B323539393B323539383B323539370D0A523D323539353B323539333B323539323B323539313B323538393B323538373B323538353B323538333B323538313B323537390D0A523D323537363B323537333B323537303B323536383B323536353B323536323B323535383B323535353B323535323B323534390D0A523D323534373B323534343B323534313B323533383B323533353B323533323B323532393B323532363B323532333B323532300D0A523D323531373B323531343B323531313B323530393B323530363B323530333B323530303B323439373B323439353B323439320D0A523D323438393B323438363B323438333B323438313B323437373B323437353B323437323B323437303B323436373B323436340D0A523D323436313B323435383B323435363B323435333B323435313B323434383B323434363B323434333B323434303B323433370D0A523D323433343B323433323B323432393B323432373B323432343B323432323B323431393B323431363B323431343B323431320D0A523D323431303B323430373B323430353B323430323B323430303B323339373B323339343B323339323B323338393B323338370D0A523D323338343B323338323B323337393B323337373B323337343B323337313B323336383B323336343B323336313B323335370D0A523D323335353B323335323B323335303B323334383B323334363B323334353B323334323B323333393B323333363B323333340D0A523D323333323B323333303B323332383B323332363B323332343B323332313B323331393B323331363B323331353B323331330D0A523D323331303B323330383B323330353B323330333B323330323B323330303B323239393B323239363B323239333B323239300D0A523D323238383B323238363B323238343B323238323B323238313B323237393B323237363B323237333B323237303B323236390D0A523D323236373B323236363B323236343B323236313B323235383B323235353B323235323B323235303B323234383B323234360D0A523D323234343B323234323B323234303B323233383B323233353B323233333B323233323B323233303B323232383B323232360D0A523D323232333B323232313B323231393B323231373B323231353B323231333B323231313B323230393B323230373B323230340D0A523D323230313B323139393B323139373B323139353B323139323B323139303B323138373B323138353B323138333B323138310D0A523D323137393B323137363B323137343B323137313B323136393B323136363B323136333B323136313B323135383B323135360D0A523D323135333B323135313B323134383B323134363B323134333B323134313B323133383B323133363B323133343B323133310D0A523D323132393B323132363B323132333B323132313B323131383B323131363B323131333B323131313B323130383B323130360D0A523D323130333B323130313B323039393B323039363B323039343B323039323B323039303B323038373B323038353B323038320D0A523D323037393B323037373B323037343B323037323B323036393B323036373B323036343B323036313B323035393B323035360D0A523D323035343B323035313B323034393B323034363B323034343B323034323B323033393B323033373B323033343B323033320D0A523D323032393B323032373B323032353B323032333B323032303B323031383B323031363B323031333B323031313B323030390D0A523D323030373B323030343B323030313B313939383B313939363B313939343B313939313B313938393B313938363B313938340D0A523D313938313B313937383B313937363B313937343B313937323B313936393B313936373B313936343B313936323B313936300D0A523D313935373B313935353B313935323B313935303B313934383B313934363B313934343B313934313B313933393B313933360D0A523D313933343B313933333B313933313B313932393B313932373B313932353B313932333B313932313B313931383B313931360D0A523D313931353B313931333B313931313B313930393B313930373B313930353B313930343B313930323B313930303B313839390D0A523D313839373B313839363B313839343B313839333B313839313B313838393B313838373B313838363B313838353B313838340D0A523D313838323B313838313B313838303B313837383B313837373B313837363B313837353B313837343B313837333B313837320D0A523D313837323B313837313B313837303B313836393B313836383B313836373B313836373B313836363B313836363B313836350D0A523D313836343B313836333B313836333B313836323B313836323B313836323B313836323B313836313B313836313B313836310D0A523D313836313B313836303B313836303B313836303B313836303B313836303B313836303B313836303B313836303B313836300D0A523D313836303B313836303B313836303B313836303B313836303B313836303B313836313B313836313B313836313B313836310D0A523D313836323B313836323B313836333B313836333B313836343B313836343B313836353B313836353B313836363B313836360D0A523D313836373B313836373B313836383B313836393B313837303B313837313B313837323B313837333B313837343B313837350D0A523D313837363B313837373B313837383B313837393B313838303B313838313B313838323B313838333B313838353B313838360D0A523D313838373B313838383B313839303B313839313B313839333B313839343B313839353B313839373B313839393B313930310D0A523D313930323B313930343B313930353B313930373B313930383B313931303B313931323B313931343B313931363B313931370D0A523D313931393B313932313B313932333B313932353B313932373B313932393B313933313B313933333B313933353B313933370D0A523D313933393B313934313B313934343B313934363B313934383B313935313B313935333B313935353B313935373B313936300D0A523D313936323B313936353B313936373B313936393B313937313B313937343B313937373B313937393B313938323B313938340D0A523D313938373B313938393B313939323B313939343B313939373B323030303B323030323B323030353B323030383B323031310D0A523D323031333B323031363B323031393B323032323B323032353B323032383B323033313B323033343B323033373B323034300D0A523D323034333B323034363B323034393B323035323B323035353B323035383B323036313B323036343B323036373B323037300D0A523D323037343B323037373B323038313B323038343B323038373B323039303B323039333B323039373B323130303B323130330D0A523D323130363B323131303B323131333B323131363B323132303B323132333B323132373B323133303B323133343B323133380D0A523D323134313B323134353B323134383B323135333B323135363B323136303B323136343B323136373B323137313B323137340D0A523D323137383B323138323B323138353B323139303B323139333B323139373B323230303B323230343B323230383B323231310D0A523D323231353B323231393B323232333B323232373B323233313B323233353B323233383B323234323B323234363B323235300D0A523D323235343B323235383B323236323B323236353B323237303B323237343B323237373B323238313B323238353B323238390D0A523D323239323B323239363B323330303B323330343B323330393B323331333B323331373B323332313B323332343B323332380D0A523D323333323B323333363B323334303B323334343B323334383B323335333B323335373B323336303B323336343B323336380D0A523D323337323B323337363B323338303B323338343B323338383B323339333B323339373B323430313B323430353B323430390D0A545243464D543D313B313030303B453B4C3B460D0A523D323436313B323436343B323436373B323437303B323437323B323437353B323437373B323438313B323438333B323438360D0A523D323438393B323439323B323439353B323439373B323530303B323530333B323530363B323530393B323531313B323531340D0A523D323531373B323532303B323532333B323532363B323532393B323533323B323533353B323533383B323534313B323534340D0A523D323534373B323534393B323535323B323535353B323535383B323536323B323536353B323536383B323537303B323537330D0A523D323537363B323537393B323538313B323538333B323538353B323538373B323538393B323539313B323539323B323539330D0A523D323539353B323539373B323539383B323539393B323630303B323630313B323630323B323630323B323630333B323630340D0A523D323630343B323630343B323630343B323630343B323630343B323630343B323630333B323630333B323630323B323630320D0A523D323630313B323630303B323539393B323539373B323539353B323539333B323539313B323538393B323538373B323538350D0A523D323538323B323538303B323537373B323537343B323537313B323536373B323536343B323536303B323535363B323535320D0A523D323534373B323534323B323533373B323533323B323532383B323532333B323531383B323531333B323530383B323530340D0A523D323439393B323439343B323438393B323438343B323437393B323437333B323436383B323436323B323435373B323435310D0A523D323434353B323433393B323433333B323432383B323432323B323431353B323431303B323430343B323339383B323339310D0A523D323338353B323337393B323337323B323336363B323336303B323335333B323334373B323334313B323333343B323332370D0A523D323332313B323331353B323330383B323330323B323239363B323238393B323238333B323237363B323237303B323236340D0A523D323235383B323235323B323234363B323233393B323233333B323232373B323232313B323231353B323230393B323230340D0A523D323139383B323139333B323138373B323138313B323137363B323137303B323136343B323135393B323135333B323134380D0A523D323134333B323133383B323133333B323132373B323132323B323131373B323131323B323130373B323130333B323039380D0A523D323039343B323038393B323038343B323037393B323037343B323037303B323036363B323036323B323035383B323035340D0A523D323035313B323034373B323034343B323034303B323033363B323033323B323032383B323032343B323032303B323031370D0A523D323031333B323030393B323030363B323030333B323030303B313939363B313939333B313938393B313938363B313938330D0A523D313938303B313937373B313937343B313937313B313936393B313936363B313936343B313936323B313936303B313935370D0A523D313935343B313935323B313935303B313934383B313934353B313934333B313934313B313933393B313933373B313933340D0A523D313933323B313933313B313932393B313932373B313932353B313932333B313932323B313932303B313931393B313931370D0A523D313931363B313931343B313931333B313931323B313931313B313931303B313930393B313930373B313930363B313930350D0A523D313930343B313930343B313930333B313930323B313930313B313930313B313930303B313930303B313839393B313839390D0A523D313839383B313839373B313839373B313839373B313839373B313839363B313839363B313839363B313839363B313839360D0A523D313839363B313839373B313839373B313839373B313839373B313839373B313839373B313839383B313839383B313839390D0A523D313839393B313930303B313930303B313930313B313930313B313930323B313930333B313930343B313930353B313930360D0A523D313930363B313930373B313930383B313930393B313931303B313931313B313931323B313931343B313931353B313931360D0A523D313931373B313931393B313932313B313932323B313932343B313932353B313932373B313932383B313933303B313933320D0A523D313933343B313933353B313933373B313934303B313934323B313934353B313934373B313934393B313935313B313935340D0A523D313935363B313935383B313936313B313936333B313936363B313936393B313937323B313937353B313937373B313938300D0A523D313938333B313938363B313938393B313939333B313939363B313939393B323030323B323030363B323031303B323031330D0A523D323031373B323032303B323032343B323032373B323033313B323033353B323033383B323034323B323034363B323035310D0A523D323035353B323035393B323036333B323036383B323037323B323037363B323038303B323038353B323039303B323039340D0A523D323039393B323130343B323130393B323131343B323131383B323132343B323132393B323133343B323133393B323134340D0A523D323134393B323135343B323135393B323136353B323137303B323137363B323138313B323138373B323139333B323139380D0A523D323230343B323230393B323231353B323232313B323232373B323233333B323233393B323234353B323235313B323235380D0A523D323236343B323237303B323237373B323238333B323238393B323239363B323330323B323330393B323331363B323332330D0A523D323333303B323333363B323334333B323335303B323335363B323336333B323337313B323337373B323338343B323339310D0A523D323339373B323430343B323431313B323431373B323432343B323433313B323433373B323434343B323435313B323435370D0A523D323436343B323437303B323437363B323438333B323439303B323439363B323530323B323530383B323531333B323531390D0A523D323532353B323533313B323533373B323534323B323534383B323535333B323535383B323536333B323536373B323537320D0A523D323537363B323538303B323538343B323538393B323539323B323539353B323539383B323630313B323630343B323630370D0A523D323630393B323631313B323631333B323631343B323631343B323631343B323631343B323631343B323631333B323631320D0A523D323631303B323630383B323630363B323630343B323630323B323539393B323539363B323539333B323539303B323538360D0A523D323538323B323537393B323537353B323537303B323536363B323536313B323535373B323535333B323534383B323534340D0A523D323533393B323533353B323533303B323532363B323532313B323531373B323531333B323530383B323530333B323439390D0A523D323439353B323439313B323438373B323438323B323437383B323437333B323436393B323436353B323436303B323435360D0A523D323435323B323434383B323434353B323434313B323433373B323433323B323432383B323432343B323432303B323431370D0A523D323431333B323430393B323430353B323430313B323339373B323339333B323338383B323338343B323338303B323337360D0A523D323337323B323336383B323336343B323336303B323335373B323335333B323334383B323334343B323334303B323333360D0A523D323333323B323332383B323332343B323332313B323331373B323331333B323330393B323330343B323330303B323239360D0A523D323239323B323238393B323238353B323238313B323237373B323237343B323237303B323236353B323236323B323235380D0A523D323235343B323235303B323234363B323234323B323233383B323233353B323233313B323232373B323232333B323231390D0A523D323231353B323231313B323230383B323230343B323230303B323139373B323139333B323139303B323138353B323138320D0A523D323137383B323137343B323137313B323136373B323136343B323136303B323135363B323135333B323134383B323134350D0A523D323134313B323133383B323133343B323133303B323132373B323132333B323132303B323131363B323131333B323131300D0A523D323130363B323130333B323130303B323039373B323039333B323039303B323038373B323038343B323038313B323037370D0A523D323037343B323037303B323036373B323036343B323036313B323035383B323035353B323035323B323034393B323034360D0A523D323034333B323034303B323033373B323033343B323033313B323032383B323032353B323032323B323031393B323031360D0A523D323031333B323031313B323030383B323030353B323030323B323030303B313939373B313939343B313939323B313938390D0A523D313938373B313938343B313938323B313937393B313937373B313937343B313937313B313936393B313936373B313936350D0A523D313936323B313936303B313935373B313935353B313935333B313935313B313934383B313934363B313934343B313934310D0A523D313933393B313933373B313933353B313933333B313933313B313932393B313932373B313932353B313932333B313932310D0A523D313931393B313931373B313931363B313931343B313931323B313931303B313930383B313930373B313930353B313930340D0A523D313930323B313930313B313839393B313839373B313839353B313839343B313839333B313839313B313839303B313838380D0A523D313838373B313838363B313838353B313838333B313838323B313838313B313838303B313837393B313837383B313837370D0A523D313837363B313837353B313837343B313837333B313837323B313837313B313837303B313836393B313836383B313836370D0A523D313836373B313836363B313836363B313836353B313836353B313836343B313836343B313836333B313836333B313836320D0A523D313836323B313836313B313836313B313836313B313836313B313836303B313836303B313836303B313836303B313836300D0A523D313836303B313836303B313836303B313836303B313836303B313836303B313836303B313836303B313836303B313836300D0A523D313836313B313836313B313836313B313836313B313836323B313836323B313836323B313836323B313836333B313836330D0A523D313836343B313836353B313836363B313836363B313836373B313836373B313836383B313836393B313837303B313837310D0A523D313837323B313837323B313837333B313837343B313837353B313837363B313837373B313837383B313838303B313838310D0A523D313838323B313838343B313838353B313838363B313838373B313838393B313839313B313839333B313839343B313839360D0A523D313839373B313839393B313930303B313930323B313930343B313930353B313930373B313930393B313931313B313931330D0A523D313931353B313931363B313931383B313932313B313932333B313932353B313932373B313932393B313933313B313933330D0A523D313933343B313933363B313933393B313934313B313934343B313934363B313934383B313935303B313935323B313935350D0A523D313935373B313936303B313936323B313936343B313936373B313936393B313937323B313937343B313937363B313937380D0A523D313938313B313938343B313938363B313938393B313939313B313939343B313939363B313939383B323030313B323030340D0A523D323030373B323030393B323031313B323031333B323031363B323031383B323032303B323032333B323032353B323032370D0A523D323032393B323033323B323033343B323033373B323033393B323034323B323034343B323034363B323034393B323035310D0A523D323035343B323035363B323035393B323036313B323036343B323036373B323036393B323037323B323037343B323037370D0A523D323037393B323038323B323038353B323038373B323039303B323039323B323039343B323039363B323039393B323130310D0A523D323130333B323130363B323130383B323131313B323131333B323131363B323131383B323132313B323132333B323132360D0A523D323132393B323133313B323133343B323133363B323133383B323134313B323134333B323134363B323134383B323135310D0A523D323135333B323135363B323135383B323136313B323136333B323136363B323136393B323137313B323137343B323137360D0A523D323137393B323138313B323138333B323138353B323138373B323139303B323139323B323139353B323139373B323139390D0A523D323230313B323230343B323230373B323230393B323231313B323231333B323231353B323231373B323231393B323232310D0A523D323232333B323232363B323232383B323233303B323233323B323233333B323233353B323233383B323234303B323234320D0A523D323234343B323234363B323234383B323235303B323235323B323235353B323235383B323236313B323236343B323236360D0A523D323236373B323236393B323237303B323237333B323237363B323237393B323238313B323238323B323238343B323238360D0A523D323238383B323239303B323239333B323239363B323239393B323330303B323330323B323330333B323330353B323330380D0A523D323331303B323331333B323331353B323331363B323331393B323332313B323332343B323332363B323332383B323333300D0A523D323333323B323333343B323333363B323333393B323334323B323334353B323334363B323334383B323335303B323335320D0A523D323335353B323335373B323336313B323336343B323336383B323337313B323337343B323337373B323337393B323338320D0A523D323338343B323338373B323338393B323339323B323339343B323339373B323430303B323430323B323430353B323430370D0A523D323431303B323431323B323431343B323431363B323431393B323432323B323432343B323432373B323432393B323433320D0A523D323433343B323433373B323434303B323434333B323434363B323434383B323435313B323435333B323435363B323435380D0A56424F583D33382E30333B33382E30330D0A485645523D322E302E300D0A464352563D342E3030303B342E3030300D0A4645443D35322E32383B35322E32380D0A56454E3D4252495643410D0A</binaries>
						  </tracerData>
					   </shape>';
                    }

                }


                if ($calibre !=
                    "") {
                    $edg = '
						<edging edgingType="NONE">
						   <bevel>
							  <type>BEVEL</type>
							  <position posType="AUTO">0</position>
						  </bevel>
						  <polish>false</polish>
						</edging>';
                }

                $xml .= '<material>' .
                        $monture_type . '</material>
				   <boxWidth>' .
                        $boxWidth . '</boxWidth>
				   <boxHeight>' .
                        $boxHeight . '</boxHeight>
				   <distanceBetweenLenses>' .
                        $DBL . '</distanceBetweenLenses>
				   ' .
                        $calibre;
            }
            $xml .= '
             </frame>';
            $xml .= $edg . ' 
        </pair>
     </item>
  </items>
</b2bOptic>
';


            $CommandeOmega =
                $this->m_commande->updateCommandeOmega($id_commande_omega,
                                                       $textarea,
                                                       $xml);
            if ($CommandeOmega ==
                1) {
                echo 'sent';
            } else {
                echo 'error';
            }

        }
    }

    public
    function send_to_omega()
    {
        $this->load->helper('file');
        $data_commande =
            $this->m_commande->getAllCommandesCheckedOmega();
        if ($data_commande !==
            false) {
            foreach ($data_commande
                     as $key
            => $commande) {

                $d =
                    date("Y-m-d_h-i-s");
                $filename =
                    $commande->id_commande .
                    "_" . $d .
                    ".xml";

                if (!write_file('/var/www/vhosts/optieyescommande.com/httpdocs_new/static/xml/' .
                                $filename,
                                $commande->xml)) {
                    echo $filename .
                         'ERROR - ';
                } else {
                    //echo $filename.'OK - ';
                    //	$s = $this->m_commande->updateEdiStatus($commande->id_commande,"2",$filename);
                    if ($this->uploadFTP("ftpserver.omega-optix.cz",
                                         "optieyes",
                                         "OptiEyes-2020",
                                         '/var/www/vhosts/optieyescommande.com/httpdocs_new/static/xml/' .
                                         $filename,
                                         "/Orders/" .
                                         $filename)) {
                        echo $filename .
                             'OK - ';
                        $s =
                            $this->m_commande->updateEdiStatus($commande->id_commande,
                                                               "2",
                                                               $filename);
                    } else {
                        echo $filename .
                             'ERROR - ';
                    }
                }
            }
        }
    }

    function uploadFTP($server,
                       $username,
                       $password,
                       $local_file,
                       $remote_file)
    {
        // connect to server
        $connection =
            ftp_connect($server);

        // login
        if (@ftp_login($connection,
                       $username,
                       $password)) {
            // successfully connected
        } else {
            return false;
        }

        ftp_put($connection,
                $remote_file,
                $local_file,
                FTP_BINARY);
        ftp_close($connection);
        return true;
    }

    public
    function valid_commande_stock()
    {

        $data['newUser'] =
            $this->session->userdata('newUser');
        $data['parametre_lang_datable'] =
            $this->config->item('parametre_lang_datable');
        $data['parametre_export_datable'] =
            $this->config->item('parametre_export_datable');

        $data['page'] =
        $data['title'] =
            "Validation Commande";
        $data['modules'] =
            array(
                'datatables' => true,
                'datepicker' => true,
                'sweetalert' => true
            );
        $this->load->view('admin/valid_commande_stock',
                          $data);
    }


    public
    function valid_commande_stock_ajax()
    {
        if ($this->input->is_ajax_request()) {
            $data = array();
            $data['aaData'] =
                array();

            $data_commandeOld =
                $this->m_commande->getAllCommande(false,
                                                  2);
            $data_commandeNew =
                $this->m_commande->getAllCommandeNew(false,
                                                     2);

            // if(is_array($data_commandeNew) && is_array($data_commandeOld))
            if (is_array($data_commandeOld) &&
                is_array($data_commandeNew)) {
                $data_commande =
                    array_merge($data_commandeNew,
                                $data_commandeOld);
            } else {
                if (is_array($data_commandeOld)) {
                    $data_commande =
                        $data_commandeOld;
                } else {
                    $data_commande =
                        $data_commandeNew;
                }
            }
            //   else
            //   	$data_commande = $data_commandeNew;

            // $data_commande = $this->m_commande->getAllCommande(false,2);
            $data_etiquette =
                $this->m_commande->getEtiquetteAlreadySet();

            $options_miroir =
                array(
                    1 => 'Miroir Bleu',
                    2 => 'Miroir Argent',
                    3 => 'Miroir Doré',
                    4 => 'Miroir Vert',
                    5 => 'Miroir Rouge',
                    6 => 'Miroir Orange',
                    7 => 'Miroir Rose',
                    8 => 'Miroir Violet',
                    9 => 'Miroir Jaune',
                    10 => 'Miroir Flash'
                );

            //var_dump($data_commande);

            $compteur = 0;
            if ($data_commande !==
                false) {
                foreach ($data_commande
                         as
                         $key
                => $commande)
                {
                    $correction =
                        json_decode($commande->information_commande,
                                    true);
                    $data_correction =
                        "";
                    $noFoundRight =
                    $noFoundLeft =
                        false;

                    $photochromie =
                        isset($correction['verre']['photocromie']) ?
                            $correction['verre']['photocromie'] :
                            'Non Photocromique';
                    $teinte =
                        isset($correction['verre']['teinte']) ?
                            $correction['verre']['teinte'] :
                            'Non Teinté';
                    $rx = ' ';
                    if ($commande->status_omega ==
                        '1') {
                        $rx =
                            '<img src="/static/img/expediee.png" width="50">';
                    }
                    if ($commande->id_type_generation_verre ==
                        '0') {
                        if (isset($_GET['traitement']) &&
                            $_GET['traitement'] !=
                            "all" &&
                            $_GET['traitement'] !=
                            $correction['verre']['traitement']) {
                            continue;
                        }

                        if (isset($_GET['indice']) &&
                            $_GET['indice'] !=
                            $commande->indice_verre) {
                            continue;
                        }

                        if (isset($_GET['photochromie']) &&
                            $_GET['photochromie'] !=
                            "all") {
                            if ($_GET['photochromie'] ==
                                "Non Photocromique" &&
                                $photochromie !=
                                "Non Photocromique") {
                                continue;
                            } elseif ($_GET['photochromie'] !=
                                      "Non Photocromique" &&
                                      $_GET['photochromie'] !=
                                      $photochromie) {
                                continue;
                            }
                        }

                        if (isset($_GET['teinte']) &&
                            $_GET['teinte'] !=
                            "Non Teinté" &&
                            $_GET['teinte'] !=
                            $teinte) {
                            continue;
                        } elseif (isset($_GET['teinte']) &&
                                  $_GET['teinte'] ==
                                  "Non Teinté" &&
                                  ($teinte ==
                                   "G15 C" ||
                                   $teinte ==
                                   "Gris C" ||
                                   $teinte ==
                                   "Brun C")) {
                            continue;
                        }

                        if (isset($_GET['diametre']) &&
                            $_GET['diametre'] !=
                            "Pas de diamètre" &&
                            $_GET['diametre'] !=
                            $correction['verre']['diametre']) {
                            continue;
                        }


                        if (isset($correction['verre']['correction_droit'])) {
                            $data_correction .= "OD : " .
                                                $correction['verre']['correction_droit']['sphere'] .
                                                "(" .
                                                $correction['verre']['correction_droit']['cylindre'] .
                                                ")<br>";

                            if (isset($_GET['sphere']) &&
                                $_GET['sphere'] !=
                                $correction['verre']['correction_droit']['sphere']) {
                                $noFoundRight =
                                    true;
                            }

                            if (isset($_GET['cylindre']) &&
                                $_GET['cylindre'] !=
                                $correction['verre']['correction_droit']['cylindre']) {
                                $noFoundRight =
                                    true;
                            }
                        }

                        if (isset($correction['verre']['correction_gauche'])) {
                            $data_correction .= "OG : " .
                                                $correction['verre']['correction_gauche']['sphere'] .
                                                "(" .
                                                $correction['verre']['correction_gauche']['cylindre'] .
                                                ")<br>";

                            if (isset($_GET['sphere']) &&
                                $_GET['sphere'] !=
                                $correction['verre']['correction_gauche']['sphere']) {
                                $noFoundLeft =
                                    true;
                            }

                            if (isset($_GET['cylindre']) &&
                                $_GET['cylindre'] !=
                                $correction['verre']['correction_gauche']['cylindre']) {
                                $noFoundLeft =
                                    true;
                            }
                        }

                        if (($noFoundRight &&
                             $noFoundLeft) ||
                            ($noFoundLeft &&
                             !isset($correction['verre']['correction_droit'])) ||
                            ($noFoundRight &&
                             !isset($correction['verre']['correction_gauche']))) {
                            continue;
                        }

                        $dep =
                            substr($commande->cp,
                                   0,
                                   -3);

                        if ($teinte ==
                            "Brun C") {
                            $teinte =
                                '<span style="color:#BD8D46">' .
                                $teinte .
                                '</span>';
                        }

                        if ($teinte ==
                            "Gris C") {
                            $teinte =
                                '<span style="color:#9E9E9E">' .
                                $teinte .
                                '</span>';
                        }

                        if ($teinte ==
                            "G15 C") {
                            $teinte =
                                '<span style="color:#096A09">' .
                                $teinte .
                                '</span>';
                        }

                        if ($teinte ==
                            "Bleu nuit C") {
                            $teinte =
                                '<span style="color:#0F056B">' .
                                $teinte .
                                '</span>';
                        }

                        $commande_verres =
                            '';
                        $cl =
                            '';

                        if (isset($correction['verre']['correction_droit'])) {
                            $commande_verres .= 'd';
                        }
                        if (isset($correction['verre']['correction_gauche'])) {
                            $commande_verres .= 'g';
                        }

                        if ($data_etiquette !==
                            false &&
                            (isset($data_etiquette[$commande->id_commande]['droit']) ||
                             isset($data_etiquette[$commande->id_commande]['gauche']))) {
                            $cl =
                                ' is_checked';
                        }

                        // isset($correction['verre']['miroir_stock']) ||
                        // + dans 9eme ligne array $data['aaData'][$compteur]

                        // var_dump($commande);


                        /*
						if($commande->id_generation_verre == 19 || $commande->indice_verre == '1.76 (délais : 10 jours ouvrés)' || $commande->indice_verre == '1.74' || $correction['verre']['traitement'] == "BlueCoat" || $correction['verre']['traitement'] == "BlueCoat Defender" || isset($correction['verre']['polarise'])) {
							$traitement = '<a class="m-b-5 btn btn-danger btn-sm btn-block valid_commande'.$cl.'" data-commande="'.$commande->id_commande.'" data-verres="'.$commande_verres.'">Check</a>'.(isset($correction['verre']['correction_droit']) ? 'D' : '').(isset($correction['verre']['correction_gauche']) ? 'G' : '');
						}*/

                        $stockDeporte =
                            $this->m_commande->checkStockDeporte($commande->id_verre);

                        if ($stockDeporte ==
                            '1') {//$commande->id_generation_verre == 19 || $commande->indice_verre == '1.76 (délais : 10 jours ouvrés)' || $commande->indice_verre == '1.74') {
                            $traitement =
                                '<a class="m-b-5 btn btn-danger btn-sm btn-block valid_commande' .
                                $cl .
                                '" data-commande="' .
                                $commande->id_commande .
                                '" data-verres="' .
                                $commande_verres .
                                '">Check</a>' .
                                (isset($correction['verre']['correction_droit']) ?
                                    'D' :
                                    '') .
                                (isset($correction['verre']['correction_gauche']) ?
                                    'G' :
                                    '');
                        } else {
                            $traitement =
                                (isset($correction['verre']['correction_droit']) ?
                                    '<div class="checkbox checkbox-success"><input type="checkbox" value="" name="verre_droit_' .
                                    $commande->id_commande .
                                    '" id="verre_droit_' .
                                    $commande->id_commande .
                                    '" ' .
                                    ($data_etiquette !==
                                     false &&
                                     isset($data_etiquette[$commande->id_commande]['droit']) ?
                                        'checked' :
                                        '') .
                                    ' /> <label for="verre_droit_' .
                                    $commande->id_commande .
                                    '">Droit</label> </div>' :
                                    '') .
                                (isset($correction['verre']['correction_gauche']) ?
                                    '<div class="checkbox checkbox-success"><input type="checkbox" value="" name="verre_gauche_' .
                                    $commande->id_commande .
                                    '" id="verre_gauche_' .
                                    $commande->id_commande .
                                    '" ' .
                                    ($data_etiquette !==
                                     false &&
                                     isset($data_etiquette[$commande->id_commande]['gauche']) ?
                                        'checked' :
                                        '') .
                                    ' /> <label for="verre_gauche_' .
                                    $commande->id_commande .
                                    '">Gauche</label></div>' :
                                    '');
                        }


                        switch ($commande->type_commande) {

                            case 1:
                                $prix_commande =
                                    $commande->total_commande .
                                    ' €';
                                break;

                            case 2:
                                $prix_commande =
                                    '<del>' .
                                    $commande->total_commande .
                                    '</del> 0 €<br />Casse atelier';
                                break;

                            case 3:
                                $prix_commande =
                                    '<del>' .
                                    $commande->total_commande .
                                    '</del> 0 €<br />Erreur ophta';
                                break;

                        }

                        if ($commande->ancienne_commande >
                            0 &&
                            $commande->type_commande >
                            1) {
                            //if( $commande->type_commande > 1) {

                            $ancienne_commande =
                                '';

                            if ($commande->ancienne_commande >
                                0) {
                                $ancienne_commande .= '<br />(CR' .
                                                      $commande->ancienne_commande .
                                                      '-' .
                                                      $commande->id_users .
                                                      ')<br /><a class="btn btn-danger btn-sm compare_commande" data-toggle="modal" data-target="#compare-commandes" rel="' .
                                                      $commande->id_commande .
                                                      '">Comparer</a>';
                            }
                            if ($commande->penalty !=
                                1) {
                                $ancienne_commande .= '<br /> <a class="btn btn-warning btn-sm reject_ec" rel="' .
                                                      $commande->id_commande .
                                                      '">Rejeter</a>';
                            }
                        } else {
                            $ancienne_commande =
                                '';
                        }

                        //echo "Commande->panierA:".$commande->panierA;

                        $rx =
                            ' ';
                        if ($commande->status_omega ==
                            '1') {
                            $rx =
                                '<img src="/static/img/expediee.png" width="50">';
                        }

                        $ispanier_A =
                            "";
                        $certif_panierA =
                            "";
                        if ($commande->panierA !=
                            '0' ||
                            $commande->id_generation_verre ==
                            '23') {
                            $ispanier_A =
                                "Panier A";
                            $certif_panierA = "<br>
							<a href=\"/static/aa/certificat_authenticite_" .
                                              $commande->id_commande .
                                              ".pdf\" target=\"_blank\" class=\"btn btn-warning btn-sm\"><i class=\"zmdi zmdi-download\"></i> Certif</a>";
                            $certif_panierA .= '<a class="commande-info btn btn-icon waves-effect waves-light" data-toggle="modal" id="regenerer_certif" data-target="#regenerer_certif" rel="' .
                                               $commande->id_commande .
                                               '">Regenerer</a>';

                        }

                        if ($ispanier_A ==
                            "") {
                            $data['aaData'][$compteur] =
                                array(
                                    '<a class="commande-info btn btn-icon waves-effect waves-light ' .
                                    (!empty($commande->commentaire) ?
                                        'btn-warning tooltipster' :
                                        'btn-inverse') .
                                    '" data-toggle="modal" data-target="#detail-commande" rel="' .
                                    $commande->id_commande .
                                    '" ' .
                                    (!empty($commande->commentaire) ?
                                        'original-title="' .
                                        htmlentities($commande->commentaire) .
                                        '" title="' .
                                        htmlentities($commande->commentaire) .
                                        '"' :
                                        '') .
                                    ' ><i class="zmdi zmdi-' .
                                    (!empty($commande->commentaire) ?
                                        'comment' :
                                        'search') .
                                    '"></i> Voir</a>' .
                                    $certif_panierA,
                                    'CR' .
                                    $commande->id_commande .
                                    '-' .
                                    $commande->id_users .
                                    $ancienne_commande,
                                    $commande->intitule_bl .
                                    '<br /><a class="btn btn-inverse btn-sm" id="button_nouvel_intitule_' .
                                    $commande->id_commande .
                                    '_' .
                                    $commande->id_users .
                                    '" data-toggle="modal" data-target="#edit-bl"><i class="zmdi zmdi-edit"></i></a> <a href="/admin/generer_pdf/bon_livraison/' .
                                    $commande->id_commande .
                                    '" class="btn btn-warning btn-sm"><i class="zmdi zmdi-download"></i></a>',
                                    '<a class="btn btn-inverse get-userdashboard" data-toggle="modal" data-target="#user-unlock" data-user="' .
                                    $commande->id_users .
                                    '"><i class="zmdi zmdi-search"></i> Voir</a>',
                                    date('d/m/Y H:i',
                                         strtotime($commande->date_commande)),
                                    $commande->reference_client,
                                    $ispanier_A,
                                    $teinte,
                                    $prix_commande,
                                    $rx,
                                    '<div class="checkbox checkbox-success checkbox-inline"><input type="checkbox" id="expedier_' .
                                    $commande->id_commande .
                                    '_' .
                                    $commande->id_users .
                                    '" name="expedier_' .
                                    $commande->id_commande .
                                    '_' .
                                    $commande->id_users .
                                    '" /> <label for="expedier_' .
                                    $commande->id_commande .
                                    '_' .
                                    $commande->id_users .
                                    '" id="exp_' .
                                    $commande->id_commande .
                                    '_' .
                                    $commande->id_users .
                                    '">' .
                                    ($commande->date_annule !==
                                     null ?
                                        date('d/m/Y',
                                             strtotime($commande->date_annule)) :
                                        '') .
                                    '</label></div>',
                                    //( ($commande->id_generation_verre == 19 || $commande->indice_verre == '1.76 (délais : 10 jours ouvrés)' || $commande->indice_verre == '1.74'/* || $correction['verre']['traitement'] == "BlueCoat" || $correction['verre']['traitement'] == "BlueCoat Defender" || isset($correction['verre']['polarise'])*/ ) ? '<div class="checkbox checkbox-success checkbox-inline"><input type="checkbox" value="'.(!empty($commande->date_pointage) ? 1 : 0 ).'" id="pointage_'.$commande->id_commande.'" name="pointage_'.$commande->id_commande.'" '.(!empty($commande->date_pointage) ? 'checked' : '').'/><label for="pointage_'.$commande->id_commande.'" id="pointage_date_'.$commande->id_commande.'">'.(!empty($commande->date_pointage) ? date("d-m-Y",strtotime($commande->date_pointage)) : "") : '').'</label></div>',
                                    (($stockDeporte ==
                                      '1') ?
                                        '<div class="checkbox checkbox-success checkbox-inline"><input type="checkbox" value="' .
                                        (!empty($commande->date_pointage) ?
                                            1 :
                                            0) .
                                        '" id="pointage_' .
                                        $commande->id_commande .
                                        '" name="pointage_' .
                                        $commande->id_commande .
                                        '" ' .
                                        (!empty($commande->date_pointage) ?
                                            'checked' :
                                            '') .
                                        '/><label for="pointage_' .
                                        $commande->id_commande .
                                        '" id="pointage_date_' .
                                        $commande->id_commande .
                                        '">' .
                                        (!empty($commande->date_pointage) ?
                                            date("d-m-Y",
                                                 strtotime($commande->date_pointage)) :
                                            "") :
                                        '') .
                                    '</label></div>',
                                    $traitement,
                                    $commande->type_commande,
                                    ($commande->date_annule !==
                                     null ?
                                        1 :
                                        0)
                                );
                        } else {
                            $data['aaData'][$compteur] =
                                array(
                                    '<a class="commande-info btn btn-icon waves-effect waves-light ' .
                                    (!empty($commande->commentaire) ?
                                        'btn-warning tooltipster' :
                                        'btn-inverse') .
                                    '" data-toggle="modal" data-target="#detail-commande" rel="' .
                                    $commande->id_commande .
                                    '" ' .
                                    (!empty($commande->commentaire) ?
                                        'original-title="' .
                                        htmlentities($commande->commentaire) .
                                        '" title="' .
                                        htmlentities($commande->commentaire) .
                                        '"' :
                                        '') .
                                    ' ><i class="zmdi zmdi-' .
                                    (!empty($commande->commentaire) ?
                                        'comment' :
                                        'search') .
                                    '"></i> Voir</a>' .
                                    $certif_panierA,
                                    'CR' .
                                    $commande->id_commande .
                                    '-' .
                                    $commande->id_users .
                                    $ancienne_commande,
                                    $commande->intitule_bl .
                                    '<br /><a class="btn btn-inverse btn-sm" id="button_nouvel_intitule_' .
                                    $commande->id_commande .
                                    '_' .
                                    $commande->id_users .
                                    '" data-toggle="modal" data-target="#edit-bl"><i class="zmdi zmdi-edit"></i></a> <a href="/admin/generer_pdf/bon_livraison/' .
                                    $commande->id_commande .
                                    '" class="btn btn-warning btn-sm"><i class="zmdi zmdi-download"></i></a>',
                                    '<a class="btn btn-inverse get-userdashboard" data-toggle="modal" data-target="#user-unlock" data-user="' .
                                    $commande->id_users .
                                    '"><i class="zmdi zmdi-search"></i> Voir</a>',
                                    date('d/m/Y H:i',
                                         strtotime($commande->date_commande)),
                                    $commande->reference_client,
                                    $ispanier_A,
                                    $teinte,
                                    $prix_commande,
                                    $rx,
                                    '<div class="checkbox checkbox-success checkbox-inline"><input type="checkbox" id="expedier_' .
                                    $commande->id_commande .
                                    '_' .
                                    $commande->id_users .
                                    '" name="expedier_' .
                                    $commande->id_commande .
                                    '_' .
                                    $commande->id_users .
                                    '" /> <label for="expedier_' .
                                    $commande->id_commande .
                                    '_' .
                                    $commande->id_users .
                                    '" id="exp_' .
                                    $commande->id_commande .
                                    '_' .
                                    $commande->id_users .
                                    '">' .
                                    ($commande->date_annule !==
                                     null ?
                                        date('d/m/Y',
                                             strtotime($commande->date_annule)) :
                                        '') .
                                    '</label></div>',
                                    //( ($commande->id_generation_verre == 19 || $commande->indice_verre == '1.76 (délais : 10 jours ouvrés)' || $commande->indice_verre == '1.74' /* || $correction['verre']['traitement'] == "BlueCoat" || $correction['verre']['traitement'] == "BlueCoat Defender" || isset($correction['verre']['polarise'])*/ ) ? '<div class="checkbox checkbox-success checkbox-inline"><input type="checkbox" value="'.(!empty($commande->date_pointage) ? 1 : 0 ).'" id="pointage_'.$commande->id_commande.'" name="pointage_'.$commande->id_commande.'" '.(!empty($commande->date_pointage) ? 'checked' : '').'/><label for="pointage_'.$commande->id_commande.'" id="pointage_date_'.$commande->id_commande.'">'.(!empty($commande->date_pointage) ? date("d-m-Y",strtotime($commande->date_pointage)) : "") : '').'</label></div>',
                                    (($stockDeporte ==
                                      '1') ?
                                        '<div class="checkbox checkbox-success checkbox-inline"><input type="checkbox" value="' .
                                        (!empty($commande->date_pointage) ?
                                            1 :
                                            0) .
                                        '" id="pointage_' .
                                        $commande->id_commande .
                                        '" name="pointage_' .
                                        $commande->id_commande .
                                        '" ' .
                                        (!empty($commande->date_pointage) ?
                                            'checked' :
                                            '') .
                                        '/><label for="pointage_' .
                                        $commande->id_commande .
                                        '" id="pointage_date_' .
                                        $commande->id_commande .
                                        '">' .
                                        (!empty($commande->date_pointage) ?
                                            date("d-m-Y",
                                                 strtotime($commande->date_pointage)) :
                                            "") :
                                        '') .
                                    '</label></div>',
                                    $traitement,
                                    $commande->type_commande,
                                    ($commande->date_annule !==
                                     null ?
                                        1 :
                                        0)
                                );
                        }
                    } else {
                        if ($commande->ancienne_commande >
                            0 &&
                            $commande->type_commande >
                            1) {

                            $ancienne_commande =
                                '';

                            if ($commande->ancienne_commande >
                                0) {
                                $ancienne_commande .= '<br />(CR' .
                                                      $commande->ancienne_commande .
                                                      '-' .
                                                      $commande->id_users .
                                                      ')<br /><a class="btn btn-danger btn-sm compare_commande" data-toggle="modal" data-target="#compare-commandes" rel="' .
                                                      $commande->id_commande .
                                                      '">Comparer</a>';
                            }
                            if ($commande->penalty !=
                                1) {
                                $ancienne_commande .= '<br /> <a class="btn btn-warning btn-sm reject_ec" rel="' .
                                                      $commande->id_commande .
                                                      '">Rejeter</a>';
                            }
                        } else {
                            $ancienne_commande =
                                '';
                        }

                        $ispanier_A =
                            "";
                        $certif_panierA =
                            "";

                        if ($commande->panierA ==
                            '1') {
                            $ispanier_A =
                                "Panier A";
                            $certif_panierA = "<br>
							<a href=\"/static/aa/certificat_authenticite_" .
                                              $commande->id_commande . ".pdf\" target=\"_blank\" class=\"btn btn-warning btn-sm\"><i class=\"zmdi zmdi-download\"></i> Certif</a>
							";
                        }


                        $traitement =
                            (isset($correction['verre']['correction_droit']) ?
                                '<div class="checkbox checkbox-success"><input type="checkbox" value="" name="verre_droit_' .
                                $commande->id_commande .
                                '" id="verre_droit_' .
                                $commande->id_commande .
                                '" ' .
                                ($data_etiquette !==
                                 false &&
                                 isset($data_etiquette[$commande->id_commande]['droit']) ?
                                    'checked' :
                                    '') .
                                ' /> <label for="verre_droit_' .
                                $commande->id_commande .
                                '">Droit</label> </div>' :
                                '') .
                            (isset($correction['verre']['correction_gauche']) ?
                                '<div class="checkbox checkbox-success"><input type="checkbox" value="" name="verre_gauche_' .
                                $commande->id_commande .
                                '" id="verre_gauche_' .
                                $commande->id_commande .
                                '" ' .
                                ($data_etiquette !==
                                 false &&
                                 isset($data_etiquette[$commande->id_commande]['gauche']) ?
                                    'checked' :
                                    '') .
                                ' /> <label for="verre_gauche_' .
                                $commande->id_commande .
                                '">Gauche</label></div>' :
                                '');

                        switch ($commande->type_commande) {

                            case 1:
                                $prix_commande =
                                    $commande->total_commande .
                                    ' €';
                                break;

                            case 2:
                                $prix_commande =
                                    '<del>' .
                                    $commande->total_commande .
                                    '</del> 0 €<br />Casse atelier';
                                break;

                            case 3:
                                $prix_commande =
                                    '<del>' .
                                    $commande->total_commande .
                                    '</del> 0 €<br />Erreur ophta';
                                break;

                        }
                        if ($ispanier_A ==
                            "") {
                            $data['aaData'][$compteur] =
                                array(
                                    '<a class="commande-info btn btn-icon waves-effect waves-light ' .
                                    (!empty($commande->commentaire) ?
                                        'btn-warning tooltipster' :
                                        'btn-inverse') .
                                    '" data-toggle="modal" data-target="#detail-commande" rel="' .
                                    $commande->id_commande .
                                    '" ' .
                                    (!empty($commande->commentaire) ?
                                        'original-title="' .
                                        htmlentities($commande->commentaire) .
                                        '" title="' .
                                        htmlentities($commande->commentaire) .
                                        '"' :
                                        '') .
                                    ' ><i class="zmdi zmdi-' .
                                    (!empty($commande->commentaire) ?
                                        'comment' :
                                        'search') .
                                    '"></i> Voir</a>' .
                                    $certif_panierA,
                                    'CR' .
                                    $commande->id_commande .
                                    '-' .
                                    $commande->id_users .
                                    $ancienne_commande,
                                    $commande->intitule_bl .
                                    '<br /><a class="btn btn-inverse btn-sm" id="button_nouvel_intitule_' .
                                    $commande->id_commande .
                                    '_' .
                                    $commande->id_users .
                                    '" data-toggle="modal" data-target="#edit-bl"><i class="zmdi zmdi-edit"></i></a> <a href="/admin/generer_pdf/bon_livraison/' .
                                    $commande->id_commande .
                                    '" class="btn btn-warning btn-sm"><i class="zmdi zmdi-download"></i></a>',
                                    '<a class="btn btn-inverse get-userdashboard" data-toggle="modal" data-target="#user-unlock" data-user="' .
                                    $commande->id_users .
                                    '"><i class="zmdi zmdi-search"></i> Voir</a>',
                                    date('d/m/Y H:i',
                                         strtotime($commande->date_commande)),
                                    $commande->reference_client,
                                    $ispanier_A,
                                    $teinte,
                                    $prix_commande,
                                    $rx,
                                    '<div class="checkbox checkbox-success checkbox-inline"><input type="checkbox" id="expedier_' .
                                    $commande->id_commande .
                                    '_' .
                                    $commande->id_users .
                                    '" name="expedier_' .
                                    $commande->id_commande .
                                    '_' .
                                    $commande->id_users .
                                    '" /> <label for="expedier_' .
                                    $commande->id_commande .
                                    '_' .
                                    $commande->id_users .
                                    '" id="exp_' .
                                    $commande->id_commande .
                                    '_' .
                                    $commande->id_users .
                                    '">' .
                                    ($commande->date_annule !==
                                     null ?
                                        date('d/m/Y',
                                             strtotime($commande->date_annule)) :
                                        '') .
                                    '</label></div>',
                                    '<div class="checkbox checkbox-success checkbox-inline"><input type="checkbox" value="' .
                                    (!empty($commande->date_pointage) ?
                                        1 :
                                        0) .
                                    '" id="pointage_' .
                                    $commande->id_commande .
                                    '" name="pointage_' .
                                    $commande->id_commande .
                                    '" ' .
                                    (!empty($commande->date_pointage) ?
                                        'checked' :
                                        '') .
                                    '/><label for="pointage_' .
                                    $commande->id_commande .
                                    '" id="pointage_date_' .
                                    $commande->id_commande .
                                    '">' .
                                    (!empty($commande->date_pointage) ?
                                        date("d-m-Y",
                                             strtotime($commande->date_pointage)) :
                                        "") .
                                    '</label></div>',
                                    $traitement,
                                    $commande->type_commande,
                                    ($commande->date_annule !==
                                     null ?
                                        1 :
                                        0)
                                );
                        } else {

                            $data['aaData'][$compteur] =
                                array(
                                    '<a class="commande-info btn btn-icon waves-effect waves-light ' .
                                    (!empty($commande->commentaire) ?
                                        'btn-warning tooltipster' :
                                        'btn-inverse') .
                                    '" data-toggle="modal" data-target="#detail-commande" rel="' .
                                    $commande->id_commande .
                                    '" ' .
                                    (!empty($commande->commentaire) ?
                                        'original-title="' .
                                        htmlentities($commande->commentaire) .
                                        '" title="' .
                                        htmlentities($commande->commentaire) .
                                        '"' :
                                        '') .
                                    ' ><i class="zmdi zmdi-' .
                                    (!empty($commande->commentaire) ?
                                        'comment' :
                                        'search') .
                                    '"></i> Voir</a>' .
                                    $certif_panierA,
                                    'CR' .
                                    $commande->id_commande .
                                    '-' .
                                    $commande->id_users .
                                    $ancienne_commande,
                                    $commande->intitule_bl .
                                    '<br /><a class="btn btn-inverse btn-sm" id="button_nouvel_intitule_' .
                                    $commande->id_commande .
                                    '_' .
                                    $commande->id_users .
                                    '" data-toggle="modal" data-target="#edit-bl"><i class="zmdi zmdi-edit"></i></a> <a href="/admin/generer_pdf/bon_livraison/' .
                                    $commande->id_commande .
                                    '" class="btn btn-warning btn-sm"><i class="zmdi zmdi-download"></i></a>',
                                    '<a class="btn btn-inverse get-userdashboard" data-toggle="modal" data-target="#user-unlock" data-user="' .
                                    $commande->id_users .
                                    '"><i class="zmdi zmdi-search"></i> Voir</a>',
                                    date('d/m/Y H:i',
                                         strtotime($commande->date_commande)),
                                    $commande->reference_client,
                                    $ispanier_A,
                                    $teinte,
                                    $prix_commande,
                                    $rx,
                                    '<div class="checkbox checkbox-success checkbox-inline"><input type="checkbox" id="expedier_' .
                                    $commande->id_commande .
                                    '_' .
                                    $commande->id_users .
                                    '" name="expedier_' .
                                    $commande->id_commande .
                                    '_' .
                                    $commande->id_users .
                                    '" /> <label for="expedier_' .
                                    $commande->id_commande .
                                    '_' .
                                    $commande->id_users .
                                    '" id="exp_' .
                                    $commande->id_commande .
                                    '_' .
                                    $commande->id_users .
                                    '">' .
                                    ($commande->date_annule !==
                                     null ?
                                        date('d/m/Y',
                                             strtotime($commande->date_annule)) :
                                        '') .
                                    '</label></div>',
                                    '<div class="checkbox checkbox-success checkbox-inline"><input type="checkbox" value="' .
                                    (!empty($commande->date_pointage) ?
                                        1 :
                                        0) .
                                    '" id="pointage_' .
                                    $commande->id_commande .
                                    '" name="pointage_' .
                                    $commande->id_commande .
                                    '" ' .
                                    (!empty($commande->date_pointage) ?
                                        'checked' :
                                        '') .
                                    '/><label for="pointage_' .
                                    $commande->id_commande .
                                    '" id="pointage_date_' .
                                    $commande->id_commande .
                                    '">' .
                                    (!empty($commande->date_pointage) ?
                                        date("d-m-Y",
                                             strtotime($commande->date_pointage)) :
                                        "") .
                                    '</label></div>',
                                    $traitement,
                                    $commande->type_commande,
                                    ($commande->date_annule !==
                                     null ?
                                        1 :
                                        0)
                                );
                        }

                    }

                    $compteur++;
                }
            }
            die(json_encode($data));
        } else {
            $this->redirect("/index");
        }
    }

    public
    function regenerer_certif()
    {
        if ($this->input->is_ajax_request()) {

            $id_commande =
                (int)$this->input->post('id_commande');

            $data =
                $this->m_commande->getCommandeByIdNew($id_commande);

            $data['certificat'] =
                $this->m_commande->getCertificatStock($id_commande);

            $data['control'] =
                array(
                    'certificat' => bin2hex(openssl_random_pseudo_bytes(10))
                );

            /*$this->db->insert('controle', array(
				'id' => $data['control']['certificat'],
				'control' => count($data['certificat'])
			));
			*/

            $this->db->insert('controle_test',
                              array(
                                  'v' => $data['control']['certificat'],
                                  'control' => count($data['certificat'])
                              ));

            // var_dump($data);
            //$this->config->item('directory_pdf').'/'.$this->pdf('certificat_authenticite', $data, $id_commande, false, 'paysage', $customsize = array(0,0,243,153));
            $docs = array(
                'certificat' => $this->config->item('directory_pdf') .
                                '/' .
                                $this->pdf('certificat_authenticite',
                                           $data,
                                           $id_commande,
                                           false,
                                           'paysage',
                                           $customsize =
                                               array(
                                                   0,
                                                   0,
                                                   243,
                                                   153
                                               ))
            );

            //$file_pdf = 'certificat_authenticite_'.$id_commande;
            //$this->config->item('directory_pdf')."/".$this->generer_pdf($file_pdf,$data,true);
            echo 'OK';

        }

    }

    public
    function valid_commande_lentille()
    {

        $data['newUser'] =
            $this->session->userdata('newUser');
        $data['parametre_lang_datable'] =
            $this->config->item('parametre_lang_datable');
        $data['parametre_export_datable'] =
            $this->config->item('parametre_export_datable');
        $data['status'] = 0;

        $data['page'] =
        $data['title'] =
            "Validation Commande";
        $data['modules'] =
            array(
                'datatables' => true,
                'datepicker' => true,
                'sweetalert' => true
            );

        $this->load->view('admin/valid_commande_lentille',
                          $data);

    }

    public
    function ancienne_commande_montures()
    {

        $data['newUser'] =
            $this->session->userdata('newUser');
        $data['parametre_lang_datable'] =
            $this->config->item('parametre_lang_datable');
        $data['parametre_export_datable'] =
            $this->config->item('parametre_export_datable');
        $data['status'] = 1;

        $data['page'] =
        $data['title'] =
            "Validation Commande";
        $data['modules'] =
            array(
                'datatables' => true,
                'datepicker' => true,
                'sweetalert' => true
            );

        $this->load->view('admin/ancienne_commande_montures',
                          $data);

    }


    public
    function valid_commande_montures()
    {

        $data['newUser'] =
            $this->session->userdata('newUser');
        $data['parametre_lang_datable'] =
            $this->config->item('parametre_lang_datable');
        $data['parametre_export_datable'] =
            $this->config->item('parametre_export_datable');
        $data['status'] = 0;

        $data['page'] =
        $data['title'] =
            "Validation Commande";
        $data['modules'] =
            array(
                'datatables' => true,
                'datepicker' => true,
                'sweetalert' => true
            );

        $this->load->view('admin/valid_commande_montures',
                          $data);

    }

    public
    function ancienne_commande_lentille()
    {

        $data['newUser'] =
            $this->session->userdata('newUser');
        $data['parametre_lang_datable'] =
            $this->config->item('parametre_lang_datable');
        $data['parametre_export_datable'] =
            $this->config->item('parametre_export_datable');
        $data['status'] = 1;

        $data['page'] =
        $data['title'] =
            "Validation Commande";
        $data['modules'] =
            array(
                'datatables' => true,
                'datepicker' => true,
                'sweetalert' => true
            );

        $this->load->view('admin/ancienne_commande_lentille',
                          $data);

    }

    public
    function valid_commande_lentille_ajax($status = 0)
    {

        $data['aaData'] =
            array();

        if ($orders =
            $this->getLensOrders($status)) {

            foreach ($orders
                     as
                     $order) {

                $lens =
                    $this->m_lens->getLens($order->lens_id);
                $build =
                    json_decode($order->information_commande,
                                true);

                $corrections =
                    '';

                $config =
                    $this->lens_config;

                foreach ($config['sides']
                         as
                         $side
                => $v) {

                    if (!isset($build['excl'][$side])) {

                        $corrections .= $v .
                                        ' : ';

                        foreach ($config['attrs']
                                 as
                                 $attr
                        =>
                                 $name)
                        {
                            if (isset($build[$attr][$side])) {
                                $corrections .= $name .
                                                ' : ' .
                                                $build[$attr][$side] .
                                                ', ';
                            }
                        }

                        $corrections .= '<br />';

                    }

                }

                $data['aaData'][] =
                    array(
                        '<a class="commande-lentilles-info btn btn-icon waves-effect waves-light ' .
                        (!empty($order->commentaire) ?
                            'btn-warning tooltipster' :
                            'btn-inverse') .
                        '" data-toggle="modal" data-target="#detail-commande-lentilles" rel="' .
                        $order->id_commande .
                        '" ' .
                        (!empty($order->commentaire) ?
                            'original-title="' .
                            htmlentities($order->commentaire) .
                            '" title="' .
                            htmlentities($order->commentaire) .
                            '"' :
                            '') .
                        ' ><i class="zmdi zmdi-' .
                        (!empty($order->commentaire) ?
                            'comment' :
                            'search') .
                        '"></i> Voir</a>',
                        'CR' .
                        $order->id_commande .
                        '-' .
                        $order->id_users,
                        date('d/m/Y H:i',
                             strtotime($order->date_commande)),
                        '<a class="btn btn-inverse get-userdashboard" data-toggle="modal" data-target="#user-unlock" data-user="' .
                        $order->id_users .
                        '"><i class="zmdi zmdi-search"></i> Voir</a>',
                        $order->intitule_bl .
                        '<br /><a class="btn btn-inverse btn-sm" id="button_nouvel_intitule_' .
                        $order->id_commande .
                        '_' .
                        $order->id_users .
                        '" data-toggle="modal" data-target="#edit-bl" rel="lens"><i class="zmdi zmdi-edit"></i></a> <a href="/admin/generer_pdf/bon_livraison_lentille/' .
                        $order->id_commande .
                        '" class="btn btn-warning btn-sm"><i class="zmdi zmdi-download"></i></a>',
                        $order->reference_client,
                        $order->name,
                        $corrections,
                        number_format($order->total_commande,
                                      2,
                                      ',',
                                      '') .
                        ' €',
                        '<div class="checkbox checkbox-success checkbox-inline"><input type="checkbox" class="lensCheck" data-order="' .
                        $order->id_commande .
                        '" id="check_' .
                        $order->id_commande .
                        '_' .
                        $order->id_users .
                        '" name="check_' .
                        $order->id_commande .
                        '_' .
                        $order->id_users .
                        '" ' .
                        ($order->check_date !=
                         null ?
                            'checked' :
                            '') .
                        ' /> <label for="check_' .
                        $order->id_commande .
                        '_' .
                        $order->id_users .
                        '" id="checked_' .
                        $order->id_commande .
                        '_' .
                        $order->id_users .
                        '">' .
                        ($order->date_annule !==
                         null ?
                            date('d/m/Y',
                                 strtotime($order->date_annule)) :
                            '') .
                        '</label></div>',
                    );

            }
        }

        die(json_encode($data));

    }

    public
    function valid_commande_montures_ajax($status = 0)
    {

        $data['aaData'] =
            array();

        if ($orders =
            $this->getMonturesOrders($status)) {

            foreach ($orders
                     as
                     $order) {

                //$montures = $this->m_montures->getMontures($order->montures_id);
                $montures =
                    json_decode($order->information_commande,
                                true);

                $corrections =
                    '';

                $config =
                    $this->montures_config;

                $details = '';

                foreach ($montures
                         as
                         $monture)
                {

                    if ($monture['id'] !=
                        null) {
                        $details .= '<strong>' .
                                    $monture['collection'] .
                                    ' ' .
                                    $monture['modele'] .
                                    ':</strong> ' .
                                    $monture['size'] .
                                    ' ' .
                                    $monture['type'] .
                                    ' ' .
                                    $monture['couleur'] .
                                    ' x' .
                                    $monture['qty'] .
                                    ', ';
                    } else {
                        $details .= '<strong>Pack ' .
                                    $monture['pack'] .
                                    '</strong> x' .
                                    $monture['qty'] .
                                    ', ';
                    }


                }
                $details =
                    rtrim($details,
                          ", ");

                $data['aaData'][] =
                    array(
                        '<a class="commande-montures-info btn btn-icon waves-effect waves-light ' .
                        (!empty($order->commentaire) ?
                            'btn-warning tooltipster' :
                            'btn-inverse') .
                        '" data-toggle="modal" data-target="#detail-commande-montures" rel="' .
                        $order->id_commande .
                        '" ' .
                        (!empty($order->commentaire) ?
                            'original-title="' .
                            htmlentities($order->commentaire) .
                            '" title="' .
                            htmlentities($order->commentaire) .
                            '"' :
                            '') .
                        ' ><i class="zmdi zmdi-' .
                        (!empty($order->commentaire) ?
                            'comment' :
                            'search') .
                        '"></i> Voir</a>',
                        'CR' .
                        $order->id_commande .
                        '-' .
                        $order->id_users,
                        date('d/m/Y H:i',
                             strtotime($order->date_commande)),
                        '<a class="btn btn-inverse get-userdashboard" data-toggle="modal" data-target="#user-unlock" data-user="' .
                        $order->id_users .
                        '"><i class="zmdi zmdi-search"></i> Voir</a>',
                        '<a href="/admin/generer_pdf/bon_livraison_montures/' .
                        $order->id_commande .
                        '" class="btn btn-warning btn-sm">' .
                        $order->intitule_bl .
                        '<i class="zmdi zmdi-download"></i></a>',
                        $order->reference_client,
                        $details,
                        number_format($order->total_commande,
                                      2,
                                      ',',
                                      '') .
                        ' €',
                        '<div class="checkbox checkbox-success checkbox-inline"><input type="checkbox" class="monturesCheck" data-order="' .
                        $order->id_commande .
                        '" id="check_' .
                        $order->id_commande .
                        '_' .
                        $order->id_users .
                        '" name="check_' .
                        $order->id_commande .
                        '_' .
                        $order->id_users .
                        '" ' .
                        ($order->check_date !=
                         null ?
                            'checked' :
                            '') .
                        ' /> <label for="check_' .
                        $order->id_commande .
                        '_' .
                        $order->id_users .
                        '" id="checked_' .
                        $order->id_commande .
                        '_' .
                        $order->id_users .
                        '">' .
                        ($order->date_annule !==
                         null ?
                            date('d/m/Y',
                                 strtotime($order->date_annule)) :
                            '') .
                        '</label></div>',
                    );

            }
        }

        die(json_encode($data));

    }

    public
    function update_bl()
    {

        if ($this->input->is_ajax_request()) {

            $data =
                $this->input->post();

            list
                ($day, $month,
                $year) =
                explode("/",
                        $data['date_bl']);
            $date =
                $year . "-" .
                $month . "-" .
                $day .
                " 00:00:00";
            $data['date_bl'] =
                $date;

            $intitule =
                substr($year,
                       2, 2) .
                $month . $day;

            $max_intitule =
                $this->m_commande->getNbIntituleBl($intitule);

            $data['id_commande'] =
                $data['id_nouvelle_date_bl'];
            $data['id_users'] =
                $data['id_users_nouveau_bl'];

            unset($data['id_nouvelle_date_bl']);
            unset($data['id_users_nouveau_bl']);

            if (!empty($max_intitule[0]->IntituleBL)) {

                // Assuming we'll not reach 999 deliveries per day
                $min =
                    $max_intitule[0]->IntituleBL +
                    1;
                $min =
                    str_replace($intitule,
                                '',
                                (string)$min);
                $max = 999;

                if ($min >=
                    $max) {
                    $min =
                        100;
                }

                do {
                    $rand =
                        mt_rand($min,
                                $max);
                } while ($this->m_commande->checkIntituleBl($intitule,
                                                            $rand)[0]->IntituleBL !=
                         0);

                $data['intitule_bl'] =
                    $intitule .
                    $rand;

            } else {
                $data['intitule_bl'] =
                    $intitule .
                    '001';
            }

            $this->m_commande->nouvelle_date_bl($data);


            $user =
                $this->m_users->getUserById($data['id_users']);
            $data['email'] =
                $user[0]->email;

            if ($data['is_lens'] ==
                1) {
                $file_pdf =
                    'bon_livraison_lentille';
            } elseif (isset($data['is_montures']) &&
                      $data['is_montures'] ==
                      1) {
                $file_pdf =
                    'bon_livraison_montures';
            } else {
                $file_pdf =
                    'bon_livraison';
            }

            $piece_jointe =
                $this->config->item('directory_pdf') .
                "/" .
                $this->generer_pdf($file_pdf,
                                   $data['id_commande'],
                                   true);

            /*$user = $this->m_users->getUserById(1);
            $data['email_cc'] = $user[0]->email;*/


            $data['email_from'] =
                'crystal@optieyescommande.com';
            $data['email_cc'] =
                'crystal@optieyescommande.com';

            $mess_txt = "<html>
                        <head></head>
                        <body>
                        Madame, Monsieur,<br><br><br>
                        Ci joint le bon de livraison demandé.<br><br>
                        Nous vous rappelons que celui ci peut être téléchargé et imprimé à tout moment dans votre espace client, dans la rubrique « mes bons de livraison »<br><br><br>
                        A bientôt chez Optieyes !<br><br>
                        L'équipe.                   
                        </body>
                      </html>";

            $subjet_txt =
                'Demande de bon de livraison n° ' .
                $data['intitule_bl'];
            $html = true;

            $this->mail($data,
                        $mess_txt,
                        $html,
                        $subjet_txt,
                        $piece_jointe);

            if (is_file($piece_jointe)) {
                unlink($piece_jointe);
            }

            $this->m_commande->delete($data);

            echo 'sent';

        }


    }

    public
    function nouvelle_date_bl()
    {
        if ($this->input->is_ajax_request()) {
            $data =
                $this->input->post();

            list
                ($day, $month,
                $year) =
                explode("/",
                        $data['date_bl']);
            $date =
                $year . "-" .
                $month . "-" .
                $day .
                " 00:00:00";
            $data['date_bl'] =
                $date;

            $intitule =
                substr($year,
                       2, 2) .
                $month . $day;

            $max_intitule =
                $this->m_commande->getNbIntituleBl($intitule);

            if (!empty($max_intitule[0]->IntituleBL)) {
                $data['intitule_bl'] =
                    $max_intitule[0]->IntituleBL +
                    1;
            } else {
                $data['intitule_bl'] =
                    $intitule .
                    '001';
            }

            if (isset($data['libelle_quantite_lentille_droit']) &&
                isset($data['libelle_quantite_lentille_gauche'])) {
                $data['quantite_type_optique'] =
                    json_encode(array(
                                    'quantite_droit' => $data['libelle_quantite_lentille_droit'],
                                    'quantite_gauche' => $data['libelle_quantite_lentille_gauche']
                                ));

                unset($data['libelle_quantite_lentille_droit']);
                unset($data['libelle_quantite_lentille_gauche']);
            } elseif (isset($data['libelle_quantite_montures_droit']) &&
                      isset($data['libelle_quantite_montures_gauche'])) {
                $data['quantite_type_optique'] =
                    json_encode(array(
                                    'quantite_droit' => $data['libelle_quantite_montures_droit'],
                                    'quantite_gauche' => $data['libelle_quantite_montures_gauche']
                                ));

                unset($data['libelle_quantite_montures_droit']);
                unset($data['libelle_quantite_montures_gauche']);
            } else {
                $data['quantite_type_optique'] =
                $data['intitule_type_optique'] =
                    NULL;
                $data['type_optique'] =
                    "verre";

            }

            $this->m_commande->nouvelle_date_bl($data);
        }
    }

    public
    function send_nouveau_bl()
    {
        if ($this->input->is_ajax_request()) {
            $data =
                $this->input->post();

            $user =
                $this->m_users->getUserById($data['id_users']);
            $data['email'] =
                $user[0]->email;

            $piece_jointe =
                $this->config->item('directory_pdf') .
                "/" .
                $this->generer_pdf('bon_livraison',
                                   $data['id_commande'],
                                   true);

            $user =
                $this->m_users->getUserById(1);
            $data['email_cc'] =
                $user[0]->email;

            $mess_txt = "<html>
                        <head></head>
                        <body>
                        Madame, Monsieur,<br><br><br>
                        Ci joint le bon de livraison demandé.<br><br>
                        Nous vous rappelons que celui ci peut être téléchargé et imprimé à tout moment dans votre espace client, dans la rubrique « mes bons de livraison »<br><br><br>
                        A bientôt chez Optieyes !<br><br>
                        L'équipe.                   
                        </body>
                      </html>";

            $subjet_txt =
                "Votre demande de bon de livraison.";
            $html = true;

            $this->mail($data,
                        $mess_txt,
                        $html,
                        $subjet_txt,
                        $piece_jointe);

            if (is_file($piece_jointe)) {
                unlink($piece_jointe);
            }

            $this->m_commande->delete($data);
        }
    }

    public
    function ajouter_etiquette()
    {
        if ($this->input->is_ajax_request()) {
            $this->m_commande->ajouter_etiquette($this->input->post());
        }
    }

    public
    function ajouter_etiquetteNEW()
    {
        if ($this->input->is_ajax_request()) {
            $this->m_commande->ajouter_etiquetteNEW($this->input->post());
        }
    }

    public
    function commande($id_commande = false)
    {
        if (is_numeric($id_commande)) {
            $data['newUser'] =
                $this->session->userdata('newUser');
            $data['parametre_lang_datable'] =
                $this->config->item('parametre_lang_datable');
            $data['parametre_export_datable'] =
                $this->config->item('parametre_export_datable');
            $data['page'] =
                "Commande N°" .
                $id_commande;
            $data['recap_commande'] =
                $this->m_commande->getCommandeById($id_commande);
            $this->load->view('admin/commande',
                              $data);
        } else {
            $this->redirect('/admin');
        }
    }

    public
    function commande_details()
    {
        if ($this->input->is_ajax_request()) {

            $id_commande =
                (int)$this->input->post('id');
            $data['newUser'] =
                $this->session->userdata('newUser');
            $data['parametre_lang_datable'] =
                $this->config->item('parametre_lang_datable');
            $data['parametre_export_datable'] =
                $this->config->item('parametre_export_datable');
            $data['page'] =
                "Commande N°" .
                $id_commande;


            $data['recap_commande'] =
                $this->m_commande->getCommandeByIdNew($id_commande);
            //var_dump($data['recap_commande']);

            $data['pair'] =
                $this->m_commande->getOrderByPairId($id_commande);
            $data['user'] =
                $this->m_users->getUserById($data['recap_commande'][0]->id_users);

            if ($data['recap_commande'][0]->id_type_generation_verre ==
                "0") {
                $info_commande =
                    json_decode($data['recap_commande'][0]->information_commande,
                                true);

                if (isset($info_commande['verre']['correction_droit'])) {
                    if (isset($info_commande['verre']['correction_droit']['teinte']) &&
                        $info_commande['verre']['correction_droit']['teinte'] !=
                        "") {
                        $data['teinteD'] =
                            $this->m_commande->getTeinteById($info_commande['verre']['correction_droit']['teinte']);
                    }
                    if (isset($info_commande['verre']['correction_droit']['traitement']) &&
                        $info_commande['verre']['correction_droit']['traitement'] !=
                        "" &&
                        $info_commande['verre']['correction_droit']['traitement'] !=
                        "0") {
                        $data['traitementD'] =
                            $this->m_commande->getTraitementByCode($info_commande['verre']['correction_droit']['traitement']);
                    }
                }
                if (isset($info_commande['verre']['correction_gauche'])) {
                    if (isset($info_commande['verre']['correction_gauche']['teinte']) &&
                        $info_commande['verre']['correction_gauche']['teinte'] !=
                        "") {
                        $data['teinteG'] =
                            $this->m_commande->getTeinteById($info_commande['verre']['correction_gauche']['teinte']);
                    }
                    if (isset($info_commande['verre']['correction_gauche']['traitement']) &&
                        $info_commande['verre']['correction_gauche']['traitement'] !=
                        "" &&
                        $info_commande['verre']['correction_gauche']['traitement'] !=
                        "0") {
                        $data['traitementG'] =
                            $this->m_commande->getTraitementByCode($info_commande['verre']['correction_gauche']['traitement']);
                    }
                }

                $this->load->view('admin/layout/commande-detail-new',
                                  $data);
            } else {
                $this->load->view('admin/layout/commande-detail',
                                  $data);
            }

        }

    }

    public
    function commande_details_lentilles()
    {

        $id =
            (int)$this->input->post('id');

        $order =
            $this->m_lens->getOrderById($id);

        $data['config'] =
            array(
                'sides' => array(
                    'left' => 'Gauche',
                    'right' => 'Droit'
                ),
                'attrs' => array(
                    'sph' => 'Sphère',
                    'cyl' => 'Cylindre',
                    'axe' => 'Axe',
                    'ray' => 'Rayon',
                    'dia' => 'Diamètre',
                    'add' => 'Progression'
                )
            );

        $data['user_info'] =
            $this->m_users->getUserById($order[0]->id_users)[0];
        $data['data_admin']['admin_info'] =
            $this->m_users->getUserById(1)[0];
        $data['lens'] =
            $this->m_lens->getLens($order[0]->lens_id);
        $data['client_ref'] =
            $order[0]->reference_client;
        $data['order_id'] =
            $order[0]->id_commande;
        $data['commentaire'] =
            $order[0]->commentaire;
        $data['build'] =
            json_decode($order[0]->information_commande,
                        true);

        echo $this->load->view('ajax_view_lens_order',
                               $data);

    }

    public
    function commande_details_montures()
    {

        $id =
            (int)$this->input->post('id');

        $order =
            $this->m_montures->getOrderById($id);

        $data['user_info'] =
            $this->m_users->getUserById($order[0]->id_users)[0];
        $data['data_admin']['admin_info'] =
            $this->m_users->getUserById(1)[0];
        // $data['montures'] = $this->m_montures->getLens($order[0]->montures_id);
        $data['client_ref'] =
            $order[0]->reference_client;
        $data['order_id'] =
            $order[0]->id_commande;
        $data['commentaire'] =
            $order[0]->commentaire;
        $data['montures'] =
            json_decode($order[0]->information_commande,
                        true);

        echo $this->load->view('ajax_view_montures_order',
                               $data);
    }

    public
    function generer_etiquette()
    {
        $post =
            $this->input->post();

        $etiquettes =
        $data['etiquette'] =
            $this->m_commande->getEtiquette();
        $data['colonne'] =
            $post['colonne'];
        $data['ligne'] =
            $post['ligne'];

        $data['email'] =
            'optieyescommande@gmail.com';
        $data['email_cc'] =
            'testproxicom@gmail.com';


        // Contrôle du nombres d'étiquettes.. Ouai

        $total['etiquettes'] =
            count($data['etiquette']);

        $data['control'] =
            array(
                'etiquettes' => bin2hex(openssl_random_pseudo_bytes(10)),
            );

        /* $this->db->insert('controle', array(
            'id' => $data['control']['etiquettes'],
            'control' => $total['etiquettes']
        ));*/

        $this->db->insert('controle_test',
                          array(
                              'v' => $data['control']['etiquettes'],
                              'control' => $total['etiquettes']
                          ));


        // Génération des PDF
        $docs = array(
            'etiquettes' => $this->config->item('directory_pdf') .
                            '/' .
                            $this->pdf("etiquette",
                                       $data,
                                       "",
                                       false),
        );

        $commandes = array();

        if (!empty($etiquettes)) {

            foreach ($etiquettes
                     as $e) {
                $commandes[$e->id_commande] =
                    1;
            }


            // Récupération des contrôles
            foreach ($data['control']
                     as $k =>
                     $v) {

                //  $get = $this->db->select('value')->where('id', $v)->get('controle')->result();
                $get =
                    $this->db->select('value')
                             ->where('v',
                                     $v)
                             ->get('controle_test')
                             ->result()
                ;
                $gen[$k] =
                    $get[0]->value;

                if ($gen[$k] !=
                    $total[$k]) {
                    $c[$k] =
                        '#ff0000';
                } else {
                    $c[$k] =
                        '#93C02C';
                }

            }

            reset($data['control']);


            $mess_txt = '<b style="font-size: 16px">Rapport de génération</b><br /><br />
            - Nombre de commandes : <b>' .
                        count($commandes) . '</b><br />
            - Nombre d\'étiquettes générées : <b style="color: ' .
                        $c['etiquettes'] .
                        '">' .
                        ($gen['etiquettes'] !=
                         '' ?
                            $gen['etiquettes'] :
                            0) .
                        ' / ' .
                        $total['etiquettes'] . '</b><br />
            ';

            foreach ($data['control']
                     as $k =>
                     $v) {
                //$this->db->delete('controle', array('id' => $v));
                $this->db->delete('controle_test',
                                  array('v' => $v));
            }

            $sujet_txt =
                'Etiquettes stock générées le ' .
                date('d/m/Y') .
                ' - ' .
                date('H\hi');


            $this->mail($data,
                        $mess_txt,
                        true,
                        $sujet_txt,
                        $docs);
            echo 'sent';

        } else {
            echo 'empty';
        }


    }

    public
    function generer_etiquette_montures()
    {

        $post =
            $this->input->post();

        $etiquettes =
        $data['etiquette'] =
            $this->m_montures->getDailyOrders();

        $data['colonne'] =
            $post['colonne'];
        $data['ligne'] =
            $post['ligne'];

        $data['email'] =
            'optieyescommande@gmail.com';
        // $data['email_cc'] = 'testproxicom@gmail.com';

        $total['etiquettes'] =
            count($data['etiquette']);

        // Génération des PDF
        /*  $docs = array(
            'etiquettes' => $this->config->item('directory_pdf').'/'.$this->pdf('etiquette_montures', $data, ''.date('Y_m_d_H-i-s'), false, 'paysage', $customsize = array(0,0,243,153))
        );
*/
        $commandes = array();

        if (!empty($etiquettes)) {

            foreach ($etiquettes
                     as $e) {
                $commandes[$e->id_commande] =
                    1;
            }

            echo 'sent';

            $date =
                date("Y-m-d H:i:s");
            $this->m_commande->updateCommandeSend($date,
                                                  4);
            $this->config->item('directory_pdf') .
            '/' .
            $this->pdf("etiquette_montures",
                       $data,
                       "",
                       false);

        } else {
            echo 'empty';
        }


    }

    public
    function generer_etiquette_fabricationOLD()
    {

        $post =
            $this->input->post();

        $etiquettes =
        $data['etiquette'] =
            $this->m_commande->getEtiquetteFabrication();
        $data['colonne'] =
            $post['colonne'];
        $data['ligne'] =
            $post['ligne'];

        $data['email'] =
            'optieyescommande@gmail.com';
        $data['email_cc'] =
            'testproxicom@gmail.com';

        $data['certificat'] =
            $this->m_commande->getCertificat();

        if (isset($data['certificat']) &&
            $data['certificat'] !==
            false) {

            foreach ($data['certificat']
                     as &
                     $value) {
                $info_commande =
                    json_decode($value->information_commande,
                                true);

                if (isset($info_commande['verre']['correction_droit']['teinte'])) {
                    $value->teinteD =
                        $this->m_commande->getTeinteById($info_commande['verre']['correction_droit']['teinte']);
                }
                if (isset($info_commande['verre']['correction_gauche']['teinte'])) {
                    $value->teinteG =
                        $this->m_commande->getTeinteById($info_commande['verre']['correction_gauche']['teinte']);
                }

                if (isset($info_commande['verre']['correction_droit']['traitement'])) {
                    $value->traitementD =
                        $this->m_commande->getTraitementByCode($info_commande['verre']['correction_droit']['traitement']);
                }
                if (isset($info_commande['verre']['correction_gauche']['traitement'])) {
                    $value->traitementG =
                        $this->m_commande->getTraitementByCode($info_commande['verre']['correction_gauche']['traitement']);
                }
            }


        }

        // Contrôle du nombres d'étiquettes.. Ouai

        $total['etiquettes'] =
            count($data['etiquette']);
        $total['certificat'] =
            count($data['certificat']);

        $data['control'] =
            array(
                'etiquettes' => bin2hex(openssl_random_pseudo_bytes(10)),
                'certificat' => bin2hex(openssl_random_pseudo_bytes(10))
            );

        // echo "Total etiquette:".$total['etiquettes'];
        // var_dump($data['control']);


        $this->db->insert('controle_test',
                          array(
                              'v' => $data['control']['etiquettes'],
                              'control' => $total['etiquettes']
                          ));


        $this->db->insert('controle_test',
                          array(
                              'v' => $data['control']['certificat'],
                              'control' => count($data['certificat'])
                          ));


        // Génération des PDF
        $docs = array(
            'etiquettes' => $this->config->item('directory_pdf') .
                            '/' .
                            $this->pdf("etiquette_fabrication",
                                       $data,
                                       '' .
                                       date('Y_m_d_H-i-s'),
                                       false),
            'certificat' => $this->config->item('directory_pdf') .
                            '/' .
                            $this->pdf('certificat_authenticite',
                                       $data,
                                       '' .
                                       date('Y_m_d_H-i-s'),
                                       false,
                                       'paysage',
                                       $customsize =
                                           array(
                                               0,
                                               0,
                                               243,
                                               153
                                           ))
        );

        $commandes = array();

        if (!empty($etiquettes)) {

            foreach ($etiquettes
                     as $e) {
                $commandes[$e->id_commande] =
                    1;
            }

            //var_dump($data['control']);
            // Récupération des contrôles
            foreach ($data['control']
                     as $k =>
                     $v) {

                //  $get = $this->db->select('value')->where('id', $v)->get('controle')->result();
                $get =
                    $this->db->select('value')
                             ->where('v',
                                     $v)
                             ->get('controle_test')
                             ->result()
                ;
                $gen[$k] =
                    $get[0]->value;

                if ($gen[$k] !=
                    $total[$k]) {
                    $c[$k] =
                        '#ff0000';
                } else {
                    $c[$k] =
                        '#93C02C';
                }

            }

            reset($data['control']);


            $mess_txt = '<b style="font-size: 16px">Rapport de génération</b><br /><br />
            - Nombre de commandes : <b>' .
                        count($commandes) . '</b><br />
            - Nombre d\'étiquettes générées : <b style="color: ' .
                        $c['etiquettes'] .
                        '">' .
                        ($gen['etiquettes'] !=
                         '' ?
                            $gen['etiquettes'] :
                            0) .
                        ' / ' .
                        $total['etiquettes'] . '</b><br />
            - Nombre de certificats générées : <b style="color: ' .
                        $c['certificat'] .
                        '">' .
                        ($gen['certificat'] !=
                         '' ?
                            $gen['certificat'] :
                            0) .
                        ' / ' .
                        $total['certificat'] . '</b><br />
            ';

            foreach ($data['control']
                     as $k =>
                     $v) {
                //$this->db->delete('controle', array('id' => $v));
                $this->db->delete('controle_test',
                                  array('v' => $v));
            }

            $sujet_txt =
                'Etiquettes fabrication générées le ' .
                date('d/m/Y') .
                ' - ' .
                date('H\hi');

            // Disabled ATM, full refact in future major version
            //$this->mail($data,$mess_txt,true,$sujet_txt,$docs);

            echo 'sent';

        } else {
            echo 'empty';
        }

        return $this->config->item('directory_pdf') .
               '/' .
               $this->pdf("etiquette_fabrication",
                          $data,
                          "",
                          true);

    }

    public
    function generer_etiquette_fabrication()
    {

        $post =
            $this->input->post();

        $etiquettes =
        $data['etiquette'] =
            $this->m_commande->getEtiquetteFabrication();

        $data['colonne'] =
            $post['colonne'];
        $data['ligne'] =
            $post['ligne'];

        $data['email'] =
            'optieyescommande@gmail.com';
        $data['email_cc'] =
            'testproxicom@gmail.com';

        $data['certificat'] =
            $this->m_commande->getCertificat();

        if (isset($data['certificat']) &&
            $data['certificat'] !==
            false) {

            foreach ($data['certificat']
                     as &
                     $value) {
                $info_commande =
                    json_decode($value->information_commande,
                                true);

                if (isset($info_commande['verre']['correction_droit']['teinte'])) {
                    $value->teinteD =
                        $this->m_commande->getTeinteById($info_commande['verre']['correction_droit']['teinte']);
                }
                if (isset($info_commande['verre']['correction_gauche']['teinte'])) {
                    $value->teinteG =
                        $this->m_commande->getTeinteById($info_commande['verre']['correction_gauche']['teinte']);
                }

                if (isset($info_commande['verre']['correction_droit']['traitement'])) {
                    $value->traitementD =
                        $this->m_commande->getTraitementByCode($info_commande['verre']['correction_droit']['traitement']);
                }
                if (isset($info_commande['verre']['correction_gauche']['traitement'])) {
                    $value->traitementG =
                        $this->m_commande->getTraitementByCode($info_commande['verre']['correction_gauche']['traitement']);
                }
            }


        }

        // Contrôle du nombres d'étiquettes.. Ouai

        $total['etiquettes'] =
            count($data['etiquette']);
        $total['certificat'] =
            count($data['certificat']);

        $data['control'] =
            array(
                'etiquettes' => bin2hex(openssl_random_pseudo_bytes(10)),
                'certificat' => bin2hex(openssl_random_pseudo_bytes(10))
            );

        // echo "Total etiquette:".$total['etiquettes'];
        // var_dump($data['control']);


        $this->db->insert('controle_test',
                          array(
                              'v' => $data['control']['etiquettes'],
                              'control' => $total['etiquettes']
                          ));


        $this->db->insert('controle_test',
                          array(
                              'v' => $data['control']['certificat'],
                              'control' => count($data['certificat'])
                          ));


        if (count($etiquettes) >
            200) {
            $data['etiquette'] =
                $this->m_commande->getEtiquetteFabricationNew(0,
                                                              100);
            // Génération des PDF
            $docs = array(
                'etiquettes' => $this->config->item('directory_pdf') .
                                '/' .
                                $this->pdf("etiquette_fabrication",
                                           $data,
                                           '' .
                                           date('Y_m_d_H-i-s'),
                                           false),
                'certificat' => $this->config->item('directory_pdf') .
                                '/' .
                                $this->pdf('certificat_authenticite',
                                           $data,
                                           '' .
                                           date('Y_m_d_H-i-s'),
                                           false,
                                           'paysage',
                                           $customsize =
                                               array(
                                                   0,
                                                   0,
                                                   243,
                                                   153
                                               ))
            );

            $data['etiquette'] =
                $this->m_commande->getEtiquetteFabricationNew(100,
                                                              100);
            // Génération des PDF
            $docs = array(
                'etiquettes' => $this->config->item('directory_pdf') .
                                '/' .
                                $this->pdf("etiquette_fabrication",
                                           $data,
                                           '' .
                                           date('Y_m_d_H-i-s'),
                                           false)
            );

            $data['etiquette'] =
                $this->m_commande->getEtiquetteFabricationNew(200,
                                                              100);
            // Génération des PDF
            $docs = array(
                'etiquettes' => $this->config->item('directory_pdf') .
                                '/' .
                                $this->pdf("etiquette_fabrication",
                                           $data,
                                           '' .
                                           date('Y_m_d_H-i-s'),
                                           false)
            );

            if (count($etiquettes) >
                300) {
                $data['etiquette'] =
                    $this->m_commande->getEtiquetteFabricationNew(300,
                                                                  100);
                // Génération des PDF
                $docs = array(
                    'etiquettes' => $this->config->item('directory_pdf') .
                                    '/' .
                                    $this->pdf("etiquette_fabrication",
                                               $data,
                                               '' .
                                               date('Y_m_d_H-i-s'),
                                               false)
                );

                if (count($etiquettes) >
                    400) {
                    $data['etiquette'] =
                        $this->m_commande->getEtiquetteFabricationNew(400,
                                                                      100);
                    // Génération des PDF
                    $docs =
                        array(
                            'etiquettes' => $this->config->item('directory_pdf') .
                                            '/' .
                                            $this->pdf("etiquette_fabrication",
                                                       $data,
                                                       '' .
                                                       date('Y_m_d_H-i-s'),
                                                       false)
                        );
                    if (count($etiquettes) >
                        500) {
                        $data['etiquette'] =
                            $this->m_commande->getEtiquetteFabricationNew(500,
                                                                          100);
                        // Génération des PDF
                        $docs =
                            array(
                                'etiquettes' => $this->config->item('directory_pdf') .
                                                '/' .
                                                $this->pdf("etiquette_fabrication",
                                                           $data,
                                                           '' .
                                                           date('Y_m_d_H-i-s'),
                                                           false)
                            );
                        if (count($etiquettes) >
                            600) {
                            $data['etiquette'] =
                                $this->m_commande->getEtiquetteFabricationNew(600,
                                                                              100);
                            // Génération des PDF
                            $docs =
                                array(
                                    'etiquettes' => $this->config->item('directory_pdf') .
                                                    '/' .
                                                    $this->pdf("etiquette_fabrication",
                                                               $data,
                                                               '' .
                                                               date('Y_m_d_H-i-s'),
                                                               false)
                                );
                            if (count($etiquettes) >
                                700) {
                                $data['etiquette'] =
                                    $this->m_commande->getEtiquetteFabricationNew(700,
                                                                                  100);
                                // Génération des PDF
                                $docs =
                                    array(
                                        'etiquettes' => $this->config->item('directory_pdf') .
                                                        '/' .
                                                        $this->pdf("etiquette_fabrication",
                                                                   $data,
                                                                   '' .
                                                                   date('Y_m_d_H-i-s'),
                                                                   false)
                                    );
                                if (count($etiquettes) >
                                    800) {
                                    $data['etiquette'] =
                                        $this->m_commande->getEtiquetteFabricationNew(800,
                                                                                      100);
                                    // Génération des PDF
                                    $docs =
                                        array(
                                            'etiquettes' => $this->config->item('directory_pdf') .
                                                            '/' .
                                                            $this->pdf("etiquette_fabrication",
                                                                       $data,
                                                                       '' .
                                                                       date('Y_m_d_H-i-s'),
                                                                       false)
                                        );
                                    if (count($etiquettes) >
                                        900) {
                                        $data['etiquette'] =
                                            $this->m_commande->getEtiquetteFabricationNew(900,
                                                                                          100);
                                        // Génération des PDF
                                        $docs =
                                            array(
                                                'etiquettes' => $this->config->item('directory_pdf') .
                                                                '/' .
                                                                $this->pdf("etiquette_fabrication",
                                                                           $data,
                                                                           '' .
                                                                           date('Y_m_d_H-i-s'),
                                                                           false)
                                            );

                                    }
                                    if (count($etiquettes) >
                                        1000) {
                                        $to =
                                            count($etiquettes) -
                                            1000;
                                        $data['etiquette'] =
                                            $this->m_commande->getEtiquetteFabricationNew(1000,
                                                                                          $to);
                                        // Génération des PDF
                                        $docs =
                                            array(
                                                'etiquettes' => $this->config->item('directory_pdf') .
                                                                '/' .
                                                                $this->pdf("etiquette_fabrication",
                                                                           $data,
                                                                           '' .
                                                                           date('Y_m_d_H-i-s'),
                                                                           false)
                                            );

                                    }
                                }
                            }
                        }
                    }

                }
            }


            /*
			$data['etiquette'] = $this->m_commande->getEtiquetteFabricationNew(300,$etiquettes.count);
        	// Génération des PDF
			$docs = array(
				'etiquettes' => $this->config->item('directory_pdf').'/'.$this->pdf("etiquette_fabrication",$data,''.date('Y_m_d_H-i-s'),false)
			);*/

        } else {
            // Génération des PDF
            $docs = array(
                'etiquettes' => $this->config->item('directory_pdf') .
                                '/' .
                                $this->pdf("etiquette_fabrication",
                                           $data,
                                           '' .
                                           date('Y_m_d_H-i-s'),
                                           false),
                'certificat' => $this->config->item('directory_pdf') .
                                '/' .
                                $this->pdf('certificat_authenticite',
                                           $data,
                                           '' .
                                           date('Y_m_d_H-i-s'),
                                           false,
                                           'paysage',
                                           $customsize =
                                               array(
                                                   0,
                                                   0,
                                                   243,
                                                   153
                                               ))
            );
        }


        $commandes = array();

        if (!empty($etiquettes)) {

            foreach ($etiquettes
                     as $e) {
                $commandes[$e->id_commande] =
                    1;
            }

            //var_dump($data['control']);
            // Récupération des contrôles
            foreach ($data['control']
                     as $k =>
                     $v) {

                //  $get = $this->db->select('value')->where('id', $v)->get('controle')->result();
                $get =
                    $this->db->select('value')
                             ->where('v',
                                     $v)
                             ->get('controle_test')
                             ->result()
                ;
                $gen[$k] =
                    $get[0]->value;

                if ($gen[$k] !=
                    $total[$k]) {
                    $c[$k] =
                        '#ff0000';
                } else {
                    $c[$k] =
                        '#93C02C';
                }

            }

            reset($data['control']);


            $mess_txt = '<b style="font-size: 16px">Rapport de génération</b><br /><br />
            - Nombre de commandes : <b>' .
                        count($commandes) . '</b><br />
            - Nombre d\'étiquettes générées : <b style="color: ' .
                        $c['etiquettes'] .
                        '">' .
                        ($gen['etiquettes'] !=
                         '' ?
                            $gen['etiquettes'] :
                            0) .
                        ' / ' .
                        $total['etiquettes'] . '</b><br />
            - Nombre de certificats générées : <b style="color: ' .
                        $c['certificat'] .
                        '">' .
                        ($gen['certificat'] !=
                         '' ?
                            $gen['certificat'] :
                            0) .
                        ' / ' .
                        $total['certificat'] . '</b><br />
            ';

            foreach ($data['control']
                     as $k =>
                     $v) {
                //$this->db->delete('controle', array('id' => $v));
                $this->db->delete('controle_test',
                                  array('v' => $v));
            }

            $sujet_txt =
                'Etiquettes fabrication générées le ' .
                date('d/m/Y') .
                ' - ' .
                date('H\hi');

            // Disabled ATM, full refact in future major version
            //$this->mail($data,$mess_txt,true,$sujet_txt,$docs);

            echo 'sent';

        } else {
            echo 'empty';
        }

        return $this->config->item('directory_pdf') .
               '/' .
               $this->pdf("etiquette_fabrication",
                          $data,
                          "",
                          true);

    }

    public
    function force_etiquette_fabrication($col = 1,
                                         $row = 1)
    {

        $etiquettes =
        $data['etiquette'] =
            $this->m_commande->getEtiquetteFabrication();
        $data['colonne'] =
            $col;
        $data['ligne'] = $row;

        $data['email'] =
            'optieyescommande@gmail.com';
        $data['email_cc'] =
            'testproxicom@gmail.com';

        $data['certificat'] =
            $this->m_commande->getCertificat();
        if (isset($data['certificat']) &&
            $data['certificat'] !==
            false) {

            foreach ($data['certificat']
                     as &
                     $value) {
                $info_commande =
                    json_decode($value->information_commande,
                                true);

                if (isset($info_commande['verre']['correction_droit']['teinte'])) {
                    $value->teinteD =
                        $this->m_commande->getTeinteById($info_commande['verre']['correction_droit']['teinte']);
                }
                if (isset($info_commande['verre']['correction_gauche']['teinte'])) {
                    $value->teinteG =
                        $this->m_commande->getTeinteById($info_commande['verre']['correction_gauche']['teinte']);
                }

                if (isset($info_commande['verre']['correction_droit']['traitement'])) {
                    $value->traitementD =
                        $this->m_commande->getTraitementByCode($info_commande['verre']['correction_droit']['traitement']);
                }
                if (isset($info_commande['verre']['correction_gauche']['traitement'])) {
                    $value->traitementG =
                        $this->m_commande->getTraitementByCode($info_commande['verre']['correction_gauche']['traitement']);
                }
            }


        }

        // Contrôle du nombres d'étiquettes.. Ouai

        $total['etiquettes'] =
            count($data['etiquette']);
        $total['certificat'] =
            count($data['certificat']);

        $data['control'] =
            array(
                'etiquettes' => bin2hex(openssl_random_pseudo_bytes(10)),
                'certificat' => bin2hex(openssl_random_pseudo_bytes(10))
            );

        /*$this->db->insert('controle', array(
            'id' => $data['control']['etiquettes'],
            'control' => $total['etiquettes']
        ));


        $this->db->insert('controle', array(
            'id' => $data['control']['certificat'],
            'control' => count($data['certificat'])
        ));
        */
        $this->db->insert('controle_test',
                          array(
                              'v' => $data['control']['etiquettes'],
                              'control' => $total['etiquettes']
                          ));


        $this->db->insert('controle_test',
                          array(
                              'v' => $data['control']['certificat'],
                              'control' => count($data['certificat'])
                          ));

        // Génération des PDF
        $docs = array(
            'etiquettes' => $this->config->item('directory_pdf') .
                            '/' .
                            $this->pdf("etiquette_fabrication",
                                       $data,
                                       "",
                                       false),
            'certificat' => $this->config->item('directory_pdf') .
                            '/' .
                            $this->pdf('certificat_authenticite',
                                       $data,
                                       '',
                                       false,
                                       'paysage',
                                       $customsize =
                                           array(
                                               0,
                                               0,
                                               243,
                                               153
                                           ))
        );

        $commandes = array();

        if (!empty($etiquettes)) {

            foreach ($etiquettes
                     as $e) {
                $commandes[$e->id_commande] =
                    1;
            }

            return $this->config->item('directory_pdf') .
                   '/' .
                   $this->pdf("etiquette_fabrication",
                              $data,
                              "",
                              true);

        }


    }

    public
    function expedier_commandes($type_commande = 1)
    {

        if ($this->input->is_ajax_request()) {

            $commandes =
                $this->m_commande->getUpdateCommande($type_commande);
            $expedie =
                array();

            foreach ($commandes
                     as
                     $commande)
            {

                $expedie[] =
                    $commande->id_commande;
                $this->update_commande($commande->id_commande,
                                       6,
                                       $commande->id_users,
                                       true);

                $this->db->query('INSERT INTO expedition (user_id, expedition_date) VALUES(' .
                                 $commande->id_users .
                                 ', ' .
                                 time() .
                                 ') ON DUPLICATE KEY UPDATE expedition_date = ' .
                                 time());

            }

            echo 'sent';

        }
    }

    public
    function get_update_commande($type_commande = 1)
    {

        $commandes =
            $this->m_commande->getUpdateCommande($type_commande);

        if (is_array($commandes)) {
            echo count($commandes);
        } else echo 0;

    }

    public
    function get_pointage_count()
    {

        $commandes =
            $this->m_commande->getPointageCount();

        if (is_array($commandes)) {
            echo $commandes[0]->total;
        } else echo 0;

    }

    public
    function pointage_csv()
    {

        if (!empty($_FILES['csv_file']['name'])) {
            $file_data =
                fopen($_FILES['csv_file']['tmp_name'],
                      'r');
            $i = 0;
            while (($data =
                    fgetcsv($file_data,
                            1000,
                            ";")) !==
                   FALSE) {
                $num =
                    count($data);

                if ($i > 0) {
                    echo $data[1] .
                         "\n";
                    $ref =
                        explode("-",
                                $data[1]);
                    $query =
                        $this->db->query("INSERT INTO `commande_pointage` (`id_commande`, `date_pointage`) VALUES ('" .
                                         $ref[0] .
                                         "', CURRENT_DATE());");
                    //$verre = $query->result();
                }
                $i++;
            }

        }

    }

    public
    function update_commande($id_commande = null,
                             $id_etat_commande = 6,
                             $id_users = null,
                             $is_multi = false,
                             $is_lens = false)
    {

        if ($this->input->is_ajax_request()) {

            if ($is_multi) {
                $post = array(
                    'id_commande' => $id_commande,
                    'id_etat_commande' => $id_etat_commande,
                    'id_users' => $id_users
                );
            } else {
                $post =
                    $this->input->post();
            }

            $post['date_update_commande'] =
                date("Y-m-d H:i:s");

            /*if(isset($post['id_etat_commande']) && $post['id_etat_commande'] == 6){
              $post['email_send'] = 1;
            }*/

            $data =
                $this->m_commande->update($post);

            /*$email = $this->m_users->getUserById($data['id_users']);

            if(false === $is_lens) {
                $reference = $this->m_commande->getCommandeById($data['id_commande']);
                $lens = 'de lentilles ';
            }
            else {
                $reference = $this->m_lens->getOrderById($data['id_commande']);
                $lens = ' ';
            }

            $data['email'] = $email[0]->email;

            $mess_txt = "<html><head></head><body><b>Bonjour !</b><br><br> La commande sous la référence \"".$reference[0]->reference_client."\" vient de vous être expédiée ! <br><br> A bientôt chez Optieyes !</body></html>";
            $sujet_txt = "Commande N°".$data['id_commande'].' - Ref '.$reference[0]->reference_client.' expédiée';

            $this->mail($data,$mess_txt,true,$sujet_txt);*/

            $this->m_commande->deletePointage($data['id_commande']);

            //echo date("d/m/Y H:i:s",strtotime($data['date_update_commande']));

        }
    }


    public
    function notif_commandes()
    {

        if ($this->input->is_ajax_request()) {

            $commandes =
                $this->m_commande->getCommandesExpediees();

            $message =
                '<html><head></head><body><b>Clients ayant une commande envoyée avant ' .
                date('H:i') .
                '</b><br><br>';

            $orders = array();

            if ($commandes) {
                foreach ($commandes->result()
                         as
                         $c) {
                    $message .= 'Magasin ' .
                                $c->user_id .
                                '<br />';
                    $this->db->delete('expedition',
                                      array('user_id' => $c->user_id));
                }
            }


            $data['email'] =
                'optieyescommande@gmail.com';

            $title =
                'Clients ayant des commandes expediées';

            if ($this->mail($data,
                            $message,
                            true,
                            $title)) {
                echo 'ok';
            }

        }

    }


    public
    function email_retard()
    {

        if ($this->input->is_ajax_request()) {

            $commandes =
                $this->m_commande->getCommandeRetard();

            $message =
                '<html><head></head><body><b>Hi Iveta,</b><br><br> Can you please tell me when I\'ll receive these orders ? (I don\'t need the status, only the ETA) <br /><br />Thanks in advance<br /><br />';

            $orders = array();
            if ($commandes) {
                foreach ($commandes
                         as
                         $c) {

                    $correction =
                        json_decode($c->information_commande,
                                    true);
                    //echo $c->name."<br>";
                    if (strpos($c->name,
                               "- stock") !==
                        false ||
                        strpos($c->name,
                               "-stock") !==
                        false ||
                        strpos($c->name,
                               "-Stock") !==
                        false ||
                        strpos($c->name,
                               " - Stock") !==
                        false ||
                        strpos($c->name,
                               " - stock") !==
                        false) {
                        $type =
                            'stock';
                    } else {
                        $type =
                            'fabric';
                    }

                    $orders[$type][] =
                        $c->id_commande .
                        '-' .
                        $c->id_users .
                        ' from ' .
                        date('Y-m-d',
                             strtotime($c->date_commande));
                }
            }
            //var_dump($orders);
            if (isset($orders['fabric'])) {
                $message .= '<b>RX Lenses :</b><br />' .
                            PHP_EOL;
                foreach ($orders['fabric']
                         as
                         $f) {
                    $message .= $f .
                                '<br />';
                }

                $message .= '<br />';
            }

            if (isset($orders['stock'])) {
                $message .= '<b>Stock Lenses :</b><br />' .
                            PHP_EOL;
                foreach ($orders['stock']
                         as
                         $s) {
                    $message .= $s .
                                '<br />';
                }
            }

            $data['email'] =
                'export@omega-optix.cz';
            // $data['email'] = 'ossona@gmail.com';
            $data['email_cc'] =
                'optieyescommande@gmail.com';
            $data['reply_to'] =
                'optieyescommande@gmail.com';

            $title =
                'Order status ?';

            if ($this->mail($data,
                            $message,
                            true,
                            $title)) {
                echo 'ok';
            }


        }

    }

    public
    function annule_envoi()
    {
        if ($this->input->is_ajax_request()) {
            $post =
                $this->input->post();
            $post['date_annule'] =
                date('Y-m-d H:i:s');

            $this->m_commande->update($post);
        }
    }

    public
    function pointage()
    {
        if ($this->input->is_ajax_request()) {
            $post =
                $this->input->post();
            if ($post['pointage'] ==
                1) {
                $this->m_commande->addPointage($post['id_commande']);

                echo date("d/m/Y");
            } else {
                $this->m_commande->deletePointage($post['id_commande']);
            }
        }
    }

    public
    function ancienne_commande()
    {
        $data['parametre_lang_datable'] =
            $this->config->item('parametre_lang_datable');
        $data['parametre_export_datable'] =
            $this->config->item('parametre_export_datable');
        $data['page'] =
            "Ancienne commande";
        $data['title'] =
            'Commandes expediées';
        $data['modules'] =
            array('datatables' => true);


        $result =
            $this->m_users->getMaxUser();

        $data['maxUser'] =
            $result[0]->maxUser;

        $this->load->view('admin/ancienne_commande',
                          $data);
    }

    public
    function ancienne_commande_ajax()
    {
        if ($this->input->is_ajax_request()) {
            $data = array();
            $data['aaData'] =
                array();

            $id_users = false;
            if (isset($_GET['id_users']) &&
                $_GET['id_users'] !=
                "Tous") {
                $id_users =
                    $_GET['id_users'];
            }

            $start =
                (isset($_GET['start']) ?
                    $_GET['start'] :
                    0);
            $length =
                (isset($_GET['length']) ?
                    $_GET['length'] :
                    100);
            $search =
                (isset($_GET['search']['value']) ?
                    $_GET['search']['value'] :
                    '');


            $data_commande =
                $this->m_commande->getOldOrder($start,
                                               $length,
                                               $search,
                                               $id_users);

            $data['recordsTotal'] =
                $this->m_commande->countAllCommande()[0]->total;
            $data['recordsFiltered'] =
                $this->m_commande->countAllCommande($id_users,
                                                    $search)[0]->total;

            if ($data_commande !==
                false) {


                foreach ($data_commande['results']
                         as
                         $key
                => $commande)
                {
                    $d1 =
                        new DateTime($commande->date_commande);
                    $d2 =
                        new DateTime($commande->date_update_commande);
                    $diff =
                        $d1->diff($d2);

                    $ref_commande =
                        'CR' .
                        $commande->id_commande .
                        '-' .
                        $commande->id_users;

                    if ($commande->ancienne_commande >
                        0) {
                        $ref_commande .= '<br />(CR' .
                                         $commande->ancienne_commande .
                                         '-' .
                                         $commande->id_users .
                                         ')<br /><a class="btn btn-danger btn-sm compare_commande" data-toggle="modal" data-target="#compare-commandes" rel="' .
                                         $commande->id_commande .
                                         '">Comparer</a>';
                    }

                    if ($commande->penalty ==
                        1) {
                        $ref_commande .= '<div class="reject_ec"></div>';
                    }

                    switch ($commande->type_commande) {

                        case 1:
                            $prix_commande =
                                $commande->total_commande .
                                ' €';
                            break;

                        case 2:

                            $prix_commande =
                                '<del>' .
                                $commande->total_commande .
                                '</del> ' .
                                ($commande->tarif_express >
                                 0 ?
                                    $commande->tarif_express :
                                    '0') .
                                ' €<br />Casse atelier';
                            break;

                        case 3:
                            $prix_commande =
                                '<del>' .
                                $commande->total_commande .
                                '</del> ' .
                                ($commande->tarif_express >
                                 0 ?
                                    $commande->tarif_express :
                                    '0') .
                                ' €<br />Erreur ophta';
                            break;
                    }

                    $ispanier_A =
                        "";
                    if ($commande->id_generation_verre ==
                        '23' ||
                        $commande->id_generation_verre ==
                        '24' ||
                        $commande->id_generation_verre ==
                        '25' ||
                        $commande->id_generation_verre ==
                        '26' ||
                        $commande->id_generation_verre ==
                        '27') {
                        $ispanier_A =
                            "Panier A";
                    }
                    $certif_panierA =
                        "";
                    if ($commande->id_generation_verre ==
                        '23') {
                        $certif_panierA = "<br>
						<a href=\"/static/aa/certificat_authenticite_" .
                                          $commande->id_commande . ".pdf\" class=\"btn btn-warning btn-sm\"><i class=\"zmdi zmdi-download\"></i> Certif</a>
						";
                    }
                    if ($commande->id_commande >
                        '488957') {
                        $data['aaData'][$key] =
                            array(
                                $commande->nom_magasin,
                                $commande->id_users,
                                $ref_commande,
                                $commande->intitule_bl,
                                date('d/m/Y H:i',
                                     strtotime($commande->date_commande)),
                                date('d/m/Y H:i',
                                     strtotime($commande->date_update_commande)),
                                $diff->days,
                                $commande->reference_client,
                                $ispanier_A,
                                $prix_commande,
                                '<a href="/admin/generer_pdf/bon_livraison/' .
                                $commande->id_commande .
                                '" class="btn btn-warning" original-title="Télécharger le PDF" data-gravity="s" data-anim="true"><i class="zmdi zmdi-download"></i></a>',
                                '<a class="commande-info btn btn-icon waves-effect waves-light ' .
                                (!empty($commande->commentaire) ?
                                    'btn-warning tooltipster' :
                                    'btn-inverse') .
                                '" data-toggle="modal" data-target="#detail-commande" rel="' .
                                $commande->id_commande .
                                '" ' .
                                (!empty($commande->commentaire) ?
                                    'original-title="' .
                                    htmlentities($commande->commentaire) .
                                    '" title="' .
                                    htmlentities($commande->commentaire) .
                                    '"' :
                                    '') .
                                ' ><i class="zmdi zmdi-' .
                                (!empty($commande->commentaire) ?
                                    'comment' :
                                    'search') .
                                '"></i> Voir</a>' .
                                $certif_panierA . '
							<a class="btn btn-warning waves-effect wave-light" href="/admin/recommande/' .
                                $commande->id_commande .
                                '/' .
                                $commande->id_users .
                                '">Recommander</a>',
                                '<button id="annule_envoi_' .
                                $commande->id_commande .
                                '" aria-disabled="false" role="button" class="btn btn-default btn-sm" type="button">Annuler</button>',
                                $commande->type_commande
                            );
                    } else {
                        $data['aaData'][$key] =
                            array(
                                $commande->nom_magasin,
                                $commande->id_users,
                                $ref_commande,
                                $commande->intitule_bl,
                                date('d/m/Y H:i',
                                     strtotime($commande->date_commande)),
                                date('d/m/Y H:i',
                                     strtotime($commande->date_update_commande)),
                                $diff->days,
                                $commande->reference_client,
                                $ispanier_A,
                                $prix_commande,
                                '<a href="/admin/generer_pdf/bon_livraison/' .
                                $commande->id_commande .
                                '" class="btn btn-warning" original-title="Télécharger le PDF" data-gravity="s" data-anim="true"><i class="zmdi zmdi-download"></i></a>',
                                '<a class="commande-info btn btn-icon waves-effect waves-light ' .
                                (!empty($commande->commentaire) ?
                                    'btn-warning tooltipster' :
                                    'btn-inverse') .
                                '" data-toggle="modal" data-target="#detail-commande" rel="' .
                                $commande->id_commande .
                                '" ' .
                                (!empty($commande->commentaire) ?
                                    'original-title="' .
                                    htmlentities($commande->commentaire) .
                                    '" title="' .
                                    htmlentities($commande->commentaire) .
                                    '"' :
                                    '') .
                                ' ><i class="zmdi zmdi-' .
                                (!empty($commande->commentaire) ?
                                    'comment' :
                                    'search') .
                                '"></i> Voir</a>' .
                                $certif_panierA,
                                '<button id="annule_envoi_' .
                                $commande->id_commande .
                                '" aria-disabled="false" role="button" class="btn btn-default btn-sm" type="button">Annuler</button>',
                                $commande->type_commande
                            );
                    }
                }

            }


            die(json_encode($data));
        } else {
            $this->redirect("/index");
        }
    }


    public
    function ancienne_commande_lentille_ajax()
    {
        if ($this->input->is_ajax_request()) {
            $data = array();
            $data['aaData'] =
                array();

            $id_users = false;
            if (isset($_GET['id_users']) &&
                $_GET['id_users'] !=
                "Tous") {
                $id_users =
                    $_GET['id_users'];
            }

            $start =
                (isset($_GET['start']) ?
                    $_GET['start'] :
                    0);
            $length =
                (isset($_GET['length']) ?
                    $_GET['length'] :
                    100);
            $search =
                (isset($_GET['search']['value']) ?
                    $_GET['search']['value'] :
                    '');


            $data_commande =
                $this->m_lens->getOldOrder($start,
                                           $length,
                                           $search,
                                           $id_users);

            $data['recordsTotal'] =
                $this->m_lens->countAllOrders()[0]->total;
            $data['recordsFiltered'] =
                $this->m_lens->countAllOrders($id_users,
                                              $search)[0]->total;

            if ($data_commande !==
                false) {


                foreach ($data_commande['results']
                         as
                         $key
                => $commande)
                {
                    $d1 =
                        new DateTime($commande->date_commande);
                    $d2 =
                        new DateTime($commande->date_update_commande);
                    $diff =
                        $d1->diff($d2);

                    $data['aaData'][$key] =
                        array(
                            $commande->nom_magasin,
                            $commande->id_users,
                            'CR' .
                            $commande->id_commande .
                            '-' .
                            $commande->id_users,
                            $commande->intitule_bl,
                            date('d/m/Y H:i',
                                 strtotime($commande->date_commande)),
                            date('d/m/Y H:i',
                                 strtotime($commande->date_update_commande)),
                            $diff->days,
                            $commande->reference_client,
                            '<a href="/admin/generer_pdf/bon_livraison_lentille/' .
                            $commande->id_commande .
                            '" class="btn btn-warning" original-title="Télécharger le PDF" data-gravity="s" data-anim="true"><i class="zmdi zmdi-download"></i></a>',
                            '<a class="commande-lentilles-info btn btn-icon waves-effect waves-light ' .
                            (!empty($commande->commentaire) ?
                                'btn-warning tooltipster' :
                                'btn-inverse') .
                            '" data-toggle="modal" data-target="#detail-commande-lentilles" rel="' .
                            $commande->id_commande .
                            '" ' .
                            (!empty($commande->commentaire) ?
                                'original-title="' .
                                htmlentities($commande->commentaire) .
                                '" title="' .
                                htmlentities($commande->commentaire) .
                                '"' :
                                '') .
                            ' ><i class="zmdi zmdi-' .
                            (!empty($commande->commentaire) ?
                                'comment' :
                                'search') .
                            '"></i> Voir</a>',
                            '<button id="annule_envoi_' .
                            $commande->id_commande .
                            '" aria-disabled="false" role="button" class="btn btn-default btn-sm" type="button">Annuler</button>',
                            $commande->type_commande
                        );
                }

            }


            die(json_encode($data));
        } else {
            $this->redirect("/index");
        }
    }

    public
    function ancienne_commande_montures_ajax()
    {
        if ($this->input->is_ajax_request()) {
            $data = array();
            $data['aaData'] =
                array();

            $id_users = false;
            if (isset($_GET['id_users']) &&
                $_GET['id_users'] !=
                "Tous") {
                $id_users =
                    $_GET['id_users'];
            }

            $start =
                (isset($_GET['start']) ?
                    $_GET['start'] :
                    0);
            $length =
                (isset($_GET['length']) ?
                    $_GET['length'] :
                    100);
            $search =
                (isset($_GET['search']['value']) ?
                    $_GET['search']['value'] :
                    '');


            $data_commande =
                $this->m_montures->getOldOrder($start,
                                               $length,
                                               $search,
                                               $id_users);

            $data['recordsTotal'] =
                $this->m_montures->countAllOrders()[0]->total;
            $data['recordsFiltered'] =
                $this->m_montures->countAllOrders($id_users,
                                                  $search)[0]->total;

            if ($data_commande !==
                false) {


                foreach ($data_commande['results']
                         as
                         $key
                => $commande)
                {
                    $d1 =
                        new DateTime($commande->date_commande);
                    $d2 =
                        new DateTime($commande->date_update_commande);
                    $diff =
                        $d1->diff($d2);

                    $data['aaData'][$key] =
                        array(
                            $commande->nom_magasin,
                            $commande->id_users,
                            'CR' .
                            $commande->id_commande .
                            '-' .
                            $commande->id_users,
                            date('d/m/Y H:i',
                                 strtotime($commande->date_commande)),
                            date('d/m/Y H:i',
                                 strtotime($commande->date_update_commande)),
                            $commande->reference_client,
                            '<a href="/admin/generer_pdf/bon_livraison_montures/' .
                            $commande->id_commande .
                            '" class="btn btn-warning" original-title="Télécharger le PDF" data-gravity="s" data-anim="true"><i class="zmdi zmdi-download"></i></a>',
                            '<a class="commande-montures-info btn btn-icon waves-effect waves-light ' .
                            (!empty($commande->commentaire) ?
                                'btn-warning tooltipster' :
                                'btn-inverse') .
                            '" data-toggle="modal" data-target="#detail-commande-montures" rel="' .
                            $commande->id_commande .
                            '" ' .
                            (!empty($commande->commentaire) ?
                                'original-title="' .
                                htmlentities($commande->commentaire) .
                                '" title="' .
                                htmlentities($commande->commentaire) .
                                '"' :
                                '') .
                            ' ><i class="zmdi zmdi-' .
                            (!empty($commande->commentaire) ?
                                'comment' :
                                'search') .
                            '"></i> Voir</a>'
                        );
                }

            }


            die(json_encode($data));
        } else {
            $this->redirect("/index");
        }
    }

    public
    function prix_verre($id_generation)
    {
        if (!empty($id_generation) &&
            is_numeric($id_generation)) {
            $data['newUser'] =
                $this->session->userdata('newUser');
            $data['parametre_lang_datable'] =
                $this->config->item('parametre_lang_datable');
            $data['parametre_export_datable'] =
                $this->config->item('parametre_export_datable');

            $data['page'] =
                "Prix Verre";
            $data['title'] =
                'Prix des verres';
            $data['modules'] =
                array(
                    'datatables' => true,
                    'sweetalert' => true,
                    'touchspin' => true
                );

            $data['id_generation'] =
                $id_generation;
            $this->load->view('admin/prix_verre',
                              $data);
        } else {
            $this->redirect("/index");
        }
    }


    public
    function prix_verre_ajax($id_generation,
                             $grille = 0)
    {
        if ($this->input->is_ajax_request()) {

            $data = array();
            $data['aaData'] =
                array();

            if ($grille !=
                0) {
                $dataVerre['grille'] =
                    (int)$grille;
            }

            $dataVerre['id_generation_verre'] =
                $id_generation;
            $dataVerre['prixVerre'] =
                true;

            $verres =
                $this->m_verres->getVerre($dataVerre);

            if ($verres !==
                false) {
                foreach ($verres
                         as
                         $key
                => $verre) {
                    $data['aaData'][$key] =
                        array(
                            $verre->libelle_verre,
                            '<input type="text" class="form-control decimal" name="prix_' .
                            $verre->id_verre .
                            '_' .
                            $verre->id_grille_tarifaire .
                            '" id="prix_' .
                            $verre->id_verre .
                            '_' .
                            $verre->id_grille_tarifaire .
                            '" value="' .
                            $verre->prix_verre .
                            '" /> €',
                            'Grille ' .
                            $verre->id_grille_tarifaire,
                            '<input type="text" class="form-control decimal" value="' .
                            $verre->order_verre .
                            '" id="order_' .
                            $verre->id_verre .
                            '_' .
                            $verre->id_grille_tarifaire .
                            '" />',
                            '<button type="button" class="btn btn-danger btn-sm" role="button" aria-disabled="false" id="supprimer_' .
                            $verre->id_verre .
                            '"><i class="zmdi zmdi-close"></i> Supprimer</button>'
                        );
                }
            }
            die(json_encode($data));
        } else {
            $this->redirect();
        }
    }

    public
    function liste_lentilles()
    {

        $data['newUser'] =
            $this->session->userdata('newUser');
        $data['parametre_lang_datable'] =
            $this->config->item('parametre_lang_datable');
        $data['parametre_export_datable'] =
            $this->config->item('parametre_export_datable');

        $data['page'] =
            "liste_lentilles";
        $data['title'] =
            'Liste lentilles';
        $data['generations'] =
            $this->m_lens->getGenerations();
        $data['modules'] =
            array(
                'datatables' => true,
                'sweetalert' => true,
                'touchspin' => true
            );

        $this->load->view('admin/liste_lentille',
                          $data);

    }

    public
    function liste_lentille_ajax($id_generation)
    {
        if ($this->input->is_ajax_request()) {

            $data = array();
            $data['aaData'] =
                array();

            $dataVerre['id_generation_lentille'] =
                $id_generation;
            $dataVerre['prixVerre'] =
                true;

            if ($lenses =
                $this->m_lens->getLenses(array('generation_id' => $id_generation))) {

                foreach ($lenses
                         as
                         $lens)
                {
                    $data['aaData'][] =
                        array(
                            $lens->brand_name .
                            ' ' .
                            $lens->name,
                            '<a href="modifier_lentille/' .
                            $lens->id .
                            '" class="btn btn-warning">Modifier</a>'
                        );
                }
            }

            die(json_encode($data));
        } else {
            $this->redirect();
        }
    }

    public
    function prix_lentilles($id_generation)
    {

        if (!empty($id_generation) &&
            is_numeric($id_generation)) {
            $data['newUser'] =
                $this->session->userdata('newUser');
            $data['parametre_lang_datable'] =
                $this->config->item('parametre_lang_datable');
            $data['parametre_export_datable'] =
                $this->config->item('parametre_export_datable');

            $data['page'] =
                "Prix Lentilles";
            $data['title'] =
                'Prix des lentilles';
            $data['modules'] =
                array(
                    'datatables' => true,
                    'sweetalert' => true,
                    'touchspin' => true
                );

            $data['id_generation'] =
                $id_generation;
            $this->load->view('admin/prix_lentille',
                              $data);
        } else {
            $this->redirect("/index");
        }
    }


    public
    function prix_lentille_ajax($id_generation,
                                $grille = 0)
    {
        if ($this->input->is_ajax_request()) {

            $data = array();
            $data['aaData'] =
                array();

            if ($grille !=
                0) {
                $dataVerre['grille'] =
                    (int)$grille;
            }

            $dataVerre['id_generation_lentille'] =
                $id_generation;
            $dataVerre['prixVerre'] =
                true;

            if ($lenses =
                $this->m_lens->getLensPrices($id_generation,
                                             $grille)) {

                foreach ($lenses
                         as
                         $lens)
                {
                    $data['aaData'][] =
                        array(
                            $lens->name,
                            '<input type="text" class="form-control decimal" name="prix_' .
                            $lens->lens_id .
                            '_' .
                            $lens->grid_id .
                            '" id="prix_' .
                            $lens->lens_id .
                            '_' .
                            $lens->grid_id .
                            '" value="' .
                            $lens->price .
                            '" /> €',
                            'Grille ' .
                            $lens->grid_id,
                            '<button type="button" class="btn btn-danger btn-sm" role="button" aria-disabled="false" id="supprimer_lentille_' .
                            $lens->lens_id .
                            '"><i class="zmdi zmdi-close"></i> Supprimer</button>'
                        );
                }
            }

            die(json_encode($data));
        } else {
            $this->redirect();
        }
    }

    public
    function modifier_monture($id_monture)
    {

        $msg = '';
        $montures = array();

        $config['upload_path'] =
            '/var/www/vhosts/optieyescommande.com/httpdocs_new/uploads/';
        $config['allowed_types'] =
            'gif|jpg|png';
        $config['max_size'] =
            4096;
        $config['max_width'] =
            1000;
        $config['max_height'] =
            1000;
        $config['encrypt_name'] =
            false;

        $this->load->library('upload');
        $this->upload->initialize($config);

        if (isset($_POST) &&
            !empty($_POST)) {

            /*if (!$this->upload->do_upload('image')) {
                $error = array('error' => $this->upload->display_errors());
                $filename = '';
            }
            else {
                $upload_data = $this->upload->data();
                $filename = $upload_data['file_name'];
            }*/
            if (!isset($_POST['remove_image'])) {

                if (!$this->upload->do_upload('image')) {

                    $error =
                        array('error' => $this->upload->display_errors());

                    $filename =
                        '';
                    $this->db->select('image');
                    $this->db->from('montures');
                    $this->db->where('id',
                                     $id_monture);
                    $query =
                        $this->db->get();

                    if ($query->result()) {
                        $filename =
                            $query->result()[0]->image;
                    }

                } else {
                    $upload_data =
                        $this->upload->data();
                    $filename =
                        $upload_data['file_name'];
                }

            } else {

                $this->db->select('image');
                $this->db->from('montures');
                $this->db->where('id',
                                 $id_monture);
                $query =
                    $this->db->get();

                if ($query->result()) {
                    $filename =
                        $query->result()[0]->image;
                    unlink('/var/www/vhosts/optieyescommande.com/httpdocs_new/uploads/' .
                           $filename);
                }

                $filename =
                    '';

            }
            $this->db->where('id',
                             $id_monture);
            if ($this->db->update('montures',
                                  array(
                                      'modele' => $_POST['modele'],
                                      'type' => $_POST['type'],
                                      'size' => $_POST['size'],
                                      'couleur' => $_POST['couleur'],
                                      'prix_achat' => $_POST['prix_achat'],
                                      'prix_vente' => $_POST['prix_vente'],
                                      'stock' => $_POST['stock'],
                                      'image' => $filename
                                  ))) {

                $url_to_redirect =
                    '/admin/modifier_monture/' .
                    $id_monture;
                $this->redirect($url_to_redirect);
            } else {
                $msg =
                    '<div class="alert alert-danger" role="alert">Erreur lors de l\'ajout de la monture</div>';
            }


        }
        $data['newUser'] =
            $this->session->userdata('newUser');
        $data['parametre_lang_datable'] =
            $this->config->item('parametre_lang_datable');
        $data['parametre_export_datable'] =
            $this->config->item('parametre_export_datable');

        $data['page'] =
            "modifier_monture";
        $data['title'] =
            'Modifier monture';
        $data['modules'] =
            array(
                'datatables' => true,
                'sweetalert' => true,
                'touchspin' => true
            );


        if ($monture =
            $this->m_montures->getMonture($id_monture)) {
            $data['modele'] =
                $monture->modele;
            $data['collection'] =
                $monture->id_collection;
            $data['image'] =
                $monture->image;
            $data['type'] =
                $monture->type;
            $data['size'] =
                $monture->size;
            $data['couleur'] =
                $monture->couleur;
            $data['modele'] =
                $monture->modele;
            $data['prix_achat'] =
                $monture->prix_achat;
            $data['prix_vente'] =
                $monture->prix_vente;
            $data['stock'] =
                $monture->stock;
            $data['id'] =
                $monture->id;
        }

        $this->load->view('admin/modifier_montures',
                          $data);

    }

    public
    function liste_montures_pack($id_pack)
    {

        $msg = '';
        //$montures = array();

        if ((isset($_POST) &&
             !empty($_POST))) {
            $checkboxes =
                $this->input->post('monturesPack');
            $this->m_montures->clearPackMonture($id_pack);
            $prix = 0;
            for ($i = 0; $i <
                         count($checkboxes);
                 $i++) {

                $id_to_db =
                    $id_pack .
                    ',';

                $prix += $this->m_montures->getMonture($checkboxes[$i])->prix_vente;

                $this->db->where('id',
                                 $checkboxes[$i]);
                $this->db->set('pack',
                               'CONCAT(pack,\',\',\'' .
                               $id_to_db .
                               '\')',
                               FALSE);
                $this->db->update('montures');

            }
            $this->db->where('id',
                             $id_pack);
            $this->db->set('prix',
                           $prix,
                           FALSE);
            $this->db->update('montures_pack');

        }
        if (isset($checkboxes)) {
            $data['checkboxes'] =
                $checkboxes;
        } else {
            $data['checkboxes'] =
                "";
        }
        $data['id_pack'] =
            $id_pack;
        $data['pack_name'] =
            $this->m_montures->getPackName($id_pack)->name;
        $montures =
            $this->m_montures->getAllMontures();
        foreach ($montures as
                 $monture) {
            $collection_name =
                $this->m_montures->getCollectionName($monture->id_collection)->name;
            $data['listeD'][] =
                array(
                    $monture->id,
                    $monture->modele,
                    $monture->type,
                    $monture->couleur,
                    $monture->image,
                    $collection_name,
                    $monture->pack
                );
        }


        $this->load->view('admin/liste_montures_pack',
                          $data);

    }

    public
    function liste_montures_pack_ajax($id_collection)
    {
        if ($this->input->is_ajax_request()) {

            $data = array();
            $data['aaData'] =
                array();

            if ($montures =
                $this->m_montures->get_Montures($id_collection)) {

                foreach ($montures
                         as
                         $monture)
                {
                    $data['aaData'][] =
                        array(
                            '<img src="/uploads/' .
                            $monture->image .
                            '" height="150" >',
                            $monture->modele,
                            $monture->couleur,
                            $monture->type,
                            $monture->size,
                            $monture->stock,
                            $monture->prix_achat,
                            $monture->prix_vente,
                            '<a href="/admin/supprimer_monture/' .
                            $id_collection .
                            '/' .
                            $monture->id .
                            '"><button type="button" class="btn btn-danger btn-sm" role="button" aria-disabled="false" ><i class="zmdi zmdi-close"></i> Supprimer</button></a>',
                            '<a href="/admin/modifier_monture/' .
                            $monture->id .
                            '"><button type="button" class="btn btn-primary btn-sm" role="button" aria-disabled="false" >Modifier</button></a>'
                        );
                }
            }

            die(json_encode($data));
        } else {
            $this->redirect();
        }
    }

    public
    function liste_montures($id_collection)
    {

        $msg = '';
        $montures = array();

        $config['upload_path'] =
            '/var/www/vhosts/optieyescommande.com/httpdocs_new/uploads/';
        $config['allowed_types'] =
            'gif|jpg|png';
        $config['max_size'] =
            4096;
        $config['max_width'] =
            1000;
        $config['max_height'] =
            1000;
        $config['encrypt_name'] =
            false;

        $this->load->library('upload');
        $this->upload->initialize($config);

        if (isset($_POST) &&
            !empty($_POST)) {

            if (!$this->upload->do_upload('image')) {
                $error =
                    array('error' => $this->upload->display_errors());
                $filename =
                    '';
            } else {
                $upload_data =
                    $this->upload->data();
                $filename =
                    $upload_data['file_name'];
            }

            if ($this->db->insert('montures',
                                  array(
                                      'modele' => $_POST['modele'],
                                      'image' => $filename,
                                      'id_collection' => $_POST['collection_id'],
                                      'type' => $_POST['type'],
                                      'size' => $_POST['size'],
                                      'couleur' => $_POST['couleur'],
                                      'prix_achat' => $_POST['prix_achat'],
                                      'prix_vente' => $_POST['prix_vente'],
                                      'stock' => $_POST['stock']
                                  ))) {
                $url_to_redirect =
                    '/admin/liste_montures/' .
                    $id_collection;
                $this->redirect($url_to_redirect);

            } else {
                $msg =
                    '<div class="alert alert-danger" role="alert">Erreur lors de l\'ajout de la monture</div>';
            }

        }
        $data['newUser'] =
            $this->session->userdata('newUser');
        $data['parametre_lang_datable'] =
            $this->config->item('parametre_lang_datable');
        $data['parametre_export_datable'] =
            $this->config->item('parametre_export_datable');

        $data['page'] =
            "liste_montures";
        $data['title'] =
            'Liste montures';
        $data['modules'] =
            array(
                'datatables' => true,
                'sweetalert' => true,
                'touchspin' => true
            );


        if ($collection =
            $this->m_montures->getCollectionName($id_collection)) {
            $data['collection_name'] =
                $collection->name;
            $data['collection_id'] =
                $collection->id;
        }

        $this->load->view('admin/liste_montures',
                          $data);

    }

    public
    function liste_montures_ajax($id_collection)
    {
        if ($this->input->is_ajax_request()) {

            $data = array();
            $data['aaData'] =
                array();

            if ($montures =
                $this->m_montures->get_Montures($id_collection)) {

                foreach ($montures
                         as
                         $monture)
                {
                    $data['aaData'][] =
                        array(
                            '<img src="/uploads/' .
                            $monture->image .
                            '" height="150" >',
                            $monture->modele,
                            $monture->couleur,
                            $monture->type,
                            $monture->size,
                            $monture->stock,
                            $monture->prix_achat,
                            $monture->prix_vente,
                            '<a href="/admin/supprimer_monture/' .
                            $id_collection .
                            '/' .
                            $monture->id .
                            '"><button type="button" class="btn btn-danger btn-sm" role="button" aria-disabled="false" ><i class="zmdi zmdi-close"></i> Supprimer</button></a>',
                            '<a href="/admin/modifier_monture/' .
                            $monture->id .
                            '"><button type="button" class="btn btn-primary btn-sm" role="button" aria-disabled="false" >Modifier</button></a>'
                        );
                }
            }

            die(json_encode($data));
        } else {
            $this->redirect();
        }
    }

    public
    function supprimer_monture($id_collection,
                               $id_monture)
    {
        $this->m_montures->del_monture($id_monture);
        $this->redirect('/admin/liste_montures/' .
                        $id_collection);

    }

    public
    function supprimer_collection($id_collection)
    {
        $this->m_montures->del_collection($id_collection);
        $this->redirect('/admin/liste_collections');

    }

    public
    function supprimer_pack($id_pack)
    {
        $this->m_montures->del_pack($id_pack);
        $this->redirect('/admin/liste_collections');

    }

    public
    function liste_pack_ajax()
    {
        if ($this->input->is_ajax_request()) {

            $data = array();
            $data['aaData'] =
                array();


            if ($packs =
                $this->m_montures->get_Pack()) {

                foreach ($packs
                         as
                         $pack)
                {
                    $data['aaData'][] =
                        array(
                            '<img src="/uploads/' .
                            $pack->image .
                            '" height="150">',
                            $pack->name,
                            '<a href="supprimer_pack/' .
                            $pack->id .
                            '"><button type="button" class="btn btn-danger btn-sm" role="button" aria-disabled="false" ><i class="zmdi zmdi-close"></i> Supprimer</button></a>',
                            '<a href="liste_montures_pack/' .
                            $pack->id .
                            '"><button type="button" class="btn btn-primary btn-sm" role="button" aria-disabled="false" >organiser les montures de ce pack</button></a>'
                        );
                }
            }
            die(json_encode($data));
        } else {
            $this->redirect();
        }
    }

    public
    function liste_collection_ajax()
    {
        if ($this->input->is_ajax_request()) {

            $data = array();
            $data['aaData'] =
                array();


            if ($collections =
                $this->m_montures->get_Collection()) {

                foreach ($collections
                         as
                         $collection)
                {
                    $data['aaData'][] =
                        array(
                            '<img src="/uploads/' .
                            $collection->image .
                            '" height="150">',
                            $collection->name,
                            '<a href="supprimer_collection/' .
                            $collection->id .
                            '"><button type="button" class="btn btn-danger btn-sm" role="button" aria-disabled="false" ><i class="zmdi zmdi-close"></i> Supprimer</button></a>',
                            '<a href="liste_montures/' .
                            $collection->id .
                            '"><button type="button" class="btn btn-primary btn-sm" role="button" aria-disabled="false" >organiser les montures de cette collection</button></a>'
                        );
                }
            }
            die(json_encode($data));
        } else {
            $this->redirect();
        }
    }

    public
    function prix_montures($id_generation)
    {

        if (!empty($id_generation) &&
            is_numeric($id_generation)) {
            $data['newUser'] =
                $this->session->userdata('newUser');
            $data['parametre_lang_datable'] =
                $this->config->item('parametre_lang_datable');
            $data['parametre_export_datable'] =
                $this->config->item('parametre_export_datable');

            $data['page'] =
                "Prix Montures";
            $data['title'] =
                'Prix des lentilles';
            $data['modules'] =
                array(
                    'datatables' => true,
                    'sweetalert' => true,
                    'touchspin' => true
                );

            $data['id_generation'] =
                $id_generation;
            $this->load->view('admin/prix_montures',
                              $data);
        } else {
            $this->redirect("/index");
        }
    }


    public
    function prix_montures_ajax($id_generation,
                                $grille = 0)
    {
        if ($this->input->is_ajax_request()) {

            $data = array();
            $data['aaData'] =
                array();

            if ($grille !=
                0) {
                $dataVerre['grille'] =
                    (int)$grille;
            }

            $dataVerre['id_generation_lentille'] =
                $id_generation;
            $dataVerre['prixVerre'] =
                true;

            if ($montures =
                $this->m_montures->getMonturesPrices($id_generation,
                                                     $grille)) {

                foreach ($montures
                         as
                         $monture)
                {
                    $data['aaData'][] =
                        array(
                            $monture->name,
                            '<input type="text" class="form-control decimal" name="prix_' .
                            $monture->montures_id .
                            '_' .
                            $monture->grid_id .
                            '" id="prix_' .
                            $monture->montures_id .
                            '_' .
                            $monture->grid_id .
                            '" value="' .
                            $monture->price .
                            '" /> €',
                            'Grille ' .
                            $monture->grid_id,
                            '<button type="button" class="btn btn-danger btn-sm" role="button" aria-disabled="false" id="supprimer_lentille_' .
                            $monture->montures_id .
                            '"><i class="zmdi zmdi-close"></i> Supprimer</button>'
                        );
                }
            }

            die(json_encode($data));
        } else {
            $this->redirect();
        }
    }

    public
    function ordre_verre()
    {
        if ($this->input->is_ajax_request()) {
            $this->m_verres->updateOrdre($this->input->post());
        }
    }

    public
    function generer_pdf_ca_journalier($nom_fichier_pdf,
                                       $date)
    {

        $ndate =
            DateTime::createFromFormat('m-Y',
                                       $date);

        $data['caByDay'] =
            $this->m_commande->getCaByDayOfMonth($ndate->format('Y-m'));
        $data['date'] = $date;

        $ca_mensuel =
            $this->m_commande->CAMensuel($date);
        $data['ca_mensuel'] =
            $ca_mensuel;

        $ca_mensuel_hors_livraison =
            $this->m_commande->CAMensuel($date,
                                         false);
        $data['ca_mensuel_hors_livraison'] =
            $ca_mensuel_hors_livraison;

        $data['taux_tva'] =
            $this->session->userdata('taux_tva');

        $data_custom_file =
            array('date' => $date);

        $html =
            $this->load->view($this->dirPdf .
                              "/" .
                              $nom_fichier_pdf,
                              $data,
                              true);
        //echo $html;
        //var_dump()
        $this->pdf($nom_fichier_pdf,
                   $data,
                   $data_custom_file,
                   true);
    }

    public
    function facture_client()
    {
        $data['newUser'] =
            $this->session->userdata('newUser');
        $data['parametre_lang_datable'] =
            $this->config->item('parametre_lang_datable');
        $data['parametre_export_datable'] =
            $this->config->item('parametre_export_datable');

        $data['modules'] =
            array(
                'sweetalert' => true,
                'datepicker' => true,
                'datatables' => true
            );
        $data['page'] =
            "Facture clients";
        $data['title'] =
            "Facture clients";

        $result =
            $this->m_users->getMaxUser();
        $data['maxUser'] =
            $result[0]->maxUser;

        $this->load->view('admin/facture_client',
                          $data);
    }

    public
    function facture_client_ajax($date,
                                 $user = null)
    {
        if ($this->input->is_ajax_request()) {

            $regions =
                $this->config->item('regions');
            $facture_client =
                $this->m_commande->getAllCommandeByMonthAndUser($date,
                                                                null,
                                                                $user);

            $data = array();
            $data['aaData'] =
                array();
            $total_ht = 0;
            $total_ht_liv = 0;
            $lastkey = 0;

            if ($facture_client !==
                false) {
                foreach ($facture_client
                         as
                         $key
                =>
                         $facture_cli)
                {


                    /*    $shippings = $this->m_commande->getShippingsByMonth($date, $facture_cli->id_users);

                    if($shippings) {
                        $total_ships = $shippings->exp_matin + $shippings->exp_soir;
                    }
                    else {
                        $total_ships = 0;
                    }*/

                    $dep =
                        substr($facture_cli->cp,
                               0,
                               -3);

                    $data['aaData'][$key] =
                        array(
                            $facture_cli->id_users,
                            $facture_cli->nom_magasin,
                            $facture_cli->nom_societe,
                            date("m-Y",
                                 strtotime($facture_cli->date_commande)),
                            '<span id="totalFacture_' .
                            date("Y-m",
                                 strtotime($facture_cli->date_commande)) .
                            '_' .
                            $facture_cli->id_users .
                            '">' .
                            number_format($facture_cli->total +
                                          $this->m_commande->getPackagingByMonth($date,
                                                                                 $facture_cli->id_users),
                                          2,
                                          '.',
                                          ' ') .
                            '</span> €',
                            '<span>' .
                            number_format($facture_cli->total_lentilles,
                                          2,
                                          '.',
                                          ' ') .
                            '</span> €',
                            '<span>' .
                            number_format($facture_cli->total_montures,
                                          2,
                                          '.',
                                          ' ') .
                            '</span> €',
                            '<span>' .
                            number_format($facture_cli->total_stock,
                                          2,
                                          '.',
                                          ' ') .
                            '</span> €',
                            '<span>' .
                            number_format(($facture_cli->total_fabrique +
                                           $facture_cli->total_express),
                                2,
                                '.',
                                ' ') .
                            '</span> €',
                            $facture_cli->tarif_liv +
                            $this->m_commande->getPackagingByMonth($date,
                                                                   $facture_cli->id_users),
                            '<a href="/admin/generer_pdf_facture/facture/' .
                            date("Y-m",
                                 strtotime($facture_cli->date_commande)) .
                            '/' .
                            $facture_cli->id_users .
                            '" class="btn btn-warning"><i class="zmdi zmdi-download"></i></a>',
                            '<a class="btn btn-inverse" data-toggle="modal" data-target="#add-reduction" id="openReduction_' .
                            date("Y-m",
                                 strtotime($facture_cli->date_commande)) .
                            '_' .
                            $facture_cli->id_users . '"><i class="zmdi zmdi-edit"></i></a>
                             <a class="btn btn-warning" data-toggle="modal" data-target="#get-reduction" id="deleteReduction_' .
                            date("Y-m",
                                 strtotime($facture_cli->date_commande)) .
                            '_' .
                            $facture_cli->id_users .
                            '" ' .
                            ($facture_cli->reduction ==
                             "0.00" ?
                                'style="display:none;"' :
                                '') .
                            '><i class="zmdi zmdi-search"></i></a>',
                            $facture_cli->id_grille_tarifaire
                        );


                    $total_ht += $facture_cli->total;
                    $total_ht_liv += ($facture_cli->total -
                                      $facture_cli->tarif_liv);


                    /*if($facture_cli->total_express > 0) {
                        $total_ht += $facture_cli->total_express;
                        $total_ht_liv += $facture_cli->total_express;
                    }*/


                    $lastkey =
                        $key;
                }
            }

            $data['totals'] =
                array(
                    'ht' => number_format($total_ht +
                                          $this->m_commande->getPackagingByMonth($date,
                                                                                 $user),
                                          2,
                                          '.',
                                          ' '),
                    'liv' => number_format($total_ht_liv -
                                           $this->m_commande->getSupplementByMonth($date,
                                                                                   $user),
                                           2,
                                           '.',
                                           ' '),
                );


            die(json_encode($data));
        } else {
            $this->redirect();
        }
    }


    public
    function payment_status()
    {

        $this->load->helper('slimpay');

        $date = date('m-Y',
                     strtotime('last day of last month'));

        $factures =
            $this->db->select('debit_id')
                     ->where('mois',
                             $date)
                     ->get('paiements')
                     ->result()
        ;

        foreach ($factures as
                 $f) {

            if ($status =
                getDebitStatus($f->debit_id)) {

                $data['status'] =
                    $status;

                $data = array(
                    'status' => $status['executionStatus'],
                    'execution_date' => $status['executionDate'],
                    'last_update' => date('Y-m-d H:i:s',
                                          time())
                );

                $this->db->where('debit_id',
                                 $f->debit_id)
                         ->update('paiements',
                                  $data)
                ;

            }

        }

        //$this->load->view('admin/payment_process',$data);

    }

    public
    function users()
    {
        $data['newUser'] =
            $this->session->userdata('newUser');
        $data['parametre_lang_datable'] =
            $this->config->item('parametre_lang_datable');
        $data['parametre_export_datable'] =
            $this->config->item('parametre_export_datable');

        $data['modules'] =
            array(
                'datatables' => true,
                'sweetalert' => true
            );

        $data['page'] =
            "Liste utilisateurs";
        $data['title'] =
            "Liste utilisateurs";

        $result =
            $this->m_config->getConfig(array('nom_config' => 'commentaire'));

        $data['commentaire_actif'] =
            json_decode($result[0]->param_config);

        $result =
            $this->m_users->getMaxUser();

        $data['maxUser'] =
            $result[0]->maxUser;

        $this->load->view('admin/users',
                          $data);
    }

    public
    function users_ajax()
    {
        if ($this->input->is_ajax_request()) {

            $data = array();
            $data['aaData'] =
                array();

            $id_users = false;
            $rib = false;
            $deleted = 0;


            if (isset($_GET['id_users']) &&
                $_GET['id_users'] !=
                "Tous") {
                $id_users =
                    $_GET['id_users'];
            }

            if (isset($_GET['rib'])) {
                $rib =
                    $_GET['rib'];
            }

            if (isset($_GET['deleted'])) {
                $deleted =
                    $_GET['deleted'];
            }

            $users =
                $this->m_users->getAllUser($id_users,
                                           $rib,
                                           $deleted);
            $nbGrilleTarifaire =
                2;
            $regions =
                $this->config->item('regions');

            if ($users !==
                false) {
                foreach ($users
                         as
                         $key
                => $user) {
                    //$total_commandes = $this->m_commande->getTotalCommandeByYear($user->id_users);
                    //$total_commandes_ec = $this->m_commande->getTotalECCommandeByYear($user->id_users);

                    $taux =
                        $this->m_users->getUserById($user->id_users);

                    $optionTarif =
                        "";

                    for (
                        $prix_livraison =
                            0;
                        $prix_livraison <=
                        10;
                        $prix_livraison += 0.5)
                    {
                        $optionTarif .= '<option value="' .
                                        $prix_livraison .
                                        '" ' .
                                        ($prix_livraison ==
                                         $user->tarif_livraison ?
                                            'selected' :
                                            '') .
                                        '>' .
                                        $prix_livraison .
                                        '</option>';
                    }

                    $dep =
                        substr($user->cp,
                               0,
                               -3);

                    $sp =
                        ($user->valid_mandat ==
                         1 ?
                            'sp' :
                            'sp no_sp');
                    $commander =
                        '<a href="/admin/passer_commande/' .
                        $user->id_users .
                        '" class="btn btn-warning" ' .
                        ($user->valid_mandat ==
                         0 ?
                            'disabled' :
                            '') .
                        '>Verres</a> <a href="/admin/commande_lentilles/' .
                        $user->id_users .
                        '" class="btn btn-warning" ' .
                        ($user->valid_mandat ==
                         0 ?
                            'disabled' :
                            '') .
                        '>Lentilles</a> <a href="/admin/commande_montures/' .
                        $user->id_users .
                        '" class="btn btn-warning" ' .
                        ($user->valid_mandat ==
                         0 ?
                            'disabled' :
                            '') .
                        '>Montures</a>';

                    // .number_format(($total_commandes[0]->total*($taux[0]->taux_erreur/100))-$total_commandes_ec[0]->total, 2,'.',' ').' €'
                    if ($user->Samuel > 0) {
                        $classColor = "samuel";
                    }
                    else if ($user->Gregory > 0) {
                        $classColor = "gregory";
                    }
                    else if ($user->Glenn > 0) {
                        $classColor = "glenn";
                    }
                    $data['aaData'][$key] =
                        array(
                            $user->nom_magasin,
                            '<span class="' . $classColor . '">' .
                            $user->id_users .
                            '</span>',
                            $user->nom_societe,
                            '<a class="btn btn-inverse get-userdashboard" data-toggle="modal" data-target="#user-unlock" data-user="' .
                            $user->id_users .
                            '"><i class="zmdi zmdi-search"></i> Voir</a>',
                            $user->ville .
                            '<br>' .
                            $user->cp,
                            date('d/m/Y H:i',
                                 strtotime($user->date_inscription)),
                            $user->id_grille_tarifaire,
                            $commander,
                            '<a href="/admin/erreur_casse/' .
                            $user->id_users .
                            '" class="btn btn-warning"><i class="zmdi zmdi-search"></i></a>&nbsp;&nbsp; ',
                            '<a class="btn btn-inverse get-userinfo" data-toggle="modal" data-target="#user-modal" data-user="' .
                            $user->id_users .
                            '"><i class="zmdi zmdi-search"></i> Voir</a>'
                        );
                }
            }

            die(json_encode($data));
        } else {
            $this->redirect();
        }
    }

    public
    function accesCommerciaux()
    {
        if ($this->input->is_ajax_request()) {

            $user_id =
                (int)$this->input->post('user_id');
            $password =
                $this->input->post('password');

            $user =
                $this->m_users->getUserById($user_id);

            $noPass =
                get_cookie("noPass");

            if ($password ==
                '1409' ||
                $noPass ==
                '1') {

                $data['status'] =
                    'ok';

                if ($noPass !=
                    '1') {
                    set_cookie('noPass',
                               '1',
                               '300');
                } // 5 mins

                $Samuel = "";
                if ($user[0]->Samuel ==
                    100.00) {
                    $Samuel =
                        "checked";
                }

                $Daniel = "";
                if ($user[0]->Daniel ==
                    100.00) {
                    $Daniel =
                        "checked";
                }

                $Gregory = "";
                if ($user[0]->Gregory ==
                    100.00) {
                    $Gregory =
                        "checked";
                }

                $Glenn = "";
                if ($user[0]->Glenn ==
                    100.00) {
                    $Glenn =
                        "checked";
                }

                $Optical_Service =
                    "";
                if ($user[0]->Optical_Service ==
                    100.00) {
                    $Optical_Service =
                        "checked";
                }

                $data['DataCom'] = '<div class="form-check form-check-inline">
				  <input id="Samuel" name="Samuel" value="100.00" class="form-check-input" type="checkbox" data-toggle="toggle" data-onstyle="success" data-height="37" data-width="65" ' .
                                   $Samuel . '>
				  <label for="Samuel" class="form-check-label">Samuel&nbsp;&nbsp;&nbsp;</label>
				
				  <input id="Daniel" name="Daniel" value="100.00" class="form-check-input" type="checkbox" data-toggle="toggle" data-onstyle="success" data-height="37" data-width="65" ' .
                                   $Daniel . '>
				  <label for="Daniel" class="form-check-label">Daniel&nbsp;&nbsp;&nbsp;</label>
				
				  <input id="Gregory" name="Gregory" value="100.00" class="form-check-input" type="checkbox" data-toggle="toggle" data-onstyle="success" data-height="37" data-width="65" ' .
                                   $Gregory . '>
				  <label for="Gregory" class="form-check-label">Gregory&nbsp;&nbsp;&nbsp;</label>
				
				  <input id="Glenn" name="Glenn" value="100.00" class="form-check-input" type="checkbox" data-toggle="toggle" data-onstyle="success" data-height="37" data-width="65" ' .
                                   $Glenn . '>
				  <label for="Glenn" class="form-check-label">Glenn&nbsp;&nbsp;&nbsp;</label>
				  
				  <input id="Optical_Service" name="Optical_Service" value="100.00" class="form-check-input" type="checkbox" data-toggle="toggle" data-onstyle="success" data-height="37" data-width="65" ' .
                                   $Optical_Service . '>
				  <label for="Optical_Service" class="form-check-label">Optical Service</label>
				</div>';

                /*$data['Samuel'] = $user[0]->Samuel;
				$data['Daniel'] = $user[0]->Daniel;
				$data['Gregory'] = $user[0]->Gregory;
				$data['Optical_Service'] = $user[0]->Optical_Service;*/

                echo json_encode($data);

            } else {

                $data['status'] =
                    'error';
                echo json_encode($data);
            }

        }

        exit();

    }

    public
    function validateComAuth()
    {
        if (isset($_POST['user_unlock_password'])) {

            if ($_POST['user_unlock_password'] !=
                1141) {

                die(json_encode([
                                    'status' => 0
                                ]));
            }

            $idUser =
                $_POST['user_unlock_id'];

            if ($this->input->is_ajax_request() &&
                isset($idUser) &&
                is_numeric($idUser) &&
                $idUser > 0) {

                $data['info_user'] =
                    $this->m_users->getUserById($idUser);

                $this->load->view('admin/layout/client-dashboard',
                                  $data);
            }

        }
    }

    public
    function erreur_casse($user_id)
    {


        $this->data['modules'] =
            array('datatables' => true);
        $this->data['page'] =
        $this->data['title'] =
            "Erreur ophtalmologiste / Casse atelier";

        $this->data['user_id'] =
            $user_id;


        $total_commandes =
            $this->m_commande->getTotalCommandeByYear($user_id);
        $total_commandes_ec =
            $this->m_commande->getTotalECCommandeByYear($user_id);

        $taux =
            $this->m_users->getUserById($user_id);

        $this->data['ec']['taux'] =
            number_format($taux[0]->taux_erreur,
                          2,
                          '.',
                          '');
        $this->data['ec']['total'] =
            number_format($total_commandes[0]->total,
                          2,
                          '.',
                          '');
        $this->data['ec']['useable'] =
            number_format($total_commandes[0]->total *
                          ($taux[0]->taux_erreur /
                           100),
                          2,
                          '.',
                          '');
        $this->data['ec']['used'] =
            number_format($total_commandes_ec[0]->total,
                          2,
                          '.',
                          '');
        $this->data['ec']['rest'] =
            number_format(($total_commandes[0]->total *
                           ($taux[0]->taux_erreur /
                            100)) -
                          $total_commandes_ec[0]->total,
                          2,
                          '.',
                          '');

        $this->load->view('admin/erreur_casse',
                          $this->data);

    }

    public
    function erreur_casse_ajax($user_id)
    {

        setlocale(LC_TIME,
                  'fr_FR.utf8',
                  'fra');

        $this->load->model('m_users');

        if ($this->input->is_ajax_request()) {
            $data = array();
            $data['aaData'] =
                array();

            $total_commandes =
                $this->m_commande->getTotalCommandeByYear($user_id);
            $total_commandes_ec =
                $this->m_commande->getTotalECCommandeByYear($user_id);

            $taux =
                $this->m_users->getUserById($user_id);

            $taux =
                $this->m_users->getUserById($this->data['user_info']->id_users);

            $this->data['ec']['taux'] =
                number_format($taux[0]->taux_erreur,
                              2,
                              '.',
                              '');
            $this->data['ec']['total'] =
                number_format($total_commandes[0]->total,
                              2,
                              '.',
                              '');
            $this->data['ec']['useable'] =
                number_format($total_commandes[0]->total *
                              ($taux[0]->taux_erreur /
                               100),
                              2,
                              '.',
                              '');
            $this->data['ec']['used'] =
                number_format($total_commandes_ec[0]->total,
                              2,
                              '.',
                              '');
            $this->data['ec']['rest'] =
                number_format(($total_commandes[0]->total *
                               ($taux[0]->taux_erreur /
                                100)) -
                              $total_commandes_ec[0]->total,
                              2,
                              '.',
                              '');

            $data['aaData'][] =
                array(
                    'Montant total des achats depuis le 1er Janvier de l\'année en cours',
                    '<strong>' .
                    number_format($total_commandes[0]->total,
                                  2,
                                  '.',
                                  ' ') .
                    ' €</strong>'
                );

            $data['aaData'][] =
                array(
                    'Montant total utilisable pour commander en casse atelier et erreur ophtalmologiste ( ' .
                    $taux[0]->taux_erreur .
                    '% )',
                    '<strong>' .
                    number_format($total_commandes[0]->total *
                                  ($taux[0]->taux_erreur /
                                   100),
                                  2,
                                  '.',
                                  ' ') .
                    ' €</strong>'
                );

            $data['aaData'][] =
                array(
                    'Montant déjà utilisé pour commander en casse atelier et erreur ophtalmologiste',
                    '<strong>' .
                    number_format($total_commandes_ec[0]->total,
                                  2,
                                  '.',
                                  ' ') .
                    ' €</strong>'
                );

            $data['aaData'][] =
                array(
                    'Montant total utilisable pour commander en casse atelier et erreur ophtalmologiste au ' .
                    strftime('%e %B %Y à %Hh%M',
                             time()),
                    '<strong>' .
                    number_format(($total_commandes[0]->total *
                                   ($taux[0]->taux_erreur /
                                    100)) -
                                  $total_commandes_ec[0]->total,
                                  2,
                                  '.',
                                  ' ') .
                    ' €</strong>'
                );

            die(json_encode($data));
        } else {
            $this->redirect();
        }
    }

    public
    function controle()
    {

        $this->data['page'] =
        $this->data['title'] =
            "Contrôle de la plateforme";
        $this->load->view('admin/controle',
                          $this->data);

    }

    public
    function passer_commande($user_id,
                             $pair_order = false)
    {

        $this->load->model('m_users');
        $this->load->helper('slimpay');
        $this->load->library('email');

        $this->data['pair_order'] =
            false;


        if (false !==
            $pair_order) {
            $this->data['pair_order'] =
                $this->m_commande->getCommandeById($pair_order,
                                                   $user_id,
                                                   true)[0];
        }

        $this->data['user_id'] =
            $user_id;

        $this->data['modules'] =
            array(
                'sweetalert' => true,
                'touchspin' => true
            );

        $this->data['page'] =
        $this->data['title'] =
            "Passer une commande pour le magasin 2";

        $this->data['numero_siret'] =
            $this->session->userdata('numero_siret');
        $this->data['tva_intracomm'] =
            $this->session->userdata('tva_intracomm');

        $result =
            $this->m_config->getConfig(array('nom_config' => 'commentaire'));

        $this->data['user_info'] =
            $this->m_users->getUserById($user_id);

        $date =
            new DateTime();
        $date->modify('-60 days');

        $this->data['commentaire_actif'] =
            json_decode($result[0]->param_config);
        $this->data['id_commandes'] =
            $this->getUserOrders($user_id,
                                 $date);
        $regions =
            $this->config->item('regions');

        if (isset($this->data['user_info'][0]->cp)) {
            $dep =
                substr($this->data['user_info'][0]->cp,
                       0, -3);
            $this->data['region'] =
                ($regions[$dep] ==
                 "Ile-de-France" ?
                    1 : 0);
        } else {
            $this->data['region'] =
                0;
        }

        $panierA =
            get_cookie("panierA");
        if ($panierA ==
            $user_id) {
            $refPanierA =
                get_cookie("refPanierA");
            $this->data['refPanierA'] =
                $refPanierA;
            $this->data['panierA'] =
                $user_id;
        }

        $panierA_sans_monture =
            get_cookie("panierA_sans_monture");
        if ($panierA_sans_monture ==
            '1') {
            $this->data['panierA_sans_monture'] =
                '1';
        }

        $this->load->view('admin/passer_commande_new',
                          $this->data);

    }

    public
    function getGrilleFabrication()
    {
        if ($this->input->is_ajax_request()) {

            $data =
                $this->input->post();
            //$data['id_users'] = $this->data['user_info']->id_users;
            $post = $data;


            if (isset($data['pair_order'])) {
                $data['pair_order'] =
                    $this->m_commande->getCommandeById($data['pair_order'],
                                                       $data['id_users'],
                                                       $pair =
                                                           true)[0];
            }

            if ($data['type_commande_verre'] ==
                1) {
                $data['correction'] =
                    $this->m_grille_fabrication->getGrilleFabrication($data);
            } else {
                if ($data['type_commande_verre'] ==
                    2) {
                    $data['correction_stock'] =
                        $this->m_grille_stock->getGrilleStock($data);
                }
            }

            $data['post_data'] =
                $post;

            echo $this->load->view('ajax_correction',
                                   $data);
        } else {
            $this->redirect();
        }
    }

    public
    function getDiametre()
    {
        if ($this->input->is_ajax_request()) {
            $post =
                $this->input->post();
            $return =
                $this->m_grille_stock->getDiametre($post);

            $data = array();

            if ($return !==
                false) {

                if ($return ==
                    'stock_progressif') {
                    $data =
                        array(70);
                } else {
                    foreach ($return
                             as
                             $d)
                    {
                        $grille_stock =
                            json_decode($d->grille_stock,
                                        true);

                        if (array_key_exists($post['sphere'],
                                             $grille_stock)) {
                            if (in_array($post['cylindre'],
                                         $grille_stock[$post['sphere']])) {
                                array_push($data,
                                           $d->diametre);
                            }
                        }
                    }
                }

            }

            echo json_encode($data);
        }
    }

    public
    function getIndiceVerre()
    {
        if ($this->input->is_ajax_request()) {

            $pair_order_id =
                $this->input->post('pair_order');
            $pair_order =
                false;

            if (isset($pair_order_id)) {
                $pair_order =
                    $this->m_commande->getCommandeById($pair_order_id,
                                                       $this->data['user_info']->id_users,
                                                       $pair =
                                                           true)[0];
            }

            if (($result =
                    $this->m_generation_verre->getIndiceVerre($this->input->post('id_generation_verre'))) !==
                false) { //

                // Test sur indices des verres non disponibles pour la correction choisie (première commande de la paire)
                if (isset($pair_order_id) &&
                    false !==
                    $pair_order_id) {

                    $pair_corrections =
                        json_decode($pair_order->information_commande); //
                    $outOfRange =
                        array();

                    foreach ($result
                             as
                             $indice)
                    {

                        $args =
                            array(
                                'id_generation_verre' => $this->input->post('id_generation_verre'),
                                'id_indice_verre' => $indice->id_indice_verre
                            );

                        $grille =
                            $this->m_grille_fabrication->getGrilleFabrication($args);

                        $fabrication =
                            json_decode($grille[0]->grille_fabrication_verre);

                        if (isset($fabrication->degression)) {

                            if (isset($pair_corrections->verre->correction_droit->addition)) {
                                $pair_corrections->verre->correction_droit->sphere += $pair_corrections->verre->correction_droit->addition;
                            }

                            if (isset($pair_corrections->verre->correction_gauche->addition)) {
                                $pair_corrections->verre->correction_gauche->sphere += $pair_corrections->verre->correction_gauche->addition;
                            }

                            if (!isset($pair_corrections->verre->correction_droit->degression) &&
                                isset($pair_corrections->verre->correction_droit)) {
                                $pair_corrections->verre->correction_droit->degression =
                                    $pair_corrections->verre->correction_droit->addition;
                                unset($pair_corrections->verre->correction_droit->addition);
                            }

                            if (!isset($pair_corrections->verre->correction_gauche->degression) &&
                                isset($pair_corrections->verre->correction_gauche)) {
                                $pair_corrections->verre->correction_gauche->degression =
                                    $pair_corrections->verre->correction_gauche->addition;
                                unset($pair_corrections->verre->correction_gauche->addition);
                            }

                        }

                        // Test sur grilles de fabrications pour l'indice / génération
                        foreach ($fabrication
                                 as
                                 $key
                        =>
                                 $props)
                        {
                            foreach ($pair_corrections->verre
                                     as
                                     $side
                            =>
                                     $values)
                            {
                                if ($side ===
                                    'correction_droit' ||
                                    $side ==
                                    'correction_gauche') {
                                    if (isset($values->$key)) {
                                        if (floatval($values->$key) <
                                            floatval($props->deb) ||
                                            floatval($values->$key) >
                                            floatval($props->fin)) {
                                            $outOfRange[] =
                                                $indice->id_indice_verre;
                                        }
                                    }
                                }
                            }
                        }

                    }

                    // Unset les indices non compatibles
                    foreach ($result
                             as
                             $k
                    => $r) {
                        if (in_array($r->id_indice_verre,
                                     $outOfRange)) {
                            unset($result[$k]);
                        }
                    }

                }

                $data['indice_verre'] =
                    $result;

                //	echo "AAAA";

                echo $this->load->view('ajax_indice_verre',
                                       $data);

            }
        }
    }

    public
    function getPrix($user_id,
                     $recovery = false)
    {

        $idlens =
            $_POST['lens'];
        $typedelens =
            $_POST['typedelens'];


        $idlens =
            str_replace("]",
                        "",
                        $idlens);

        if ($typedelens ==
            "stock") {
            $res =
                $this->m_passer_commande_verre->getPrixStock($idlens,
                                                             $user_id);
        } else {
            $generation =
                $_POST['generation'];
            $res =
                $this->m_passer_commande_verre->getPrix($idlens,
                                                        $user_id,
                                                        $generation);
        }
        echo json_encode($res);

    }

    public
    function getPrixVerre($user_id)
    {

        if ($this->input->is_ajax_request()) {

            $id_verre =
                intval($_POST['id']);

            $this->data['user_info'] =
                $this->m_users->getUserById($user_id)[0];

            $grille =
                $this->data['user_info']->id_grille_tarifaire;

            $query =
                $this->db->query('SELECT prix_verre FROM grille_tarifaire WHERE id_verre=' .
                                 $id_verre .
                                 ' AND id_grille_tarifaire = ' .
                                 $grille);
            $verre =
                $query->result();

            echo $verre[0]->prix_verre;

        } else {
            $this->redirect();
        }
    }


    public
    function setOrderRecap($user_id)
    {

        if ($this->input->is_ajax_request()) {

            $data =
                $this->input->post();
            $user =
                $this->m_users->getUserById($user_id)[0];

            $data['user_info'] =
                $user;
            $data['id_users'] =
                $user_id;
            $data['data_admin']['admin_info'] =
                $this->m_users->getUserById(1)[0];

            $data['id_miroir'] =
                0;
            $data['id_etat_commande'] =
                1;
            $data['date_commande'] =
                date('Y-m-d H:i:s');
            $data['date_update_commande'] =
                $data['date_commande'];
            $data['taux_tva'] =
                $this->m_taux_tva->get_tva();
            $data['tarif_livraison'] =
                $user->tarif_livraison;
            $data['tarif_packaging'] =
                $user->tarif_packaging;
            $prix_miroir = 7;

            $pair_order =
                false;

            if (isset($data['pair_order'])) {
                $pair_order =
                    $this->m_commande->getCommandeById($data['pair_order'],
                                                       $user_id,
                                                       true)[0];
                $pair_order_id =
                    $data['pair_order'];
                $data['type_commande'] =
                    $pair_order->type_commande;
                $data['reference_client'] =
                    $pair_order->reference_client;
                $data['pair_order_recap'] =
                    (array)$pair_order;
            }

            unset($data['pair_order']);


            if (isset($data['calibre']) &&
                !empty($data['calibre'])) {
                $data_commande['precalibrage'] =
                    array('calibre' => $data['calibre']);
            }

            if (isset($data['cotea']) &&
                !empty($data['cotea'])) {
                $data_commande['mesure_freeform']['largeur_boxing'] =
                    $data['cotea'];
            }

            if (isset($data['coteb']) &&
                !empty($data['coteb'])) {
                $data_commande['mesure_freeform']['hauteur_boxing'] =
                    $data['coteb'];
            }

            if (isset($data['cotec']) &&
                !empty($data['cotec'])) {
                $data_commande['mesure_freeform']['taille_du_pont'] =
                    $data['cotec'];
            }

            if (isset($data['coted']) &&
                !empty($data['coted'])) {
                $data_commande['mesure_freeform']['diametre_utile'] =
                    $data['coted'];
            }

            if (isset($data['diametre_verre']) &&
                !empty($data['diametre_verre'])) {
                $data_commande['diametre_verre'] =
                    $data['diametre_verre'];
            }


            if (isset($data_commande['mesure_freeform'])) {
                foreach ($data_commande['mesure_freeform']
                         as
                         $Key
                => $val)
                    if (empty($val)) {
                        unset($data_commande['mesure_freeform'][$Key]);
                    }
            }

            if (isset($data['type_montures']) &&
                !empty($data['type_montures'])) {
                $data_commande['montures'] =
                    array('type' => $data['type_montures']);
            }

            if (isset($data['epaisseur_bord_verre']) &&
                !empty($data['epaisseur_bord_verre'])) {
                $data_commande['bord_verre'] =
                    array('epaisseur' => $data['epaisseur_bord_verre']);
            }

            $panierA =
                get_cookie("panierA");

            $panierA_sans_monture =
                get_cookie("panierA_sans_monture");
            if ($panierA_sans_monture ==
                '1') {
                $panierA =
                    $user_id;
            }

            if ($panierA ==
                $user_id) {
                if ($data['id_type_generation_verre'] ==
                    '23') {
                    $data['id_generation_verre'] =
                        '23';
                }
                /*if(isset($data['sphere_droit']) && isset($data['sphere_gauche'])) {
					$data_commande['verre'] = array('correction_droit' => array('sphere' => $data['sphere_droit'],
						'cylindre' => ""
					),
						'correction_gauche' => array('sphere' => $data['sphere_gauche'],
							'cylindre' => ""
						)
					);
				}*/
            }


            if (isset($data['sphere_droit']) &&
                isset($data['cylindre_droit']) &&
                isset($data['sphere_gauche']) &&
                isset($data['cylindre_gauche'])) {
                $data_commande['verre'] =
                    array(
                        'correction_droit' => array(
                            'sphere' => $data['sphere_droit'],
                            'cylindre' => $data['cylindre_droit']
                        ),
                        'correction_gauche' => array(
                            'sphere' => $data['sphere_gauche'],
                            'cylindre' => $data['cylindre_gauche']
                        )
                    );
            } elseif (isset($data['sphere_droit']) &&
                      isset($data['addition_droit']) &&
                      isset($data['sphere_gauche']) &&
                      isset($data['addition_gauche'])) {
                $data_commande['verre'] =
                    array(
                        'correction_droit' => array(
                            'sphere' => $data['sphere_droit'],
                            'addition' => $data['addition_droit'],
                            'cylindre' => 0
                        ),
                        'correction_gauche' => array(
                            'sphere' => $data['sphere_gauche'],
                            'addition' => $data['addition_gauche'],
                            'cylindre' => 0,
                        )
                    );
            }


            if (isset($data['axe_droit'])) {
                $data_commande['verre']['correction_droit']['axe'] =
                    $data['axe_droit'];
            }

            if (isset($data['axe_gauche'])) {
                $data_commande['verre']['correction_gauche']['axe'] =
                    $data['axe_gauche'];
            }

            if (isset($data['hauteur']) &&
                !empty($data['hauteur'])) {
                $data_commande['verre']['hauteur'] =
                    $data['hauteur'];
            }

            if (isset($data['hauteur_gauche']) &&
                !empty($data['hauteur_gauche'])) {
                $data_commande['verre']['hauteur_gauche'] =
                    $data['hauteur_gauche'];
            }

            if (isset($data['ecart_puppillaire_droit']) &&
                !empty($data['ecart_puppillaire_droit'])) {
                $data_commande['verre']['ecart_puppillaire']['droit'] =
                    $data['ecart_puppillaire_droit'];
            }

            if (isset($data['ecart_puppillaire_gauche']) &&
                !empty($data['ecart_puppillaire_gauche'])) {
                $data_commande['verre']['ecart_puppillaire']['gauche'] =
                    $data['ecart_puppillaire_gauche'];
            }

            if (isset($data['diametre'])) {
                $data_commande['verre']['diametre'] =
                    $data['diametre'];
            }

            if (isset($data['diametre_gauche'])) {
                $data_commande['verre']['diametre_gauche'] =
                    $data['diametre_gauche'];
            }

            if (isset($data['traitement'])) {
                $data_commande['verre']['traitement'] =
                    $data['traitement'];
            }

            if (isset($data['photocromie']) &&
                !empty($data['photocromie'])) {
                $data_commande['verre']['photocromie'] =
                    $data['photocromie'];
            }

            if (isset($data['teinte']) &&
                !empty($data['teinte'])) {
                $data_commande['verre']['teinte'] =
                    $data['teinte'];
            }

            if (isset($data['galbe']) &&
                !empty($data['galbe'])) {
                $data_commande['verre']['galbe'] =
                    $data['galbe'];
            }

            if (isset($data['angle_pantoscopique']) &&
                !empty($data['angle_pantoscopique'])) {
                $data_commande['verre']['angle_pantoscopique'] =
                    $data['angle_pantoscopique'];
            }

            if (isset($data['angle_galbe']) &&
                !empty($data['angle_galbe'])) {
                $data_commande['verre']['angle_galbe'] =
                    $data['angle_galbe'];
            }

            if (isset($data['distance_verre_oeil']) &&
                !empty($data['distance_verre_oeil'])) {
                $data_commande['verre']['distance_verre_oeil'] =
                    $data['distance_verre_oeil'];
            }


            if (isset($data['dioptrie_droit']) &&
                $data['dioptrie_droit'] !=
                "") {
                $data_commande['verre']['dioptrie_droit'] =
                    $data['dioptrie_droit'];
            }

            if (isset($data['base_droit']) &&
                $data['base_droit'] !=
                "") {
                $data_commande['verre']['base_droit'] =
                    $data['base_droit'];
            }


            if (isset($data['dioptrie_gauche']) &&
                $data['dioptrie_gauche'] !=
                "") {
                $data_commande['verre']['dioptrie_gauche'] =
                    $data['dioptrie_gauche'];
            }

            if (isset($data['base_gauche']) &&
                $data['base_gauche'] !=
                "") {
                $data_commande['verre']['base_gauche'] =
                    $data['base_gauche'];
            }

            $prix_double =
                true;

            if (isset($data['addition_droit'])) {
                $data_commande['verre']['correction_droit']['addition'] =
                    $data['addition_droit'];
            }

            if (isset($data['addition_gauche'])) {
                $data_commande['verre']['correction_gauche']['addition'] =
                    $data['addition_gauche'];
            }

            if (isset($data['degression_droit'])) {
                $data_commande['verre']['correction_droit']['degression'] =
                    $data['degression_droit'];
            }

            if (isset($data['degression_gauche'])) {
                $data_commande['verre']['correction_gauche']['degression'] =
                    $data['degression_gauche'];
            }

            if (isset($data['only_droit'])) {
                unset($data_commande['verre']['correction_gauche']);
                unset($data_commande['verre']['diametre_gauche']);
                $prix_double =
                    false;
            }

            if (isset($data['only_gauche'])) {
                unset($data_commande['verre']['correction_droit']);
                unset($data_commande['verre']['diametre_droit']);
                $prix_double =
                    false;
            }

            if (isset($data['miroir_stock']) &&
                $data['miroir_stock'] !=
                0) {
                $data['id_miroir'] =
                    $data['miroir_stock'];
                $data_commande['verre']['miroir_stock'] =
                    array(
                        'type_miroir' => $data['miroir_stock'],
                        'prix_miroir' => $prix_miroir
                    );
            }

            if (isset($data['polarise']) &&
                $data['polarise'] !=
                "Non polarisé") {
                $data_commande['verre']['polarise'] =
                    $data['polarise'];
            }

            if (isset($data['miroir']) &&
                $data['miroir'] !=
                0) {
                $data['id_miroir'] =
                    $data['miroir'];
                $data_commande['verre']['miroir'] =
                    array(
                        'type_miroir' => $data['miroir'],
                        'prix_miroir' => $prix_miroir
                    );

                if ($prix_double) {
                    $prix_miroir *= 2;
                }
            }

            if (isset($data['carte_auth']) &&
                $data['carte_auth'] ==
                1) {
                $data_carte['civilite_client'] =
                    $data['civilite_client'];
                $data_carte['nom_client'] =
                    $data['nom_client'];
                $data_carte['prenom_client'] =
                    $data['prenom_client'];
                $data['information_certificat'] =
                    json_encode($data_carte);
            } else {
                $data['information_certificat'] =
                    '';
            }


            $data['information_commande'] =
                json_encode($data_commande);

            $id_grille_tarifaire =
                $this->m_users->getGrilleTarifaire($data['id_users']);

            $prix_verre =
                $this->m_verres->getPrixVerre($data['id_verre'],
                                              $id_grille_tarifaire,
                                              $data['id_users']);

            if ($prix_verre !==
                false) {

                $supplement =
                    0;

                if ($data['origine_commande'] ==
                    1 &&
                    $prix_verre[0]->supplement ==
                    1) {
                    if ($data['user_info']->tarif_supplement >
                        0) {
                        $supplement =
                            $data['user_info']->tarif_supplement;
                    }
                }

                if (!empty($prix_verre[0]->libelle_verre_personnalise)) {
                    $prix_verre[0]->libelle_verre =
                        $this->remplace_personnalisation_verre($prix_verre[0]->libelle_verre,
                                                               $prix_verre[0]->libelle_verre_personnalise);
                }

                $data['total_commande'] =
                $data['prix_verre'] =
                    $prix_verre[0]->prix_verre +
                    $supplement;

                if ($data['type_commande'] ==
                    1) {
                    $data['tarif_supplement'] =
                        $supplement;
                } else {
                    $data['tarif_supplement'] =
                        0;
                }

                $data['libelle_verre'] =
                    $prix_verre[0]->libelle_verre;

                if ($prix_double) {
                    $data['total_commande'] *= 2;
                    $data['tarif_supplement'] *= 2;
                }

                if (isset($data['miroir']) &&
                    $data['miroir'] !=
                    0) {
                    $data['total_commande'] += $prix_miroir;
                }


                $data['recap_commande'] =
                    $data;

                if ($panierA ==
                    $user_id) {
                    $this->db->from('commande_montures_temp cm');
                    $this->db->select('m.*, cm.id as id_temp, cm.qty, cm.status, cm.id_client, collec.name as collection, m_pack.id as pack_id, m_pack.name as pack, m_pack.prix as prixpack');
                    $this->db->where('cm.id_client',
                                     $data['id_users']);
                    $this->db->where('cm.status',
                                     0);
                    $this->db->join('montures m',
                                    'm.id = cm.id_monture',
                                    'left');
                    $this->db->join('montures_collection collec',
                                    'm.id_collection = collec.id',
                                    'left');
                    $this->db->join('montures_pack m_pack',
                                    'm_pack.id = cm.id_pack',
                                    'left');
                    $query =
                        $this->db->get();
                    if ($query->num_rows() >
                        0) {
                        $t =
                            $query->result();
                        $data['montures'] =
                            $t[0];
                    }
                    $panierA_sans_monture =
                        get_cookie("panierA_sans_monture");
                    if ($panierA_sans_monture !=
                        '1') {
                        $this->db->where('id',
                                         1);
                        $this->db->set('flag',
                                       1,
                                       FALSE);
                        $this->db->update('flag_monture');
                    }

                    //set_cookie('flag_monture','1','180000');
                }


                if (isset($data['pair_order_recap'])) {

                    $discount =
                        array();

                    $discount['amount'] =
                        $this->m_commande->getDiscountByOrderId($data['pair_order_recap']['id_commande'],
                                                                true);

                    $pair_verre =
                        floatval($data['pair_order_recap']['prix_verre']);
                    $current_verre =
                        floatval($data['recap_commande']['prix_verre']);

                    if ($pair_verre <
                        $current_verre) {
                        $discount['on'] =
                            'pair_order';
                    } else {
                        $discount['on'] =
                            'order';
                    }

                    $data['discount'] =
                        $discount;

                    if (isset($pair_order_id)) {
                        $data['pair_order_id'] =
                            $pair_order_id;
                    }

                }

                $this->session->set_userdata('order',
                                             $data);

                echo $this->load->view('ajax_recap_commande',
                                       $data);
            } else {
                echo "error";
            }

        } else {
            $this->redirect();
        }
    }

    public
    function round_up($number,
                      $precision = 2)
    {
        $fig =
            (int)str_pad('1',
                         $precision,
                         '0');
        return (ceil($number *
                     $fig) /
                $fig);
    }

    // FUCK THIS SHIT
    // FUCK THAT

    public
    function addOrder($user_id,
                      $relance = false,
                      $id_commande = "")
    {
        if ($this->input->is_ajax_request()) {

            $data =
                $this->session->userdata('order');

            $user =
                $this->m_users->getUserById($user_id)[0];

            $data_admin =
                $this->m_users->getUserById(1);
            $data_admin['admin_info'] =
                $data_admin[0];
            unset($data_admin[0]);

            $userdata =
                $this->m_users->getUserById($user_id)[0];

            $data['user_info'] =
                $user;

            $add =
                $this->input->post();

            $data['commentaire'] =
                "";
            if (isset($add['commentaire'])) {
                $data['commentaire'] =
                    $add['commentaire'];
            }

            $data['express'] =
                $add['express'];
            $data['express_pair'] =
                isset($add['express_pair']) ?
                    $add['express_pair'] :
                    0;
            $data['pair'] =
                (bool)isset($add['pair']) ?
                    $add['pair'] :
                    false;


            if (!isset($data['nb_multi_commande']) ||
                $data['nb_multi_commande'] ==
                "") {
                $data['nb_multi_commande'] =
                    1;
            }

            $errors = 0;

            for ($i = 1; $i <=
                         $data['nb_multi_commande'];
                 $i++) {

                if (isset($data['discount'])) {

                    $pair_order_data =
                        $this->m_commande->getCommandeByIdNew($data['pair_order_id'],
                                                              $data['id_users'],
                                                              $pair =
                                                                  true)[0];

                    $data_corrections =
                        json_decode($data['information_commande'],
                                    true);
                    $pair_order_data_corrections =
                        json_decode($pair_order_data->information_commande,
                                    true);

                    if (isset($data_corrections['verre']['correction_droit'], $data_corrections['verre']['correction_gauche'])) {
                        $verres =
                            2;
                    } else {
                        $verres =
                            1;
                    }

                    if (isset($pair_order_data_corrections['verre']['correction_droit'], $pair_order_data_corrections['verre']['correction_gauche'])) {
                        $pair_verres =
                            2;
                    } else {
                        $pair_verres =
                            1;
                    }


                    $data['total_remise_paire'] =
                        0;
                    $pair_order_data->total_remise_paire =
                        0;

                    if ($data['discount']['on'] ==
                        'order') {
                        $data['total_remise_paire'] =
                            (($data['prix_verre'] /
                              100) *
                             $data['discount']['amount']);
                        $data['prix_verre'] =
                            $data['prix_verre'] -
                            $data['total_remise_paire'];
                        $data['prix_verre'] =
                            round($data['prix_verre'],
                                  2,
                                  PHP_ROUND_HALF_UP);
                    } else {
                        $pair_order_data->total_remise_paire =
                            (($pair_order_data->prix_verre /
                              100) *
                             $data['discount']['amount']);
                        $pair_order_data->prix_verre =
                            $pair_order_data->prix_verre -
                            $pair_order_data->total_remise_paire;
                        $pair_order_data->prix_verre =
                            round($pair_order_data->prix_verre,
                                  2,
                                  PHP_ROUND_HALF_UP);
                    }

                    $data['total_commande'] =
                        $data['prix_verre'] *
                        $verres;
                    $pair_order_data->total_commande =
                        $pair_order_data->prix_verre *
                        $pair_verres;

                    $pair_order_data =
                        (array)$pair_order_data;
                    $pair_order_temp_id =
                        $pair_order_data['id_commande'];

                    unset($pair_order_data['id_commande']);
                    unset($pair_order_data['date_annule']);

                    $pair_order_data['date_commande'] =
                        date('Y-m-d H:i:s');
                    $pair_order_data['date_update_commande'] =
                        date('Y-m-d H:i:s');


                    $pair_order_data['pair'] =
                        false;
                    $pair_order_data['ancienne_commande'] =
                        0;
                    $pair_order_data['express'] =
                        false;


                    if ($data['express_pair'] ==
                        1) {
                        $pair_order_data['express'] =
                            true;
                    }


                    if (
                    $pair_order_id =
                        $this->m_commande->addOrder($pair_order_data)) {

                        if (!isset($pair_order_id['id'])) {
                            echo json_encode(array(
                                                 'status' => 'error',
                                                 'message' => 'pair'
                                             ));
                            exit();
                        } else {
                            $data['premiere_commande'] =
                                $pair_order_id['id'];
                            $data['pair'] =
                                false;
                        }

                        $this->m_commande->delete(array('id_commande' => $pair_order_temp_id),
                                                  true);

                    }


                }

                // FUCK

                if ($order =
                    $this->m_commande->addOrder($data)) {
                    if ($data['pair'] ==
                        true) {
                        $message =
                            json_encode(array(
                                            'status' => 'ok',
                                            'pair' => true,
                                            'order_id' => $order['id']
                                        ));
                    } else {
                        $message =
                            json_encode(array('status' => 'ok'));
                    }

                } else {
                    $errors++;
                }
            }

            if ($errors ==
                0) {
                if ($data['id_generation_verre'] ==
                    '23' ||
                    $data['panierA'] ==
                    '1') {
                    $data['certificat'] =
                        $this->m_commande->getCertificatStock($order['id']);

                    $data['control'] =
                        array(
                            'certificat' => bin2hex(openssl_random_pseudo_bytes(10))
                        );

                    /*$this->db->insert('controle', array(
							'id' => $data['control']['certificat'],
							'control' => count($data['certificat'])
						));
						*/


                    $this->db->insert('controle_test',
                                      array(
                                          'v' => $data['control']['certificat'],
                                          'control' => count($data['certificat'])
                                      ));

                    //$message = json_encode($data);


                    // Génération des PDF
                    $docs =
                        array(
                            'certificat' => $this->config->item('directory_pdf') .
                                            '/' .
                                            $this->pdf('certificat_authenticite',
                                                       $data,
                                                       $order['id'],
                                                       false,
                                                       'paysage',
                                                       $customsize =
                                                           array(
                                                               0,
                                                               0,
                                                               243,
                                                               153
                                                           ))
                        );

                }

                set_cookie('panierA_sans_monture',
                           '0',
                           '1800');
                set_cookie('typecommande',
                           'fab',
                           '1800');
                set_cookie('refPanierA',
                           '',
                           '1800');

                $panierA =
                    get_cookie("panierA");
                if ($panierA ==
                    $data['id_users']) {

                    $this->db->from('commande_montures_temp cm');
                    $this->db->select('m.*, cm.id as id_temp, cm.qty, cm.status, cm.id_client, collec.name as collection, cm.ref_client');
                    $this->db->where('cm.id_client',
                                     $data['id_users']);
                    $this->db->where('cm.avec_verres',
                                     1);
                    $this->db->join('montures m',
                                    'm.id = cm.id_monture',
                                    'left');
                    $this->db->join('montures_collection collec',
                                    'm.id_collection = collec.id',
                                    'left');
                    $query =
                        $this->db->get();
                    if ($query->num_rows() >
                        0) {
                        $data['montures'] =
                            $query->result();

                        //$data['user_info'] = $this->data['user_info'];
                        $data['data_admin']['admin_info'] =
                            $this->m_users->getUserById(1)[0];
                        $userdata =
                            $this->m_users->getUserById($data['id_users'])[0];


                        $total_order =
                            $data['montures'][0]->prix_vente *
                            $data['montures'][0]->qty;
                        $stock_avant =
                            $data['montures'][0]->stock;
                        $this->db->where('id',
                                         $data['montures'][0]->id);
                        $this->db->set('stock',
                                       'stock-' .
                                       $data['montures'][0]->qty,
                                       FALSE);
                        $this->db->update('montures');
                        $stock_apres =
                            $data['montures'][0]->stock -
                            $data['montures'][0]->qty;

                        if (!isset($data['commentaire'])) {
                            $data['commentaire'] =
                                "";
                        }

                        $args =
                            array(
                                'reference_client' => $data['montures'][0]->ref_client,
                                'lens_id' => 0,
                                'lens_generation' => 0,
                                'information_commande' => json_encode($data['montures']),
                                'commentaire' => $data['commentaire'],
                                'id_users' => $data['id_users'],
                                'total_commande' => $total_order,
                                'tarif_livraison' => $userdata->tarif_livraison,
                                'tarif_packaging' => $userdata->tarif_packaging,
                                'commande_monture' => 1
                            );

                        //$message = json_encode($args);

                        if ($this->m_montures->addMonturesOrder($args)) {
                            $this->db->query('DELETE FROM commande_montures_temp WHERE id_client = "' .
                                             $data['id_users'] .
                                             '" AND avec_verres=1');
                            set_cookie('panierA',
                                       '0',
                                       '1800');
                            set_cookie('refPanierA',
                                       '',
                                       '1800');
                        }


                    }


                }
                echo $message;
            } else {
                echo json_encode(array('status' => 'error'));
            }

            $this->session->unset_userdata('order');
        }
    }

    public
    function getIdVerre()
    {

        if ($this->input->is_ajax_request()) {

            $id_verre =
                intval($_POST['id']);

            $query =
                $this->db->query('SELECT libelle_verre FROM verres WHERE id_verre=' .
                                 $id_verre);
            $verre =
                $query->result();

            echo $verre[0]->libelle_verre;
        } else {
            $this->redirect();
        }
    }

    public
    function getSpecificVerre($user_id)
    {
        if ($this->input->is_ajax_request()) {

            $data =
                $this->input->post();

            $this->data['user_info'] =
                $this->m_users->getUserById($user_id)[0];

            $data['id_users'] =
                $user_id;
            $data['user_supplement'] =
                $this->data['user_info']->tarif_supplement;

            $data['id_grille_tarifaire'] =
                $this->m_users->getGrilleTarifaire($user_id);
            $data['verre'] =
                $this->m_verres->getSpecificVerre($data);

            if ($data['verre'] !==
                false) {
                foreach ($data['verre']
                         as
                         $value)
                {

                    if (!empty($value->libelle_verre_personnalise)) {
                        $value->libelle_verre =
                            $this->remplace_personnalisation_verre($value->libelle_verre,
                                                                   $value->libelle_verre_personnalise);
                    }

                }
            }

            $data['restriction'] =
                $this->data['user_info']->restriction_compte ==
                1 ? 1 : 0;

            echo $this->load->view('ajax_verre',
                                   $data);
        } else {
            $this->redirect();
        }
    }

    public
    function ajax_type_verre($id_magasin,
                             $pair_type = false)
    {
        if ($this->input->is_ajax_request()) {
            $data['user_id'] =
                $this->input->post('user_id');
            $data['type_generation_verre'] =
                $this->m_type_generation_verre->getTypeGenerationVerre($id_magasin,
                                                                       $pair_type);
            $this->load->view('ajax_type_verre',
                              $data);
        } else {
            echo "redirect";
        }
    }

    public
    function getGenerationVerre($user_id)
    {


        if ($this->input->is_ajax_request()) {

            $panierA =
                get_cookie("panierA");

            $panierA_sans_monture =
                get_cookie("panierA_sans_monture");
            if ($panierA_sans_monture ==
                '1') {
                $panierA =
                    $user_id;
            }

            if ($panierA ==
                $user_id) {
                if ($this->input->post('id_type_generation_verre') ==
                    "1") {
                    if ((
                        $data['generation_verre'] =
                            $this->m_generation_verre->getGenerationVerre("27",
                                                                          $user_id,
                                                                          true,
                                                                          false)) !==
                        false) {
                        echo $this->load->view('ajax_type_generation_verre',
                                               $data);
                    }
                }
                if ($this->input->post('id_type_generation_verre') ==
                    "2") {
                    if ((
                        $data['generation_verre'] =
                            $this->m_generation_verre->getGenerationVerre("26",
                                                                          $user_id,
                                                                          true,
                                                                          false)) !==
                        false) {
                        echo $this->load->view('ajax_type_generation_verre',
                                               $data);
                    }
                }
                if ($this->input->post('id_type_generation_verre') ==
                    "3") {
                    if ((
                        $data['generation_verre'] =
                            $this->m_generation_verre->getGenerationVerre("25",
                                                                          $user_id,
                                                                          true,
                                                                          false)) !==
                        false) {
                        echo $this->load->view('ajax_type_generation_verre',
                                               $data);
                    }
                }
                if ($this->input->post('id_type_generation_verre') ==
                    "4") {
                    if ((
                        $data['generation_verre'] =
                            $this->m_generation_verre->getGenerationVerre("24",
                                                                          $user_id,
                                                                          true,
                                                                          false)) !==
                        false) {
                        echo $this->load->view('ajax_type_generation_verre',
                                               $data);
                    }
                }
            } else {

                if ((
                    $data['generation_verre'] =
                        $this->m_generation_verre->getGenerationVerre($this->input->post('id_type_generation_verre'),
                                                                      $user_id,
                                                                      true,
                                                                      false)) !==
                    false) {
                    echo $this->load->view('ajax_type_generation_verre',
                                           $data);
                }
            }
        } else {
            $this->redirect();
        }
    }

    public
    function checkVerreStock($user_id)
    {

        if ($this->input->is_ajax_request()) {

            $this->data['user_info'] =
                $this->m_users->getUserById($user_id)[0];

            $CheckVerreStock =
                array();
            $data =
                $this->input->post();

            $panierA =
                get_cookie("panierA");

            $panierA_sans_monture =
                get_cookie("panierA_sans_monture");

            if ($panierA_sans_monture ==
                '1') {
                $verres =
                    $this->m_verres->getVerreASM($data);
            } elseif ($panierA ==
                      $user_id) {
                $verres =
                    $this->m_verres->getVerreA($data);
            } else {
                $verres =
                    $this->m_verres->getVerre($data);
            }

            if ($verres !==
                false) {
                foreach ($verres
                         as
                         $key
                => $verre) {


                    if ($verre->id_generation_verre ==
                        21) {

                        if (strpos($verre->libelle_verre,
                                   $data['teinte']) ===
                            false) {
                            continue;
                        }
                    } else {

                        /*if(strpos($verre->libelle_verre, "Defender") !== false) {
                        continue;
                    }*/

                        $isPhotocromie =
                        $miroir =
                        $polarise =
                            false;

                        if ($data['photocromie'] !=
                            "undefined" &&
                            $data['photocromie'] !=
                            "Non Photocromique") {
                            $isPhotocromie =
                                true;

                            if (strpos($verre->libelle_verre,
                                       $data['photocromie']) ===
                                false) {
                                continue;
                            }

                        } else {
                            if (strpos($verre->libelle_verre,
                                       "PhotoGrey") !==
                                false ||
                                strpos($verre->libelle_verre,
                                       "PhotoBrown") !==
                                false) {
                                continue;
                            }
                        }

                        if ($data['miroir'] !=
                            "undefined" &&
                            $data['miroir'] >
                            0) {
                            $miroir =
                                true;
                            if (strpos($verre->libelle_verre,
                                       "miroir") ===
                                false) {
                                continue;
                            } else {

                                $options_miroir =
                                    array(
                                        1 => 'Miroir Bleu',
                                        2 => 'Miroir Argent',
                                        3 => 'Miroir Doré',
                                        4 => 'Miroir Vert',
                                        5 => 'Miroir Rouge',
                                        6 => 'Miroir Orange',
                                        7 => 'Miroir Rose',
                                        8 => 'Miroir Violet',
                                        9 => 'Miroir Jaune',
                                        10 => 'Miroir Flash'
                                    );

                                $verre->libelle_verre =
                                    str_replace("miroir",
                                                $options_miroir[$data['miroir']],
                                                $verre->libelle_verre);
                            }
                        }


                        if ($verre->id_generation_verre !=
                            17) {

                            if ($data['polarise'] !=
                                "undefined" &&
                                $data['polarise'] !=
                                "Non polarisé") {

                                $polarise =
                                    true;
                                if (strpos($verre->libelle_verre,
                                           "polarisé") ===
                                    false) {
                                    continue;
                                } else {
                                    $verre->libelle_verre =
                                        str_replace("polarisé",
                                                    $data['polarise'],
                                                    $verre->libelle_verre);
                                }
                            }

                        } else {

                            $polarise =
                                true;

                            if (strpos($verre->libelle_verre,
                                       $data['teinte']) ===
                                false) {
                                continue;
                            }

                            if (strpos($verre->libelle_verre,
                                       $data['polarise']) ===
                                false) {
                                continue;
                            }

                        }


                        if (!$miroir &&
                            !$polarise) {
                            if (!$isPhotocromie &&
                                $data['teinte'] !=
                                "undefined" &&
                                $data['teinte'] !=
                                "Non Teinté") {
                                if (strpos($verre->libelle_verre,
                                           $data['teinte']) ===
                                    false) {
                                    continue;
                                }
                            } else {
                                if (!$isPhotocromie &&
                                    (strpos($verre->libelle_verre,
                                            "G15 C") !==
                                     false ||
                                     strpos($verre->libelle_verre,
                                            "Brun C") !==
                                     false ||
                                     strpos($verre->libelle_verre,
                                            "Gris C") !==
                                     false)) {
                                    continue;
                                }
                            }

                            if (strpos($verre->libelle_verre,
                                       $data['traitement']) ===
                                false) {
                                continue;
                            }
                        }

                    }


                    $CheckVerreStock[$verre->id_verre]['intitule'] =
                        $verre->libelle_verre;
                    $CheckVerreStock[$verre->id_verre]['prix'] =
                        $verre->prix_verre;

                }
            }


            // Bluecoat / Defender

            if (count($CheckVerreStock) >
                1) {
                foreach ($CheckVerreStock
                         as
                         $id_verre
                => $v) {
                    if (strpos($v['intitule'],
                               "BlueCoat") !==
                        false) {
                        if (strpos($v['intitule'],
                                   $data['traitement']) !==
                            false) {
                            $prix_verre =
                                $this->m_verres->getPrixVerre($id_verre,
                                                              $this->data['user_info']->id_grille_tarifaire,
                                                              $user_id);
                            echo json_encode(array(
                                                 'intutile' => $v['intitule'] .
                                                               " diamètre " .
                                                               $data['diametre'] .
                                                               " (" .
                                                               ($prix_verre[0]->prix_verre) .
                                                               " €)",
                                                 'id_verre' => $id_verre
                                             ));
                            exit;
                        }
                    }
                }
            }


            if (count($CheckVerreStock) ==
                1) {
                foreach ($CheckVerreStock
                         as
                         $id_verre
                => $v) {
                    $prix_verre =
                        $this->m_verres->getPrixVerre($id_verre,
                                                      $this->data['user_info']->id_grille_tarifaire,
                                                      $user_id);
                    echo json_encode(array(
                                         'intutile' => $v['intitule'] .
                                                       " diamètre " .
                                                       $data['diametre'] .
                                                       " (" .
                                                       ($prix_verre[0]->prix_verre) .
                                                       " €)",
                                         'id_verre' => $id_verre
                                     ));
                }
            } else {
                echo json_encode(array(
                                     'intutile' => 'Aucun verre ne correspond à votre recherche',
                                     'id_verre' => ''
                                 ));
            }
        } else {
            echo json_encode(array('disconnect' => true));
        }
    }

    public
    function ECCreditCheck($user_id)
    {

        $this->load->model('m_users');

        if ($this->input->is_ajax_request()) {

            $total_commandes =
                $this->m_commande->getTotalCommandeByYear($user_id);
            $total_commandes_ec =
                $this->m_commande->getTotalECCommandeByYear($user_id);
            $taux =
                $this->m_users->getUserById($user_id);

            $credit =
                number_format(($total_commandes[0]->total *
                               ($taux[0]->taux_erreur /
                                100)) -
                              $total_commandes_ec[0]->total,
                              2,
                              '.',
                              ' ');

            die($credit);

        } else {
            $this->redirect();
        }

    }

    public
    function getUserOrders($user_id,
                           $date = null)
    {

        $select = '';

        $commandes =
            $this->m_commande->getAllCommandeByUser($user_id,
                                                    $date);

        if (is_array($commandes)) {
            foreach ($commandes
                     as $c) {
                $date =
                    strtotime($c->date_commande);
                $select .= '<option value="' .
                           $c->id_commande .
                           '">' .
                           $c->id_commande .
                           ' - ' .
                           $c->reference_client .
                           ' - ' .
                           $c->libelle_verre .
                           ' - Commandé le ' .
                           date('d/m/Y',
                                $date) .
                           '</option>' .
                           "\n";
            }
        }


        return $select;

    }

    public
    function user_commandes_ajax($user_id = null)
    {
        if ($this->input->is_ajax_request()) {
            $data =
            $dataOrder =
                array();
            $data['aaData'] =
                array();

            $dataOrder['id_users'] =
                $user_id;
            $dataOrder['tri'] =
                isset($_GET['tri']) ?
                    $_GET['tri'] :
                    "";


            $dataOrder['type_commande'] =
                '1';


            $data_commande =
                $this->m_commande->getCommandeByUser($dataOrder);


            if ($data_commande !==
                false) {
                foreach ($data_commande
                         as
                         $key
                => $commande)
                {


                    switch ($commande->type_commande) {

                        case 1:
                            $prix_commande =
                                $commande->total_commande .
                                ' €';
                            break;

                        case 2:
                            $prix_commande =
                                '<del>' .
                                $commande->total_commande .
                                '</del> 0 €<br />Casse atelier';
                            break;

                        case 3:
                            $prix_commande =
                                '<del>' .
                                $commande->total_commande .
                                '</del> 0 €<br />Erreur ophta';
                            break;

                    }


                    if ($commande->id_type_generation_verre !=
                        5) {
                        $etat_commande =
                            $commande->libelle_etat_commande .
                            ($commande->id_etat_commande ==
                             6 ?
                                ' le ' .
                                date('d/m/Y H:i',
                                     strtotime($commande->date_update_commande)) :
                                '') .
                            ' (' .
                            $commande->id_etat_commande .
                            '/6)';
                    } else {
                        $etat_commande =
                            $commande->id_etat_commande ==
                            1 ?
                                "En cours de préparation (" .
                                $commande->id_etat_commande .
                                "/2)" :
                                $commande->libelle_etat_commande .
                                ' le ' .
                                date('d/m/Y H:i',
                                     strtotime($commande->date_update_commande)) .
                                ' (2/2)';
                    }


                    $data['aaData'][$key] =
                        array(
                            '<a class="commande-info btn btn-icon waves-effect waves-light ' .
                            (!empty($commande->commentaire) ?
                                'btn-warning tooltipster' :
                                'btn-inverse') .
                            '" data-toggle="modal" data-target="#detail-commande" rel="' .
                            $commande->id_commande .
                            '" ' .
                            (!empty($commande->commentaire) ?
                                'original-title="' .
                                htmlentities($commande->commentaire) .
                                '" title="' .
                                htmlentities($commande->commentaire) .
                                '"' :
                                '') .
                            ' ><i class="zmdi zmdi-' .
                            (!empty($commande->commentaire) ?
                                'comment' :
                                'search') .
                            '"></i> Voir</a>',
                            date('d/m/Y H:i:s',
                                 strtotime($commande->date_commande)),
                            'CR' .
                            $commande->id_commande .
                            '-' .
                            $user_id,
                            'CR' .
                            $commande->ancienne_commande .
                            '-' .
                            $user_id,
                            $prix_commande,
                            $commande->intitule_bl,
                            $commande->reference_client,
                            $commande->generation_verre,
                            '<a href="/admin/generer_pdf/bon_livraison/' .
                            $commande->id_commande .
                            '" class="tooltip" original-title="Télécharger le PDF" data-gravity="s" data-anim="true"><img src="/static/img/icons/packs/fugue/16x16/shadeless/inbox-download.png" alt="Télécharger" /></a>',
                            $etat_commande
                        );
                }
            }

            die(json_encode($data));
        } else {
            $this->redirect();
        }
    }

    public
    function send_mail_customer()
    {
        if ($this->input->is_ajax_request()) {
            if (count($_POST['user_mail']) >
                0) {
                $sujet_txt =
                    $_POST['sujet_mail'];

                $mess_html =
                    '<html><body>';
                $mess_html .= nl2br($_POST['area_mail']);
                $mess_html .= '<br/><br/><br/>';
                $mess_html .= '<img src="http://www.optieyescommande.com/static/img/logo.png" alt="optieyes commande" width="227" height="72"/>';
                $mess_html .= '</body></html>';
                $piece_jointe =
                    !empty($_POST['piece_jointe_mail']) ?
                        $this->config->item('directory_upload') .
                        "/mail/" .
                        $_POST['piece_jointe_mail'] :
                        "";
                $data =
                    array();

                foreach ($_POST['user_mail']
                         as
                         $email)
                {
                    if ($email !=
                        "") {
                        $data['email'] =
                            $email;
                        $this->mail($data,
                                    $mess_html,
                                    true,
                                    $sujet_txt,
                                    $piece_jointe);
                    }
                }

                if (!empty($piece_jointe)) {
                    if (file_exists($piece_jointe)) {
                        unlink($piece_jointe);
                    }
                }
            }
        }
    }

    public
    function getUserMail()
    {

        $users =
            $this->m_users->getUserMail();
        $data = '';

        if ($users !==
            false) {
            foreach ($users as
                     $key =>
                     $value) {
                $data .= '<option value="' .
                         $value->email .
                         '">Magasin ' .
                         $value->id_users .
                         '</option>';
            }
        }

        if ($this->input->is_ajax_request()) {
            echo $data;
        } else {
            return $data;
        }
    }

    public
    function autocomplete()
    {
        if ($this->input->is_ajax_request()) {
            sleep(1);

            if (empty($_GET['term'])) {
                exit;
            }
            $q =
                strtolower($_GET["term"]);

            if (get_magic_quotes_gpc()) {
                $q =
                    stripslashes($q);
            }

            header('Cache-Control: no-cache, must-revalidate');
            header('Expires: Mon, 26 Jul 1997 05:00:00 GMT');
            header('Content-type: application/json');

            $items =
                $this->m_verres->getVerre();

            $result = array();
            foreach ($items as
                     $key =>
                     $value) {
                if (strpos(strtolower($value->libelle_verre),
                           $q) !==
                    false) {
                    array_push($result,
                               array(
                                   "id" => $value->id_verre,
                                   "label" => $value->libelle_verre,
                                   "value" => strip_tags($value->libelle_verre)
                               ));
                }
                if (count($result) >
                    11) {
                    break;
                }
            }

            echo json_encode($result);
        }
    }

    public
    function correction_stock()
    {
        $dataVerre['id_generation_verre'] =
            '9,12,13,14,15,16,17,19,20,21,23';

        $data['page'] =
        $data['title'] =
            "Grille de stock";
        $data['verres'] =
            $this->m_verres->getVerre($dataVerre);
        $this->load->view('admin/correction_stock',
                          $data);
    }

    public
    function send_bill()
    {
        if ($this->input->is_ajax_request() ||
            $this->session->userdata('is_admin') ===
            true) {
            $post =
                $this->input->post();
            $facture_client =
                $this->m_commande->getAllCommandeByMonthAndUser($post['mois'] .
                                                                "-" .
                                                                $post['annee']);

            if ($facture_client !==
                false) {
                $generate_pdf =
                    true;
                $data =
                    array();

                $month =
                    array(
                        '01' => 'Janvier',
                        '02' => 'Février',
                        '03' => 'Mars',
                        '04' => 'Avril',
                        '05' => 'Mai',
                        '06' => 'Juin',
                        '07' => 'Juillet',
                        '08' => 'Août',
                        '09' => 'Septembre',
                        '10' => 'Octobre',
                        '11' => 'Novembre',
                        '12' => 'Décembre'
                    );


                foreach ($facture_client
                         as
                         $key
                =>
                         $facture_cli)
                {
                    $piece_jointe =
                        $this->generer_pdf_facture('facture',
                                                   $post['annee'] .
                                                   "-" .
                                                   $post['mois'],
                                                   $facture_cli->id_users,
                                                   false);
                    $piece_jointe =
                        $this->config->item('directory_pdf') .
                        "/" .
                        $piece_jointe;
                    $user =
                        $this->m_users->getUserById($facture_cli->id_users);
                    $data['email'] =
                        $user[0]->email;
                    $mess_txt =
                        "<html><head></head><body>Madame, Monsieur <br><br> Vous trouverez en pièce jointe de ce mail votre facture du mois de " .
                        $month[$post['mois']] .
                        " " .
                        $post['annee'] .
                        ".<br> Le montant de cette facture sera prélevé sur votre compte professionnel le " .
                        $post['date_bill'] .
                        ". <br><br> N'hésitez pas à nous contacter si besoin. <br><br>L'équipe optimize.</body></html>";
                    $subjet_txt =
                        "Facture Optieyes " .
                        $month[$post['mois']] .
                        " " .
                        $post['annee'];
                    $this->mail($data,
                                $mess_txt,
                                true,
                                $subjet_txt,
                                $piece_jointe);

                    if (file_exists($piece_jointe)) {
                        unlink($piece_jointe);
                    }
                }
            }
        }
    }

    public
    function MiseEnPlaceCorrection()
    {
        if ($this->input->is_ajax_request()) {
            $post =
                $this->input->post();
            $grille_stock =
                $this->m_grille_stock->getGrille($post);

            if ($grille_stock !==
                false) {
                $grille =
                    json_decode($grille_stock[0]->grille_stock,
                                true);

                if ($post['statut'] ==
                    "ajout") {
                    if (isset($grille[$post['sphere']]) &&
                        is_array($grille[$post['sphere']])) {
                        array_push($grille[$post['sphere']],
                                   $post['cylindre']);
                    } else {
                        $grille[(string)$post['sphere']] =
                            array($post['cylindre']);
                    }

                    uksort($grille,
                        function ($a,
                                  $b) {
                            if ((float)$a ==
                                (float)$b) {
                                return 0;
                            }

                            return (float)$a <
                                   (float)$b ?
                                1 :
                                -1;
                        });

                    usort($grille[(string)$post['sphere']],
                        function ($a,
                                  $b) {

                            if ((float)$a ==
                                (float)$b) {
                                return 0;
                            }

                            return (float)$a >
                                   (float)$b ?
                                1 :
                                -1;
                        });

                } elseif ($post['statut'] ==
                          "supprimer") {
                    if (isset($grille[$post['sphere']]) &&
                        (
                        $key =
                            array_search($post['cylindre'],
                                         $grille[$post['sphere']])) !==
                        false) {
                        unset($grille[$post['sphere']][$key]);
                    }

                    if (isset($grille[$post['sphere']]) &&
                        count($grille[$post['sphere']]) ==
                        0) {
                        unset($grille[$post['sphere']]);
                    }
                }
            } else {
                $grille =
                    array();

                $grille[(string)$post['sphere']] =
                    array($post['cylindre']);
            }

            if (count($grille) !=
                0) {
                $post['grille_stock'] =
                    json_encode($grille);

                $this->m_grille_stock->addGrilleStock($post);
            } else {
                $this->m_grille_stock->DeleteGrilleStock($post);
            }
        }
    }

    public
    function setGrilleCorrection()
    {
        if ($this->input->is_ajax_request()) {
            $post =
                $this->input->post();
            $grille_stock =
                $this->m_grille_stock->getGrille($post);

            $data = array();

            if ($grille_stock !==
                false) {
                $data['grille_stock'] =
                    json_decode($grille_stock[0]->grille_stock,
                                true);
            }

            echo $this->load->view('admin/ajax_correction_stock',
                                   $data);
        }
    }

    public
    function getInfoUser($idUser)
    {

        $regions =
            $this->config->item('regions');

        if ($this->input->is_ajax_request() &&
            isset($idUser) &&
            is_numeric($idUser) &&
            $idUser > 0) {

            $data['info_user'] =
                $this->m_users->getUserById($idUser);

            $dep =
                substr($data['info_user'][0]->cp,
                       0, -3);
            $data['region'] =
                isset($regions[$dep]) ?
                    $regions[$dep] :
                    'Région Inconnue';

            $this->load->view('admin/layout/client-info',
                              $data);
        }

    }

    public
    function updatePrixVerre()
    {
        if ($this->input->is_ajax_request()) {
            $this->m_grille_tarifaire->updatePrixVerre($this->input->post());
        }
    }

    public
    function updatePrixLentille()
    {
        if ($this->input->is_ajax_request()) {

            $data =
                $this->input->post();

            $params = array(
                'lens_id' => $data['id_lentille'],
                'grid_id' => $data['id_grille_tarifaire'],
                'price' => $data['prix_lentille'],
            );

            $this->m_grille_tarifaire->updatePrixLentille($params);

        }
    }

    public
    function updatePrixMontures()
    {
        if ($this->input->is_ajax_request()) {

            $data =
                $this->input->post();

            $params = array(
                'montures_id' => $data['id_montures'],
                'grid_id' => $data['id_grille_tarifaire'],
                'price' => $data['prix_montures'],
            );

            $this->m_grille_tarifaire->updatePrixMontures($params);

        }
    }

    public
    function new_pass()
    {
        if ($this->input->is_ajax_request()) {
            echo json_encode(array('new_pass' => $this->CarAleatoire(8)));
        }
    }

    public
    function profile()
    {
        $data =
            $this->session->userdata('data_user');
        $data['newUser'] =
            $this->session->userdata('newUser');
        $data['page'] =
        $data['title'] =
            "Profile";
        $this->load->view('admin/profile',
                          $data);
    }

    public
    function stats()
    {
        $data['page'] =
            "Statistique";
        $this->load->view('admin/stats',
                          $data);
    }

    public
    function error_404()
    {
        $data['page'] =
            "Erreur";
        $this->load->view('404',
                          $data);
    }

    public
    function maj_tarif_fabrication()
    {
        $this->data['page'] =
        $this->data['title'] =
            "Mise à jour grille fabrication";
        $this->load->view('admin/maj_tarif_fabrication',
                          $this->data);
    }

    public
    function do_upload()
    {
        $this->data['page'] =
            "Mise à jour grille fabrication";

        $config['upload_path'] =
            'static/download/';
        $config['allowed_types'] =
            'pdf';
        $config['max_size'] =
            '1000000';
        $config['file_name'] =
            'plaquette_optimize' .
            $this->input->post('grille');
        $config['overwrite'] =
            true;

        $this->upload->initialize($config);

        if (!$this->upload->do_upload('new_file')) {
            $this->data['error'] =
                $this->upload->display_errors();
        } else {
            $this->data['upload_data'] =
                $this->upload->data();
        }

        $this->load->view('admin/maj_tarif_fabrication',
                          $this->data);
    }

    public
    function variations_facture_clients()
    {
        $result =
            $this->m_users->getMaxUser();

        $this->data['maxUser'] =
            $result[0]->maxUser;
        $this->data['page'] =
        $this->data['title'] =
            "Variation Facture Client";
        $this->data['modules'] =
            array(
                'datepicker' => true,
                'sweetalert' => true
            );

        //$this->data['test'] = $this->m_commande->getAllCommandeByYearAndUser(array('annee' => 2016, 'numero_magasin' => null));
        $this->load->view('admin/variations_facture_clients',
                          $this->data);
    }

    public
    function variations_facture_clients_ajax()
    {
        $tab['annee'] =
            $this->input->post('annee');
        $tab['numero_magasin'] =
            $this->input->post('numero_magasin');

        $data =
            $this->m_commande->getAllCommandeByYearAndUser($tab);

        $lignZero = array(
            1 => 0, 2 => 0,
            3 => 0, 4 => 0,
            5 => 0, 6 => 0,
            7 => 0, 8 => 0,
            9 => 0, 10 => 0,
            11 => 0, 12 => 0
        );
        $last_user =
        $current_user =
        $current_nom_soc =
        $current_nom_mag =
        $table = "";

        $table =
            "<thead><tr>";

        if (!$this->input->post('client_set')) {
            $table .= "<th></th><th></th><th>Nom Société</th><th>Nom Magasin</th>";
        }

        for ($i = 1; $i <= 12;
             $i++) {
            $table .= "<th>" .
                      ($i < 10 ?
                          '0' :
                          '') . $i .
                      "/" .
                      $tab['annee'] .
                      "</th>";
        }

        $table .= "</tr></thead><tbody>";

        if ($data !== false) {
            $fl = 0;

            foreach ($data as
                     $users) {


                $cl =
                    isset($users->deleted) &&
                    $users->deleted ==
                    1 ?
                        ' class="deleted"' :
                        '';

                if ($fl > 0) {
                    if ($current_user !=
                        $users->id_users) {


                        $table .= '<tr' .
                                  $cl .
                                  '>';

                        if (!$this->input->post('client_set')) {
                            $table .= '<td><a class="btn btn-warning get-userinfo" data-toggle="modal" data-target="#user-modal" data-user="' .
                                      $current_user .
                                      '"><i class="zmdi zmdi-search"></i> Voir</a></td><td>' .
                                      $current_user .
                                      '</td><td>' .
                                      $current_nom_soc .
                                      '</td><td>' .
                                      $current_nom_mag .
                                      '</td>';
                        }

                        $val_precedent =
                            "";
                        //var_dump($lignZero);die;
                        foreach ($lignZero
                                 as
                                 $key
                        => $l)
                        {
                            $color =
                                "";
                            if ($val_precedent !=
                                "" &&
                                $l !=
                                0) {
                                if ($l >
                                    $val_precedent) {
                                    $color =
                                        "#e96154";
                                } else {
                                    $color =
                                        "#64b5f6";
                                }
                            }
                            $table .= '<td ' .
                                      ($color !=
                                       "" ?
                                          'style="color:' .
                                          $color .
                                          '"' :
                                          '') .
                                      '>' .
                                      $l .
                                      ($l !=
                                       0 ?
                                          ' HT' :
                                          '') .
                                      '</td>';

                            $val_precedent =
                                $l;
                        }
                        $table .= "</tr>";

                        foreach ($lignZero
                                 as
                                 $key
                        => $l)
                        {
                            $lignZero[$key] =
                                0;
                        }
                    }
                }

                $lignZero[$users->mois] =
                    '<b>' .
                    $users->total .
                    ' HT</b><br />(' .
                    (($users->total_stock +
                      $users->total_fabrique) >
                     0 ?
                        ($users->total_stock +
                         $users->total_fabrique) :
                        '0.00') .
                    ' Verres)<br />(' .
                    ($users->total_lentilles >
                     0 ?
                        $users->total_lentilles :
                        '0.00') .
                    ' Lentilles)<br />(' .
                    ($users->total_montures >
                     0 ?
                        $users->total_montures :
                        '0.00') .
                    ' Montures)';

                $current_user =
                    $users->id_users;
                $current_nom_soc =
                    $users->nom_societe;
                $current_nom_mag =
                    $users->nom_magasin;

                ++$fl;
            }

            if ($tab['numero_magasin'] !=
                "") {

                $table .= '<tr' .
                          $cl . '>';

                if (!$this->input->post('client_set')) {
                    $table .= '<td><a class="btn btn-warning get-userinfo" data-toggle="modal" data-target="#user-modal" data-user="' .
                              $current_user .
                              '"><i class="zmdi zmdi-search"></i> Voir</a></td><td>' .
                              $current_user .
                              '</td><td>' .
                              $current_nom_soc .
                              '</td><td>' .
                              $current_nom_mag .
                              '</td>';
                }

                $val_precedent =
                    "";
                foreach ($lignZero
                         as
                         $key
                => $l) {
                    $color =
                        "";
                    if ($val_precedent !=
                        "" &&
                        $l !=
                        0) {
                        if ($l >
                            $val_precedent) {
                            $color =
                                "#e96154";
                        } else {
                            $color =
                                "#64b5f6";
                        }
                    }
                    $table .= '<td ' .
                              ($color !=
                               "" ?
                                  'style="color:' .
                                  $color .
                                  '"' :
                                  '') .
                              '>' .
                              $l .
                              '</td>';

                    $val_precedent =
                        $l;
                }
                $table .= "</tr>";
            }
            else {
                $table .= '<tr' .
                          $cl .
                          '>';

                if (!$this->input->post('client_set')) {
                    $table .= '<td><a class="btn btn-warning get-userinfo" data-toggle="modal" data-target="#user-modal" data-user="' .
                              $current_user .
                              '"><i class="zmdi zmdi-search"></i> Voir</a></td><td>' .
                              $current_user .
                              '</td><td>' .
                              $current_nom_soc .
                              '</td><td>' .
                              $current_nom_mag .
                              '</td>';
                }
                $val_precedent =
                    "";
                //var_dump($lignZero);die;
                foreach ($lignZero
                         as
                         $key
                => $l)
                {
                    $color =
                        "";
                    if ($val_precedent !=
                        "" &&
                        $l !=
                        0) {
                        if ($l >
                            $val_precedent) {
                            $color =
                                "#e96154";
                        } else {
                            $color =
                                "#64b5f6";
                        }
                    }
                    $table .= '<td ' .
                              ($color !=
                               "" ?
                                  'style="color:' .
                                  $color .
                                  '"' :
                                  '') .
                              '>' .
                              $l .
                              ($l !=
                               0 ?
                                  ' HT' :
                                  '') .
                              '</td>';

                    $val_precedent =
                        $l;
                }
                $table .= "</tr>";
            }
        }

        $table .= "</tbody>";
        echo $table;
    }

    public
    function ajout_verre()
    {
        $this->data['page'] =
            "Ajout Verre";

        if ($this->input->post()) {
            $id_verre =
                $this->m_verres->addVerre($this->input->post());

            for (
                $id_grille_tarifaire =
                    1;
                $id_grille_tarifaire <=
                3;
                $id_grille_tarifaire++)
            {
                $this->m_grille_tarifaire->addGrille($id_grille_tarifaire,
                                                     $id_verre);
            }
        }

        $this->load->view('admin/ajout_verre',
                          $this->data);
    }

    public
    function desactive_verre()
    {
        $this->m_verres->desactive_verre($this->input->post());
    }


    public
    function ajouterNouveauVerre()
    {


        $listeVerre = array(
            'E-Space 1,67 Orange A dégradé durci',
            'E-Space 1,67 Orange A dégradé HMC Face interne',
            'E-Space 1,67 Orange A dégradé HMC  ',
            'E-Space 1,67 Orange A dégradé Satin',
            'E-Space 1,67 Orange A dégradé Satin UV',
            'E-Space 1,67 Orange A dégradé BlueCoat',
            'E-Space 1,67 Orange AB dégradé durci',
            'E-Space 1,67 Orange AB dégradé HMC Face interne',
            'E-Space 1,67 Orange AB dégradé HMC  ',
            'E-Space 1,67 Orange AB dégradé Satin',
            'E-Space 1,67 Orange AB dégradé Satin UV',
            'E-Space 1,67 Orange AB dégradé BlueCoat',
            'E-Space 1,67 Orange B dégradé durci',
            'E-Space 1,67 Orange B dégradé HMC Face interne',
            'E-Space 1,67 Orange B dégradé HMC  ',
            'E-Space 1,67 Orange B dégradé Satin',
            'E-Space 1,67 Orange B dégradé Satin UV',
            'E-Space 1,67 Orange B dégradé BlueCoat',
            'E-Space 1,67 Orange C dégradé durci',
            'E-Space 1,67 Orange C dégradé HMC Face interne',
            'E-Space 1,67 Orange C dégradé HMC  ',
            'E-Space 1,67 Orange C dégradé Satin',
            'E-Space 1,67 Orange C dégradé Satin UV',
            'E-Space 1,67 Orange C dégradé BlueCoat',
            'E-Space 1,67 Orange D dégradé durci',
            'E-Space 1,67 Orange D dégradé HMC Face interne',
            'E-Space 1,67 Orange D dégradé HMC  ',
            'E-Space 1,67 Orange D dégradé Satin',
            'E-Space 1,67 Orange D dégradé Satin UV',
            'E-Space 1,67 Orange D dégradé BlueCoat',
            'E-Space 1,67 Jaune A dégradé durci',
            'E-Space 1,67 Jaune A dégradé HMC Face interne',
            'E-Space 1,67 Jaune A dégradé HMC  ',
            'E-Space 1,67 Jaune A dégradé Satin',
            'E-Space 1,67 Jaune A dégradé Satin UV',
            'E-Space 1,67 Jaune A dégradé BlueCoat',
            'E-Space 1,67 Jaune AB dégradé durci',
            'E-Space 1,67 Jaune AB dégradé HMC Face interne',
            'E-Space 1,67 Jaune AB dégradé HMC  ',
            'E-Space 1,67 Jaune AB dégradé Satin',
            'E-Space 1,67 Jaune AB dégradé Satin UV',
            'E-Space 1,67 Jaune AB dégradé BlueCoat',
            'E-Space 1,67 Jaune B dégradé durci',
            'E-Space 1,67 Jaune B dégradé HMC Face interne',
            'E-Space 1,67 Jaune B dégradé HMC  ',
            'E-Space 1,67 Jaune B dégradé Satin',
            'E-Space 1,67 Jaune B dégradé Satin UV',
            'E-Space 1,67 Jaune B dégradé BlueCoat',
            'E-Space 1,67 Jaune C dégradé durci',
            'E-Space 1,67 Jaune C dégradé HMC Face interne',
            'E-Space 1,67 Jaune C dégradé HMC  ',
            'E-Space 1,67 Jaune C dégradé Satin',
            'E-Space 1,67 Jaune C dégradé Satin UV',
            'E-Space 1,67 Jaune C dégradé BlueCoat',
            'E-Space 1,67 Jaune D dégradé durci',
            'E-Space 1,67 Jaune D dégradé HMC Face interne',
            'E-Space 1,67 Jaune D dégradé HMC  ',
            'E-Space 1,67 Jaune D dégradé Satin',
            'E-Space 1,67 Jaune D dégradé Satin UV',
            'E-Space 1,67 Jaune D dégradé BlueCoat'
        );

        $data = array();
        $data['id_generation_verre'] =
            4;
        $data['id_indice_verre'] =
            5;

        foreach ($listeVerre
                 as $verre) {
            $data['libelle_verre'] =
                $verre;

            //$this->m_verres->addVerre($data);
        }
    }


    public
    function ordreVerre()
    {

        $traitementOrdre =
            array(
                'Durci',
                'HMC Face interne',
                'HMC',
                'Satin',
                'Satin UV',
                'BlueCoat'
            );

        $jeSaisPasOrdre =
            array(
                'Transition',
                'Xtractive',
                'Polarisé',
                'Drivewear'
            );

        $transitionOrdre =
            array(
                'Transition gris',
                'Transition brun'
            );

        $nupolarOrdre = array(
            'Polarisé Gris',
            'Polarisé Brun',
            'Polarisé G15'
        );

        $teinteOrdre = array(
            'Gris', 'Brun',
            'G15', 'Black',
            'Bleu', 'Violet',
            'Rose', 'Orange',
            'Jaune'
        );

        $puissanceTeinteOrdre =
            array(
                'A', 'AB',
                'B', 'C', 'D'
            );


        $dataVerre['id_generation_verre'] =
            1;
        $dataVerre['id_indice_verre'] =
            1;
        $dataVerre['prixVerre'] =
            false;

        $verres =
            $this->m_verres->getVerre($dataVerre);

        $ordre = 1;
        $data = array();
        $tab = array();
        if ($verres !==
            false) {
            $current_libelle =
                "";
            foreach ($verres
                     as $key
            => $verre) {
                $jeRentre =
                    false;

                if ($current_libelle !=
                    $verre->libelle_verre) {
                    $current_libelle =
                        $verre->libelle_verre;

                    foreach ($jeSaisPasOrdre
                             as
                             $jsp)
                    {
                        if (stripos($verre->libelle_verre,
                                    $jsp) !==
                            false) {
                            $jeRentre =
                                true;
                            break;
                        }
                    }

                    foreach ($transitionOrdre
                             as
                             $transition)
                    {
                        if (strpos($verre->libelle_verre,
                                   $transition) !==
                            false) {
                            $jeRentre =
                                true;
                            break;
                        }
                    }

                    foreach ($nupolarOrdre
                             as
                             $nupolar)
                    {
                        if (stripos($verre->libelle_verre,
                                    $nupolar) !==
                            false) {
                            $jeRentre =
                                true;
                            break;
                        }
                    }

                    foreach ($teinteOrdre
                             as
                             $teinte)
                    {
                        if (stripos($verre->libelle_verre,
                                    $teinte) !==
                            false) {
                            $jeRentre =
                                true;
                            break;
                        }
                    }

                    foreach ($puissanceTeinteOrdre
                             as
                             $puissanceTeinte)
                    {
                        if (stripos($verre->libelle_verre,
                                    $puissanceTeinte) !==
                            false) {
                            $jeRentre =
                                true;
                            break;
                        }
                    }

                    if ($jeRentre) {
                        continue;
                    }


                    $tab[$verre->id_verre] =
                        $verre->libelle_verre;
                }
            }

            foreach ($traitementOrdre
                     as $val)
            {
                foreach ($tab
                         as $k
                => $v) {
                    echo $val .
                         " | " .
                         $v .
                         "<br>";
                    $ok =
                        true;
                    if (stripos($v,
                                $val) !==
                        false) {
                        if ($val ==
                            'Satin') {
                            if (stripos($v,
                                        'UV') !==
                                false) {
                                $ok =
                                    false;
                            }
                        }

                        if ($ok) {
                            echo "je rentre <br>";
                            $data['order_verre'] =
                                $ordre;
                            $data['id_verre'] =
                                $k;
                            $this->m_verres->updateOrdre($data);
                            $ordre++;
                        }
                    }
                }

            }


            foreach ($jeSaisPasOrdre
                     as $jsp)
            {
                $current_libelle =
                    "";
                foreach ($teinteOrdre
                         as
                         $teinte)
                {
                    $tab =
                        array();
                    foreach ($verres
                             as
                             $key
                    => $verre)
                    {
                        $jeRentre =
                            false;

                        if ($current_libelle !=
                            $verre->libelle_verre) {
                            $current_libelle =
                                $verre->libelle_verre;

                            if (!stripos($verre->libelle_verre,
                                         $jsp)) {
                                continue;
                            }

                            if (!stripos($verre->libelle_verre,
                                         $teinte)) {
                                continue;
                            }

                            $tab[$verre->id_verre] =
                                $verre->libelle_verre;

                        }
                    }

                    foreach ($traitementOrdre
                             as
                             $val)
                    {
                        foreach ($tab
                                 as
                                 $k
                        => $v)
                        {
                            echo $val .
                                 " | " .
                                 $v .
                                 "<br>";
                            $ok =
                                true;
                            if (stripos($v,
                                        $val) !==
                                false) {
                                if ($val ==
                                    'Satin') {
                                    if (stripos($v,
                                                'UV') !==
                                        false) {
                                        $ok =
                                            false;
                                    }
                                }

                                if ($ok) {
                                    $data['order_verre'] =
                                        $ordre;
                                    $data['id_verre'] =
                                        $k;
                                    $this->m_verres->updateOrdre($data);
                                    $ordre++;
                                }
                            }
                        }
                    }

                    $tab =
                        array();
                }
            }


            foreach ($teinteOrdre
                     as
                     $teinte)
            {
                $current_libelle =
                    "";

                foreach ($verres
                         as
                         $key
                => $verre) {
                    $jeRentre =
                        false;

                    foreach ($jeSaisPasOrdre
                             as
                             $jsp)
                    {
                        if (stripos($verre->libelle_verre,
                                    $jsp) !==
                            false) {
                            $jeRentre =
                                true;
                            break;
                        }
                    }

                    if ($jeRentre) {
                        continue;
                    }


                    foreach ($puissanceTeinteOrdre
                             as
                             $puissance)
                    {

                    }

                    if ($current_libelle !=
                        $verre->libelle_verre) {
                        $current_libelle =
                            $verre->libelle_verre;

                        $tab[$verre->id_verre] =
                            $verre->libelle_verre;

                    }
                }

            }

        }
    }


    /****
     * LENSES
     * ****/

    public
    function ajout_lentilles()
    {

        $msg = '';
        $lens = array();

        $config['upload_path'] =
            FCPATH .
            '/uploads/';
        $config['allowed_types'] =
            'gif|jpg|png';
        $config['max_size'] =
            4096;
        $config['max_width'] =
            1000;
        $config['max_height'] =
            1000;
        $config['encrypt_name'] =
            true;

        $this->load->library('upload');
        $this->upload->initialize($config);

        if (isset($_POST) &&
            !empty($_POST)) {

            $progressive =
                isset($_POST['progressive']) ?
                    1 : 0;
            $toric =
                isset($_POST['toric']) ?
                    1 : 0;
            $price =
                (int)$_POST['price'];

            $lens = array(
                'name' => $_POST['name'],
                'packaging' => (int)$_POST['packaging'],
                'progressive' => $progressive,
                'toric' => $toric,
                'generation_id' => (int)$_POST['generation_id'],
                'brand_id' => (int)$_POST['brand_id'],
            );


            if ($options =
                $_POST['option']) {

                foreach ($options
                         as
                         $prop
                => $type) {

                    switch ($type) {

                        case 'range':

                            $data =
                                array();

                            foreach ($_POST['data'][$prop]['range']
                                     as
                                     $param
                            =>
                                     $range)
                            {

                                foreach ($range
                                         as
                                         $range_key
                                =>
                                         $range_val)
                                {
                                    if ($range_val !==
                                        '') {
                                        $data[$range_key][$param] =
                                            $range_val;
                                    }
                                }
                            }

                            $lens['props'][$prop] =
                                array(
                                    'type' => 'range',
                                    'data' => $data
                                );

                            if ('' !==
                                $_POST['data'][$prop]['excl']) {
                                $lens['props'][$prop]['excl'] =
                                    explode(',',
                                            $_POST['data'][$prop]['excl']);
                            }

                            break;

                        case 'list':

                            if ('' !==
                                $_POST['data'][$prop]['list']) {

                                $lens['props'][$prop] =
                                    array(
                                        'type' => 'list',
                                        'data' => explode(',',
                                                          $_POST['data'][$prop]['list'])
                                    );

                            }
                            break;

                        case 'none':
                        default:
                            $lens['props'][$prop] =
                                false;

                    }

                }

            }

            if (!$this->upload->do_upload('image')) {
                $error =
                    array('error' => $this->upload->display_errors());
                $filename =
                    '';
            } else {
                $upload_data =
                    $this->upload->data();
                $filename =
                    $upload_data['file_name'];
            }


            if ($this->db->insert('lens',
                                  array(
                                      'name' => $lens['name'],
                                      'packaging' => $lens['packaging'],
                                      'progressive' => $lens['progressive'],
                                      'toric' => $lens['toric'],
                                      'generation_id' => $lens['generation_id'],
                                      'brand_id' => $lens['brand_id'],
                                      'image' => $filename,
                                  ))) {

                $insert_id =
                    $this->db->insert_id();

                $this->db->insert('lens_build',
                                  array(
                                      'lens_id' => $insert_id,
                                      'data' => json_encode($lens['props'])
                                  ));

                for ($i = 1;
                     $i <= 6;
                     ++$i) {

                    $this->db->insert('lens_price',
                                      array(
                                          'lens_id' => $insert_id,
                                          'grid_id' => $i,
                                          'price' => $price
                                      ));

                }

                $msg =
                    '<div class="alert alert-success" role="alert">La lentille a été ajoutée avec succes</div>';

            } else {
                $msg =
                    '<div class="alert alert-danger" role="alert">Erreur lors de l\'ajout de la lentille</div>';
            }


        }


        $title =
            'Ajouter des lentilles';

        $config =
            $this->lens_config;

        $this->load->view('admin/add_lens',
                          array(
                              'modules' => array(
                                  'sweetalert' => true,
                                  'touchspin' => true,
                              ),
                              'page' => 'add_lens',
                              'title' => $title,
                              'msg' => $msg,
                              'lens_data' => $lens,
                              'config' => $config,
                              'lens_generations' => $this->m_lens->getGenerations(),
                              'lens_brands' => $this->m_lens->getBrands(),
                          ));

    }


    public
    function modifier_lentille($lens_id = false)
    {

        if (false ===
            $lens_id) {
            $this->redirect("/admin/liste_lentilles");
        }

        $title =
            'Modifier des lentilles';
        $config =
            $this->lens_config;
        $error = '';

        $config['upload_path'] =
            FCPATH .
            '/uploads/';
        $config['allowed_types'] =
            'gif|jpg|png';
        $config['max_size'] =
            4096;
        $config['max_width'] =
            1000;
        $config['max_height'] =
            1000;
        $config['encrypt_name'] =
            true;

        $this->load->library('upload');
        $this->upload->initialize($config);


        if (isset($_POST) &&
            !empty($_POST)) {

            if (isset($_POST['remove']) &&
                $_POST['remove'] ==
                1) {

                $this->db->trans_start();
                $this->db->where('id',
                                 $lens_id);
                $this->db->delete('lens');
                $this->db->trans_complete();

                $this->db->trans_start();
                $this->db->where('lens_id',
                                 $lens_id);
                $this->db->delete('lens_build');
                $this->db->trans_complete();

                $this->db->trans_start();
                $this->db->where('lens_id',
                                 $lens_id);
                $this->db->delete('lens_price');
                $this->db->trans_complete();

                $this->redirect("/admin/liste_lentilles");

            } else {

                $progressive =
                    isset($_POST['progressive']) ?
                        1 : 0;
                $toric =
                    isset($_POST['toric']) ?
                        1 : 0;
                $price =
                    (int)$_POST['price'];

                $lens = array(
                    'name' => $_POST['name'],
                    'packaging' => (int)$_POST['packaging'],
                    'progressive' => $progressive,
                    'toric' => $toric,
                    'generation_id' => (int)$_POST['generation_id'],
                    'brand_id' => (int)$_POST['brand_id'],
                );


                if ($options =
                    $_POST['option']) {

                    foreach ($options
                             as
                             $prop
                    => $type)
                    {

                        switch ($type) {

                            case 'range':

                                $data =
                                    array();

                                foreach ($_POST['data'][$prop]['range']
                                         as
                                         $param
                                =>
                                         $range)
                                {

                                    foreach ($range
                                             as
                                             $range_key
                                    =>
                                             $range_val)
                                    {
                                        if ($range_val !==
                                            '') {
                                            $data[$range_key][$param] =
                                                $range_val;
                                        }
                                    }
                                }

                                $lens['props'][$prop] =
                                    array(
                                        'type' => 'range',
                                        'data' => $data
                                    );

                                if ('' !==
                                    $_POST['data'][$prop]['excl']) {
                                    $lens['props'][$prop]['excl'] =
                                        explode(',',
                                                $_POST['data'][$prop]['excl']);
                                }

                                break;

                            case 'list':

                                if ('' !==
                                    $_POST['data'][$prop]['list']) {

                                    $lens['props'][$prop] =
                                        array(
                                            'type' => 'list',
                                            'data' => explode(',',
                                                              $_POST['data'][$prop]['list'])
                                        );

                                }
                                break;

                            case 'none':
                            default:
                                $lens['props'][$prop] =
                                    false;

                        }

                    }

                }

                if (!isset($_POST['remove_image'])) {

                    if (!$this->upload->do_upload('image')) {

                        $error =
                            array('error' => $this->upload->display_errors());

                        $filename =
                            '';
                        $this->db->select('image');
                        $this->db->where('id',
                                         $lens_id);
                        $query =
                            $this->db->get('lens');

                        if ($query->result()) {
                            $filename =
                                $query->result()[0]->image;
                        }

                    } else {
                        $upload_data =
                            $this->upload->data();
                        $filename =
                            $upload_data['file_name'];
                    }

                } else {

                    $this->db->select('image');
                    $this->db->where('id',
                                     $lens_id);
                    $query =
                        $this->db->get('lens');

                    if ($query->result()) {
                        $filename =
                            $query->result()[0]->image;
                        unlink(FCPATH .
                               'uploads/' .
                               $filename);
                    }

                    $filename =
                        '';

                }

                $this->db->where('id',
                                 $lens_id);
                if ($this->db->update('lens',
                                      array(
                                          'name' => $lens['name'],
                                          'packaging' => $lens['packaging'],
                                          'progressive' => $lens['progressive'],
                                          'toric' => $lens['toric'],
                                          'generation_id' => $lens['generation_id'],
                                          'brand_id' => $lens['brand_id'],
                                          'image' => $filename
                                      ))) {

                    $this->db->where('lens_id',
                                     $lens_id);
                    $this->db->update('lens_build',
                                      array(
                                          'data' => json_encode($lens['props'])
                                      ));

                    for ($i =
                             1;
                         $i <=
                         6;
                         ++$i)
                    {

                        $this->db->where('lens_id',
                                         $lens_id);
                        $this->db->update('lens_price',
                                          array(
                                              'grid_id' => $i,
                                              'price' => $price
                                          ));

                    }

                    $msg =
                        '<div class="alert alert-success" role="alert">La lentille a été ajoutée avec succes</div>';

                } else {
                    $msg =
                        '<div class="alert alert-danger" role="alert">Erreur lors de l\'ajout de la lentille</div>';
                }

            }


        }

        $lens =
            $this->m_lens->getLens($lens_id);
        $lens_data =
            $this->m_lens->getLensConfigurator($lens_id);
        $msg = false;

        $this->load->view('admin/edit_lens',
                          array(
                              'modules' => array(
                                  'sweetalert' => true,
                                  'touchspin' => true,
                              ),
                              'page' => 'edit_lens',
                              'title' => $title,
                              'msg' => $msg,
                              'error' => $error,
                              'lens' => $lens,
                              'lens_data' => $lens_data,
                              'config' => $config,
                              'lens_generations' => $this->m_lens->getGenerations(),
                              'lens_brands' => $this->m_lens->getBrands(),
                          ));

    }

    public
    function get_lens_brands()
    {
        if ($this->input->is_ajax_request()) {

            $generation =
                (int)$this->input->post('generation');
            $progressive =
                (int)$this->input->post('progressive');
            $toric =
                (int)$this->input->post('toric');

            $brands =
                $this->m_lens->getAvailableBrands($generation,
                                                  $progressive,
                                                  $toric);

            if ($brands) {
                echo '<select class="form-control" name="brand">';
                echo '<option>Sélectionner une marque</option>';
                foreach ($brands
                         as
                         $brand)
                {
                    echo '<option value="' .
                         $brand->id .
                         '">' .
                         $brand->name .
                         '</option>' .
                         "\n";
                }
                echo '</select>';
            } else {
                echo 'Aucun produit ne correspond à votre recherche';
            }
        }
    }


    public
    function get_lenses()
    {

        if ($this->input->is_ajax_request()) {

            $args = array(
                'generation_id' => (int)$this->input->post('generation'),
                'brand_id' => (int)$this->input->post('brand'),
                'progressive' => (int)$this->input->post('progressive'),
                'toric' => (int)$this->input->post('toric'),
            );


            if (false !==
                $lenses =
                    $this->m_lens->getLenses($args)) {

                foreach ($lenses
                         as
                         $lens)
                {
                    echo '<div class="item">';
                    echo '<div class="thumb"><img src="' .
                         site_url('uploads/' .
                                  $lens->image) .
                         '" /></div>';
                    echo '<b>' .
                         $lens->name .
                         '</b><br />';
                    echo 'Boite de ' .
                         $lens->packaging .
                         '<br />';
                    echo '<span class="price">' .
                         number_format($lens->price,
                                       2,
                                       ',',
                                       '') .
                         '€</span><br />';
                    echo '<a class="btn btn-warning product-select" rel="' .
                         $lens->id .
                         '">Choisir</a>';
                    echo '</div>';
                }

            } else {
                echo 'Aucun produit ne correspond à votre recherche';
            }
        }

    }

    public
    function get_lens_info($lens_id = false)
    {

        if (false !== $lens =
                $this->m_lens->getLens($lens_id)) {

            var_dump($lens);

        }

    }

    public
    function get_lens_config()
    {

        if ($this->input->is_ajax_request()) {

            $config =
                $this->lens_config;

            $lens_id =
                (int)$this->input->post('id');

            if (false !==
                $lens =
                    $this->m_lens->getLensConfigurator($lens_id)) {

                $build_data =
                    json_decode($lens[0]->data);

                echo '<div class="product-config">';

                echo '<input type="hidden" name="lens_id" value="' .
                     $lens_id .
                     '">';


                foreach ($config['sides']
                         as $k
                => $v) {

                    echo '<div class="side" data-side="' .
                         $k .
                         '">';

                    echo '<div class="mask"></div>';

                    echo '<h4>Corrections Oeil ' .
                         $v . '</h4>
                            <div class="form-horizontal">';

                    foreach ($build_data
                             as
                             $attr
                    => $props)
                    {

                        if (false !==
                            $props) {

                            /*echo '<pre>';
                                    var_dump($props);
                                    echo '</pre>';*/


                            echo '<div class="form-group">
                                        <label class="col-sm-3 text-center" for="' .
                                 $attr .
                                 '[' .
                                 $k .
                                 ']">' .
                                 $config['attrs'][$attr] . '</label>
                                        <div class="col-sm-9">
                                            <select class="form-control" id="' .
                                 $attr .
                                 '[' .
                                 $k .
                                 ']" name="build[' .
                                 $attr .
                                 '][' .
                                 $k .
                                 ']">';

                            switch ($props->type) {

                                case 'range':

                                    $numItems =
                                        count($props->data);
                                    $rangeLoop =
                                        1;

                                    foreach ($props->data
                                             as
                                             $range)
                                    {

                                        //if(is_float($range->step)) {

                                        for (
                                            $i =
                                                $range->start;
                                            $i <
                                            $range->end;
                                            $i += $range->step)
                                        {

                                            if (!in_array($i,
                                                          $props->excl)) {

                                                if ($attr ==
                                                    'axe') {
                                                    $value =
                                                        number_format($i,
                                                                      0,
                                                                      '',
                                                                      '');
                                                    $show =
                                                        number_format($i,
                                                                      0,
                                                                      '',
                                                                      '') .
                                                        ' °';
                                                } else {
                                                    $value =
                                                        number_format($i,
                                                                      2,
                                                                      '.',
                                                                      '');
                                                    $show =
                                                        number_format($i,
                                                                      2,
                                                                      '.',
                                                                      '');
                                                }


                                                echo '<option value="' .
                                                     $value .
                                                     '">' .
                                                     $show .
                                                     '</option>';
                                            }

                                        }

                                        if ($rangeLoop ==
                                            $numItems) {
                                            if (!in_array($i,
                                                          $props->excl)) {

                                                if ($attr ==
                                                    'axe') {
                                                    $value =
                                                        number_format($i,
                                                                      0,
                                                                      '',
                                                                      '');
                                                    $show =
                                                        number_format($i,
                                                                      0,
                                                                      '',
                                                                      '') .
                                                        ' °';
                                                } else {
                                                    $value =
                                                        number_format($i,
                                                                      2,
                                                                      '.',
                                                                      '');
                                                    $show =
                                                        number_format($i,
                                                                      2,
                                                                      '.',
                                                                      '');
                                                }

                                                echo '<option value="' .
                                                     $value .
                                                     '">' .
                                                     $show .
                                                     '</option>';
                                            }
                                        }

                                        /*}
                                                            else {
                                                                for($i = $range->start; $i <= $range->end; $i += $range->step) {
                                                                    echo '<option value="'.$i.'">'.$i.'</option>';
                                                                }
                                                            }*/

                                        ++$rangeLoop;

                                    }

                                    break;

                                case 'list':

                                    foreach ($props->data
                                             as
                                             $step)
                                    {
                                        echo '<option value="' .
                                             $step .
                                             '">' .
                                             $step .
                                             '</option>';
                                    }

                                    break;
                            }


                            echo '</select>
                                        </div>
                                    </div>';

                        }

                    }

                    echo '<div class="form-group">
                                <label class="col-sm-3 text-center" for="qty[' .
                         $k . ']">Quantité</label>
                                <div class="col-sm-9">
                                    <select class="form-control" id="qty[' .
                         $k .
                         ']" name="build[qty][' .
                         $k .
                         ']">';
                    for ($i =
                             1;
                         $i <=
                         10;
                         ++$i)
                    {
                        echo '<option value="' .
                             $i .
                             '">' .
                             $i .
                             '</option>';
                    }
                    echo '</select>
                                </div>
                            </div>';

                    $excl =
                        'left';
                    if ($k ==
                        'left') {
                        $excl =
                            'right';
                    }

                    echo '<div class="col-sm-9 col-sm-offset-3"><input type="checkbox" value="1" class="excl" name="build[excl][' .
                         $excl .
                         ']" id="build[excl][' .
                         $excl .
                         ']" /> <label class="control-label" for="excl[' .
                         $excl .
                         ']"> Commander uniquement oeil ' .
                         $v .
                         '</label></div>';

                    echo '</div>
                        </div>';

                }
                echo '</div>';

                /*echo '<pre>';
                var_dump($build_data);
                echo '</pre>';
                */

            } else {
                echo '<b>Erreur</b><br /> Ce produit n\'est pas disponible actuellement';
            }

        }

    }


    public
    function set_lens_order()
    {
        if ($this->input->is_ajax_request()) {

            /*echo '<pre>';
            var_dump($this->input->post());
            echo '</pre>';*/

            $data =
                $this->input->post();

            $data['config'] =
                $this->lens_config;


            $data['user_info'] =
                $this->m_users->getUserById($data['user_id'])[0];
            $data['data_admin']['admin_info'] =
                $this->m_users->getUserById(1)[0];
            $data['lens'] =
                $this->m_lens->getLens($data['lens_id']);

            $this->session->set_userdata('order',
                                         $data);
            echo $this->load->view('ajax_show_lens_order',
                                   $data);

        }
    }

    public
    function get_lens_order($order_id)
    {


        $order =
            $this->m_lens->getOrderById($order_id);

        $data['user_info'] =
            $this->m_users->getUserById($order->id_users);
        $data['data_admin']['admin_info'] =
            $this->m_users->getUserById(1)[0];
        $data['lens'] =
            $this->m_lens->getLens($order->lens_id);

        return $data;


    }

    public
    function add_lens_order()
    {
        if ($this->input->is_ajax_request()) {

            $data =
                $this->session->userdata('order');
            $lens =
                $this->m_lens->getLens($data['lens_id']);

            $qty = 0;

            foreach ($data['build']['qty']
                     as $k =>
                     $v) {
                if (!isset($data['build']['excl'][$k])) {
                    $qty += $v;
                }
            }

            $total_order =
                $lens->price *
                $qty;

            $userdata =
                $this->m_users->getUserById($data['user_id'])[0];

            $args = array(
                'reference_client' => $data['client_ref'],
                'lens_id' => (int)$data['lens_id'],
                'lens_generation' => $lens->generation_id,
                'information_commande' => json_encode($data['build']),
                'commentaire' => $data['commentaire'],
                'id_users' => (int)$data['user_id'],
                'tarif_packaging' => $userdata->tarif_packaging,
                'tarif_livraison' => $userdata->tarif_livraison,
                'total_commande' => $total_order
            );


            if ($this->m_lens->addLensOrder($args)) {
                echo 'ok';
            } else {
                echo 'error';
            }

        }

    }

    public
    function commande_lentilles($user_id = null)
    {

        $this->load->helper('slimpay');
        $this->load->library('email');

        $user_info =
            $this->m_users->getUserById($user_id);
        $result =
            $this->m_config->getConfig(array('nom_config' => 'commentaire'));

        $title =
            'Passer une commande de lentilles pour le magasin ' .
            $user_id;

        $regions =
            $this->config->item('regions');

        if (isset($user_info[0]->cp)) {
            $dep =
                substr($user_info[0]->cp,
                       0, -3);
            $region =
                ($regions[$dep] ==
                 "Ile-de-France" ?
                    1 : 0);
        } else {
            $region = 0;
        }

        $date =
            new DateTime();
        $date->modify('-60 days');

        $this->load->view('admin/lens',
                          array(
                              'modules' => array(
                                  'sweetalert' => true,
                                  'touchspin' => true,
                              ),
                              'user_info' => $user_info[0],
                              'user_id' => $user_id,
                              'page' => $title,
                              'title' => $title,
                              'region' => $region,
                              'numero_siret' => $this->session->userdata('numero_siret'),
                              'tva_intracomm' => $this->session->userdata('tva_intracomm'),
                              'commentaire_actif' => json_decode($result[0]->param_config),
                              'id_commandes' => $this->getUserOrders($user_id,
                                                                     $date),
                              'lens_generations' => $this->m_lens->getGenerations()
                          ));

    }

    public
    function liste_collections()
    {
        $msg = '';
        $montures = array();

        $config['upload_path'] =
            '/var/www/vhosts/optieyescommande.com/httpdocs_new/uploads/';
        $config['allowed_types'] =
            'gif|jpg|png';
        $config['max_size'] =
            4096;
        $config['max_width'] =
            1000;
        $config['max_height'] =
            1000;
        $config['encrypt_name'] =
            false;

        $this->load->library('upload');
        $this->upload->initialize($config);

        if (isset($_POST) &&
            !empty($_POST)) {

            if (!$this->upload->do_upload('image')) {
                $error =
                    array('error' => $this->upload->display_errors());
                $filename =
                    '';
            } else {
                $upload_data =
                    $this->upload->data();
                $filename =
                    $upload_data['file_name'];
            }
            if (!isset($_POST['name'])) {
                $_POST['name'] =
                    $_POST['namePack'];
            }

            if ($this->db->insert('montures_collection',
                                  array(
                                      'name' => $_POST['name'],
                                      'image' => $filename,
                                  ))) {


            } else {
                $msg =
                    '<div class="alert alert-danger" role="alert">Erreur lors de l\'ajout de la monture</div>';
            }

            if (!$this->upload->do_upload('imagePack')) {
                $error =
                    array('error' => $this->upload->display_errors());
                $filenamePack =
                    '';
            } else {
                $upload_dataPack =
                    $this->upload->data();
                $filenamePack =
                    $upload_dataPack['file_name'];
            }

            if (isset($_POST['namePack'])) {
                if ($this->db->insert('montures_pack',
                                      array(
                                          'name' => $_POST['namePack'],
                                          'image' => $filenamePack,
                                      ))) {


                } else {
                    $msg =
                        '<div class="alert alert-danger" role="alert">Erreur lors de l\'ajout de la monture</div>';
                }
            }

        }
        $title =
            'Collections';

        $config =
            $this->montures_config;

        $data['newUser'] =
            $this->session->userdata('newUser');
        $data['parametre_lang_datable'] =
            $this->config->item('parametre_lang_datable');
        $data['parametre_export_datable'] =
            $this->config->item('parametre_export_datable');

        $data['page'] =
            "liste_collections";
        $data['title'] =
            $title;
        $data['modules'] =
            array(
                'datatables' => true,
                'sweetalert' => true,
                'touchspin' => true
            );


        $this->load->view('admin/liste_collections',
                          $data);
    }


    public
    function get_montures_brands()
    {
        if ($this->input->is_ajax_request()) {

            $generation =
                (int)$this->input->post('generation');
            $progressive =
                (int)$this->input->post('progressive');
            $toric =
                (int)$this->input->post('toric');

            $brands =
                $this->m_montures->getAvailableBrands($generation,
                                                      $progressive,
                                                      $toric);

            if ($brands) {
                echo '<select class="form-control" name="brand">';
                echo '<option>Sélectionner une marque</option>';
                foreach ($brands
                         as
                         $brand)
                {
                    echo '<option value="' .
                         $brand->id .
                         '">' .
                         $brand->name .
                         '</option>' .
                         "\n";
                }
                echo '</select>';
            } else {
                echo 'Aucun produit ne correspond à votre recherche';
            }
        }
    }


    public
    function get_montures()
    {

        $user_id =
            (int)$this->input->post('user_id');
        $this->db->query('DELETE FROM commande_montures_temp WHERE id_client = ' .
                         $user_id .
                         ' ');
        set_cookie('panierA',
                   0, '1800');
        set_cookie('panierA_sans_monture',
                   '0',
                   '1800');
        set_cookie('refPanierA',
                   '',
                   '1800');
        $rel =
            $this->input->post('id');

        if (strpos($rel,
                   'add_pack') !==
            false) {
            //echo "Add pack Rel:".$rel;
        } else {
            if (strpos($rel,
                       'voir_pack') !==
                false) {

                //echo "Voir pack Rel:".$rel;
                $pack_id =
                    str_replace("voir_pack_",
                                "",
                                $rel);
                //echo "Pack id:".$pack_id;
                $montures_du_pack =
                    $this->m_montures->getAllMonturesDuPack($pack_id);
                foreach ($montures_du_pack
                         as
                         $monture)
                {
                    echo '<div class="item">';
                    echo '<div class="thumb"><img src="' .
                         site_url('uploads/' .
                                  $monture->image) .
                         '"  style="max-width: 312px;" /></div>';
                    echo '<b>' .
                         $monture->modele .
                         '</b><br />';
                    echo 'Type: ' .
                         $monture->type .
                         '<br />';
                    echo 'Taille: ' .
                         $monture->size .
                         '<br />';
                    echo 'Couleur: ' .
                         $monture->couleur .
                         '<br />';
                    echo 'Prix: ' .
                         $monture->prix_vente .
                         '<br />';
                    echo '</div>';
                }

            } else {
                //echo "Voir Montures Rel:".$rel;
                $collection_id =
                    (int)$rel;

                $montures =
                    $this->m_montures->get_Montures($collection_id);
                if ($collection_id ==
                    5) {
                    $packs =
                        $this->m_montures->getPacks();

                    foreach ($packs
                             as
                             $pack)
                    {
                        $checkStock =
                            0;
                        $montures_du_pack =
                            $this->m_montures->getAllMonturesDuPack($pack->id);
                        foreach ($montures_du_pack
                                 as
                                 $monture)
                        {
                            if ($monture->stock ==
                                0) {
                                $checkStock++;
                            }
                        }

                        if ($checkStock ==
                            0) {
                            echo '<div class="item"><br><br>';
                            echo '<div class="thumb"><img src="' .
                                 site_url('uploads/' .
                                          $pack->image) .
                                 '" style="max-width: 312px;" /></div>';
                            echo '<b>' .
                                 $pack->name .
                                 '</b><br />';
                            if ($pack->id !=
                                1) {
                                echo '<a class="btn btn-warning product-select" rel="voir_pack_' .
                                     $pack->id .
                                     '">Voir les montures</a>';
                            } else {
                                echo "Prix: " .
                                     $pack->prix .
                                     "&#8364;<br><br>";
                            }
                            echo '<a class="btn btn-warning product-select" rel="add_pack_' .
                                 $pack->id .
                                 '">Ajouter à mon panier</a>&nbsp;&nbsp;';
                            echo '</div>';
                        }
                    }
                }
                foreach ($montures
                         as
                         $monture)
                {
                    if ($monture->stock >
                        0) {

                        $stock_temp =
                            $this->m_montures->check_stock($monture->id);
                        if ($stock_temp) {
                            $s_temp =
                                $stock_temp->stock_temp;
                        } else {
                            $s_temp =
                                0;
                        }

                        if ($monture->stock -
                            $s_temp >
                            0) {
                            echo '<div class="item ' .
                                 $monture->modele .
                                 '">';
                            echo '<div class="thumb"><img src="' .
                                 site_url('uploads/' .
                                          $monture->image) .
                                 '"  style="max-width: 312px;" /></div>';
                            echo '<b>' .
                                 $monture->modele .
                                 '</b><br />';
                            echo 'Type: ' .
                                 $monture->type .
                                 '<br />';
                            echo 'Taille: ' .
                                 $monture->size .
                                 '<br />';
                            echo 'Couleur: ' .
                                 $monture->couleur .
                                 '<br />';
                            echo 'Prix: ' .
                                 $monture->prix_vente .
                                 '&#8364;<br />';
                            echo '<a class="btn btn-warning monture-select" rel="' .
                                 $monture->id .
                                 '">Ajouter à mon panier</a>';
                            echo '</div>';
                        }
                    }
                }
            }
        }

    }

    public
    function get_montures_info($montures_id = false)
    {

        if (false !==
            $montures =
                $this->m_montures->getMontures($montures_id)) {

            var_dump($montures);

        }

    }

    public
    function get_montures_config()
    {

        if ($this->input->is_ajax_request()) {

            $config =
                $this->montures_config;

            $montures_id =
                (int)$this->input->post('id');

            if (false !==
                $montures =
                    $this->m_montures->getMonturesConfigurator($montures_id)) {

                $build_data =
                    json_decode($montures[0]->data);

                echo '<div class="product-config">';

                echo '<input type="hidden" name="montures_id" value="' .
                     $montures_id .
                     '">';


                foreach ($config['sides']
                         as $k
                => $v) {

                    echo '<div class="side" data-side="' .
                         $k .
                         '">';

                    echo '<div class="mask"></div>';

                    echo '<h4>Corrections Oeil ' .
                         $v . '</h4>
                            <div class="form-horizontal">';

                    foreach ($build_data
                             as
                             $attr
                    => $props)
                    {

                        if (false !==
                            $props) {

                            /*echo '<pre>';
                                    var_dump($props);
                                    echo '</pre>';*/


                            echo '<div class="form-group">
                                        <label class="col-sm-3 text-center" for="' .
                                 $attr .
                                 '[' .
                                 $k .
                                 ']">' .
                                 $config['attrs'][$attr] . '</label>
                                        <div class="col-sm-9">
                                            <select class="form-control" id="' .
                                 $attr .
                                 '[' .
                                 $k .
                                 ']" name="build[' .
                                 $attr .
                                 '][' .
                                 $k .
                                 ']">';

                            switch ($props->type) {

                                case 'range':

                                    $numItems =
                                        count($props->data);
                                    $rangeLoop =
                                        1;

                                    foreach ($props->data
                                             as
                                             $range)
                                    {

                                        //if(is_float($range->step)) {

                                        for (
                                            $i =
                                                $range->start;
                                            $i <
                                            $range->end;
                                            $i += $range->step)
                                        {

                                            if (!in_array($i,
                                                          $props->excl)) {

                                                if ($attr ==
                                                    'axe') {
                                                    $value =
                                                        number_format($i,
                                                                      0,
                                                                      '',
                                                                      '');
                                                    $show =
                                                        number_format($i,
                                                                      0,
                                                                      '',
                                                                      '') .
                                                        ' °';
                                                } else {
                                                    $value =
                                                        number_format($i,
                                                                      2,
                                                                      '.',
                                                                      '');
                                                    $show =
                                                        number_format($i,
                                                                      2,
                                                                      '.',
                                                                      '');
                                                }


                                                echo '<option value="' .
                                                     $value .
                                                     '">' .
                                                     $show .
                                                     '</option>';
                                            }

                                        }

                                        if ($rangeLoop ==
                                            $numItems) {
                                            if (!in_array($i,
                                                          $props->excl)) {

                                                if ($attr ==
                                                    'axe') {
                                                    $value =
                                                        number_format($i,
                                                                      0,
                                                                      '',
                                                                      '');
                                                    $show =
                                                        number_format($i,
                                                                      0,
                                                                      '',
                                                                      '') .
                                                        ' °';
                                                } else {
                                                    $value =
                                                        number_format($i,
                                                                      2,
                                                                      '.',
                                                                      '');
                                                    $show =
                                                        number_format($i,
                                                                      2,
                                                                      '.',
                                                                      '');
                                                }

                                                echo '<option value="' .
                                                     $value .
                                                     '">' .
                                                     $show .
                                                     '</option>';
                                            }
                                        }

                                        /*}
                                                            else {
                                                                for($i = $range->start; $i <= $range->end; $i += $range->step) {
                                                                    echo '<option value="'.$i.'">'.$i.'</option>';
                                                                }
                                                            }*/

                                        ++$rangeLoop;

                                    }

                                    break;

                                case 'list':

                                    foreach ($props->data
                                             as
                                             $step)
                                    {
                                        echo '<option value="' .
                                             $step .
                                             '">' .
                                             $step .
                                             '</option>';
                                    }

                                    break;
                            }


                            echo '</select>
                                        </div>
                                    </div>';

                        }

                    }

                    echo '<div class="form-group">
                                <label class="col-sm-3 text-center" for="qty[' .
                         $k . ']">Quantité</label>
                                <div class="col-sm-9">
                                    <select class="form-control" id="qty[' .
                         $k .
                         ']" name="build[qty][' .
                         $k .
                         ']">';
                    for ($i =
                             1;
                         $i <=
                         10;
                         ++$i)
                    {
                        echo '<option value="' .
                             $i .
                             '">' .
                             $i .
                             '</option>';
                    }
                    echo '</select>
                                </div>
                            </div>';

                    $excl =
                        'left';
                    if ($k ==
                        'left') {
                        $excl =
                            'right';
                    }

                    echo '<div class="col-sm-9 col-sm-offset-3"><input type="checkbox" value="1" class="excl" name="build[excl][' .
                         $excl .
                         ']" id="build[excl][' .
                         $excl .
                         ']" /> <label class="control-label" for="excl[' .
                         $excl .
                         ']"> Commander uniquement oeil ' .
                         $v .
                         '</label></div>';

                    echo '</div>
                        </div>';

                }
                echo '</div>';

                /*echo '<pre>';
                var_dump($build_data);
                echo '</pre>';
                */

            } else {
                echo '<b>Erreur</b><br /> Ce produit n\'est pas disponible actuellement';
            }

        }

    }

    public
    function can_montures_order()
    {

        $user_id =
            $this->input->post('user_id');
        //   $data['user_info'] = $this->m_users->getUserById($data['user_id'])[0];
        //   $data['data_admin']['admin_info'] = $this->m_users->getUserById(1)[0];

        //echo 'AAA:'.$user_id.':AAA';


        $d =
            date("Y/m/d H:i:s",
                 strtotime("-30 minutes"));
        $this->db->from('commande_montures_temp');
        $this->db->select('*');
        $this->db->where('id_client',
                         $user_id);
        $this->db->where('status',
                         0);
        $this->db->where('date >',
                         $d);
        $query =
            $this->db->get();
        if ($query->num_rows() >
            0) {
            echo "1";
        } else {
            echo "0";
        }
    }

    public
    function get_packs()
    {

        $user_id =
            $this->input->post('user_id');
        //$this->db->query('DELETE FROM commande_montures_temp WHERE id_client = "'.$user_id.'" AND date < DATE_SUB(NOW(), INTERVAL 30 MINUTE) AND status=0');


        $packs =
            $this->m_montures->getPacks();

        foreach ($packs as
                 $pack) {
            $checkStock = 0;
            $montures_du_pack =
                $this->m_montures->getAllMonturesDuPack($pack->id);
            foreach ($montures_du_pack
                     as
                     $monture)
            {
                if ($monture->stock ==
                    0) {
                    $checkStock++;
                }
            }

            if ($checkStock ==
                0) {
                echo '<div class="item">';
                echo '<div class="thumb"><img src="' .
                     site_url('uploads/' .
                              $pack->image) .
                     '" style="max-width: 312px;" /></div>';
                echo '<b>' .
                     $pack->name .
                     '</b><br />';
                echo '<a class="btn btn-warning product-select" rel="add_pack_' .
                     $pack->id .
                     '">Choisir</a>&nbsp;&nbsp;';
                echo '<a class="btn btn-warning product-select" rel="voir_pack_' .
                     $pack->id .
                     '">Voir les montures</a>';
                echo '</div>';
            }
        }

    }

    public
    function get_collections()
    {

        $user_id =
            $this->input->post('user_id');
        //$this->db->query('DELETE FROM commande_montures_temp WHERE id_client = "'.$user_id.'" AND date < DATE_SUB(NOW(), INTERVAL 30 MINUTE) AND status=0');
        //$this->db->query('DELETE FROM commande_montures_temp WHERE id_client = "'.$user_id.'"');

        $collections =
            $this->m_montures->getCollection();

        foreach ($collections
                 as
                 $collection)
        {
            echo '<div class="item">';
            echo '<div class="thumb"><img src="' .
                 site_url('uploads/' .
                          $collection->image) .
                 '"  style="max-width: 312px;" /></div>';
            echo '<b>' .
                 $collection->name .
                 '</b><br />';
            echo '<a class="btn btn-warning product-select" rel="' .
                 $collection->id .
                 '">Voir collection</a>';
            echo '</div>';
        }

    }

    public
    function add_montures_to_order()
    {


        $user_id =
            $this->input->post('user_id');
        $data['user_info'] =
            $this->m_users->getUserById($user_id)[0];
        $data['data_admin']['admin_info'] =
            $this->m_users->getUserById(1)[0];

        $monture_id =
            (int)$this->input->post('id');
        $this->db->from('commande_montures_temp');
        $this->db->select('*');
        $this->db->where('id_client',
                         $user_id);
        $this->db->where('id_monture',
                         $monture_id);
        $this->db->where('status',
                         0);
        $query =
            $this->db->get();
        if ($query->num_rows() >
            0) {
            $id_temp =
                $query->result()[0];
            $this->db->where('id',
                             $id_temp->id);
            $this->db->update('commande_montures_temp',
                              array(
                                  'qty' => $id_temp->qty +
                                           1
                              ));
        } else {
            //$data = array('id_client' => $user_id, 'id_monture' => $monture_id, 'qty' => 1, 'date' => date('Y-m-d H:i:s'), 'status' => 0);
            //$this->db->insert('commande_montures_temp', $data);
            $this->db->query("INSERT INTO `commande_montures_temp` (`id`, `id_client`, `id_monture`, `qty`, `date`, `status`, `id_pack`, `avec_verres`, `ref_client`) VALUES (NULL, '" .
                             $user_id .
                             "', '" .
                             $monture_id .
                             "', '1', '" .
                             date('Y-m-d H:i:s') .
                             "', '0', '0', '0', '');");
        }
    }

    public
    function add_verre_to_temp_montures_order()
    {
        $data['client_ref'] =
            $this->input->post('ref_client');
        $user_id =
            $this->input->post('user_id');

        $this->db->where('id_client',
                         $user_id);
        $this->db->update('commande_montures_temp',
                          array(
                              'avec_verres' => 1,
                              'ref_client' => $data['client_ref']
                          ));


        set_cookie('panierA',
                   $user_id,
                   '1800');
        set_cookie('refPanierA',
                   $data['client_ref'],
                   '1800');


    }

    public
    function add_pack_to_order()
    {

        $user_id =
            $this->input->post('user_id');
        $data['user_info'] =
            $this->m_users->getUserById($user_id)[0];
        $data['data_admin']['admin_info'] =
            $this->m_users->getUserById(1)[0];

        $pack_id =
            str_replace("add_pack_",
                        "",
                        $this->input->post('id'));

        //$monture_id = (int) $this->input->post('id');
        $this->db->from('commande_montures_temp');
        $this->db->select('*');
        $this->db->where('id_client',
                         $user_id);
        $this->db->where('id_pack',
                         $pack_id);
        $this->db->where('status',
                         0);
        $query =
            $this->db->get();
        if ($query->num_rows() >
            0) {
            $id_temp =
                $query->result()[0];
            $this->db->where('id',
                             $id_temp->id);
            $this->db->update('commande_montures_temp',
                              array(
                                  'qty' => $id_temp->qty +
                                           1
                              ));
        } else {
            $data = array(
                'id_client' => $user_id,
                'id_pack' => $pack_id,
                'qty' => 1,
                'date' => date('Y-m-d H:i:s'),
                'status' => 0
            );
            $this->db->insert('commande_montures_temp',
                              $data);
        }
    }

    public
    function set_montures_order()
    {

        if ($this->input->is_ajax_request()) {

            $id_user =
                $this->input->post('user_id');
            $data =
                $this->input->post();


            $data['config'] =
                $this->montures_config;
            $data['client_ref'] =
                $this->input->post('ref_client');

            $data['user_info'] =
                $this->m_users->getUserById($id_user)[0];
            $data['data_admin']['admin_info'] =
                $this->m_users->getUserById(1)[0];


            $this->db->from('commande_montures_temp cm');
            $this->db->select('m.*, cm.id as id_temp, cm.qty, cm.status, cm.id_client, collec.name as collection, m_pack.id as pack_id, m_pack.name as pack, m_pack.prix as prixpack');
            $this->db->where('cm.id_client',
                             $id_user);
            $this->db->where('cm.status',
                             0);
            $this->db->join('montures m',
                            'm.id = cm.id_monture',
                            'left');
            $this->db->join('montures_collection collec',
                            'm.id_collection = collec.id',
                            'left');
            $this->db->join('montures_pack m_pack',
                            'm_pack.id = cm.id_pack',
                            'left');
            $query =
                $this->db->get();
            if ($query->num_rows() >
                0) {
                $data['montures'] =
                    $query->result();
                $userdata =
                    $this->m_users->getUserById($id_user)[0];
                $data['tarif_livraison'] =
                    $userdata->tarif_livraison;
                $data['tarif_packaging'] =
                    $userdata->tarif_packaging;
                $this->session->set_userdata('order',
                                             $data);
                echo $this->load->view('admin/ajax_show_montures_order',
                                       $data);
            } else {
                echo '<b>Erreur</b>';
            }

        }
    }

    public
    function supprimer_monture_temp($id_monture_temp,
                                    $id_client)
    {
        $this->db->query('DELETE FROM commande_montures_temp WHERE id = "' .
                         $id_monture_temp .
                         '" AND status=0');
        $this->redirect('/admin/commande_montures/' .
                        $id_client);
    }

    public
    function get_montures_order($order_id)
    {


        $order =
            $this->m_montures->getOrderById($order_id);

        $data['user_info'] =
            $this->m_users->getUserById($order->id_users);
        $data['data_admin']['admin_info'] =
            $this->m_users->getUserById(1)[0];
        $data['montures'] =
            $this->m_montures->getMontures($order->montures_id);

        return $data;


    }

    public
    function add_montures_order()
    {
        if ($this->input->is_ajax_request()) {

            $data =
                $this->session->userdata('order');
            $user_id =
                $this->input->post('user_id');

            $total_order = 0;

            foreach ($data['montures']
                     as
                     $monture)
            {
                if ($monture->pack ==
                    null) {
                    $total_order += $monture->prix_vente *
                                    $monture->qty;
                    $stock_avant =
                        $monture->stock;
                    $this->db->where('id',
                                     $monture->id);
                    $this->db->set('stock',
                                   'stock-' .
                                   $monture->qty,
                                   FALSE);
                    $this->db->update('montures');
                    $stock_apres =
                        $monture->stock -
                        $monture->qty;

                    if ($stock_avant >=
                        20 &&
                        $stock_apres <
                        20) {
                        $mess_txt = "<html>
                        <head></head>
                        <body>
                        Collection : " .
                                    $monture->collection .
                                    ' ,Modele : ' .
                                    $monture->modele .
                                    ',Couleur : ' .
                                    $monture->couleur .
                                    " ,Stock : " .
                                    $stock_apres . "
                        </body>
                      </html>";
                        $subjet_txt =
                            "Alerte stock monture";
                        $html =
                            true;
                        $mdata['email'] =
                            'optieyescommande@gmail.com';
                        // $this->mail($mdata, $mess_txt, $html, $subjet_txt);

                    }
                } else {
                    $total_order += $monture->prixpack *
                                    $monture->qty;

                    $montures_du_pack =
                        $this->m_montures->getAllMonturesDuPack($monture->pack_id);
                    foreach ($montures_du_pack
                             as
                             $monture_du_pack)
                    {
                        $stock_avant =
                            $monture_du_pack->stock;
                        $this->db->where('id',
                                         $monture_du_pack->id);
                        $this->db->set('stock',
                                       'stock-' .
                                       $monture->qty,
                                       FALSE);
                        $this->db->update('montures');
                        $stock_apres =
                            $monture_du_pack->stock -
                            $monture->qty;

                        if ($stock_apres <
                            20) {
                            $mess_txt = "<html>
							<head></head>
							<body>
							Pack : " .
                                        $monture->pack .
                                        ' ,Modele : ' .
                                        $monture_du_pack->modele .
                                        ',Couleur : ' .
                                        $monture_du_pack->couleur .
                                        " ,Stock : " .
                                        $stock_apres . "
							</body>
						  </html>";
                            $subjet_txt =
                                "Alerte stock monture";
                            $html =
                                true;
                            $mdata['email'] =
                                'optieyescommande@gmail.com';
                            // $this->mail($mdata, $mess_txt, $html, $subjet_txt);

                        }
                    }

                }

            }
            //$data['client_ref'] = " ";

            $userdata =
                $this->m_users->getUserById($user_id)[0];
            $data['client_ref'] =
                $this->input->post('ref_client');

            $args = array(
                'reference_client' => $data['client_ref'],
                'lens_id' => 0,
                'lens_generation' => 0,
                'information_commande' => json_encode($data['montures']),
                'commentaire' => $data['commentaire'],
                'id_users' => $user_id,
                'total_commande' => $total_order,
                'tarif_livraison' => $userdata->tarif_livraison,
                'tarif_packaging' => $userdata->tarif_packaging,
                'commande_monture' => 1
            );

            $this->db->query('DELETE FROM commande_montures_temp WHERE id_client = "' .
                             $user_id .
                             '" AND status=0');


            if ($this->m_montures->addMonturesOrder($args)) {
                echo 'ok';
            } else {
                echo 'error';
            }

        }

    }

    public
    function commande_montures($user_id = null)
    {

        $this->load->helper('slimpay');
        $this->load->library('email');

        $user_info =
            $this->m_users->getUserById($user_id);
        $result =
            $this->m_config->getConfig(array('nom_config' => 'commentaire'));

        $title =
            'Passer une commande de montures pour le magasin ' .
            $user_id;

        $regions =
            $this->config->item('regions');

        if (isset($user_info[0]->cp)) {
            $dep =
                substr($user_info[0]->cp,
                       0, -3);
            $region =
                ($regions[$dep] ==
                 "Ile-de-France" ?
                    1 : 0);
        } else {
            $region = 0;
        }

        $date =
            new DateTime();
        $date->modify('-60 days');

        $this->session->set_userdata('user_id_temp',
                                     $user_id);

        $this->load->view('admin/montures',
                          array(
                              'modules' => array(
                                  'sweetalert' => true,
                                  'touchspin' => true,
                              ),
                              'user_info' => $user_info[0],
                              'user_id' => $user_id,
                              'page' => $title,
                              'title' => $title,
                              'region' => $region,
                              'numero_siret' => $this->session->userdata('numero_siret'),
                              'tva_intracomm' => $this->session->userdata('tva_intracomm'),
                              'commentaire_actif' => json_decode($result[0]->param_config),
                              'id_commandes' => $this->getUserOrders($user_id,
                                                                     $date)
                          ));

    }

    public
    function getLensOrders($status = 0)
    {

        return $this->m_lens->getOrders($status);

    }

    public
    function getMonturesOrders($status = 0)
    {

        return $this->m_montures->getOrders($status);

    }

    public
    function lens_check()
    {
        if ($this->input->is_ajax_request()) {

            $data =
                $this->input->post();

            if ($this->m_lens->setOrderCheck($data['order'],
                                             $data['check'])) {
                $commandes =
                    $this->m_lens->getOrders(0,
                                             true);

                if (is_array($commandes)) {
                    echo count($commandes);
                } else {
                    echo 0;
                }
            } else {
                echo 'error';
            }

        }
    }

    public
    function montures_check()
    {
        if ($this->input->is_ajax_request()) {

            $data =
                $this->input->post();

            //echo $data['order']." - ".$data['check'];

            if ($this->m_montures->setOrderCheck($data['order'],
                                                 $data['check'])) {
                $commandes =
                    $this->m_montures->getOrders(0,
                                                 true);

                if (is_array($commandes)) {
                    echo count($commandes);
                } else {
                    echo 0;
                }
            } else {
                echo 'error';
            }

        }
    }

    public
    function lens_check_count()
    {

        $commandes =
            $this->m_lens->getOrders(0,
                                     true);

        if (is_array($commandes)) {
            echo count($commandes);
        } else echo 0;

    }

    public
    function montures_check_count()
    {

        $commandes =
            $this->m_montures->getOrders(0,
                                         true);

        if (is_array($commandes)) {
            echo count($commandes);
        } else echo 0;

    }

    public
    function montures_bl()
    {


        $commandes =
            $this->m_montures->getOrders(0,
                                         true);
        $data['commande'] =
            $commandes;
        $data['email'] =
            'optieyescommande@gmail.com';

        // Génération des PDF
        $docs = array(
            'bl' => $this->config->item('directory_pdf') .
                    '/' .
                    $this->pdf("bons_livraison_montures",
                               $data,
                               "bons_livraison_montures.pdf",
                               false),
        );


        if (!empty($commandes)) {

            $mess_txt =
                '<b style="font-size: 16px">Bons de livraisons générés le ' .
                date('d/m/Y H:i') .
                '</b>';

            $sujet_txt =
                'Bons de livraison le ' .
                date('d/m/Y') .
                ' - ' .
                date('H\hi');

            $this->mail($data,
                        $mess_txt,
                        true,
                        $sujet_txt,
                        $docs);
            echo 'sent';

        } else {
            echo 'empty';
        }

    }

    public
    function lens_bl()
    {


        $commandes =
            $this->m_lens->getOrders(0,
                                     true);
        $data['commande'] =
            $commandes;
        $data['email'] =
            'optieyescommande@gmail.com';

        // Génération des PDF
        $docs = array(
            'bl' => $this->config->item('directory_pdf') .
                    '/' .
                    $this->pdf("bons_livraison_lentille",
                               $data,
                               "bons_livraison_lentille.pdf",
                               false),
        );


        if (!empty($commandes)) {

            $mess_txt =
                '<b style="font-size: 16px">Bons de livraisons générés le ' .
                date('d/m/Y H:i') .
                '</b>';

            $sujet_txt =
                'Bons de livraison le ' .
                date('d/m/Y') .
                ' - ' .
                date('H\hi');

            $this->mail($data,
                        $mess_txt,
                        true,
                        $sujet_txt,
                        $docs);
            echo 'sent';

        } else {
            echo 'empty';
        }

    }

    public
    function expedier_lentilles()
    {

        if ($this->input->is_ajax_request()) {

            $commandes =
                $this->m_lens->getOrders(0,
                                         true);

            $expedie =
                array();

            foreach ($commandes
                     as
                     $commande)
            {

                $expedie[] =
                    $commande->id_commande;
                $this->update_commande($commande->id_commande,
                                       6,
                                       $commande->id_users,
                                       true,
                                       true);

                $this->db->query('INSERT INTO expedition (user_id, expedition_date) VALUES(' .
                                 $commande->id_users .
                                 ', ' .
                                 time() .
                                 ') ON DUPLICATE KEY UPDATE expedition_date = ' .
                                 time());

            }

            echo 'sent';

        }
    }

    public
    function expedier_montures()
    {

        if ($this->input->is_ajax_request()) {

            $commandes =
                $this->m_montures->getOrders(0,
                                             true);

            $expedie =
                array();

            foreach ($commandes
                     as
                     $commande)
            {

                $expedie[] =
                    $commande->id_commande;
                $this->update_commande($commande->id_commande,
                                       6,
                                       $commande->id_users,
                                       true,
                                       true);

                $this->db->query('INSERT INTO expedition (user_id, expedition_date) VALUES(' .
                                 $commande->id_users .
                                 ', ' .
                                 time() .
                                 ') ON DUPLICATE KEY UPDATE expedition_date = ' .
                                 time());

            }

            echo 'sent';

        }
    }

    public
    function getAllVerres()
    {
        $data =
            $this->input->post();

        $tab =
            $this->m_passer_commande_verre->getAllLenses($data['requete']);

        //var_dump($tab);

        echo json_encode($tab);
    }

    public
    function getCustomPriceList()
    {
        $data =
            $this->input->post();

        $tab =
            $this->m_passer_commande_verre->getCustomPriceList($data['user_id']);

        echo json_encode($tab);
    }

    public
    function delCustomPrice()
    {
        $data =
            $this->input->post();

        $result =
            $this->m_passer_commande_verre->delCustomPrice($data['id_prix']);

        echo $result;
    }

    public
    function setPriceVerreById()
    {
        $data =
            $this->input->post();

        $result =
            $this->m_passer_commande_verre->setPriceVerreById($data['new_price'],
                                                              $data['id_prix']);

        echo $result;
    }

    public
    function setPriceVerre()
    {
        $data =
            $this->input->post();

        $result =
            $this->m_passer_commande_verre->setPriceVerre($data['user_id'],
                                                          $data['new_price'],
                                                          $data['code_verre'],
                                                          $data['name_verre']);

        echo $result;
    }

    public
    function getListeClients()
    {

        $tab =
            $this->m_passer_commande_verre->getListeClients();

        echo json_encode($tab);

    }

    public
    function duplicatePriceTab()
    {
        $data =
            $this->input->post();

        $result =
            $this->m_passer_commande_verre->duplicatePriceTab($data['user_id'],
                                                              $data['from_user_id']);

        echo $result;
    }


}
